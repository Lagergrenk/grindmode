var qk=Object.defineProperty;var Gk=(n,e,t)=>e in n?qk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var A0=(n,e,t)=>Gk(n,typeof e!="symbol"?e+"":e,t);function Kk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function wS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fm={exports:{}},Nc={},Um={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function Yk(){if(R0)return Ke;R0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,I={};function C(z,X,oe){this.props=z,this.context=X,this.refs=I,this.updater=oe||T}C.prototype.isReactComponent={},C.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=C.prototype;function V(z,X,oe){this.props=z,this.context=X,this.refs=I,this.updater=oe||T}var O=V.prototype=new P;O.constructor=V,b(O,C.prototype),O.isPureReactComponent=!0;var $=Array.isArray,B=Object.prototype.hasOwnProperty,K={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(z,X,oe){var pe,Re={},me=null,se=null;if(X!=null)for(pe in X.ref!==void 0&&(se=X.ref),X.key!==void 0&&(me=""+X.key),X)B.call(X,pe)&&!D.hasOwnProperty(pe)&&(Re[pe]=X[pe]);var ge=arguments.length-2;if(ge===1)Re.children=oe;else if(1<ge){for(var Te=Array(ge),Pe=0;Pe<ge;Pe++)Te[Pe]=arguments[Pe+2];Re.children=Te}if(z&&z.defaultProps)for(pe in ge=z.defaultProps,ge)Re[pe]===void 0&&(Re[pe]=ge[pe]);return{$$typeof:n,type:z,key:me,ref:se,props:Re,_owner:K.current}}function k(z,X){return{$$typeof:n,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(oe){return X[oe]})}var U=/\/+/g;function j(z,X){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):X.toString(36)}function Se(z,X,oe,pe,Re){var me=typeof z;(me==="undefined"||me==="boolean")&&(z=null);var se=!1;if(z===null)se=!0;else switch(me){case"string":case"number":se=!0;break;case"object":switch(z.$$typeof){case n:case e:se=!0}}if(se)return se=z,Re=Re(se),z=pe===""?"."+j(se,0):pe,$(Re)?(oe="",z!=null&&(oe=z.replace(U,"$&/")+"/"),Se(Re,X,oe,"",function(Pe){return Pe})):Re!=null&&(M(Re)&&(Re=k(Re,oe+(!Re.key||se&&se.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+z)),X.push(Re)),1;if(se=0,pe=pe===""?".":pe+":",$(z))for(var ge=0;ge<z.length;ge++){me=z[ge];var Te=pe+j(me,ge);se+=Se(me,X,oe,Te,Re)}else if(Te=x(z),typeof Te=="function")for(z=Te.call(z),ge=0;!(me=z.next()).done;)me=me.value,Te=pe+j(me,ge++),se+=Se(me,X,oe,Te,Re);else if(me==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return se}function xe(z,X,oe){if(z==null)return z;var pe=[],Re=0;return Se(z,pe,"","",function(me){return X.call(oe,me,Re++)}),pe}function ae(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(oe){(z._status===0||z._status===-1)&&(z._status=1,z._result=oe)},function(oe){(z._status===0||z._status===-1)&&(z._status=2,z._result=oe)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var he={current:null},q={transition:null},Z={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:q,ReactCurrentOwner:K};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:xe,forEach:function(z,X,oe){xe(z,function(){X.apply(this,arguments)},oe)},count:function(z){var X=0;return xe(z,function(){X++}),X},toArray:function(z){return xe(z,function(X){return X})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ke.Component=C,Ke.Fragment=t,Ke.Profiler=o,Ke.PureComponent=V,Ke.StrictMode=r,Ke.Suspense=d,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ke.act=ne,Ke.cloneElement=function(z,X,oe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var pe=b({},z.props),Re=z.key,me=z.ref,se=z._owner;if(X!=null){if(X.ref!==void 0&&(me=X.ref,se=K.current),X.key!==void 0&&(Re=""+X.key),z.type&&z.type.defaultProps)var ge=z.type.defaultProps;for(Te in X)B.call(X,Te)&&!D.hasOwnProperty(Te)&&(pe[Te]=X[Te]===void 0&&ge!==void 0?ge[Te]:X[Te])}var Te=arguments.length-2;if(Te===1)pe.children=oe;else if(1<Te){ge=Array(Te);for(var Pe=0;Pe<Te;Pe++)ge[Pe]=arguments[Pe+2];pe.children=ge}return{$$typeof:n,type:z.type,key:Re,ref:me,props:pe,_owner:se}},Ke.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ke.createElement=R,Ke.createFactory=function(z){var X=R.bind(null,z);return X.type=z,X},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(z){return{$$typeof:u,render:z}},Ke.isValidElement=M,Ke.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:ae}},Ke.memo=function(z,X){return{$$typeof:m,type:z,compare:X===void 0?null:X}},Ke.startTransition=function(z){var X=q.transition;q.transition={};try{z()}finally{q.transition=X}},Ke.unstable_act=ne,Ke.useCallback=function(z,X){return he.current.useCallback(z,X)},Ke.useContext=function(z){return he.current.useContext(z)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(z){return he.current.useDeferredValue(z)},Ke.useEffect=function(z,X){return he.current.useEffect(z,X)},Ke.useId=function(){return he.current.useId()},Ke.useImperativeHandle=function(z,X,oe){return he.current.useImperativeHandle(z,X,oe)},Ke.useInsertionEffect=function(z,X){return he.current.useInsertionEffect(z,X)},Ke.useLayoutEffect=function(z,X){return he.current.useLayoutEffect(z,X)},Ke.useMemo=function(z,X){return he.current.useMemo(z,X)},Ke.useReducer=function(z,X,oe){return he.current.useReducer(z,X,oe)},Ke.useRef=function(z){return he.current.useRef(z)},Ke.useState=function(z){return he.current.useState(z)},Ke.useSyncExternalStore=function(z,X,oe){return he.current.useSyncExternalStore(z,X,oe)},Ke.useTransition=function(){return he.current.useTransition()},Ke.version="18.3.1",Ke}var k0;function hh(){return k0||(k0=1,Um.exports=Yk()),Um.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function Qk(){if(P0)return Nc;P0=1;var n=hh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,m){var y,g={},x=null,T=null;m!==void 0&&(x=""+m),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(T=d.ref);for(y in d)r.call(d,y)&&!a.hasOwnProperty(y)&&(g[y]=d[y]);if(u&&u.defaultProps)for(y in d=u.defaultProps,d)g[y]===void 0&&(g[y]=d[y]);return{$$typeof:e,type:u,key:x,ref:T,props:g,_owner:o.current}}return Nc.Fragment=t,Nc.jsx=l,Nc.jsxs=l,Nc}var N0;function Xk(){return N0||(N0=1,Fm.exports=Qk()),Fm.exports}var h=Xk(),w=hh();const ce=wS(w),_S=Kk({__proto__:null,default:ce},[w]);var Gd={},$m={exports:{}},$n={},zm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function Jk(){return D0||(D0=1,function(n){function e(q,Z){var ne=q.length;q.push(Z);e:for(;0<ne;){var z=ne-1>>>1,X=q[z];if(0<o(X,Z))q[z]=Z,q[ne]=X,ne=z;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],ne=q.pop();if(ne!==Z){q[0]=ne;e:for(var z=0,X=q.length,oe=X>>>1;z<oe;){var pe=2*(z+1)-1,Re=q[pe],me=pe+1,se=q[me];if(0>o(Re,ne))me<X&&0>o(se,Re)?(q[z]=se,q[me]=ne,z=me):(q[z]=Re,q[pe]=ne,z=pe);else if(me<X&&0>o(se,ne))q[z]=se,q[me]=ne,z=me;else break e}}return Z}function o(q,Z){var ne=q.sortIndex-Z.sortIndex;return ne!==0?ne:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],m=[],y=1,g=null,x=3,T=!1,b=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(q){for(var Z=t(m);Z!==null;){if(Z.callback===null)r(m);else if(Z.startTime<=q)r(m),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(m)}}function $(q){if(I=!1,O(q),!b)if(t(d)!==null)b=!0,ae(B);else{var Z=t(m);Z!==null&&he($,Z.startTime-q)}}function B(q,Z){b=!1,I&&(I=!1,P(R),R=-1),T=!0;var ne=x;try{for(O(Z),g=t(d);g!==null&&(!(g.expirationTime>Z)||q&&!L());){var z=g.callback;if(typeof z=="function"){g.callback=null,x=g.priorityLevel;var X=z(g.expirationTime<=Z);Z=n.unstable_now(),typeof X=="function"?g.callback=X:g===t(d)&&r(d),O(Z)}else r(d);g=t(d)}if(g!==null)var oe=!0;else{var pe=t(m);pe!==null&&he($,pe.startTime-Z),oe=!1}return oe}finally{g=null,x=ne,T=!1}}var K=!1,D=null,R=-1,k=5,M=-1;function L(){return!(n.unstable_now()-M<k)}function U(){if(D!==null){var q=n.unstable_now();M=q;var Z=!0;try{Z=D(!0,q)}finally{Z?j():(K=!1,D=null)}}else K=!1}var j;if(typeof V=="function")j=function(){V(U)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,xe=Se.port2;Se.port1.onmessage=U,j=function(){xe.postMessage(null)}}else j=function(){C(U,0)};function ae(q){D=q,K||(K=!0,j())}function he(q,Z){R=C(function(){q(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){b||T||(b=!0,ae(B))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(q){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var ne=x;x=Z;try{return q()}finally{x=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=x;x=q;try{return Z()}finally{x=ne}},n.unstable_scheduleCallback=function(q,Z,ne){var z=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ne+X,q={id:y++,callback:Z,priorityLevel:q,startTime:ne,expirationTime:X,sortIndex:-1},ne>z?(q.sortIndex=ne,e(m,q),t(d)===null&&q===t(m)&&(I?(P(R),R=-1):I=!0,he($,ne-z))):(q.sortIndex=X,e(d,q),b||T||(b=!0,ae(B))),q},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(q){var Z=x;return function(){var ne=x;x=Z;try{return q.apply(this,arguments)}finally{x=ne}}}}(Bm)),Bm}var M0;function Zk(){return M0||(M0=1,zm.exports=Jk()),zm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function eP(){if(j0)return $n;j0=1;var n=hh(),e=Zk();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function x(s){return d.call(g,s)?!0:d.call(y,s)?!1:m.test(s)?g[s]=!0:(y[s]=!0,!1)}function T(s,i,c,p){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,i,c,p){if(i===null||typeof i>"u"||T(s,i,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function I(s,i,c,p,v,E,A){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=E,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];C[i]=new I(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(P,V);C[i]=new I(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(P,V);C[i]=new I(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(P,V);C[i]=new I(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,i,c,p){var v=C.hasOwnProperty(i)?C[i]:null;(v!==null?v.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,c,v,p)&&(c=null),p||v===null?x(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):v.mustUseProperty?s[v.propertyName]=c===null?v.type===3?!1:"":c:(i=v.attributeName,p=v.attributeNamespace,c===null?s.removeAttribute(i):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,p?s.setAttributeNS(p,i,c):s.setAttribute(i,c))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),K=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),q=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,z;function X(s){if(z===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+s}var oe=!1;function pe(s,i){if(!s||oe)return"";oe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(J){var p=J}Reflect.construct(s,[],i)}else{try{i.call()}catch(J){p=J}s.call(i.prototype)}else{try{throw Error()}catch(J){p=J}s()}}catch(J){if(J&&p&&typeof J.stack=="string"){for(var v=J.stack.split(`
`),E=p.stack.split(`
`),A=v.length-1,F=E.length-1;1<=A&&0<=F&&v[A]!==E[F];)F--;for(;1<=A&&0<=F;A--,F--)if(v[A]!==E[F]){if(A!==1||F!==1)do if(A--,F--,0>F||v[A]!==E[F]){var W=`
`+v[A].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=A&&0<=F);break}}}finally{oe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?X(s):""}function Re(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=pe(s.type,!1),s;case 11:return s=pe(s.type.render,!1),s;case 1:return s=pe(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case K:return"Portal";case k:return"Profiler";case R:return"StrictMode";case j:return"Suspense";case Se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case xe:return i=s.displayName||null,i!==null?i:me(s.type)||"Memo";case ae:i=s._payload,s=s._init;try{return me(s(i))}catch{}}return null}function se(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Te(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Pe(s){var i=Te(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),p=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,E=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return v.call(this)},set:function(A){p=""+A,E.call(this,A)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Be(s){s._valueTracker||(s._valueTracker=Pe(s))}function He(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),p="";return s&&(p=Te(s)?s.checked?"true":"false":s.value),s=p,s!==c?(i.setValue(s),!0):!1}function pt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function It(s,i){var c=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function An(s,i){var c=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;c=ge(i.value!=null?i.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Rn(s,i){i=i.checked,i!=null&&O(s,"checked",i,!1)}function tn(s,i){Rn(s,i);var c=ge(i.value),p=i.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Rt(s,i.type,c):i.hasOwnProperty("defaultValue")&&Rt(s,i.type,ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Ns(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Rt(s,i,c){(i!=="number"||pt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var br=Array.isArray;function Ir(s,i,c,p){if(s=s.options,i){i={};for(var v=0;v<c.length;v++)i["$"+c[v]]=!0;for(c=0;c<s.length;c++)v=i.hasOwnProperty("$"+s[c].value),s[c].selected!==v&&(s[c].selected=v),v&&p&&(s[c].defaultSelected=!0)}else{for(c=""+ge(c),i=null,v=0;v<s.length;v++){if(s[v].value===c){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}i!==null||s[v].disabled||(i=s[v])}i!==null&&(i.selected=!0)}}function Ft(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function qn(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(br(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:ge(c)}}function ho(s,i){var c=ge(i.value),p=ge(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function vi(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function mt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?mt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var cr,Ds=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,p,v){MSApp.execUnsafeLocalFunction(function(){return s(i,c,p,v)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=cr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function _n(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kn=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(s){kn.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),os[i]=os[s]})});function wi(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||os.hasOwnProperty(s)&&os[s]?(""+i).trim():i+"px"}function _i(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var p=c.indexOf("--")===0,v=wi(c,i[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,v):s[c]=v}}var po=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(s,i){if(i){if(po[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function xi(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=null;function xn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var go=null,Pn=null,Gn=null;function Ms(s){if(s=yc(s)){if(typeof go!="function")throw Error(t(280));var i=s.stateNode;i&&(i=ld(i),go(s.stateNode,s.type,i))}}function Oe(s){Pn?Gn?Gn.push(s):Gn=[s]:Pn=s}function gt(){if(Pn){var s=Pn,i=Gn;if(Gn=Pn=null,Ms(s),i)for(s=0;s<i.length;s++)Ms(i[s])}}function yt(s,i){return s(i)}function Ut(){}var Nn=!1;function xt(s,i,c){if(Nn)return s(i,c);Nn=!0;try{return yt(s,i,c)}finally{Nn=!1,(Pn!==null||Gn!==null)&&(Ut(),gt())}}function et(s,i){var c=s.stateNode;if(c===null)return null;var p=ld(c);if(p===null)return null;c=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Ar=!1;if(u)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Ar=!1}function $t(s,i,c,p,v,E,A,F,W){var J=Array.prototype.slice.call(arguments,3);try{i.apply(c,J)}catch(le){this.onError(le)}}var is=!1,Dn=null,ur=!1,Xl=null,hp={onError:function(s){is=!0,Dn=s}};function ga(s,i,c,p,v,E,A,F,W){is=!1,Dn=null,$t.apply(hp,arguments)}function Du(s,i,c,p,v,E,A,F,W){if(ga.apply(this,arguments),is){if(is){var J=Dn;is=!1,Dn=null}else throw Error(t(198));ur||(ur=!0,Xl=J)}}function Rr(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function Ei(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function kr(s){if(Rr(s)!==s)throw Error(t(188))}function Mu(s){var i=s.alternate;if(!i){if(i=Rr(s),i===null)throw Error(t(188));return i!==s?null:s}for(var c=s,p=i;;){var v=c.return;if(v===null)break;var E=v.alternate;if(E===null){if(p=v.return,p!==null){c=p;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===c)return kr(v),s;if(E===p)return kr(v),i;E=E.sibling}throw Error(t(188))}if(c.return!==p.return)c=v,p=E;else{for(var A=!1,F=v.child;F;){if(F===c){A=!0,c=v,p=E;break}if(F===p){A=!0,p=v,c=E;break}F=F.sibling}if(!A){for(F=E.child;F;){if(F===c){A=!0,c=E,p=v;break}if(F===p){A=!0,p=E,c=v;break}F=F.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:i}function Jl(s){return s=Mu(s),s!==null?ya(s):null}function ya(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=ya(s);if(i!==null)return i;s=s.sibling}return null}var va=e.unstable_scheduleCallback,Zl=e.unstable_cancelCallback,ju=e.unstable_shouldYield,pp=e.unstable_requestPaint,ct=e.unstable_now,Ou=e.unstable_getCurrentPriorityLevel,Si=e.unstable_ImmediatePriority,yo=e.unstable_UserBlockingPriority,dr=e.unstable_NormalPriority,ec=e.unstable_LowPriority,Lu=e.unstable_IdlePriority,Ti=null,Kn=null;function Vu(s){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Ti,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Uu,tc=Math.log,Fu=Math.LN2;function Uu(s){return s>>>=0,s===0?32:31-(tc(s)/Fu|0)|0}var wa=64,_a=4194304;function vo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function bi(s,i){var c=s.pendingLanes;if(c===0)return 0;var p=0,v=s.suspendedLanes,E=s.pingedLanes,A=c&268435455;if(A!==0){var F=A&~v;F!==0?p=vo(F):(E&=A,E!==0&&(p=vo(E)))}else A=c&~v,A!==0?p=vo(A):E!==0&&(p=vo(E));if(p===0)return 0;if(i!==0&&i!==p&&(i&v)===0&&(v=p&-p,E=i&-i,v>=E||v===16&&(E&4194240)!==0))return i;if((p&4)!==0&&(p|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=p;0<i;)c=31-En(i),v=1<<c,p|=s[c],i&=~v;return p}function mp(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(s,i){for(var c=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,E=s.pendingLanes;0<E;){var A=31-En(E),F=1<<A,W=v[A];W===-1?((F&c)===0||(F&p)!==0)&&(v[A]=mp(F,i)):W<=i&&(s.expiredLanes|=F),E&=~F}}function Yn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ii(){var s=wa;return wa<<=1,(wa&4194240)===0&&(wa=64),s}function wo(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function _o(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-En(i),s[i]=c}function lt(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var v=31-En(c),E=1<<v;i[v]=0,p[v]=-1,s[v]=-1,c&=~E}}function xo(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var p=31-En(c),v=1<<p;v&i|s[p]&i&&(s[p]|=i),c&=~v}}var Je=0;function Eo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var $u,xa,zu,Bu,Wu,nc=!1,as=[],nn=null,Pr=null,Nr=null,So=new Map,fr=new Map,ls=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(s,i){switch(s){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":So.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(i.pointerId)}}function Mn(s,i,c,p,v,E){return s===null||s.nativeEvent!==E?(s={blockedOn:i,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[v]},i!==null&&(i=yc(i),i!==null&&xa(i)),s):(s.eventSystemFlags|=p,i=s.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),s)}function yp(s,i,c,p,v){switch(i){case"focusin":return nn=Mn(nn,s,i,c,p,v),!0;case"dragenter":return Pr=Mn(Pr,s,i,c,p,v),!0;case"mouseover":return Nr=Mn(Nr,s,i,c,p,v),!0;case"pointerover":var E=v.pointerId;return So.set(E,Mn(So.get(E)||null,s,i,c,p,v)),!0;case"gotpointercapture":return E=v.pointerId,fr.set(E,Mn(fr.get(E)||null,s,i,c,p,v)),!0}return!1}function qu(s){var i=Pi(s.target);if(i!==null){var c=Rr(i);if(c!==null){if(i=c.tag,i===13){if(i=Ei(c),i!==null){s.blockedOn=i,Wu(s.priority,function(){zu(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Os(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=Ea(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Cr=p,c.target.dispatchEvent(p),Cr=null}else return i=yc(c),i!==null&&xa(i),s.blockedOn=c,!1;i.shift()}return!0}function Ci(s,i,c){Os(s)&&c.delete(i)}function Gu(){nc=!1,nn!==null&&Os(nn)&&(nn=null),Pr!==null&&Os(Pr)&&(Pr=null),Nr!==null&&Os(Nr)&&(Nr=null),So.forEach(Ci),fr.forEach(Ci)}function Dr(s,i){s.blockedOn===i&&(s.blockedOn=null,nc||(nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gu)))}function Mr(s){function i(v){return Dr(v,s)}if(0<as.length){Dr(as[0],s);for(var c=1;c<as.length;c++){var p=as[c];p.blockedOn===s&&(p.blockedOn=null)}}for(nn!==null&&Dr(nn,s),Pr!==null&&Dr(Pr,s),Nr!==null&&Dr(Nr,s),So.forEach(i),fr.forEach(i),c=0;c<ls.length;c++)p=ls[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<ls.length&&(c=ls[0],c.blockedOn===null);)qu(c),c.blockedOn===null&&ls.shift()}var Ls=$.ReactCurrentBatchConfig,To=!0;function vt(s,i,c,p){var v=Je,E=Ls.transition;Ls.transition=null;try{Je=1,rc(s,i,c,p)}finally{Je=v,Ls.transition=E}}function vp(s,i,c,p){var v=Je,E=Ls.transition;Ls.transition=null;try{Je=4,rc(s,i,c,p)}finally{Je=v,Ls.transition=E}}function rc(s,i,c,p){if(To){var v=Ea(s,i,c,p);if(v===null)Rp(s,i,p,Ai,c),Hu(s,p);else if(yp(v,s,i,c,p))p.stopPropagation();else if(Hu(s,p),i&4&&-1<gp.indexOf(s)){for(;v!==null;){var E=yc(v);if(E!==null&&$u(E),E=Ea(s,i,c,p),E===null&&Rp(s,i,p,Ai,c),E===v)break;v=E}v!==null&&p.stopPropagation()}else Rp(s,i,p,null,c)}}var Ai=null;function Ea(s,i,c,p){if(Ai=null,s=xn(p),s=Pi(s),s!==null)if(i=Rr(s),i===null)s=null;else if(c=i.tag,c===13){if(s=Ei(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Ai=s,null}function sc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ou()){case Si:return 1;case yo:return 4;case dr:case ec:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var Qn=null,Sa=null,jn=null;function oc(){if(jn)return jn;var s,i=Sa,c=i.length,p,v="value"in Qn?Qn.value:Qn.textContent,E=v.length;for(s=0;s<c&&i[s]===v[s];s++);var A=c-s;for(p=1;p<=A&&i[c-p]===v[E-p];p++);return jn=v.slice(s,1<p?1-p:void 0)}function Ta(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function cs(){return!0}function ic(){return!1}function rn(s){function i(c,p,v,E,A){this._reactName=c,this._targetInst=v,this.type=p,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(c=s[F],this[F]=c?c(E):E[F]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?cs:ic,this.isPropagationStopped=ic,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),i}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=rn(jr),us=ne({},jr,{view:0,detail:0}),wp=rn(us),Ia,Vs,bo,Ri=ne({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bo&&(bo&&s.type==="mousemove"?(Ia=s.screenX-bo.screenX,Vs=s.screenY-bo.screenY):Vs=Ia=0,bo=s),Ia)},movementY:function(s){return"movementY"in s?s.movementY:Vs}}),Ca=rn(Ri),ac=ne({},Ri,{dataTransfer:0}),Ku=rn(ac),Aa=ne({},us,{relatedTarget:0}),Ra=rn(Aa),Yu=ne({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fs=rn(Yu),Qu=ne({},jr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xu=rn(Qu),Ju=ne({},jr,{data:0}),lc=rn(Ju),ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Zu[s])?!!i[s]:!1}function ds(){return ed}var f=ne({},us,{key:function(s){if(s.key){var i=ka[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Sn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(s){return s.type==="keypress"?Ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=rn(f),S=ne({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=rn(S),G=ne({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),ee=rn(G),fe=ne({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),at=rn(fe),zt=ne({},Ri,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=rn(zt),Kt=[9,13,27,32],Dt=u&&"CompositionEvent"in window,hr=null;u&&"documentMode"in document&&(hr=document.documentMode);var Xn=u&&"TextEvent"in window&&!hr,ki=u&&(!Dt||hr&&8<hr&&11>=hr),Pa=" ",Ew=!1;function Sw(s,i){switch(s){case"keyup":return Kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Na=!1;function BR(s,i){switch(s){case"compositionend":return Tw(i);case"keypress":return i.which!==32?null:(Ew=!0,Pa);case"textInput":return s=i.data,s===Pa&&Ew?null:s;default:return null}}function WR(s,i){if(Na)return s==="compositionend"||!Dt&&Sw(s,i)?(s=oc(),jn=Sa=Qn=null,Na=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ki&&i.locale!=="ko"?null:i.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bw(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!HR[s.type]:i==="textarea"}function Iw(s,i,c,p){Oe(p),i=od(i,"onChange"),0<i.length&&(c=new ba("onChange","change",null,c,p),s.push({event:c,listeners:i}))}var cc=null,uc=null;function qR(s){Ww(s,0)}function td(s){var i=La(s);if(He(i))return s}function GR(s,i){if(s==="change")return i}var Cw=!1;if(u){var _p;if(u){var xp="oninput"in document;if(!xp){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),xp=typeof Aw.oninput=="function"}_p=xp}else _p=!1;Cw=_p&&(!document.documentMode||9<document.documentMode)}function Rw(){cc&&(cc.detachEvent("onpropertychange",kw),uc=cc=null)}function kw(s){if(s.propertyName==="value"&&td(uc)){var i=[];Iw(i,uc,s,xn(s)),xt(qR,i)}}function KR(s,i,c){s==="focusin"?(Rw(),cc=i,uc=c,cc.attachEvent("onpropertychange",kw)):s==="focusout"&&Rw()}function YR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return td(uc)}function QR(s,i){if(s==="click")return td(i)}function XR(s,i){if(s==="input"||s==="change")return td(i)}function JR(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Or=typeof Object.is=="function"?Object.is:JR;function dc(s,i){if(Or(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),p=Object.keys(i);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var v=c[p];if(!d.call(i,v)||!Or(s[v],i[v]))return!1}return!0}function Pw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Nw(s,i){var c=Pw(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=i&&p>=i)return{node:c,offset:i-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Pw(c)}}function Dw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Dw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Mw(){for(var s=window,i=pt();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=pt(s.document)}return i}function Ep(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function ZR(s){var i=Mw(),c=s.focusedElem,p=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&Dw(c.ownerDocument.documentElement,c)){if(p!==null&&Ep(c)){if(i=p.start,s=p.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var v=c.textContent.length,E=Math.min(p.start,v);p=p.end===void 0?E:Math.min(p.end,v),!s.extend&&E>p&&(v=p,p=E,E=v),v=Nw(c,E);var A=Nw(c,p);v&&A&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(i=i.createRange(),i.setStart(v.node,v.offset),s.removeAllRanges(),E>p?(s.addRange(i),s.extend(A.node,A.offset)):(i.setEnd(A.node,A.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var ek=u&&"documentMode"in document&&11>=document.documentMode,Da=null,Sp=null,fc=null,Tp=!1;function jw(s,i,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Tp||Da==null||Da!==pt(p)||(p=Da,"selectionStart"in p&&Ep(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),fc&&dc(fc,p)||(fc=p,p=od(Sp,"onSelect"),0<p.length&&(i=new ba("onSelect","select",null,i,c),s.push({event:i,listeners:p}),i.target=Da)))}function nd(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Ma={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},bp={},Ow={};u&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function rd(s){if(bp[s])return bp[s];if(!Ma[s])return s;var i=Ma[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in Ow)return bp[s]=i[c];return s}var Lw=rd("animationend"),Vw=rd("animationiteration"),Fw=rd("animationstart"),Uw=rd("transitionend"),$w=new Map,zw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(s,i){$w.set(s,i),a(i,[s])}for(var Ip=0;Ip<zw.length;Ip++){var Cp=zw[Ip],tk=Cp.toLowerCase(),nk=Cp[0].toUpperCase()+Cp.slice(1);Io(tk,"on"+nk)}Io(Lw,"onAnimationEnd"),Io(Vw,"onAnimationIteration"),Io(Fw,"onAnimationStart"),Io("dblclick","onDoubleClick"),Io("focusin","onFocus"),Io("focusout","onBlur"),Io(Uw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rk=new Set("cancel close invalid load scroll toggle".split(" ").concat(hc));function Bw(s,i,c){var p=s.type||"unknown-event";s.currentTarget=c,Du(p,i,void 0,s),s.currentTarget=null}function Ww(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],v=p.event;p=p.listeners;e:{var E=void 0;if(i)for(var A=p.length-1;0<=A;A--){var F=p[A],W=F.instance,J=F.currentTarget;if(F=F.listener,W!==E&&v.isPropagationStopped())break e;Bw(v,F,J),E=W}else for(A=0;A<p.length;A++){if(F=p[A],W=F.instance,J=F.currentTarget,F=F.listener,W!==E&&v.isPropagationStopped())break e;Bw(v,F,J),E=W}}}if(ur)throw s=Xl,ur=!1,Xl=null,s}function dt(s,i){var c=i[jp];c===void 0&&(c=i[jp]=new Set);var p=s+"__bubble";c.has(p)||(Hw(i,s,2,!1),c.add(p))}function Ap(s,i,c){var p=0;i&&(p|=4),Hw(c,s,p,i)}var sd="_reactListening"+Math.random().toString(36).slice(2);function pc(s){if(!s[sd]){s[sd]=!0,r.forEach(function(c){c!=="selectionchange"&&(rk.has(c)||Ap(c,!1,s),Ap(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[sd]||(i[sd]=!0,Ap("selectionchange",!1,i))}}function Hw(s,i,c,p){switch(sc(i)){case 1:var v=vt;break;case 4:v=vp;break;default:v=rc}c=v.bind(null,i,c,s),v=void 0,!Ar||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(i,c,{capture:!0,passive:v}):s.addEventListener(i,c,!0):v!==void 0?s.addEventListener(i,c,{passive:v}):s.addEventListener(i,c,!1)}function Rp(s,i,c,p,v){var E=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var F=p.stateNode.containerInfo;if(F===v||F.nodeType===8&&F.parentNode===v)break;if(A===4)for(A=p.return;A!==null;){var W=A.tag;if((W===3||W===4)&&(W=A.stateNode.containerInfo,W===v||W.nodeType===8&&W.parentNode===v))return;A=A.return}for(;F!==null;){if(A=Pi(F),A===null)return;if(W=A.tag,W===5||W===6){p=E=A;continue e}F=F.parentNode}}p=p.return}xt(function(){var J=E,le=xn(c),ue=[];e:{var ie=$w.get(s);if(ie!==void 0){var ye=ba,be=s;switch(s){case"keypress":if(Ta(c)===0)break e;case"keydown":case"keyup":ye=_;break;case"focusin":be="focus",ye=Ra;break;case"focusout":be="blur",ye=Ra;break;case"beforeblur":case"afterblur":ye=Ra;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=ee;break;case Lw:case Vw:case Fw:ye=Fs;break;case Uw:ye=at;break;case"scroll":ye=wp;break;case"wheel":ye=tt;break;case"copy":case"cut":case"paste":ye=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=N}var Ae=(i&4)!==0,Pt=!Ae&&s==="scroll",Y=Ae?ie!==null?ie+"Capture":null:ie;Ae=[];for(var H=J,Q;H!==null;){Q=H;var de=Q.stateNode;if(Q.tag===5&&de!==null&&(Q=de,Y!==null&&(de=et(H,Y),de!=null&&Ae.push(mc(H,de,Q)))),Pt)break;H=H.return}0<Ae.length&&(ie=new ye(ie,be,null,c,le),ue.push({event:ie,listeners:Ae}))}}if((i&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",ie&&c!==Cr&&(be=c.relatedTarget||c.fromElement)&&(Pi(be)||be[Us]))break e;if((ye||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,ye?(be=c.relatedTarget||c.toElement,ye=J,be=be?Pi(be):null,be!==null&&(Pt=Rr(be),be!==Pt||be.tag!==5&&be.tag!==6)&&(be=null)):(ye=null,be=J),ye!==be)){if(Ae=Ca,de="onMouseLeave",Y="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=N,de="onPointerLeave",Y="onPointerEnter",H="pointer"),Pt=ye==null?ie:La(ye),Q=be==null?ie:La(be),ie=new Ae(de,H+"leave",ye,c,le),ie.target=Pt,ie.relatedTarget=Q,de=null,Pi(le)===J&&(Ae=new Ae(Y,H+"enter",be,c,le),Ae.target=Q,Ae.relatedTarget=Pt,de=Ae),Pt=de,ye&&be)t:{for(Ae=ye,Y=be,H=0,Q=Ae;Q;Q=ja(Q))H++;for(Q=0,de=Y;de;de=ja(de))Q++;for(;0<H-Q;)Ae=ja(Ae),H--;for(;0<Q-H;)Y=ja(Y),Q--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=ja(Ae),Y=ja(Y)}Ae=null}else Ae=null;ye!==null&&qw(ue,ie,ye,Ae,!1),be!==null&&Pt!==null&&qw(ue,Pt,be,Ae,!0)}}e:{if(ie=J?La(J):window,ye=ie.nodeName&&ie.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ie.type==="file")var ke=GR;else if(bw(ie))if(Cw)ke=XR;else{ke=YR;var Me=KR}else(ye=ie.nodeName)&&ye.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ke=QR);if(ke&&(ke=ke(s,J))){Iw(ue,ke,c,le);break e}Me&&Me(s,ie,J),s==="focusout"&&(Me=ie._wrapperState)&&Me.controlled&&ie.type==="number"&&Rt(ie,"number",ie.value)}switch(Me=J?La(J):window,s){case"focusin":(bw(Me)||Me.contentEditable==="true")&&(Da=Me,Sp=J,fc=null);break;case"focusout":fc=Sp=Da=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,jw(ue,c,le);break;case"selectionchange":if(ek)break;case"keydown":case"keyup":jw(ue,c,le)}var je;if(Dt)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Na?Sw(s,c)&&(Ue="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ue="onCompositionStart");Ue&&(ki&&c.locale!=="ko"&&(Na||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Na&&(je=oc()):(Qn=le,Sa="value"in Qn?Qn.value:Qn.textContent,Na=!0)),Me=od(J,Ue),0<Me.length&&(Ue=new lc(Ue,s,null,c,le),ue.push({event:Ue,listeners:Me}),je?Ue.data=je:(je=Tw(c),je!==null&&(Ue.data=je)))),(je=Xn?BR(s,c):WR(s,c))&&(J=od(J,"onBeforeInput"),0<J.length&&(le=new lc("onBeforeInput","beforeinput",null,c,le),ue.push({event:le,listeners:J}),le.data=je))}Ww(ue,i)})}function mc(s,i,c){return{instance:s,listener:i,currentTarget:c}}function od(s,i){for(var c=i+"Capture",p=[];s!==null;){var v=s,E=v.stateNode;v.tag===5&&E!==null&&(v=E,E=et(s,c),E!=null&&p.unshift(mc(s,E,v)),E=et(s,i),E!=null&&p.push(mc(s,E,v))),s=s.return}return p}function ja(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function qw(s,i,c,p,v){for(var E=i._reactName,A=[];c!==null&&c!==p;){var F=c,W=F.alternate,J=F.stateNode;if(W!==null&&W===p)break;F.tag===5&&J!==null&&(F=J,v?(W=et(c,E),W!=null&&A.unshift(mc(c,W,F))):v||(W=et(c,E),W!=null&&A.push(mc(c,W,F)))),c=c.return}A.length!==0&&s.push({event:i,listeners:A})}var sk=/\r\n?/g,ok=/\u0000|\uFFFD/g;function Gw(s){return(typeof s=="string"?s:""+s).replace(sk,`
`).replace(ok,"")}function id(s,i,c){if(i=Gw(i),Gw(s)!==i&&c)throw Error(t(425))}function ad(){}var kp=null,Pp=null;function Np(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,ak=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(s){return Kw.resolve(null).then(s).catch(lk)}:Dp;function lk(s){setTimeout(function(){throw s})}function Mp(s,i){var c=i,p=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(p===0){s.removeChild(v),Mr(i);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=v}while(c);Mr(i)}function Co(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Yw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),fs="__reactFiber$"+Oa,gc="__reactProps$"+Oa,Us="__reactContainer$"+Oa,jp="__reactEvents$"+Oa,ck="__reactListeners$"+Oa,uk="__reactHandles$"+Oa;function Pi(s){var i=s[fs];if(i)return i;for(var c=s.parentNode;c;){if(i=c[Us]||c[fs]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=Yw(s);s!==null;){if(c=s[fs])return c;s=Yw(s)}return i}s=c,c=s.parentNode}return null}function yc(s){return s=s[fs]||s[Us],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function La(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ld(s){return s[gc]||null}var Op=[],Va=-1;function Ao(s){return{current:s}}function ft(s){0>Va||(s.current=Op[Va],Op[Va]=null,Va--)}function ut(s,i){Va++,Op[Va]=s.current,s.current=i}var Ro={},fn=Ao(Ro),On=Ao(!1),Ni=Ro;function Fa(s,i){var c=s.type.contextTypes;if(!c)return Ro;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var v={},E;for(E in c)v[E]=i[E];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=v),v}function Ln(s){return s=s.childContextTypes,s!=null}function cd(){ft(On),ft(fn)}function Qw(s,i,c){if(fn.current!==Ro)throw Error(t(168));ut(fn,i),ut(On,c)}function Xw(s,i,c){var p=s.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var v in p)if(!(v in i))throw Error(t(108,se(s)||"Unknown",v));return ne({},c,p)}function ud(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ro,Ni=fn.current,ut(fn,s),ut(On,On.current),!0}function Jw(s,i,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=Xw(s,i,Ni),p.__reactInternalMemoizedMergedChildContext=s,ft(On),ft(fn),ut(fn,s)):ft(On),ut(On,c)}var $s=null,dd=!1,Lp=!1;function Zw(s){$s===null?$s=[s]:$s.push(s)}function dk(s){dd=!0,Zw(s)}function ko(){if(!Lp&&$s!==null){Lp=!0;var s=0,i=Je;try{var c=$s;for(Je=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}$s=null,dd=!1}catch(v){throw $s!==null&&($s=$s.slice(s+1)),va(Si,ko),v}finally{Je=i,Lp=!1}}return null}var Ua=[],$a=0,fd=null,hd=0,pr=[],mr=0,Di=null,zs=1,Bs="";function Mi(s,i){Ua[$a++]=hd,Ua[$a++]=fd,fd=s,hd=i}function e_(s,i,c){pr[mr++]=zs,pr[mr++]=Bs,pr[mr++]=Di,Di=s;var p=zs;s=Bs;var v=32-En(p)-1;p&=~(1<<v),c+=1;var E=32-En(i)+v;if(30<E){var A=v-v%5;E=(p&(1<<A)-1).toString(32),p>>=A,v-=A,zs=1<<32-En(i)+v|c<<v|p,Bs=E+s}else zs=1<<E|c<<v|p,Bs=s}function Vp(s){s.return!==null&&(Mi(s,1),e_(s,1,0))}function Fp(s){for(;s===fd;)fd=Ua[--$a],Ua[$a]=null,hd=Ua[--$a],Ua[$a]=null;for(;s===Di;)Di=pr[--mr],pr[mr]=null,Bs=pr[--mr],pr[mr]=null,zs=pr[--mr],pr[mr]=null}var Jn=null,Zn=null,wt=!1,Lr=null;function t_(s,i){var c=wr(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function n_(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Jn=s,Zn=Co(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Jn=s,Zn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Di!==null?{id:zs,overflow:Bs}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=wr(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,Jn=s,Zn=null,!0):!1;default:return!1}}function Up(s){return(s.mode&1)!==0&&(s.flags&128)===0}function $p(s){if(wt){var i=Zn;if(i){var c=i;if(!n_(s,i)){if(Up(s))throw Error(t(418));i=Co(c.nextSibling);var p=Jn;i&&n_(s,i)?t_(p,c):(s.flags=s.flags&-4097|2,wt=!1,Jn=s)}}else{if(Up(s))throw Error(t(418));s.flags=s.flags&-4097|2,wt=!1,Jn=s}}}function r_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Jn=s}function pd(s){if(s!==Jn)return!1;if(!wt)return r_(s),wt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Np(s.type,s.memoizedProps)),i&&(i=Zn)){if(Up(s))throw s_(),Error(t(418));for(;i;)t_(s,i),i=Co(i.nextSibling)}if(r_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Zn=Co(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Zn=null}}else Zn=Jn?Co(s.stateNode.nextSibling):null;return!0}function s_(){for(var s=Zn;s;)s=Co(s.nextSibling)}function za(){Zn=Jn=null,wt=!1}function zp(s){Lr===null?Lr=[s]:Lr.push(s)}var fk=$.ReactCurrentBatchConfig;function vc(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var v=p,E=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(A){var F=v.refs;A===null?delete F[E]:F[E]=A},i._stringRef=E,i)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function md(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function o_(s){var i=s._init;return i(s._payload)}function i_(s){function i(Y,H){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[H],Y.flags|=16):Q.push(H)}}function c(Y,H){if(!s)return null;for(;H!==null;)i(Y,H),H=H.sibling;return null}function p(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function v(Y,H){return Y=Vo(Y,H),Y.index=0,Y.sibling=null,Y}function E(Y,H,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<H?(Y.flags|=2,H):Q):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function A(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function F(Y,H,Q,de){return H===null||H.tag!==6?(H=Dm(Q,Y.mode,de),H.return=Y,H):(H=v(H,Q),H.return=Y,H)}function W(Y,H,Q,de){var ke=Q.type;return ke===D?le(Y,H,Q.props.children,de,Q.key):H!==null&&(H.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ae&&o_(ke)===H.type)?(de=v(H,Q.props),de.ref=vc(Y,H,Q),de.return=Y,de):(de=Fd(Q.type,Q.key,Q.props,null,Y.mode,de),de.ref=vc(Y,H,Q),de.return=Y,de)}function J(Y,H,Q,de){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Mm(Q,Y.mode,de),H.return=Y,H):(H=v(H,Q.children||[]),H.return=Y,H)}function le(Y,H,Q,de,ke){return H===null||H.tag!==7?(H=zi(Q,Y.mode,de,ke),H.return=Y,H):(H=v(H,Q),H.return=Y,H)}function ue(Y,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Dm(""+H,Y.mode,Q),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return Q=Fd(H.type,H.key,H.props,null,Y.mode,Q),Q.ref=vc(Y,null,H),Q.return=Y,Q;case K:return H=Mm(H,Y.mode,Q),H.return=Y,H;case ae:var de=H._init;return ue(Y,de(H._payload),Q)}if(br(H)||Z(H))return H=zi(H,Y.mode,Q,null),H.return=Y,H;md(Y,H)}return null}function ie(Y,H,Q,de){var ke=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return ke!==null?null:F(Y,H,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return Q.key===ke?W(Y,H,Q,de):null;case K:return Q.key===ke?J(Y,H,Q,de):null;case ae:return ke=Q._init,ie(Y,H,ke(Q._payload),de)}if(br(Q)||Z(Q))return ke!==null?null:le(Y,H,Q,de,null);md(Y,Q)}return null}function ye(Y,H,Q,de,ke){if(typeof de=="string"&&de!==""||typeof de=="number")return Y=Y.get(Q)||null,F(H,Y,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case B:return Y=Y.get(de.key===null?Q:de.key)||null,W(H,Y,de,ke);case K:return Y=Y.get(de.key===null?Q:de.key)||null,J(H,Y,de,ke);case ae:var Me=de._init;return ye(Y,H,Q,Me(de._payload),ke)}if(br(de)||Z(de))return Y=Y.get(Q)||null,le(H,Y,de,ke,null);md(H,de)}return null}function be(Y,H,Q,de){for(var ke=null,Me=null,je=H,Ue=H=0,Xt=null;je!==null&&Ue<Q.length;Ue++){je.index>Ue?(Xt=je,je=null):Xt=je.sibling;var ot=ie(Y,je,Q[Ue],de);if(ot===null){je===null&&(je=Xt);break}s&&je&&ot.alternate===null&&i(Y,je),H=E(ot,H,Ue),Me===null?ke=ot:Me.sibling=ot,Me=ot,je=Xt}if(Ue===Q.length)return c(Y,je),wt&&Mi(Y,Ue),ke;if(je===null){for(;Ue<Q.length;Ue++)je=ue(Y,Q[Ue],de),je!==null&&(H=E(je,H,Ue),Me===null?ke=je:Me.sibling=je,Me=je);return wt&&Mi(Y,Ue),ke}for(je=p(Y,je);Ue<Q.length;Ue++)Xt=ye(je,Y,Ue,Q[Ue],de),Xt!==null&&(s&&Xt.alternate!==null&&je.delete(Xt.key===null?Ue:Xt.key),H=E(Xt,H,Ue),Me===null?ke=Xt:Me.sibling=Xt,Me=Xt);return s&&je.forEach(function(Fo){return i(Y,Fo)}),wt&&Mi(Y,Ue),ke}function Ae(Y,H,Q,de){var ke=Z(Q);if(typeof ke!="function")throw Error(t(150));if(Q=ke.call(Q),Q==null)throw Error(t(151));for(var Me=ke=null,je=H,Ue=H=0,Xt=null,ot=Q.next();je!==null&&!ot.done;Ue++,ot=Q.next()){je.index>Ue?(Xt=je,je=null):Xt=je.sibling;var Fo=ie(Y,je,ot.value,de);if(Fo===null){je===null&&(je=Xt);break}s&&je&&Fo.alternate===null&&i(Y,je),H=E(Fo,H,Ue),Me===null?ke=Fo:Me.sibling=Fo,Me=Fo,je=Xt}if(ot.done)return c(Y,je),wt&&Mi(Y,Ue),ke;if(je===null){for(;!ot.done;Ue++,ot=Q.next())ot=ue(Y,ot.value,de),ot!==null&&(H=E(ot,H,Ue),Me===null?ke=ot:Me.sibling=ot,Me=ot);return wt&&Mi(Y,Ue),ke}for(je=p(Y,je);!ot.done;Ue++,ot=Q.next())ot=ye(je,Y,Ue,ot.value,de),ot!==null&&(s&&ot.alternate!==null&&je.delete(ot.key===null?Ue:ot.key),H=E(ot,H,Ue),Me===null?ke=ot:Me.sibling=ot,Me=ot);return s&&je.forEach(function(Hk){return i(Y,Hk)}),wt&&Mi(Y,Ue),ke}function Pt(Y,H,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:e:{for(var ke=Q.key,Me=H;Me!==null;){if(Me.key===ke){if(ke=Q.type,ke===D){if(Me.tag===7){c(Y,Me.sibling),H=v(Me,Q.props.children),H.return=Y,Y=H;break e}}else if(Me.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ae&&o_(ke)===Me.type){c(Y,Me.sibling),H=v(Me,Q.props),H.ref=vc(Y,Me,Q),H.return=Y,Y=H;break e}c(Y,Me);break}else i(Y,Me);Me=Me.sibling}Q.type===D?(H=zi(Q.props.children,Y.mode,de,Q.key),H.return=Y,Y=H):(de=Fd(Q.type,Q.key,Q.props,null,Y.mode,de),de.ref=vc(Y,H,Q),de.return=Y,Y=de)}return A(Y);case K:e:{for(Me=Q.key;H!==null;){if(H.key===Me)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){c(Y,H.sibling),H=v(H,Q.children||[]),H.return=Y,Y=H;break e}else{c(Y,H);break}else i(Y,H);H=H.sibling}H=Mm(Q,Y.mode,de),H.return=Y,Y=H}return A(Y);case ae:return Me=Q._init,Pt(Y,H,Me(Q._payload),de)}if(br(Q))return be(Y,H,Q,de);if(Z(Q))return Ae(Y,H,Q,de);md(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(c(Y,H.sibling),H=v(H,Q),H.return=Y,Y=H):(c(Y,H),H=Dm(Q,Y.mode,de),H.return=Y,Y=H),A(Y)):c(Y,H)}return Pt}var Ba=i_(!0),a_=i_(!1),gd=Ao(null),yd=null,Wa=null,Bp=null;function Wp(){Bp=Wa=yd=null}function Hp(s){var i=gd.current;ft(gd),s._currentValue=i}function qp(s,i,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),s===c)break;s=s.return}}function Ha(s,i){yd=s,Bp=Wa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Vn=!0),s.firstContext=null)}function gr(s){var i=s._currentValue;if(Bp!==s)if(s={context:s,memoizedValue:i,next:null},Wa===null){if(yd===null)throw Error(t(308));Wa=s,yd.dependencies={lanes:0,firstContext:s}}else Wa=Wa.next=s;return i}var ji=null;function Gp(s){ji===null?ji=[s]:ji.push(s)}function l_(s,i,c,p){var v=i.interleaved;return v===null?(c.next=c,Gp(i)):(c.next=v.next,v.next=c),i.interleaved=c,Ws(s,p)}function Ws(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Po=!1;function Kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c_(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Hs(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function No(s,i,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(rt&2)!==0){var v=p.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),p.pending=i,Ws(s,c)}return v=p.interleaved,v===null?(i.next=i,Gp(p)):(i.next=v.next,v.next=i),p.interleaved=i,Ws(s,c)}function vd(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var p=i.lanes;p&=s.pendingLanes,c|=p,i.lanes=c,xo(s,c)}}function u_(s,i){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var v=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?v=E=A:E=E.next=A,c=c.next}while(c!==null);E===null?v=E=i:E=E.next=i}else v=E=i;c={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function wd(s,i,c,p){var v=s.updateQueue;Po=!1;var E=v.firstBaseUpdate,A=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var W=F,J=W.next;W.next=null,A===null?E=J:A.next=J,A=W;var le=s.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==A&&(F===null?le.firstBaseUpdate=J:F.next=J,le.lastBaseUpdate=W))}if(E!==null){var ue=v.baseState;A=0,le=J=W=null,F=E;do{var ie=F.lane,ye=F.eventTime;if((p&ie)===ie){le!==null&&(le=le.next={eventTime:ye,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var be=s,Ae=F;switch(ie=i,ye=c,Ae.tag){case 1:if(be=Ae.payload,typeof be=="function"){ue=be.call(ye,ue,ie);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ae.payload,ie=typeof be=="function"?be.call(ye,ue,ie):be,ie==null)break e;ue=ne({},ue,ie);break e;case 2:Po=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,ie=v.effects,ie===null?v.effects=[F]:ie.push(F))}else ye={eventTime:ye,lane:ie,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(J=le=ye,W=ue):le=le.next=ye,A|=ie;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;ie=F,F=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);if(le===null&&(W=ue),v.baseState=W,v.firstBaseUpdate=J,v.lastBaseUpdate=le,i=v.shared.interleaved,i!==null){v=i;do A|=v.lane,v=v.next;while(v!==i)}else E===null&&(v.shared.lanes=0);Vi|=A,s.lanes=A,s.memoizedState=ue}}function d_(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var p=s[i],v=p.callback;if(v!==null){if(p.callback=null,p=c,typeof v!="function")throw Error(t(191,v));v.call(p)}}}var wc={},hs=Ao(wc),_c=Ao(wc),xc=Ao(wc);function Oi(s){if(s===wc)throw Error(t(174));return s}function Yp(s,i){switch(ut(xc,i),ut(_c,s),ut(hs,wc),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:kt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=kt(i,s)}ft(hs),ut(hs,i)}function qa(){ft(hs),ft(_c),ft(xc)}function f_(s){Oi(xc.current);var i=Oi(hs.current),c=kt(i,s.type);i!==c&&(ut(_c,s),ut(hs,c))}function Qp(s){_c.current===s&&(ft(hs),ft(_c))}var St=Ao(0);function _d(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xp=[];function Jp(){for(var s=0;s<Xp.length;s++)Xp[s]._workInProgressVersionPrimary=null;Xp.length=0}var xd=$.ReactCurrentDispatcher,Zp=$.ReactCurrentBatchConfig,Li=0,Tt=null,Bt=null,Yt=null,Ed=!1,Ec=!1,Sc=0,hk=0;function hn(){throw Error(t(321))}function em(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!Or(s[c],i[c]))return!1;return!0}function tm(s,i,c,p,v,E){if(Li=E,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,xd.current=s===null||s.memoizedState===null?yk:vk,s=c(p,v),Ec){E=0;do{if(Ec=!1,Sc=0,25<=E)throw Error(t(301));E+=1,Yt=Bt=null,i.updateQueue=null,xd.current=wk,s=c(p,v)}while(Ec)}if(xd.current=bd,i=Bt!==null&&Bt.next!==null,Li=0,Yt=Bt=Tt=null,Ed=!1,i)throw Error(t(300));return s}function nm(){var s=Sc!==0;return Sc=0,s}function ps(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Tt.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function yr(){if(Bt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=Bt.next;var i=Yt===null?Tt.memoizedState:Yt.next;if(i!==null)Yt=i,Bt=s;else{if(s===null)throw Error(t(310));Bt=s,s={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Yt===null?Tt.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}function Tc(s,i){return typeof i=="function"?i(s):i}function rm(s){var i=yr(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=Bt,v=p.baseQueue,E=c.pending;if(E!==null){if(v!==null){var A=v.next;v.next=E.next,E.next=A}p.baseQueue=v=E,c.pending=null}if(v!==null){E=v.next,p=p.baseState;var F=A=null,W=null,J=E;do{var le=J.lane;if((Li&le)===le)W!==null&&(W=W.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),p=J.hasEagerState?J.eagerState:s(p,J.action);else{var ue={lane:le,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};W===null?(F=W=ue,A=p):W=W.next=ue,Tt.lanes|=le,Vi|=le}J=J.next}while(J!==null&&J!==E);W===null?A=p:W.next=F,Or(p,i.memoizedState)||(Vn=!0),i.memoizedState=p,i.baseState=A,i.baseQueue=W,c.lastRenderedState=p}if(s=c.interleaved,s!==null){v=s;do E=v.lane,Tt.lanes|=E,Vi|=E,v=v.next;while(v!==s)}else v===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function sm(s){var i=yr(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,v=c.pending,E=i.memoizedState;if(v!==null){c.pending=null;var A=v=v.next;do E=s(E,A.action),A=A.next;while(A!==v);Or(E,i.memoizedState)||(Vn=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),c.lastRenderedState=E}return[E,p]}function h_(){}function p_(s,i){var c=Tt,p=yr(),v=i(),E=!Or(p.memoizedState,v);if(E&&(p.memoizedState=v,Vn=!0),p=p.queue,om(y_.bind(null,c,p,s),[s]),p.getSnapshot!==i||E||Yt!==null&&Yt.memoizedState.tag&1){if(c.flags|=2048,bc(9,g_.bind(null,c,p,v,i),void 0,null),Qt===null)throw Error(t(349));(Li&30)!==0||m_(c,i,v)}return v}function m_(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Tt.updateQueue,i===null?(i={lastEffect:null,stores:null},Tt.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function g_(s,i,c,p){i.value=c,i.getSnapshot=p,v_(i)&&w_(s)}function y_(s,i,c){return c(function(){v_(i)&&w_(s)})}function v_(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!Or(s,c)}catch{return!0}}function w_(s){var i=Ws(s,1);i!==null&&$r(i,s,1,-1)}function __(s){var i=ps();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:s},i.queue=s,s=s.dispatch=gk.bind(null,Tt,s),[i.memoizedState,s]}function bc(s,i,c,p){return s={tag:s,create:i,destroy:c,deps:p,next:null},i=Tt.updateQueue,i===null?(i={lastEffect:null,stores:null},Tt.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,i.lastEffect=s)),s}function x_(){return yr().memoizedState}function Sd(s,i,c,p){var v=ps();Tt.flags|=s,v.memoizedState=bc(1|i,c,void 0,p===void 0?null:p)}function Td(s,i,c,p){var v=yr();p=p===void 0?null:p;var E=void 0;if(Bt!==null){var A=Bt.memoizedState;if(E=A.destroy,p!==null&&em(p,A.deps)){v.memoizedState=bc(i,c,E,p);return}}Tt.flags|=s,v.memoizedState=bc(1|i,c,E,p)}function E_(s,i){return Sd(8390656,8,s,i)}function om(s,i){return Td(2048,8,s,i)}function S_(s,i){return Td(4,2,s,i)}function T_(s,i){return Td(4,4,s,i)}function b_(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function I_(s,i,c){return c=c!=null?c.concat([s]):null,Td(4,4,b_.bind(null,i,s),c)}function im(){}function C_(s,i){var c=yr();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&em(i,p[1])?p[0]:(c.memoizedState=[s,i],s)}function A_(s,i){var c=yr();i=i===void 0?null:i;var p=c.memoizedState;return p!==null&&i!==null&&em(i,p[1])?p[0]:(s=s(),c.memoizedState=[s,i],s)}function R_(s,i,c){return(Li&21)===0?(s.baseState&&(s.baseState=!1,Vn=!0),s.memoizedState=c):(Or(c,i)||(c=Ii(),Tt.lanes|=c,Vi|=c,s.baseState=!0),i)}function pk(s,i){var c=Je;Je=c!==0&&4>c?c:4,s(!0);var p=Zp.transition;Zp.transition={};try{s(!1),i()}finally{Je=c,Zp.transition=p}}function k_(){return yr().memoizedState}function mk(s,i,c){var p=Oo(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},P_(s))N_(i,c);else if(c=l_(s,i,c,p),c!==null){var v=bn();$r(c,s,p,v),D_(c,i,p)}}function gk(s,i,c){var p=Oo(s),v={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(P_(s))N_(i,v);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var A=i.lastRenderedState,F=E(A,c);if(v.hasEagerState=!0,v.eagerState=F,Or(F,A)){var W=i.interleaved;W===null?(v.next=v,Gp(i)):(v.next=W.next,W.next=v),i.interleaved=v;return}}catch{}finally{}c=l_(s,i,v,p),c!==null&&(v=bn(),$r(c,s,p,v),D_(c,i,p))}}function P_(s){var i=s.alternate;return s===Tt||i!==null&&i===Tt}function N_(s,i){Ec=Ed=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function D_(s,i,c){if((c&4194240)!==0){var p=i.lanes;p&=s.pendingLanes,c|=p,i.lanes=c,xo(s,c)}}var bd={readContext:gr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},yk={readContext:gr,useCallback:function(s,i){return ps().memoizedState=[s,i===void 0?null:i],s},useContext:gr,useEffect:E_,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,Sd(4194308,4,b_.bind(null,i,s),c)},useLayoutEffect:function(s,i){return Sd(4194308,4,s,i)},useInsertionEffect:function(s,i){return Sd(4,2,s,i)},useMemo:function(s,i){var c=ps();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var p=ps();return i=c!==void 0?c(i):i,p.memoizedState=p.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},p.queue=s,s=s.dispatch=mk.bind(null,Tt,s),[p.memoizedState,s]},useRef:function(s){var i=ps();return s={current:s},i.memoizedState=s},useState:__,useDebugValue:im,useDeferredValue:function(s){return ps().memoizedState=s},useTransition:function(){var s=__(!1),i=s[0];return s=pk.bind(null,s[1]),ps().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var p=Tt,v=ps();if(wt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),Qt===null)throw Error(t(349));(Li&30)!==0||m_(p,i,c)}v.memoizedState=c;var E={value:c,getSnapshot:i};return v.queue=E,E_(y_.bind(null,p,E,s),[s]),p.flags|=2048,bc(9,g_.bind(null,p,E,c,i),void 0,null),c},useId:function(){var s=ps(),i=Qt.identifierPrefix;if(wt){var c=Bs,p=zs;c=(p&~(1<<32-En(p)-1)).toString(32)+c,i=":"+i+"R"+c,c=Sc++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=hk++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},vk={readContext:gr,useCallback:C_,useContext:gr,useEffect:om,useImperativeHandle:I_,useInsertionEffect:S_,useLayoutEffect:T_,useMemo:A_,useReducer:rm,useRef:x_,useState:function(){return rm(Tc)},useDebugValue:im,useDeferredValue:function(s){var i=yr();return R_(i,Bt.memoizedState,s)},useTransition:function(){var s=rm(Tc)[0],i=yr().memoizedState;return[s,i]},useMutableSource:h_,useSyncExternalStore:p_,useId:k_,unstable_isNewReconciler:!1},wk={readContext:gr,useCallback:C_,useContext:gr,useEffect:om,useImperativeHandle:I_,useInsertionEffect:S_,useLayoutEffect:T_,useMemo:A_,useReducer:sm,useRef:x_,useState:function(){return sm(Tc)},useDebugValue:im,useDeferredValue:function(s){var i=yr();return Bt===null?i.memoizedState=s:R_(i,Bt.memoizedState,s)},useTransition:function(){var s=sm(Tc)[0],i=yr().memoizedState;return[s,i]},useMutableSource:h_,useSyncExternalStore:p_,useId:k_,unstable_isNewReconciler:!1};function Vr(s,i){if(s&&s.defaultProps){i=ne({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function am(s,i,c,p){i=s.memoizedState,c=c(p,i),c=c==null?i:ne({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Id={isMounted:function(s){return(s=s._reactInternals)?Rr(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var p=bn(),v=Oo(s),E=Hs(p,v);E.payload=i,c!=null&&(E.callback=c),i=No(s,E,v),i!==null&&($r(i,s,v,p),vd(i,s,v))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var p=bn(),v=Oo(s),E=Hs(p,v);E.tag=1,E.payload=i,c!=null&&(E.callback=c),i=No(s,E,v),i!==null&&($r(i,s,v,p),vd(i,s,v))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=bn(),p=Oo(s),v=Hs(c,p);v.tag=2,i!=null&&(v.callback=i),i=No(s,v,p),i!==null&&($r(i,s,p,c),vd(i,s,p))}};function M_(s,i,c,p,v,E,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,A):i.prototype&&i.prototype.isPureReactComponent?!dc(c,p)||!dc(v,E):!0}function j_(s,i,c){var p=!1,v=Ro,E=i.contextType;return typeof E=="object"&&E!==null?E=gr(E):(v=Ln(i)?Ni:fn.current,p=i.contextTypes,E=(p=p!=null)?Fa(s,v):Ro),i=new i(c,E),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Id,s.stateNode=i,i._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=E),i}function O_(s,i,c,p){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,p),i.state!==s&&Id.enqueueReplaceState(i,i.state,null)}function lm(s,i,c,p){var v=s.stateNode;v.props=c,v.state=s.memoizedState,v.refs={},Kp(s);var E=i.contextType;typeof E=="object"&&E!==null?v.context=gr(E):(E=Ln(i)?Ni:fn.current,v.context=Fa(s,E)),v.state=s.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(am(s,i,E,c),v.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(i=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),i!==v.state&&Id.enqueueReplaceState(v,v.state,null),wd(s,c,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Ga(s,i){try{var c="",p=i;do c+=Re(p),p=p.return;while(p);var v=c}catch(E){v=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:i,stack:v,digest:null}}function cm(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function um(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var _k=typeof WeakMap=="function"?WeakMap:Map;function L_(s,i,c){c=Hs(-1,c),c.tag=3,c.payload={element:null};var p=i.value;return c.callback=function(){Dd||(Dd=!0,bm=p),um(s,i)},c}function V_(s,i,c){c=Hs(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=i.value;c.payload=function(){return p(v)},c.callback=function(){um(s,i)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){um(s,i),typeof p!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})}),c}function F_(s,i,c){var p=s.pingCache;if(p===null){p=s.pingCache=new _k;var v=new Set;p.set(i,v)}else v=p.get(i),v===void 0&&(v=new Set,p.set(i,v));v.has(c)||(v.add(c),s=Mk.bind(null,s,i,c),i.then(s,s))}function U_(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function $_(s,i,c,p,v){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Hs(-1,1),i.tag=2,No(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var xk=$.ReactCurrentOwner,Vn=!1;function Tn(s,i,c,p){i.child=s===null?a_(i,null,c,p):Ba(i,s.child,c,p)}function z_(s,i,c,p,v){c=c.render;var E=i.ref;return Ha(i,v),p=tm(s,i,c,p,E,v),c=nm(),s!==null&&!Vn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~v,qs(s,i,v)):(wt&&c&&Vp(i),i.flags|=1,Tn(s,i,p,v),i.child)}function B_(s,i,c,p,v){if(s===null){var E=c.type;return typeof E=="function"&&!Nm(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=E,W_(s,i,E,p,v)):(s=Fd(c.type,null,p,i,i.mode,v),s.ref=i.ref,s.return=i,i.child=s)}if(E=s.child,(s.lanes&v)===0){var A=E.memoizedProps;if(c=c.compare,c=c!==null?c:dc,c(A,p)&&s.ref===i.ref)return qs(s,i,v)}return i.flags|=1,s=Vo(E,p),s.ref=i.ref,s.return=i,i.child=s}function W_(s,i,c,p,v){if(s!==null){var E=s.memoizedProps;if(dc(E,p)&&s.ref===i.ref)if(Vn=!1,i.pendingProps=p=E,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Vn=!0);else return i.lanes=s.lanes,qs(s,i,v)}return dm(s,i,c,p,v)}function H_(s,i,c){var p=i.pendingProps,v=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Ya,er),er|=c;else{if((c&1073741824)===0)return s=E!==null?E.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,ut(Ya,er),er|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,ut(Ya,er),er|=p}else E!==null?(p=E.baseLanes|c,i.memoizedState=null):p=c,ut(Ya,er),er|=p;return Tn(s,i,v,c),i.child}function q_(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function dm(s,i,c,p,v){var E=Ln(c)?Ni:fn.current;return E=Fa(i,E),Ha(i,v),c=tm(s,i,c,p,E,v),p=nm(),s!==null&&!Vn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~v,qs(s,i,v)):(wt&&p&&Vp(i),i.flags|=1,Tn(s,i,c,v),i.child)}function G_(s,i,c,p,v){if(Ln(c)){var E=!0;ud(i)}else E=!1;if(Ha(i,v),i.stateNode===null)Ad(s,i),j_(i,c,p),lm(i,c,p,v),p=!0;else if(s===null){var A=i.stateNode,F=i.memoizedProps;A.props=F;var W=A.context,J=c.contextType;typeof J=="object"&&J!==null?J=gr(J):(J=Ln(c)?Ni:fn.current,J=Fa(i,J));var le=c.getDerivedStateFromProps,ue=typeof le=="function"||typeof A.getSnapshotBeforeUpdate=="function";ue||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==p||W!==J)&&O_(i,A,p,J),Po=!1;var ie=i.memoizedState;A.state=ie,wd(i,p,A,v),W=i.memoizedState,F!==p||ie!==W||On.current||Po?(typeof le=="function"&&(am(i,c,le,p),W=i.memoizedState),(F=Po||M_(i,c,F,p,ie,W,J))?(ue||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(i.flags|=4194308)):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=W),A.props=p,A.state=W,A.context=J,p=F):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{A=i.stateNode,c_(s,i),F=i.memoizedProps,J=i.type===i.elementType?F:Vr(i.type,F),A.props=J,ue=i.pendingProps,ie=A.context,W=c.contextType,typeof W=="object"&&W!==null?W=gr(W):(W=Ln(c)?Ni:fn.current,W=Fa(i,W));var ye=c.getDerivedStateFromProps;(le=typeof ye=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==ue||ie!==W)&&O_(i,A,p,W),Po=!1,ie=i.memoizedState,A.state=ie,wd(i,p,A,v);var be=i.memoizedState;F!==ue||ie!==be||On.current||Po?(typeof ye=="function"&&(am(i,c,ye,p),be=i.memoizedState),(J=Po||M_(i,c,J,p,ie,be,W)||!1)?(le||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,be,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,be,W)),typeof A.componentDidUpdate=="function"&&(i.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=be),A.props=p,A.state=be,A.context=W,p=J):(typeof A.componentDidUpdate!="function"||F===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),p=!1)}return fm(s,i,c,p,E,v)}function fm(s,i,c,p,v,E){q_(s,i);var A=(i.flags&128)!==0;if(!p&&!A)return v&&Jw(i,c,!1),qs(s,i,E);p=i.stateNode,xk.current=i;var F=A&&typeof c.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,s!==null&&A?(i.child=Ba(i,s.child,null,E),i.child=Ba(i,null,F,E)):Tn(s,i,F,E),i.memoizedState=p.state,v&&Jw(i,c,!0),i.child}function K_(s){var i=s.stateNode;i.pendingContext?Qw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Qw(s,i.context,!1),Yp(s,i.containerInfo)}function Y_(s,i,c,p,v){return za(),zp(v),i.flags|=256,Tn(s,i,c,p),i.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function pm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Q_(s,i,c){var p=i.pendingProps,v=St.current,E=!1,A=(i.flags&128)!==0,F;if((F=A)||(F=s!==null&&s.memoizedState===null?!1:(v&2)!==0),F?(E=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),ut(St,v&1),s===null)return $p(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(A=p.children,s=p.fallback,E?(p=i.mode,E=i.child,A={mode:"hidden",children:A},(p&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=A):E=Ud(A,p,0,null),s=zi(s,p,c,null),E.return=i,s.return=i,E.sibling=s,i.child=E,i.child.memoizedState=pm(c),i.memoizedState=hm,s):mm(i,A));if(v=s.memoizedState,v!==null&&(F=v.dehydrated,F!==null))return Ek(s,i,A,p,F,v,c);if(E){E=p.fallback,A=i.mode,v=s.child,F=v.sibling;var W={mode:"hidden",children:p.children};return(A&1)===0&&i.child!==v?(p=i.child,p.childLanes=0,p.pendingProps=W,i.deletions=null):(p=Vo(v,W),p.subtreeFlags=v.subtreeFlags&14680064),F!==null?E=Vo(F,E):(E=zi(E,A,c,null),E.flags|=2),E.return=i,p.return=i,p.sibling=E,i.child=p,p=E,E=i.child,A=s.child.memoizedState,A=A===null?pm(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=s.childLanes&~c,i.memoizedState=hm,p}return E=s.child,s=E.sibling,p=Vo(E,{mode:"visible",children:p.children}),(i.mode&1)===0&&(p.lanes=c),p.return=i,p.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=p,i.memoizedState=null,p}function mm(s,i){return i=Ud({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Cd(s,i,c,p){return p!==null&&zp(p),Ba(i,s.child,null,c),s=mm(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Ek(s,i,c,p,v,E,A){if(c)return i.flags&256?(i.flags&=-257,p=cm(Error(t(422))),Cd(s,i,A,p)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(E=p.fallback,v=i.mode,p=Ud({mode:"visible",children:p.children},v,0,null),E=zi(E,v,A,null),E.flags|=2,p.return=i,E.return=i,p.sibling=E,i.child=p,(i.mode&1)!==0&&Ba(i,s.child,null,A),i.child.memoizedState=pm(A),i.memoizedState=hm,E);if((i.mode&1)===0)return Cd(s,i,A,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var F=p.dgst;return p=F,E=Error(t(419)),p=cm(E,p,void 0),Cd(s,i,A,p)}if(F=(A&s.childLanes)!==0,Vn||F){if(p=Qt,p!==null){switch(A&-A){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|A))!==0?0:v,v!==0&&v!==E.retryLane&&(E.retryLane=v,Ws(s,v),$r(p,s,v,-1))}return Pm(),p=cm(Error(t(421))),Cd(s,i,A,p)}return v.data==="$?"?(i.flags|=128,i.child=s.child,i=jk.bind(null,s),v._reactRetry=i,null):(s=E.treeContext,Zn=Co(v.nextSibling),Jn=i,wt=!0,Lr=null,s!==null&&(pr[mr++]=zs,pr[mr++]=Bs,pr[mr++]=Di,zs=s.id,Bs=s.overflow,Di=i),i=mm(i,p.children),i.flags|=4096,i)}function X_(s,i,c){s.lanes|=i;var p=s.alternate;p!==null&&(p.lanes|=i),qp(s.return,i,c)}function gm(s,i,c,p,v){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:v}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=v)}function J_(s,i,c){var p=i.pendingProps,v=p.revealOrder,E=p.tail;if(Tn(s,i,p.children,c),p=St.current,(p&2)!==0)p=p&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&X_(s,c,i);else if(s.tag===19)X_(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ut(St,p),(i.mode&1)===0)i.memoizedState=null;else switch(v){case"forwards":for(c=i.child,v=null;c!==null;)s=c.alternate,s!==null&&_d(s)===null&&(v=c),c=c.sibling;c=v,c===null?(v=i.child,i.child=null):(v=c.sibling,c.sibling=null),gm(i,!1,v,c,E);break;case"backwards":for(c=null,v=i.child,i.child=null;v!==null;){if(s=v.alternate,s!==null&&_d(s)===null){i.child=v;break}s=v.sibling,v.sibling=c,c=v,v=s}gm(i,!0,c,null,E);break;case"together":gm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ad(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function qs(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),Vi|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,c=Vo(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=Vo(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Sk(s,i,c){switch(i.tag){case 3:K_(i),za();break;case 5:f_(i);break;case 1:Ln(i.type)&&ud(i);break;case 4:Yp(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,v=i.memoizedProps.value;ut(gd,p._currentValue),p._currentValue=v;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(ut(St,St.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Q_(s,i,c):(ut(St,St.current&1),s=qs(s,i,c),s!==null?s.sibling:null);ut(St,St.current&1);break;case 19:if(p=(c&i.childLanes)!==0,(s.flags&128)!==0){if(p)return J_(s,i,c);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ut(St,St.current),p)break;return null;case 22:case 23:return i.lanes=0,H_(s,i,c)}return qs(s,i,c)}var Z_,ym,e0,t0;Z_=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},ym=function(){},e0=function(s,i,c,p){var v=s.memoizedProps;if(v!==p){s=i.stateNode,Oi(hs.current);var E=null;switch(c){case"input":v=It(s,v),p=It(s,p),E=[];break;case"select":v=ne({},v,{value:void 0}),p=ne({},p,{value:void 0}),E=[];break;case"textarea":v=Ft(s,v),p=Ft(s,p),E=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=ad)}mo(c,p);var A;c=null;for(J in v)if(!p.hasOwnProperty(J)&&v.hasOwnProperty(J)&&v[J]!=null)if(J==="style"){var F=v[J];for(A in F)F.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?E||(E=[]):(E=E||[]).push(J,null));for(J in p){var W=p[J];if(F=v!=null?v[J]:void 0,p.hasOwnProperty(J)&&W!==F&&(W!=null||F!=null))if(J==="style")if(F){for(A in F)!F.hasOwnProperty(A)||W&&W.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in W)W.hasOwnProperty(A)&&F[A]!==W[A]&&(c||(c={}),c[A]=W[A])}else c||(E||(E=[]),E.push(J,c)),c=W;else J==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,F=F?F.__html:void 0,W!=null&&F!==W&&(E=E||[]).push(J,W)):J==="children"?typeof W!="string"&&typeof W!="number"||(E=E||[]).push(J,""+W):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(W!=null&&J==="onScroll"&&dt("scroll",s),E||F===W||(E=[])):(E=E||[]).push(J,W))}c&&(E=E||[]).push("style",c);var J=E;(i.updateQueue=J)&&(i.flags|=4)}},t0=function(s,i,c,p){c!==p&&(i.flags|=4)};function Ic(s,i){if(!wt)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function pn(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(i)for(var v=s.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)c|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=c,i}function Tk(s,i,c){var p=i.pendingProps;switch(Fp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(i),null;case 1:return Ln(i.type)&&cd(),pn(i),null;case 3:return p=i.stateNode,qa(),ft(On),ft(fn),Jp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(pd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lr!==null&&(Am(Lr),Lr=null))),ym(s,i),pn(i),null;case 5:Qp(i);var v=Oi(xc.current);if(c=i.type,s!==null&&i.stateNode!=null)e0(s,i,c,p,v),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(t(166));return pn(i),null}if(s=Oi(hs.current),pd(i)){p=i.stateNode,c=i.type;var E=i.memoizedProps;switch(p[fs]=i,p[gc]=E,s=(i.mode&1)!==0,c){case"dialog":dt("cancel",p),dt("close",p);break;case"iframe":case"object":case"embed":dt("load",p);break;case"video":case"audio":for(v=0;v<hc.length;v++)dt(hc[v],p);break;case"source":dt("error",p);break;case"img":case"image":case"link":dt("error",p),dt("load",p);break;case"details":dt("toggle",p);break;case"input":An(p,E),dt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},dt("invalid",p);break;case"textarea":qn(p,E),dt("invalid",p)}mo(c,E),v=null;for(var A in E)if(E.hasOwnProperty(A)){var F=E[A];A==="children"?typeof F=="string"?p.textContent!==F&&(E.suppressHydrationWarning!==!0&&id(p.textContent,F,s),v=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(E.suppressHydrationWarning!==!0&&id(p.textContent,F,s),v=["children",""+F]):o.hasOwnProperty(A)&&F!=null&&A==="onScroll"&&dt("scroll",p)}switch(c){case"input":Be(p),Ns(p,E,!0);break;case"textarea":Be(p),vi(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=ad)}p=v,i.updateQueue=p,p!==null&&(i.flags|=4)}else{A=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=mt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=A.createElement(c,{is:p.is}):(s=A.createElement(c),c==="select"&&(A=s,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):s=A.createElementNS(s,c),s[fs]=i,s[gc]=p,Z_(s,i,!1,!1),i.stateNode=s;e:{switch(A=xi(c,p),c){case"dialog":dt("cancel",s),dt("close",s),v=p;break;case"iframe":case"object":case"embed":dt("load",s),v=p;break;case"video":case"audio":for(v=0;v<hc.length;v++)dt(hc[v],s);v=p;break;case"source":dt("error",s),v=p;break;case"img":case"image":case"link":dt("error",s),dt("load",s),v=p;break;case"details":dt("toggle",s),v=p;break;case"input":An(s,p),v=It(s,p),dt("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=ne({},p,{value:void 0}),dt("invalid",s);break;case"textarea":qn(s,p),v=Ft(s,p),dt("invalid",s);break;default:v=p}mo(c,v),F=v;for(E in F)if(F.hasOwnProperty(E)){var W=F[E];E==="style"?_i(s,W):E==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Ds(s,W)):E==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&_n(s,W):typeof W=="number"&&_n(s,""+W):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?W!=null&&E==="onScroll"&&dt("scroll",s):W!=null&&O(s,E,W,A))}switch(c){case"input":Be(s),Ns(s,p,!1);break;case"textarea":Be(s),vi(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ge(p.value));break;case"select":s.multiple=!!p.multiple,E=p.value,E!=null?Ir(s,!!p.multiple,E,!1):p.defaultValue!=null&&Ir(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=ad)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return pn(i),null;case 6:if(s&&i.stateNode!=null)t0(s,i,s.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(t(166));if(c=Oi(xc.current),Oi(hs.current),pd(i)){if(p=i.stateNode,c=i.memoizedProps,p[fs]=i,(E=p.nodeValue!==c)&&(s=Jn,s!==null))switch(s.tag){case 3:id(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&id(p.nodeValue,c,(s.mode&1)!==0)}E&&(i.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[fs]=i,i.stateNode=p}return pn(i),null;case 13:if(ft(St),p=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wt&&Zn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)s_(),za(),i.flags|=98560,E=!1;else if(E=pd(i),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(t(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[fs]=i}else za(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pn(i),E=!1}else Lr!==null&&(Am(Lr),Lr=null),E=!0;if(!E)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(St.current&1)!==0?Wt===0&&(Wt=3):Pm())),i.updateQueue!==null&&(i.flags|=4),pn(i),null);case 4:return qa(),ym(s,i),s===null&&pc(i.stateNode.containerInfo),pn(i),null;case 10:return Hp(i.type._context),pn(i),null;case 17:return Ln(i.type)&&cd(),pn(i),null;case 19:if(ft(St),E=i.memoizedState,E===null)return pn(i),null;if(p=(i.flags&128)!==0,A=E.rendering,A===null)if(p)Ic(E,!1);else{if(Wt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(A=_d(s),A!==null){for(i.flags|=128,Ic(E,!1),p=A.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=c,c=i.child;c!==null;)E=c,s=p,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,s=A.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ut(St,St.current&1|2),i.child}s=s.sibling}E.tail!==null&&ct()>Qa&&(i.flags|=128,p=!0,Ic(E,!1),i.lanes=4194304)}else{if(!p)if(s=_d(A),s!==null){if(i.flags|=128,p=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Ic(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!wt)return pn(i),null}else 2*ct()-E.renderingStartTime>Qa&&c!==1073741824&&(i.flags|=128,p=!0,Ic(E,!1),i.lanes=4194304);E.isBackwards?(A.sibling=i.child,i.child=A):(c=E.last,c!==null?c.sibling=A:i.child=A,E.last=A)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=ct(),i.sibling=null,c=St.current,ut(St,p?c&1|2:c&1),i):(pn(i),null);case 22:case 23:return km(),p=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(i.flags|=8192),p&&(i.mode&1)!==0?(er&1073741824)!==0&&(pn(i),i.subtreeFlags&6&&(i.flags|=8192)):pn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function bk(s,i){switch(Fp(i),i.tag){case 1:return Ln(i.type)&&cd(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return qa(),ft(On),ft(fn),Jp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Qp(i),null;case 13:if(ft(St),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));za()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ft(St),null;case 4:return qa(),null;case 10:return Hp(i.type._context),null;case 22:case 23:return km(),null;case 24:return null;default:return null}}var Rd=!1,mn=!1,Ik=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ka(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ct(s,i,p)}else c.current=null}function vm(s,i,c){try{c()}catch(p){Ct(s,i,p)}}var n0=!1;function Ck(s,i){if(kp=To,s=Mw(),Ep(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var v=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var A=0,F=-1,W=-1,J=0,le=0,ue=s,ie=null;t:for(;;){for(var ye;ue!==c||v!==0&&ue.nodeType!==3||(F=A+v),ue!==E||p!==0&&ue.nodeType!==3||(W=A+p),ue.nodeType===3&&(A+=ue.nodeValue.length),(ye=ue.firstChild)!==null;)ie=ue,ue=ye;for(;;){if(ue===s)break t;if(ie===c&&++J===v&&(F=A),ie===E&&++le===p&&(W=A),(ye=ue.nextSibling)!==null)break;ue=ie,ie=ue.parentNode}ue=ye}c=F===-1||W===-1?null:{start:F,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pp={focusedElem:s,selectionRange:c},To=!1,Ee=i;Ee!==null;)if(i=Ee,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Ee=s;else for(;Ee!==null;){i=Ee;try{var be=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ae=be.memoizedProps,Pt=be.memoizedState,Y=i.stateNode,H=Y.getSnapshotBeforeUpdate(i.elementType===i.type?Ae:Vr(i.type,Ae),Pt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){Ct(i,i.return,de)}if(s=i.sibling,s!==null){s.return=i.return,Ee=s;break}Ee=i.return}return be=n0,n0=!1,be}function Cc(s,i,c){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var E=v.destroy;v.destroy=void 0,E!==void 0&&vm(i,c,E)}v=v.next}while(v!==p)}}function kd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==i)}}function wm(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function r0(s){var i=s.alternate;i!==null&&(s.alternate=null,r0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[fs],delete i[gc],delete i[jp],delete i[ck],delete i[uk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function s0(s){return s.tag===5||s.tag===3||s.tag===4}function o0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||s0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _m(s,i,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=ad));else if(p!==4&&(s=s.child,s!==null))for(_m(s,i,c),s=s.sibling;s!==null;)_m(s,i,c),s=s.sibling}function xm(s,i,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(xm(s,i,c),s=s.sibling;s!==null;)xm(s,i,c),s=s.sibling}var sn=null,Fr=!1;function Do(s,i,c){for(c=c.child;c!==null;)i0(s,i,c),c=c.sibling}function i0(s,i,c){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Ti,c)}catch{}switch(c.tag){case 5:mn||Ka(c,i);case 6:var p=sn,v=Fr;sn=null,Do(s,i,c),sn=p,Fr=v,sn!==null&&(Fr?(s=sn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):sn.removeChild(c.stateNode));break;case 18:sn!==null&&(Fr?(s=sn,c=c.stateNode,s.nodeType===8?Mp(s.parentNode,c):s.nodeType===1&&Mp(s,c),Mr(s)):Mp(sn,c.stateNode));break;case 4:p=sn,v=Fr,sn=c.stateNode.containerInfo,Fr=!0,Do(s,i,c),sn=p,Fr=v;break;case 0:case 11:case 14:case 15:if(!mn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var E=v,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&vm(c,i,A),v=v.next}while(v!==p)}Do(s,i,c);break;case 1:if(!mn&&(Ka(c,i),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(F){Ct(c,i,F)}Do(s,i,c);break;case 21:Do(s,i,c);break;case 22:c.mode&1?(mn=(p=mn)||c.memoizedState!==null,Do(s,i,c),mn=p):Do(s,i,c);break;default:Do(s,i,c)}}function a0(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Ik),i.forEach(function(p){var v=Ok.bind(null,s,p);c.has(p)||(c.add(p),p.then(v,v))})}}function Ur(s,i){var c=i.deletions;if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];try{var E=s,A=i,F=A;e:for(;F!==null;){switch(F.tag){case 5:sn=F.stateNode,Fr=!1;break e;case 3:sn=F.stateNode.containerInfo,Fr=!0;break e;case 4:sn=F.stateNode.containerInfo,Fr=!0;break e}F=F.return}if(sn===null)throw Error(t(160));i0(E,A,v),sn=null,Fr=!1;var W=v.alternate;W!==null&&(W.return=null),v.return=null}catch(J){Ct(v,i,J)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)l0(i,s),i=i.sibling}function l0(s,i){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ur(i,s),ms(s),p&4){try{Cc(3,s,s.return),kd(3,s)}catch(Ae){Ct(s,s.return,Ae)}try{Cc(5,s,s.return)}catch(Ae){Ct(s,s.return,Ae)}}break;case 1:Ur(i,s),ms(s),p&512&&c!==null&&Ka(c,c.return);break;case 5:if(Ur(i,s),ms(s),p&512&&c!==null&&Ka(c,c.return),s.flags&32){var v=s.stateNode;try{_n(v,"")}catch(Ae){Ct(s,s.return,Ae)}}if(p&4&&(v=s.stateNode,v!=null)){var E=s.memoizedProps,A=c!==null?c.memoizedProps:E,F=s.type,W=s.updateQueue;if(s.updateQueue=null,W!==null)try{F==="input"&&E.type==="radio"&&E.name!=null&&Rn(v,E),xi(F,A);var J=xi(F,E);for(A=0;A<W.length;A+=2){var le=W[A],ue=W[A+1];le==="style"?_i(v,ue):le==="dangerouslySetInnerHTML"?Ds(v,ue):le==="children"?_n(v,ue):O(v,le,ue,J)}switch(F){case"input":tn(v,E);break;case"textarea":ho(v,E);break;case"select":var ie=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!E.multiple;var ye=E.value;ye!=null?Ir(v,!!E.multiple,ye,!1):ie!==!!E.multiple&&(E.defaultValue!=null?Ir(v,!!E.multiple,E.defaultValue,!0):Ir(v,!!E.multiple,E.multiple?[]:"",!1))}v[gc]=E}catch(Ae){Ct(s,s.return,Ae)}}break;case 6:if(Ur(i,s),ms(s),p&4){if(s.stateNode===null)throw Error(t(162));v=s.stateNode,E=s.memoizedProps;try{v.nodeValue=E}catch(Ae){Ct(s,s.return,Ae)}}break;case 3:if(Ur(i,s),ms(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Mr(i.containerInfo)}catch(Ae){Ct(s,s.return,Ae)}break;case 4:Ur(i,s),ms(s);break;case 13:Ur(i,s),ms(s),v=s.child,v.flags&8192&&(E=v.memoizedState!==null,v.stateNode.isHidden=E,!E||v.alternate!==null&&v.alternate.memoizedState!==null||(Tm=ct())),p&4&&a0(s);break;case 22:if(le=c!==null&&c.memoizedState!==null,s.mode&1?(mn=(J=mn)||le,Ur(i,s),mn=J):Ur(i,s),ms(s),p&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!le&&(s.mode&1)!==0)for(Ee=s,le=s.child;le!==null;){for(ue=Ee=le;Ee!==null;){switch(ie=Ee,ye=ie.child,ie.tag){case 0:case 11:case 14:case 15:Cc(4,ie,ie.return);break;case 1:Ka(ie,ie.return);var be=ie.stateNode;if(typeof be.componentWillUnmount=="function"){p=ie,c=ie.return;try{i=p,be.props=i.memoizedProps,be.state=i.memoizedState,be.componentWillUnmount()}catch(Ae){Ct(p,c,Ae)}}break;case 5:Ka(ie,ie.return);break;case 22:if(ie.memoizedState!==null){d0(ue);continue}}ye!==null?(ye.return=ie,Ee=ye):d0(ue)}le=le.sibling}e:for(le=null,ue=s;;){if(ue.tag===5){if(le===null){le=ue;try{v=ue.stateNode,J?(E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(F=ue.stateNode,W=ue.memoizedProps.style,A=W!=null&&W.hasOwnProperty("display")?W.display:null,F.style.display=wi("display",A))}catch(Ae){Ct(s,s.return,Ae)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=J?"":ue.memoizedProps}catch(Ae){Ct(s,s.return,Ae)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===s)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===s)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===s)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Ur(i,s),ms(s),p&4&&a0(s);break;case 21:break;default:Ur(i,s),ms(s)}}function ms(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(s0(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(_n(v,""),p.flags&=-33);var E=o0(s);xm(s,E,v);break;case 3:case 4:var A=p.stateNode.containerInfo,F=o0(s);_m(s,F,A);break;default:throw Error(t(161))}}catch(W){Ct(s,s.return,W)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Ak(s,i,c){Ee=s,c0(s)}function c0(s,i,c){for(var p=(s.mode&1)!==0;Ee!==null;){var v=Ee,E=v.child;if(v.tag===22&&p){var A=v.memoizedState!==null||Rd;if(!A){var F=v.alternate,W=F!==null&&F.memoizedState!==null||mn;F=Rd;var J=mn;if(Rd=A,(mn=W)&&!J)for(Ee=v;Ee!==null;)A=Ee,W=A.child,A.tag===22&&A.memoizedState!==null?f0(v):W!==null?(W.return=A,Ee=W):f0(v);for(;E!==null;)Ee=E,c0(E),E=E.sibling;Ee=v,Rd=F,mn=J}u0(s)}else(v.subtreeFlags&8772)!==0&&E!==null?(E.return=v,Ee=E):u0(s)}}function u0(s){for(;Ee!==null;){var i=Ee;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:mn||kd(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!mn)if(c===null)p.componentDidMount();else{var v=i.elementType===i.type?c.memoizedProps:Vr(i.type,c.memoizedProps);p.componentDidUpdate(v,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&d_(i,E,p);break;case 3:var A=i.updateQueue;if(A!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}d_(i,A,c)}break;case 5:var F=i.stateNode;if(c===null&&i.flags&4){c=F;var W=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var J=i.alternate;if(J!==null){var le=J.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Mr(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}mn||i.flags&512&&wm(i)}catch(ie){Ct(i,i.return,ie)}}if(i===s){Ee=null;break}if(c=i.sibling,c!==null){c.return=i.return,Ee=c;break}Ee=i.return}}function d0(s){for(;Ee!==null;){var i=Ee;if(i===s){Ee=null;break}var c=i.sibling;if(c!==null){c.return=i.return,Ee=c;break}Ee=i.return}}function f0(s){for(;Ee!==null;){var i=Ee;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{kd(4,i)}catch(W){Ct(i,c,W)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var v=i.return;try{p.componentDidMount()}catch(W){Ct(i,v,W)}}var E=i.return;try{wm(i)}catch(W){Ct(i,E,W)}break;case 5:var A=i.return;try{wm(i)}catch(W){Ct(i,A,W)}}}catch(W){Ct(i,i.return,W)}if(i===s){Ee=null;break}var F=i.sibling;if(F!==null){F.return=i.return,Ee=F;break}Ee=i.return}}var Rk=Math.ceil,Pd=$.ReactCurrentDispatcher,Em=$.ReactCurrentOwner,vr=$.ReactCurrentBatchConfig,rt=0,Qt=null,Mt=null,on=0,er=0,Ya=Ao(0),Wt=0,Ac=null,Vi=0,Nd=0,Sm=0,Rc=null,Fn=null,Tm=0,Qa=1/0,Gs=null,Dd=!1,bm=null,Mo=null,Md=!1,jo=null,jd=0,kc=0,Im=null,Od=-1,Ld=0;function bn(){return(rt&6)!==0?ct():Od!==-1?Od:Od=ct()}function Oo(s){return(s.mode&1)===0?1:(rt&2)!==0&&on!==0?on&-on:fk.transition!==null?(Ld===0&&(Ld=Ii()),Ld):(s=Je,s!==0||(s=window.event,s=s===void 0?16:sc(s.type)),s)}function $r(s,i,c,p){if(50<kc)throw kc=0,Im=null,Error(t(185));_o(s,c,p),((rt&2)===0||s!==Qt)&&(s===Qt&&((rt&2)===0&&(Nd|=c),Wt===4&&Lo(s,on)),Un(s,p),c===1&&rt===0&&(i.mode&1)===0&&(Qa=ct()+500,dd&&ko()))}function Un(s,i){var c=s.callbackNode;js(s,i);var p=bi(s,s===Qt?on:0);if(p===0)c!==null&&Zl(c),s.callbackNode=null,s.callbackPriority=0;else if(i=p&-p,s.callbackPriority!==i){if(c!=null&&Zl(c),i===1)s.tag===0?dk(p0.bind(null,s)):Zw(p0.bind(null,s)),ak(function(){(rt&6)===0&&ko()}),c=null;else{switch(Eo(p)){case 1:c=Si;break;case 4:c=yo;break;case 16:c=dr;break;case 536870912:c=Lu;break;default:c=dr}c=E0(c,h0.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function h0(s,i){if(Od=-1,Ld=0,(rt&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Xa()&&s.callbackNode!==c)return null;var p=bi(s,s===Qt?on:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||i)i=Vd(s,p);else{i=p;var v=rt;rt|=2;var E=g0();(Qt!==s||on!==i)&&(Gs=null,Qa=ct()+500,Ui(s,i));do try{Nk();break}catch(F){m0(s,F)}while(!0);Wp(),Pd.current=E,rt=v,Mt!==null?i=0:(Qt=null,on=0,i=Wt)}if(i!==0){if(i===2&&(v=Yn(s),v!==0&&(p=v,i=Cm(s,v))),i===1)throw c=Ac,Ui(s,0),Lo(s,p),Un(s,ct()),c;if(i===6)Lo(s,p);else{if(v=s.current.alternate,(p&30)===0&&!kk(v)&&(i=Vd(s,p),i===2&&(E=Yn(s),E!==0&&(p=E,i=Cm(s,E))),i===1))throw c=Ac,Ui(s,0),Lo(s,p),Un(s,ct()),c;switch(s.finishedWork=v,s.finishedLanes=p,i){case 0:case 1:throw Error(t(345));case 2:$i(s,Fn,Gs);break;case 3:if(Lo(s,p),(p&130023424)===p&&(i=Tm+500-ct(),10<i)){if(bi(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){bn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Dp($i.bind(null,s,Fn,Gs),i);break}$i(s,Fn,Gs);break;case 4:if(Lo(s,p),(p&4194240)===p)break;for(i=s.eventTimes,v=-1;0<p;){var A=31-En(p);E=1<<A,A=i[A],A>v&&(v=A),p&=~E}if(p=v,p=ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Rk(p/1960))-p,10<p){s.timeoutHandle=Dp($i.bind(null,s,Fn,Gs),p);break}$i(s,Fn,Gs);break;case 5:$i(s,Fn,Gs);break;default:throw Error(t(329))}}}return Un(s,ct()),s.callbackNode===c?h0.bind(null,s):null}function Cm(s,i){var c=Rc;return s.current.memoizedState.isDehydrated&&(Ui(s,i).flags|=256),s=Vd(s,i),s!==2&&(i=Fn,Fn=c,i!==null&&Am(i)),s}function Am(s){Fn===null?Fn=s:Fn.push.apply(Fn,s)}function kk(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var v=c[p],E=v.getSnapshot;v=v.value;try{if(!Or(E(),v))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Lo(s,i){for(i&=~Sm,i&=~Nd,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-En(i),p=1<<c;s[c]=-1,i&=~p}}function p0(s){if((rt&6)!==0)throw Error(t(327));Xa();var i=bi(s,0);if((i&1)===0)return Un(s,ct()),null;var c=Vd(s,i);if(s.tag!==0&&c===2){var p=Yn(s);p!==0&&(i=p,c=Cm(s,p))}if(c===1)throw c=Ac,Ui(s,0),Lo(s,i),Un(s,ct()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,$i(s,Fn,Gs),Un(s,ct()),null}function Rm(s,i){var c=rt;rt|=1;try{return s(i)}finally{rt=c,rt===0&&(Qa=ct()+500,dd&&ko())}}function Fi(s){jo!==null&&jo.tag===0&&(rt&6)===0&&Xa();var i=rt;rt|=1;var c=vr.transition,p=Je;try{if(vr.transition=null,Je=1,s)return s()}finally{Je=p,vr.transition=c,rt=i,(rt&6)===0&&ko()}}function km(){er=Ya.current,ft(Ya)}function Ui(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,ik(c)),Mt!==null)for(c=Mt.return;c!==null;){var p=c;switch(Fp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&cd();break;case 3:qa(),ft(On),ft(fn),Jp();break;case 5:Qp(p);break;case 4:qa();break;case 13:ft(St);break;case 19:ft(St);break;case 10:Hp(p.type._context);break;case 22:case 23:km()}c=c.return}if(Qt=s,Mt=s=Vo(s.current,null),on=er=i,Wt=0,Ac=null,Sm=Nd=Vi=0,Fn=Rc=null,ji!==null){for(i=0;i<ji.length;i++)if(c=ji[i],p=c.interleaved,p!==null){c.interleaved=null;var v=p.next,E=c.pending;if(E!==null){var A=E.next;E.next=v,p.next=A}c.pending=p}ji=null}return s}function m0(s,i){do{var c=Mt;try{if(Wp(),xd.current=bd,Ed){for(var p=Tt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Ed=!1}if(Li=0,Yt=Bt=Tt=null,Ec=!1,Sc=0,Em.current=null,c===null||c.return===null){Wt=1,Ac=i,Mt=null;break}e:{var E=s,A=c.return,F=c,W=i;if(i=on,F.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var J=W,le=F,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ie=le.alternate;ie?(le.updateQueue=ie.updateQueue,le.memoizedState=ie.memoizedState,le.lanes=ie.lanes):(le.updateQueue=null,le.memoizedState=null)}var ye=U_(A);if(ye!==null){ye.flags&=-257,$_(ye,A,F,E,i),ye.mode&1&&F_(E,J,i),i=ye,W=J;var be=i.updateQueue;if(be===null){var Ae=new Set;Ae.add(W),i.updateQueue=Ae}else be.add(W);break e}else{if((i&1)===0){F_(E,J,i),Pm();break e}W=Error(t(426))}}else if(wt&&F.mode&1){var Pt=U_(A);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),$_(Pt,A,F,E,i),zp(Ga(W,F));break e}}E=W=Ga(W,F),Wt!==4&&(Wt=2),Rc===null?Rc=[E]:Rc.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var Y=L_(E,W,i);u_(E,Y);break e;case 1:F=W;var H=E.type,Q=E.stateNode;if((E.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Mo===null||!Mo.has(Q)))){E.flags|=65536,i&=-i,E.lanes|=i;var de=V_(E,F,i);u_(E,de);break e}}E=E.return}while(E!==null)}v0(c)}catch(ke){i=ke,Mt===c&&c!==null&&(Mt=c=c.return);continue}break}while(!0)}function g0(){var s=Pd.current;return Pd.current=bd,s===null?bd:s}function Pm(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Qt===null||(Vi&268435455)===0&&(Nd&268435455)===0||Lo(Qt,on)}function Vd(s,i){var c=rt;rt|=2;var p=g0();(Qt!==s||on!==i)&&(Gs=null,Ui(s,i));do try{Pk();break}catch(v){m0(s,v)}while(!0);if(Wp(),rt=c,Pd.current=p,Mt!==null)throw Error(t(261));return Qt=null,on=0,Wt}function Pk(){for(;Mt!==null;)y0(Mt)}function Nk(){for(;Mt!==null&&!ju();)y0(Mt)}function y0(s){var i=x0(s.alternate,s,er);s.memoizedProps=s.pendingProps,i===null?v0(s):Mt=i,Em.current=null}function v0(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=Tk(c,i,er),c!==null){Mt=c;return}}else{if(c=bk(c,i),c!==null){c.flags&=32767,Mt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Wt=6,Mt=null;return}}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=s}while(i!==null);Wt===0&&(Wt=5)}function $i(s,i,c){var p=Je,v=vr.transition;try{vr.transition=null,Je=1,Dk(s,i,c,p)}finally{vr.transition=v,Je=p}return null}function Dk(s,i,c,p){do Xa();while(jo!==null);if((rt&6)!==0)throw Error(t(327));c=s.finishedWork;var v=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(lt(s,E),s===Qt&&(Mt=Qt=null,on=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Md||(Md=!0,E0(dr,function(){return Xa(),null})),E=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||E){E=vr.transition,vr.transition=null;var A=Je;Je=1;var F=rt;rt|=4,Em.current=null,Ck(s,c),l0(c,s),ZR(Pp),To=!!kp,Pp=kp=null,s.current=c,Ak(c),pp(),rt=F,Je=A,vr.transition=E}else s.current=c;if(Md&&(Md=!1,jo=s,jd=v),E=s.pendingLanes,E===0&&(Mo=null),Vu(c.stateNode),Un(s,ct()),i!==null)for(p=s.onRecoverableError,c=0;c<i.length;c++)v=i[c],p(v.value,{componentStack:v.stack,digest:v.digest});if(Dd)throw Dd=!1,s=bm,bm=null,s;return(jd&1)!==0&&s.tag!==0&&Xa(),E=s.pendingLanes,(E&1)!==0?s===Im?kc++:(kc=0,Im=s):kc=0,ko(),null}function Xa(){if(jo!==null){var s=Eo(jd),i=vr.transition,c=Je;try{if(vr.transition=null,Je=16>s?16:s,jo===null)var p=!1;else{if(s=jo,jo=null,jd=0,(rt&6)!==0)throw Error(t(331));var v=rt;for(rt|=4,Ee=s.current;Ee!==null;){var E=Ee,A=E.child;if((Ee.flags&16)!==0){var F=E.deletions;if(F!==null){for(var W=0;W<F.length;W++){var J=F[W];for(Ee=J;Ee!==null;){var le=Ee;switch(le.tag){case 0:case 11:case 15:Cc(8,le,E)}var ue=le.child;if(ue!==null)ue.return=le,Ee=ue;else for(;Ee!==null;){le=Ee;var ie=le.sibling,ye=le.return;if(r0(le),le===J){Ee=null;break}if(ie!==null){ie.return=ye,Ee=ie;break}Ee=ye}}}var be=E.alternate;if(be!==null){var Ae=be.child;if(Ae!==null){be.child=null;do{var Pt=Ae.sibling;Ae.sibling=null,Ae=Pt}while(Ae!==null)}}Ee=E}}if((E.subtreeFlags&2064)!==0&&A!==null)A.return=E,Ee=A;else e:for(;Ee!==null;){if(E=Ee,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Cc(9,E,E.return)}var Y=E.sibling;if(Y!==null){Y.return=E.return,Ee=Y;break e}Ee=E.return}}var H=s.current;for(Ee=H;Ee!==null;){A=Ee;var Q=A.child;if((A.subtreeFlags&2064)!==0&&Q!==null)Q.return=A,Ee=Q;else e:for(A=H;Ee!==null;){if(F=Ee,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:kd(9,F)}}catch(ke){Ct(F,F.return,ke)}if(F===A){Ee=null;break e}var de=F.sibling;if(de!==null){de.return=F.return,Ee=de;break e}Ee=F.return}}if(rt=v,ko(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Ti,s)}catch{}p=!0}return p}finally{Je=c,vr.transition=i}}return!1}function w0(s,i,c){i=Ga(c,i),i=L_(s,i,1),s=No(s,i,1),i=bn(),s!==null&&(_o(s,1,i),Un(s,i))}function Ct(s,i,c){if(s.tag===3)w0(s,s,c);else for(;i!==null;){if(i.tag===3){w0(i,s,c);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Mo===null||!Mo.has(p))){s=Ga(c,s),s=V_(i,s,1),i=No(i,s,1),s=bn(),i!==null&&(_o(i,1,s),Un(i,s));break}}i=i.return}}function Mk(s,i,c){var p=s.pingCache;p!==null&&p.delete(i),i=bn(),s.pingedLanes|=s.suspendedLanes&c,Qt===s&&(on&c)===c&&(Wt===4||Wt===3&&(on&130023424)===on&&500>ct()-Tm?Ui(s,0):Sm|=c),Un(s,i)}function _0(s,i){i===0&&((s.mode&1)===0?i=1:(i=_a,_a<<=1,(_a&130023424)===0&&(_a=4194304)));var c=bn();s=Ws(s,i),s!==null&&(_o(s,i,c),Un(s,c))}function jk(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),_0(s,c)}function Ok(s,i){var c=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(c=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(i),_0(s,c)}var x0;x0=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||On.current)Vn=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return Vn=!1,Sk(s,i,c);Vn=(s.flags&131072)!==0}else Vn=!1,wt&&(i.flags&1048576)!==0&&e_(i,hd,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;Ad(s,i),s=i.pendingProps;var v=Fa(i,fn.current);Ha(i,c),v=tm(null,i,p,s,v,c);var E=nm();return i.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ln(p)?(E=!0,ud(i)):E=!1,i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Kp(i),v.updater=Id,i.stateNode=v,v._reactInternals=i,lm(i,p,s,c),i=fm(null,i,p,!0,E,c)):(i.tag=0,wt&&E&&Vp(i),Tn(null,i,v,c),i=i.child),i;case 16:p=i.elementType;e:{switch(Ad(s,i),s=i.pendingProps,v=p._init,p=v(p._payload),i.type=p,v=i.tag=Vk(p),s=Vr(p,s),v){case 0:i=dm(null,i,p,s,c);break e;case 1:i=G_(null,i,p,s,c);break e;case 11:i=z_(null,i,p,s,c);break e;case 14:i=B_(null,i,p,Vr(p.type,s),c);break e}throw Error(t(306,p,""))}return i;case 0:return p=i.type,v=i.pendingProps,v=i.elementType===p?v:Vr(p,v),dm(s,i,p,v,c);case 1:return p=i.type,v=i.pendingProps,v=i.elementType===p?v:Vr(p,v),G_(s,i,p,v,c);case 3:e:{if(K_(i),s===null)throw Error(t(387));p=i.pendingProps,E=i.memoizedState,v=E.element,c_(s,i),wd(i,p,null,c);var A=i.memoizedState;if(p=A.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){v=Ga(Error(t(423)),i),i=Y_(s,i,p,c,v);break e}else if(p!==v){v=Ga(Error(t(424)),i),i=Y_(s,i,p,c,v);break e}else for(Zn=Co(i.stateNode.containerInfo.firstChild),Jn=i,wt=!0,Lr=null,c=a_(i,null,p,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(za(),p===v){i=qs(s,i,c);break e}Tn(s,i,p,c)}i=i.child}return i;case 5:return f_(i),s===null&&$p(i),p=i.type,v=i.pendingProps,E=s!==null?s.memoizedProps:null,A=v.children,Np(p,v)?A=null:E!==null&&Np(p,E)&&(i.flags|=32),q_(s,i),Tn(s,i,A,c),i.child;case 6:return s===null&&$p(i),null;case 13:return Q_(s,i,c);case 4:return Yp(i,i.stateNode.containerInfo),p=i.pendingProps,s===null?i.child=Ba(i,null,p,c):Tn(s,i,p,c),i.child;case 11:return p=i.type,v=i.pendingProps,v=i.elementType===p?v:Vr(p,v),z_(s,i,p,v,c);case 7:return Tn(s,i,i.pendingProps,c),i.child;case 8:return Tn(s,i,i.pendingProps.children,c),i.child;case 12:return Tn(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(p=i.type._context,v=i.pendingProps,E=i.memoizedProps,A=v.value,ut(gd,p._currentValue),p._currentValue=A,E!==null)if(Or(E.value,A)){if(E.children===v.children&&!On.current){i=qs(s,i,c);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var F=E.dependencies;if(F!==null){A=E.child;for(var W=F.firstContext;W!==null;){if(W.context===p){if(E.tag===1){W=Hs(-1,c&-c),W.tag=2;var J=E.updateQueue;if(J!==null){J=J.shared;var le=J.pending;le===null?W.next=W:(W.next=le.next,le.next=W),J.pending=W}}E.lanes|=c,W=E.alternate,W!==null&&(W.lanes|=c),qp(E.return,c,i),F.lanes|=c;break}W=W.next}}else if(E.tag===10)A=E.type===i.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(t(341));A.lanes|=c,F=A.alternate,F!==null&&(F.lanes|=c),qp(A,c,i),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===i){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}Tn(s,i,v.children,c),i=i.child}return i;case 9:return v=i.type,p=i.pendingProps.children,Ha(i,c),v=gr(v),p=p(v),i.flags|=1,Tn(s,i,p,c),i.child;case 14:return p=i.type,v=Vr(p,i.pendingProps),v=Vr(p.type,v),B_(s,i,p,v,c);case 15:return W_(s,i,i.type,i.pendingProps,c);case 17:return p=i.type,v=i.pendingProps,v=i.elementType===p?v:Vr(p,v),Ad(s,i),i.tag=1,Ln(p)?(s=!0,ud(i)):s=!1,Ha(i,c),j_(i,p,v),lm(i,p,v,c),fm(null,i,p,!0,s,c);case 19:return J_(s,i,c);case 22:return H_(s,i,c)}throw Error(t(156,i.tag))};function E0(s,i){return va(s,i)}function Lk(s,i,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,i,c,p){return new Lk(s,i,c,p)}function Nm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Vk(s){if(typeof s=="function")return Nm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===xe)return 14}return 2}function Vo(s,i){var c=s.alternate;return c===null?(c=wr(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Fd(s,i,c,p,v,E){var A=2;if(p=s,typeof s=="function")Nm(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case D:return zi(c.children,v,E,i);case R:A=8,v|=8;break;case k:return s=wr(12,c,i,v|2),s.elementType=k,s.lanes=E,s;case j:return s=wr(13,c,i,v),s.elementType=j,s.lanes=E,s;case Se:return s=wr(19,c,i,v),s.elementType=Se,s.lanes=E,s;case he:return Ud(c,v,E,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:A=10;break e;case L:A=9;break e;case U:A=11;break e;case xe:A=14;break e;case ae:A=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=wr(A,c,i,v),i.elementType=s,i.type=p,i.lanes=E,i}function zi(s,i,c,p){return s=wr(7,s,p,i),s.lanes=c,s}function Ud(s,i,c,p){return s=wr(22,s,p,i),s.elementType=he,s.lanes=c,s.stateNode={isHidden:!1},s}function Dm(s,i,c){return s=wr(6,s,null,i),s.lanes=c,s}function Mm(s,i,c){return i=wr(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function Fk(s,i,c,p,v){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function jm(s,i,c,p,v,E,A,F,W){return s=new Fk(s,i,c,F,W),i===1?(i=1,E===!0&&(i|=8)):i=0,E=wr(3,null,null,i),s.current=E,E.stateNode=s,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(E),s}function Uk(s,i,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:p==null?null:""+p,children:s,containerInfo:i,implementation:c}}function S0(s){if(!s)return Ro;s=s._reactInternals;e:{if(Rr(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ln(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Ln(c))return Xw(s,c,i)}return i}function T0(s,i,c,p,v,E,A,F,W){return s=jm(c,p,!0,s,v,E,A,F,W),s.context=S0(null),c=s.current,p=bn(),v=Oo(c),E=Hs(p,v),E.callback=i??null,No(c,E,v),s.current.lanes=v,_o(s,v,p),Un(s,p),s}function $d(s,i,c,p){var v=i.current,E=bn(),A=Oo(v);return c=S0(c),i.context===null?i.context=c:i.pendingContext=c,i=Hs(E,A),i.payload={element:s},p=p===void 0?null:p,p!==null&&(i.callback=p),s=No(v,i,A),s!==null&&($r(s,v,A,E),vd(s,v,A)),A}function zd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function b0(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function Om(s,i){b0(s,i),(s=s.alternate)&&b0(s,i)}function $k(){return null}var I0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lm(s){this._internalRoot=s}Bd.prototype.render=Lm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));$d(s,i,null,null)},Bd.prototype.unmount=Lm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Fi(function(){$d(null,s,null,null)}),i[Us]=null}};function Bd(s){this._internalRoot=s}Bd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Bu();s={blockedOn:null,target:s,priority:i};for(var c=0;c<ls.length&&i!==0&&i<ls[c].priority;c++);ls.splice(c,0,s),c===0&&qu(s)}};function Vm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Wd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function C0(){}function zk(s,i,c,p,v){if(v){if(typeof p=="function"){var E=p;p=function(){var J=zd(A);E.call(J)}}var A=T0(i,p,s,0,null,!1,!1,"",C0);return s._reactRootContainer=A,s[Us]=A.current,pc(s.nodeType===8?s.parentNode:s),Fi(),A}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var F=p;p=function(){var J=zd(W);F.call(J)}}var W=jm(s,0,!1,null,null,!1,!1,"",C0);return s._reactRootContainer=W,s[Us]=W.current,pc(s.nodeType===8?s.parentNode:s),Fi(function(){$d(i,W,c,p)}),W}function Hd(s,i,c,p,v){var E=c._reactRootContainer;if(E){var A=E;if(typeof v=="function"){var F=v;v=function(){var W=zd(A);F.call(W)}}$d(i,A,s,v)}else A=zk(c,i,s,v,p);return zd(A)}$u=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=vo(i.pendingLanes);c!==0&&(xo(i,c|1),Un(i,ct()),(rt&6)===0&&(Qa=ct()+500,ko()))}break;case 13:Fi(function(){var p=Ws(s,1);if(p!==null){var v=bn();$r(p,s,1,v)}}),Om(s,1)}},xa=function(s){if(s.tag===13){var i=Ws(s,134217728);if(i!==null){var c=bn();$r(i,s,134217728,c)}Om(s,134217728)}},zu=function(s){if(s.tag===13){var i=Oo(s),c=Ws(s,i);if(c!==null){var p=bn();$r(c,s,i,p)}Om(s,i)}},Bu=function(){return Je},Wu=function(s,i){var c=Je;try{return Je=s,i()}finally{Je=c}},go=function(s,i,c){switch(i){case"input":if(tn(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var p=c[i];if(p!==s&&p.form===s.form){var v=ld(p);if(!v)throw Error(t(90));He(p),tn(p,v)}}}break;case"textarea":ho(s,c);break;case"select":i=c.value,i!=null&&Ir(s,!!c.multiple,i,!1)}},yt=Rm,Ut=Fi;var Bk={usingClientEntryPoint:!1,Events:[yc,La,ld,Oe,gt,Rm]},Pc={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wk={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Jl(s),s===null?null:s.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||$k,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{Ti=qd.inject(Wk),Kn=qd}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bk,$n.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(i))throw Error(t(200));return Uk(s,i,null,c)},$n.createRoot=function(s,i){if(!Vm(s))throw Error(t(299));var c=!1,p="",v=I0;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=jm(s,1,!1,null,null,c,!1,p,v),s[Us]=i.current,pc(s.nodeType===8?s.parentNode:s),new Lm(i)},$n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Jl(i),s=s===null?null:s.stateNode,s},$n.flushSync=function(s){return Fi(s)},$n.hydrate=function(s,i,c){if(!Wd(i))throw Error(t(200));return Hd(null,s,i,!0,c)},$n.hydrateRoot=function(s,i,c){if(!Vm(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,v=!1,E="",A=I0;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),i=T0(i,null,s,1,c??null,v,!1,E,A),s[Us]=i.current,pc(s),p)for(s=0;s<p.length;s++)c=p[s],v=c._getVersion,v=v(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,v]:i.mutableSourceEagerHydrationData.push(c,v);return new Bd(i)},$n.render=function(s,i,c){if(!Wd(i))throw Error(t(200));return Hd(null,s,i,!1,c)},$n.unmountComponentAtNode=function(s){if(!Wd(s))throw Error(t(40));return s._reactRootContainer?(Fi(function(){Hd(null,null,s,!1,function(){s._reactRootContainer=null,s[Us]=null})}),!0):!1},$n.unstable_batchedUpdates=Rm,$n.unstable_renderSubtreeIntoContainer=function(s,i,c,p){if(!Wd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Hd(s,i,c,!1,p)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var O0;function xS(){if(O0)return $m.exports;O0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$m.exports=eP(),$m.exports}var L0;function tP(){if(L0)return Gd;L0=1;var n=xS();return Gd.createRoot=n.createRoot,Gd.hydrateRoot=n.hydrateRoot,Gd}var nP=tP();const rP={isAuthenticated:!1,isLoading:!0,user:null,error:null,login:async()=>{},loginWithGoogle:async()=>{},signup:async()=>{},logout:async()=>{},updateProfile:async()=>{},deleteProfile:async()=>{}},ES=w.createContext(rP),sP=()=>{};var V0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},oP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],l=n[t++],u=n[t++],d=((o&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|l&63)}}return e.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],l=o+1<n.length,u=l?n[o+1]:0,d=o+2<n.length,m=d?n[o+2]:0,y=a>>2,g=(a&3)<<4|u>>4;let x=(u&15)<<2|m>>6,T=m&63;d||(T=64,l||(x=64)),r.push(t[y],t[g],t[x],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],u=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const g=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||u==null||m==null||g==null)throw new iP;const x=a<<2|u>>4;if(r.push(x),m!==64){const T=u<<4&240|m>>2;if(r.push(T),g!==64){const b=m<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aP=function(n){const e=SS(n);return TS.encodeByteArray(e,!0)},Nf=function(n){return aP(n).replace(/\./g,"")},bS=function(n){try{return TS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=()=>lP().__FIREBASE_DEFAULTS__,uP=()=>{if(typeof process>"u"||typeof V0>"u")return;const n=V0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bS(n[1]);return e&&JSON.parse(e)},ph=()=>{try{return sP()||cP()||uP()||dP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IS=n=>{var e,t;return(t=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fP=n=>{const e=IS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},CS=()=>{var n;return(n=ph())===null||n===void 0?void 0:n.config},AS=n=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nf(JSON.stringify(t)),Nf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function gP(){var n;const e=(n=ph())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wP(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _P(){return!gP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function PS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function xP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="FirebaseError";class es extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=EP,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aa.prototype.create)}}class aa{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],l=a?SP(a,r):"Error",u=`${this.serviceName}: ${l} (${o}).`;return new es(o,u,r)}}function SP(n,e){return n.replace(TP,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const TP=/\{\$([^}]+)}/g;function bP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ei(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],l=e[o];if(F0(a)&&F0(l)){if(!ei(a,l))return!1}else if(a!==l)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function F0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Vc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function IP(n,e){const t=new CP(n,e);return t.subscribe.bind(t)}class CP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AP(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=1e3,kP=2,PP=4*60*60*1e3,NP=.5;function U0(n,e=RP,t=kP){const r=e*Math.pow(t,n),o=Math.round(NP*r*(Math.random()-.5)*2);return Math.min(PP,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}class Kr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new hP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jP(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const l=this.instances.get(o);return l&&e(l,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MP(n){return n===Hi?void 0:n}function jP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const LP={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},VP=Qe.INFO,FP={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},UP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=FP[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mh{constructor(e){this.name=e,this._logLevel=VP,this._logHandler=UP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const $P=(n,e)=>e.some(t=>n instanceof t);let $0,z0;function zP(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BP(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NS=new WeakMap,Ig=new WeakMap,DS=new WeakMap,Hm=new WeakMap,xy=new WeakMap;function WP(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ko(n.result)),o()},l=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&NS.set(t,n)}).catch(()=>{}),xy.set(e,n),e}function HP(n){if(Ig.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),o()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Ig.set(n,e)}let Cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ko(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qP(n){Cg=n(Cg)}function GP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qm(this),e,...t);return DS.set(r,e.sort?e.sort():[e]),Ko(r)}:BP().includes(n)?function(...e){return n.apply(qm(this),e),Ko(NS.get(this))}:function(...e){return Ko(n.apply(qm(this),e))}}function KP(n){return typeof n=="function"?GP(n):(n instanceof IDBTransaction&&HP(n),$P(n,zP())?new Proxy(n,Cg):n)}function Ko(n){if(n instanceof IDBRequest)return WP(n);if(Hm.has(n))return Hm.get(n);const e=KP(n);return e!==n&&(Hm.set(n,e),xy.set(e,n)),e}const qm=n=>xy.get(n);function MS(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const l=indexedDB.open(n,e),u=Ko(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ko(l.result),d.oldVersion,d.newVersion,Ko(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const YP=["get","getKey","getAll","getAllKeys","count"],QP=["put","add","delete","clear"],Gm=new Map;function B0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=QP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||YP.includes(t)))return;const a=async function(l,...u){const d=this.transaction(l,o?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),o&&d.done]))[0]};return Gm.set(e,a),a}qP(n=>({...n,get:(e,t,r)=>B0(e,t)||n.get(e,t,r),has:(e,t)=>!!B0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function JP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",W0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new mh("@firebase/app"),ZP="@firebase/app-compat",eN="@firebase/analytics-compat",tN="@firebase/analytics",nN="@firebase/app-check-compat",rN="@firebase/app-check",sN="@firebase/auth",oN="@firebase/auth-compat",iN="@firebase/database",aN="@firebase/data-connect",lN="@firebase/database-compat",cN="@firebase/functions",uN="@firebase/functions-compat",dN="@firebase/installations",fN="@firebase/installations-compat",hN="@firebase/messaging",pN="@firebase/messaging-compat",mN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",vN="@firebase/remote-config-compat",wN="@firebase/storage",_N="@firebase/storage-compat",xN="@firebase/firestore",EN="@firebase/vertexai",SN="@firebase/firestore-compat",TN="firebase",bN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="[DEFAULT]",IN={[Ag]:"fire-core",[ZP]:"fire-core-compat",[tN]:"fire-analytics",[eN]:"fire-analytics-compat",[rN]:"fire-app-check",[nN]:"fire-app-check-compat",[sN]:"fire-auth",[oN]:"fire-auth-compat",[iN]:"fire-rtdb",[aN]:"fire-data-connect",[lN]:"fire-rtdb-compat",[cN]:"fire-fn",[uN]:"fire-fn-compat",[dN]:"fire-iid",[fN]:"fire-iid-compat",[hN]:"fire-fcm",[pN]:"fire-fcm-compat",[mN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[vN]:"fire-rc-compat",[wN]:"fire-gcs",[_N]:"fire-gcs-compat",[xN]:"fire-fst",[SN]:"fire-fst-compat",[EN]:"fire-vertex","fire-js":"fire-js",[TN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,CN=new Map,kg=new Map;function H0(n,e){try{n.container.addComponent(e)}catch(t){no.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Is(n){const e=n.name;if(kg.has(e))return no.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,n);for(const t of Df.values())H0(t,n);for(const t of CN.values())H0(t,n);return!0}function la(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new aa("app","Firebase",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=bN;function jS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rg,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Yo.create("bad-app-name",{appName:String(o)});if(t||(t=CS()),!t)throw Yo.create("no-options");const a=Df.get(o);if(a){if(ei(t,a.options)&&ei(r,a.config))return a;throw Yo.create("duplicate-app",{appName:o})}const l=new OP(o);for(const d of kg.values())l.addComponent(d);const u=new RN(t,r,l);return Df.set(o,u),u}function Ey(n=Rg){const e=Df.get(n);if(!e&&n===Rg&&CS())return jS();if(!e)throw Yo.create("no-app",{appName:n});return e}function _r(n,e,t){var r;let o=(r=IN[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${o}" with version "${e}":`];a&&u.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),no.warn(u.join(" "));return}Is(new Kr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebase-heartbeat-database",PN=1,eu="firebase-heartbeat-store";let Km=null;function OS(){return Km||(Km=MS(kN,PN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yo.create("idb-open",{originalErrorMessage:n.message})})),Km}async function NN(n){try{const t=(await OS()).transaction(eu),r=await t.objectStore(eu).get(LS(n));return await t.done,r}catch(e){if(e instanceof es)no.warn(e.message);else{const t=Yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});no.warn(t.message)}}}async function q0(n,e){try{const r=(await OS()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,LS(n)),await r.done}catch(t){if(t instanceof es)no.warn(t.message);else{const r=Yo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});no.warn(r.message)}}}function LS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1024,MN=30;class jN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>MN){const l=VN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){no.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G0(),{heartbeatsToSend:r,unsentEntries:o}=ON(this._heartbeatsCache.heartbeats),a=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return no.warn(t),""}}}function G0(){return new Date().toISOString().substring(0,10)}function ON(n,e=DN){const t=[];let r=n.slice();for(const o of n){const a=t.find(l=>l.agent===o.agent);if(a){if(a.dates.push(o.date),K0(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),K0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?PS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await NN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function K0(n){return Nf(JSON.stringify({version:2,heartbeats:n})).length}function VN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){Is(new Kr("platform-logger",e=>new XP(e),"PRIVATE")),Is(new Kr("heartbeat",e=>new jN(e),"PRIVATE")),_r(Ag,W0,n),_r(Ag,W0,"esm2017"),_r("fire-js","")}FN("");const VS="@firebase/installations",Sy="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=1e4,US=`w:${Sy}`,$S="FIS_v2",UN="https://firebaseinstallations.googleapis.com/v1",$N=60*60*1e3,zN="installations",BN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qi=new aa(zN,BN,WN);function zS(n){return n instanceof es&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS({projectId:n}){return`${UN}/projects/${n}/installations`}function WS(n){return{token:n.token,requestStatus:2,expiresIn:qN(n.expiresIn),creationTime:Date.now()}}async function HS(n,e){const r=(await e.json()).error;return Qi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function qS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function HN(n,{refreshToken:e}){const t=qS(n);return t.append("Authorization",GN(e)),t}async function GS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function qN(n){return Number(n.replace("s","000"))}function GN(n){return`${$S} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=BS(n),o=qS(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const l={fid:t,authVersion:$S,appId:n.appId,sdkVersion:US},u={method:"POST",headers:o,body:JSON.stringify(l)},d=await GS(()=>fetch(r,u));if(d.ok){const m=await d.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:WS(m.authToken)}}else throw await HS("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^[cdef][\w-]{21}$/,Pg="";function XN(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=JN(n);return QN.test(t)?t:Pg}catch{return Pg}}function JN(n){return YN(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map;function QS(n,e){const t=gh(n);XS(t,e),ZN(t,e)}function XS(n,e){const t=YS.get(n);if(t)for(const r of t)r(e)}function ZN(n,e){const t=e2();t&&t.postMessage({key:n,fid:e}),t2()}let Gi=null;function e2(){return!Gi&&"BroadcastChannel"in self&&(Gi=new BroadcastChannel("[Firebase] FID Change"),Gi.onmessage=n=>{XS(n.data.key,n.data.fid)}),Gi}function t2(){YS.size===0&&Gi&&(Gi.close(),Gi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="firebase-installations-database",r2=1,Xi="firebase-installations-store";let Ym=null;function Ty(){return Ym||(Ym=MS(n2,r2,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Xi)}}})),Ym}async function Mf(n,e){const t=gh(n),o=(await Ty()).transaction(Xi,"readwrite"),a=o.objectStore(Xi),l=await a.get(t);return await a.put(e,t),await o.done,(!l||l.fid!==e.fid)&&QS(n,e.fid),e}async function JS(n){const e=gh(n),r=(await Ty()).transaction(Xi,"readwrite");await r.objectStore(Xi).delete(e),await r.done}async function yh(n,e){const t=gh(n),o=(await Ty()).transaction(Xi,"readwrite"),a=o.objectStore(Xi),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await o.done,u&&(!l||l.fid!==u.fid)&&QS(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function by(n){let e;const t=await yh(n.appConfig,r=>{const o=s2(r),a=o2(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Pg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function s2(n){const e=n||{fid:XN(),registrationStatus:0};return ZS(e)}function o2(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Qi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=i2(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:a2(n)}:{installationEntry:e}}async function i2(n,e){try{const t=await KN(n,e);return Mf(n.appConfig,t)}catch(t){throw zS(t)&&t.customData.serverCode===409?await JS(n.appConfig):await Mf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function a2(n){let e=await Y0(n.appConfig);for(;e.registrationStatus===1;)await KS(100),e=await Y0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await by(n);return r||t}return e}function Y0(n){return yh(n,e=>{if(!e)throw Qi.create("installation-not-found");return ZS(e)})}function ZS(n){return l2(n)?{fid:n.fid,registrationStatus:0}:n}function l2(n){return n.registrationStatus===1&&n.registrationTime+FS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2({appConfig:n,heartbeatServiceProvider:e},t){const r=u2(n,t),o=HN(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const l={installation:{sdkVersion:US,appId:n.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},d=await GS(()=>fetch(r,u));if(d.ok){const m=await d.json();return WS(m)}else throw await HS("Generate Auth Token",d)}function u2(n,{fid:e}){return`${BS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(n,e=!1){let t;const r=await yh(n.appConfig,a=>{if(!eT(a))throw Qi.create("not-registered");const l=a.authToken;if(!e&&h2(l))return a;if(l.requestStatus===1)return t=d2(n,e),a;{if(!navigator.onLine)throw Qi.create("app-offline");const u=m2(a);return t=f2(n,u),u}});return t?await t:r.authToken}async function d2(n,e){let t=await Q0(n.appConfig);for(;t.authToken.requestStatus===1;)await KS(100),t=await Q0(n.appConfig);const r=t.authToken;return r.requestStatus===0?Iy(n,e):r}function Q0(n){return yh(n,e=>{if(!eT(e))throw Qi.create("not-registered");const t=e.authToken;return g2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function f2(n,e){try{const t=await c2(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Mf(n.appConfig,r),t}catch(t){if(zS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await JS(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mf(n.appConfig,r)}throw t}}function eT(n){return n!==void 0&&n.registrationStatus===2}function h2(n){return n.requestStatus===2&&!p2(n)}function p2(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+$N}function m2(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function g2(n){return n.requestStatus===1&&n.requestTime+FS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(n){const e=n,{installationEntry:t,registrationPromise:r}=await by(e);return r?r.catch(console.error):Iy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,e=!1){const t=n;return await w2(t),(await Iy(t,e)).token}async function w2(n){const{registrationPromise:e}=await by(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n){if(!n||!n.options)throw Qm("App Configuration");if(!n.name)throw Qm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Qm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Qm(n){return Qi.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="installations",x2="installations-internal",E2=n=>{const e=n.getProvider("app").getImmediate(),t=_2(e),r=la(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},S2=n=>{const e=n.getProvider("app").getImmediate(),t=la(e,tT).getImmediate();return{getId:()=>y2(t),getToken:o=>v2(t,o)}};function T2(){Is(new Kr(tT,E2,"PUBLIC")),Is(new Kr(x2,S2,"PRIVATE"))}T2();_r(VS,Sy);_r(VS,Sy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="analytics",b2="firebase_id",I2="origin",C2=60*1e3,A2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new mh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},or=new aa("analytics","Analytics",R2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n){if(!n.startsWith(Cy)){const e=or.create("invalid-gtag-resource",{gtagURL:n});return Hn.warn(e.message),""}return n}function nT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function P2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function N2(n,e){const t=P2("firebase-js-sdk-policy",{createScriptURL:k2}),r=document.createElement("script"),o=`${Cy}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function D2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function M2(n,e,t,r,o,a){const l=r[o];try{if(l)await e[l];else{const d=(await nT(t)).find(m=>m.measurementId===o);d&&await e[d.appId]}}catch(u){Hn.error(u)}n("config",o,a)}async function j2(n,e,t,r,o){try{let a=[];if(o&&o.send_to){let l=o.send_to;Array.isArray(l)||(l=[l]);const u=await nT(t);for(const d of l){const m=u.find(g=>g.measurementId===d),y=m&&e[m.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,o||{})}catch(a){Hn.error(a)}}function O2(n,e,t,r){async function o(a,...l){try{if(a==="event"){const[u,d]=l;await j2(n,e,t,u,d)}else if(a==="config"){const[u,d]=l;await M2(n,e,t,r,u,d)}else if(a==="consent"){const[u,d]=l;n("consent",u,d)}else if(a==="get"){const[u,d,m]=l;n("get",u,d,m)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){Hn.error(u)}}return o}function L2(n,e,t,r,o){let a=function(...l){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=O2(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function V2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=30,U2=1e3;class $2{constructor(e={},t=U2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rT=new $2;function z2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function B2(n){var e;const{appId:t,apiKey:r}=n,o={method:"GET",headers:z2(r)},a=A2.replace("{app-id}",t),l=await fetch(a,o);if(l.status!==200&&l.status!==304){let u="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw or.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function W2(n,e=rT,t){const{appId:r,apiKey:o,measurementId:a}=n.options;if(!r)throw or.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw or.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new G2;return setTimeout(async()=>{u.abort()},C2),sT({appId:r,apiKey:o,measurementId:a},l,u,e)}async function sT(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=rT){var a;const{appId:l,measurementId:u}=n;try{await H2(r,e)}catch(d){if(u)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:u};throw d}try{const d=await B2(n);return o.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!q2(m)){if(o.deleteThrottleMetadata(l),u)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:u};throw d}const y=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?U0(t,o.intervalMillis,F2):U0(t,o.intervalMillis),g={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return o.setThrottleMetadata(l,g),Hn.debug(`Calling attemptFetch again in ${y} millis`),sT(n,g,r,o)}}function H2(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r(or.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function q2(n){if(!(n instanceof es)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class G2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function K2(n,e,t,r,o){if(o&&o.global){n("event",t,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(){if(kS())try{await PS()}catch(n){return Hn.warn(or.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Hn.warn(or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Q2(n,e,t,r,o,a,l){var u;const d=W2(n);d.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Hn.error(T)),e.push(d);const m=Y2().then(T=>{if(T)return r.getId()}),[y,g]=await Promise.all([d,m]);V2(a)||N2(a,y.measurementId),o("js",new Date);const x=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return x[I2]="firebase",x.update=!0,g!=null&&(x[b2]=g),o("config",y.measurementId,x),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.app=e}_delete(){return delete Hc[this.app.options.appId],Promise.resolve()}}let Hc={},X0=[];const J0={};let Xm="dataLayer",J2="gtag",Z0,oT,ex=!1;function Z2(){const n=[];if(RS()&&n.push("This is a browser extension environment."),xP()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=or.create("invalid-analytics-context",{errorInfo:e});Hn.warn(t.message)}}function eD(n,e,t){Z2();const r=n.options.appId;if(!r)throw or.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw or.create("no-api-key");if(Hc[r]!=null)throw or.create("already-exists",{id:r});if(!ex){D2(Xm);const{wrappedGtag:a,gtagCore:l}=L2(Hc,X0,J0,Xm,J2);oT=a,Z0=l,ex=!0}return Hc[r]=Q2(n,X0,J0,e,Z0,Xm,t),new X2(n)}function tD(n=Ey()){n=At(n);const e=la(n,jf);return e.isInitialized()?e.getImmediate():nD(n)}function nD(n,e={}){const t=la(n,jf);if(t.isInitialized()){const o=t.getImmediate();if(ei(e,t.getOptions()))return o;throw or.create("already-initialized")}return t.initialize({options:e})}function rD(n,e,t,r){n=At(n),K2(oT,Hc[n.app.options.appId],e,t,r).catch(o=>Hn.error(o))}const tx="@firebase/analytics",nx="0.10.12";function sD(){Is(new Kr(jf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return eD(r,o,t)},"PUBLIC")),Is(new Kr("analytics-internal",n,"PRIVATE")),_r(tx,nx),_r(tx,nx,"esm2017");function n(e){try{const t=e.getProvider(jf).getImmediate();return{logEvent:(r,o,a)=>rD(t,r,o,a)}}catch(t){throw or.create("interop-component-reg-failed",{reason:t})}}}sD();var vs=function(){return vs=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vs.apply(this,arguments)};function mu(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function oD(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iD=iT,aT=new aa("auth","Firebase",iT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new mh("@firebase/auth");function aD(n,...e){Of.logLevel<=Qe.WARN&&Of.warn(`Auth (${Ml}): ${n}`,...e)}function gf(n,...e){Of.logLevel<=Qe.ERROR&&Of.error(`Auth (${Ml}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,...e){throw Ry(n,...e)}function Gr(n,...e){return Ry(n,...e)}function Ay(n,e,t){const r=Object.assign(Object.assign({},iD()),{[e]:t});return new aa("auth","Firebase",r).create(e,{appName:n.name})}function Xs(n){return Ay(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lD(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sr(n,"argument-error"),Ay(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ry(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return aT.create(n,...e)}function Le(n,e,...t){if(!n)throw Ry(e,...t)}function Ys(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gf(e),new Error(e)}function ro(n,e){n||Ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cD(){return rx()==="http:"||rx()==="https:"}function rx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cD()||RS()||"connection"in navigator)?navigator.onLine:!0}function dD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ro(t>e,"Short delay should be less than long delay!"),this.isMobile=mP()||vP()}get(){return uD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n,e){ro(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pD=new gu(3e4,6e4);function ci(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function co(n,e,t,r,o={}){return cT(n,o,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=pu(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:d},a);return yP()||(m.referrerPolicy="no-referrer"),lT.fetch()(await uT(n,n.config.apiHost,t,u),m)})}async function cT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},fD),e);try{const o=new gD(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Kd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,m]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Kd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Kd(n,"user-disabled",l);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ay(n,y,m);Sr(n,y)}}catch(o){if(o instanceof es)throw o;Sr(n,"network-request-failed",{message:String(o)})}}async function yu(n,e,t,r,o={}){const a=await co(n,e,t,r,o);return"mfaPendingCredential"in a&&Sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function uT(n,e,t,r){const o=`${e}${t}?${r}`,a=n,l=a.config.emulator?ky(n.config,o):`${n.config.apiScheme}://${o}`;return hD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function mD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),pD.get())})}}function Kd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Gr(n,e,r);return o.customData._tokenResponse=t,o}function sx(n){return n!==void 0&&n.enterprise!==void 0}class yD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vD(n,e){return co(n,"GET","/v2/recaptchaConfig",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e){return co(n,"POST","/v1/accounts:delete",e)}async function Lf(n,e){return co(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _D(n,e=!1){const t=At(n),r=await t.getIdToken(e),o=vh(r);Le(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:qc(Jm(o.auth_time)),issuedAtTime:qc(Jm(o.iat)),expirationTime:qc(Jm(o.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Jm(n){return Number(n)*1e3}function vh(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const o=bS(t);return o?JSON.parse(o):(gf("Failed to decode base64 JWT payload"),null)}catch(o){return gf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ox(n){const e=vh(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof es&&xD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function xD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(n){var e;const t=n.auth,r=await n.getIdToken(),o=await El(n,Lf(t,{idToken:r}));Le(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?dT(a.providerUserInfo):[],u=TD(n.providerData,l),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),y=d?m:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Dg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,g)}async function SD(n){const e=At(n);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TD(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function dT(n){return n.map(e=>{var{providerId:t}=e,r=mu(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,e){const t=await cT(n,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,l=await uT(n,o,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",lT.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ID(n,e){return co(n,"POST","/v2/accounts:revokeToken",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ox(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=ox(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await bD(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,l=new pl;return r&&(Le(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),o&&(Le(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),a&&(Le(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=mu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ED(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await El(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _D(this,e)}reload(){return SD(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await El(this,wD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,l,u,d,m,y;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,T=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(u=t.tenantId)!==null&&u!==void 0?u:void 0,C=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,P=(m=t.createdAt)!==null&&m!==void 0?m:void 0,V=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:O,emailVerified:$,isAnonymous:B,providerData:K,stsTokenManager:D}=t;Le(O&&D,e,"internal-error");const R=pl.fromJSON(this.name,D);Le(typeof O=="string",e,"internal-error"),Uo(g,e.name),Uo(x,e.name),Le(typeof $=="boolean",e,"internal-error"),Le(typeof B=="boolean",e,"internal-error"),Uo(T,e.name),Uo(b,e.name),Uo(I,e.name),Uo(C,e.name),Uo(P,e.name),Uo(V,e.name);const k=new qr({uid:O,auth:e,email:x,emailVerified:$,displayName:g,isAnonymous:B,photoURL:b,phoneNumber:T,tenantId:I,stsTokenManager:R,createdAt:P,lastLoginAt:V});return K&&Array.isArray(K)&&(k.providerData=K.map(M=>Object.assign({},M))),C&&(k._redirectEventId=C),k}static async _fromIdTokenResponse(e,t,r=!1){const o=new pl;o.updateFromServerResponse(t);const a=new qr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Vf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Le(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?dT(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),u=new pl;u.updateFromIdToken(r);const d=new qr({uid:o.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Dg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Map;function Qs(n){ro(n instanceof Function,"Expected a class definition");let e=ix.get(n);return e?(ro(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ix.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fT.type="NONE";const ax=fT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(n,e,t){return`firebase:${n}:${e}:${t}`}class ml{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=yf(this.userKey,o.apiKey,a),this.fullPersistenceKey=yf("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lf(this.auth,{idToken:e}).catch(()=>{});return t?qr._fromGetAccountInfoResponse(this.auth,t,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ml(Qs(ax),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Qs(ax);const l=yf(r,e.config.apiKey,e.name);let u=null;for(const m of t)try{const y=await m._get(l);if(y){let g;if(typeof y=="string"){const x=await Lf(e,{idToken:y}).catch(()=>{});if(!x)break;g=await qr._fromGetAccountInfoResponse(e,x,y)}else g=qr._fromJSON(e,y);m!==a&&(u=g),a=m;break}}catch{}const d=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new ml(a,e,r):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new ml(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vT(e))return"Blackberry";if(wT(e))return"Webos";if(pT(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(yT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hT(n=wn()){return/firefox\//i.test(n)}function pT(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(n=wn()){return/crios\//i.test(n)}function gT(n=wn()){return/iemobile/i.test(n)}function yT(n=wn()){return/android/i.test(n)}function vT(n=wn()){return/blackberry/i.test(n)}function wT(n=wn()){return/webos/i.test(n)}function Py(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CD(n=wn()){var e;return Py(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AD(){return wP()&&document.documentMode===10}function _T(n=wn()){return Py(n)||yT(n)||wT(n)||vT(n)||/windows phone/i.test(n)||gT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n,e=[]){let t;switch(n){case"Browser":t=lx(wn());break;case"Worker":t=`${lx(wn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n,e={}){return co(n,"GET","/v2/passwordPolicy",ci(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=6;class ND{constructor(e){var t,r,o,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:PD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cx(this),this.idTokenSubscription=new cx(this),this.beforeStateQueue=new RD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qs(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lf(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(o=d.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(l){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(Xs(this));const t=e?At(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kD(this),t=new ND(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new aa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ID(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qs(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[Qs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,o);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&aD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ui(n){return At(n)}class cx{constructor(e){this.auth=e,this.observer=null,this.addObserver=IP(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MD(n){wh=n}function ET(n){return wh.loadJS(n)}function jD(){return wh.recaptchaEnterpriseScript}function OD(){return wh.gapiScript}function LD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class VD{constructor(){this.enterprise=new FD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const UD="recaptcha-enterprise",ST="NO_RECAPTCHA";class $D{constructor(e){this.type=UD,this.auth=ui(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{vD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new yD(d);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(d=>{u(d)})})}function o(a,l,u){const d=window.grecaptcha;sx(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(ST)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VD().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&sx(window.grecaptcha))o(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=jD();d.length!==0&&(d+=u),ET(d).then(()=>{o(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function ux(n,e,t,r=!1,o=!1){const a=new $D(n);let l;if(o)l=ST;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Mg(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ux(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ux(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n,e){const t=la(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ei(a,e??{}))return o;Sr(o,"already-initialized")}return t.initialize({options:e})}function BD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Qs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WD(n,e,t){const r=ui(n);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=TT(e),{host:l,port:u}=HD(e),d=u===null?"":`:${u}`,m={url:`${a}//${l}${d}/`},y=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(ei(m,r.config.emulator)&&ei(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,qD()}function TT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HD(n){const e=TT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:dx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:dx(l)}}}function dx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ys("not implemented")}_getIdTokenResponse(e){return Ys("not implemented")}_linkToIdToken(e,t){return Ys("not implemented")}_getReauthenticationResolver(e){return Ys("not implemented")}}async function GD(n,e){return co(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(n,e){return yu(n,"POST","/v1/accounts:signInWithPassword",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,e){return yu(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}async function QD(n,e){return yu(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Ny{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new tu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new tu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,t,"signInWithPassword",KD);case"emailLink":return YD(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,r,"signUpPassword",GD);case"emailLink":return QD(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n,e){return yu(n,"POST","/v1/accounts:signInWithIdp",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="http://localhost";class Ji extends Ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=mu(t,["providerId","signInMethod"]);if(!r||!o)return null;const l=new Ji(r,o);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return gl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,gl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,gl(e,t)}buildRequest(){const e={requestUri:XD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZD(n){const e=Lc(Vc(n)).link,t=e?Lc(Vc(e)).deep_link_id:null,r=Lc(Vc(n)).deep_link_id;return(r?Lc(Vc(r)).link:null)||r||t||e||n}class Dy{constructor(e){var t,r,o,a,l,u;const d=Lc(Vc(e)),m=(t=d.apiKey)!==null&&t!==void 0?t:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,g=JD((o=d.mode)!==null&&o!==void 0?o:null);Le(m&&y&&g,"argument-error"),this.apiKey=m,this.operation=g,this.code=y,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=ZD(e);try{return new Dy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,t){return tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Dy.parseLink(t);return Le(r,"argument-error"),tu._fromEmailAndCode(e,r.code,r.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends My{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends vu{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ji._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ws.credential(t,r)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends vu{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends vu{constructor(){super("twitter.com")}static credential(e,t){return Ji._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qo.credential(t,r)}catch{return null}}}qo.TWITTER_SIGN_IN_METHOD="twitter.com";qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(n,e){return yu(n,"POST","/v1/accounts:signUp",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await qr._fromIdTokenResponse(e,r,o),l=fx(r);return new Zi({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=fx(r);return new Zi({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function fx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends es{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Ff(e,t,r,o)}}function bT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(n,a,e,r):a})}async function tM(n,e,t=!1){const r=await El(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zi._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(n,e,t=!1){const{auth:r}=n;if(rr(r.app))return Promise.reject(Xs(r));const o="reauthenticate";try{const a=await El(n,bT(r,o,e,n),t);Le(a.idToken,r,"internal-error");const l=vh(a.idToken);Le(l,r,"internal-error");const{sub:u}=l;return Le(n.uid===u,r,"user-mismatch"),Zi._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(n,e,t=!1){if(rr(n.app))return Promise.reject(Xs(n));const r="signIn",o=await bT(n,r,e),a=await Zi._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function rM(n,e){return IT(ui(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(n){const e=ui(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AT(n,e,t){if(rr(n.app))return Promise.reject(Xs(n));const r=ui(n),l=await Mg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&CT(n),d}),u=await Zi._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function sM(n,e,t){return rr(n.app)?Promise.reject(Xs(n)):rM(At(n),jl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(n,e){return co(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=At(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await El(r,oM(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n){var e,t;if(!n)return null;const{providerId:r}=n,o=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=vh(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new yl(a,u)}}if(!r)return null;switch(r){case"facebook.com":return new aM(a,o);case"github.com":return new lM(a,o);case"google.com":return new cM(a,o);case"twitter.com":return new uM(a,o,n.screenName||null);case"custom":case"anonymous":return new yl(a,null);default:return new yl(a,r,o)}}class yl{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class kT extends yl{constructor(e,t,r,o){super(e,t,r),this.username=o}}class aM extends yl{constructor(e,t){super(e,"facebook.com",t)}}class lM extends kT{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class cM extends yl{constructor(e,t){super(e,"google.com",t)}}class uM extends kT{constructor(e,t,r){super(e,"twitter.com",t,r)}}function dM(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:iM(t)}function fM(n,e,t,r){return At(n).onIdTokenChanged(e,t,r)}function hM(n,e,t){return At(n).beforeAuthStateChanged(e,t)}function pM(n,e,t,r){return At(n).onAuthStateChanged(e,t,r)}function mM(n){return At(n).signOut()}async function gM(n){return At(n).delete()}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=1e3,vM=10;class NT extends PT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);AD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vM):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},yM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NT.type="LOCAL";const wM=NT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends PT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}DT.type="SESSION";const MT=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,l=this.handlersMap[o];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const u=Array.from(l).map(async m=>m(t.origin,a)),d=await _M(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const m=jy("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:o,onMessage(g){const x=g;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(y),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function EM(n){xs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function SM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bM(){return jT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",IM=1,$f="firebaseLocalStorage",LT="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xh(n,e){return n.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function CM(){const n=indexedDB.deleteDatabase(OT);return new wu(n).toPromise()}function jg(){const n=indexedDB.open(OT,IM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore($f,{keyPath:LT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains($f)?e(r):(r.close(),await CM(),e(await jg()))})})}async function hx(n,e,t){const r=xh(n,!0).put({[LT]:e,value:t});return new wu(r).toPromise()}async function AM(n,e){const t=xh(n,!1).get(e),r=await new wu(t).toPromise();return r===void 0?null:r.value}function px(n,e){const t=xh(n,!0).delete(e);return new wu(t).toPromise()}const RM=800,kM=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>kM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(bM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await SM(),!this.activeServiceWorker)return;this.sender=new xM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await hx(e,Uf,"1"),await px(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>hx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>AM(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>px(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=xh(o,!1).getAll();return new wu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const PM=VT;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n,e){return e?Qs(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NM(n){return IT(n.auth,new Oy(n),n.bypassAuthState)}function DM(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),nM(t,new Oy(n),n.bypassAuthState)}async function MM(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),tM(t,new Oy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NM;case"linkViaPopup":case"linkViaRedirect":return MM;case"reauthViaPopup":case"reauthViaRedirect":return DM;default:Sr(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new gu(2e3,1e4);async function $T(n,e,t){if(rr(n.app))return Promise.reject(Gr(n,"operation-not-supported-in-this-environment"));const r=ui(n);lD(n,e,My);const o=FT(r,t);return new Ki(r,"signInViaPopup",e,o).executeNotNull()}class Ki extends UT{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ro(this.filter.length===1,"Popup operations only handle one event");const e=jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jM.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="pendingRedirect",vf=new Map;class LM extends UT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vf.get(this.auth._key());if(!e){try{const r=await VM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vf.set(this.auth._key(),e)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VM(n,e){const t=$M(e),r=UM(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function FM(n,e){vf.set(n._key(),e)}function UM(n){return Qs(n._redirectPersistence)}function $M(n){return yf(OM,n.config.apiKey,n.name)}async function zM(n,e,t=!1){if(rr(n.app))return Promise.reject(Xs(n));const r=ui(n),o=FT(r,e),l=await new LM(r,o,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=10*60*1e3;class WM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Gr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BM&&this.cachedEventUids.clear(),this.cachedEventUids.has(mx(e))}saveEventToCache(e){this.cachedEventUids.add(mx(e)),this.lastProcessedEventTime=Date.now()}}function mx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(n,e={}){return co(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KM=/^https?/;async function YM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qM(n);for(const t of e)try{if(QM(t))return}catch{}Sr(n,"unauthorized-domain")}function QM(n){const e=Ng(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!KM.test(t))return!1;if(GM.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new gu(3e4,6e4);function gx(){const n=xs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function JM(n){return new Promise((e,t)=>{var r,o,a;function l(){gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gx(),t(Gr(n,"network-request-failed"))},timeout:XM.get()})}if(!((o=(r=xs().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=xs().gapi)===null||a===void 0)&&a.load)l();else{const u=LD("iframefcb");return xs()[u]=()=>{gapi.load?l():t(Gr(n,"network-request-failed"))},ET(`${OD()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw wf=null,e})}let wf=null;function ZM(n){return wf=wf||JM(n),wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new gu(5e3,15e3),tj="__/auth/iframe",nj="emulator/auth/iframe",rj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oj(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ky(e,nj):`https://${n.config.authDomain}/${tj}`,r={apiKey:e.apiKey,appName:n.name,v:Ml},o=sj.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${pu(r).slice(1)}`}async function ij(n){const e=await ZM(n),t=xs().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:oj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rj,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const l=Gr(n,"network-request-failed"),u=xs().setTimeout(()=>{a(l)},ej.get());function d(){xs().clearTimeout(u),o(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lj=500,cj=600,uj="_blank",dj="http://localhost";class yx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fj(n,e,t,r=lj,o=cj){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},aj),{width:r.toString(),height:o.toString(),top:a,left:l}),m=wn().toLowerCase();t&&(u=mT(m)?uj:t),hT(m)&&(e=e||dj,d.scrollbars="yes");const y=Object.entries(d).reduce((x,[T,b])=>`${x}${T}=${b},`,"");if(CD(m)&&u!=="_self")return hj(e||"",u),new yx(null);const g=window.open(e||"",u,y);Le(g,n,"popup-blocked");try{g.focus()}catch{}return new yx(g)}function hj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="__/auth/handler",mj="emulator/auth/handler",gj=encodeURIComponent("fac");async function vx(n,e,t,r,o,a){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ml,eventId:o};if(e instanceof My){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",bP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))l[y]=g}if(e instanceof vu){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const d=await n._getAppCheckToken(),m=d?`#${gj}=${encodeURIComponent(d)}`:"";return`${yj(n)}?${pu(u).slice(1)}${m}`}function yj({config:n}){return n.emulator?ky(n,mj):`https://${n.authDomain}/${pj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="webStorageSupport";class vj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MT,this._completeRedirectFn=zM,this._overrideRedirectResult=FM}async _openPopup(e,t,r,o){var a;ro((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await vx(e,t,r,Ng(),o);return fj(e,l,jy())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await vx(e,t,r,Ng(),o);return EM(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ro(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ij(e),r=new WM(e);return t.register("authEvent",o=>(Le(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zm,{type:Zm},o=>{var a;const l=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Zm];l!==void 0&&t(!!l),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _T()||pT()||Py()}}const wj=vj;var wx="@firebase/auth",_x="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ej(n){Is(new Kr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Le(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(n)},m=new DD(r,o,a,d);return BD(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Is(new Kr("auth-internal",e=>{const t=ui(e.getProvider("auth").getImmediate());return(r=>new _j(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(wx,_x,xj(n)),_r(wx,_x,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=5*60,Tj=AS("authIdTokenMaxAge")||Sj;let xx=null;const bj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Tj)return;const o=t==null?void 0:t.token;xx!==o&&(xx=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ij(n=Ey()){const e=la(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zD(n,{popupRedirectResolver:wj,persistence:[PM,wM,MT]}),r=AS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=bj(a.toString());hM(t,l,()=>l(t.currentUser)),fM(t,u=>l(u))}}const o=IS("auth");return o&&WD(t,`http://${o}`),t}function Cj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}MD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Gr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",Cj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ej("Browser");var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,BT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function k(){}k.prototype=R.prototype,D.D=R.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(M,L,U){for(var j=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)j[Se-2]=arguments[Se];return R.prototype[L].apply(M,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,k){k||(k=0);var M=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)M[L]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(L=0;16>L;++L)M[L]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=D.g[0],k=D.g[1],L=D.g[2];var U=D.g[3],j=R+(U^k&(L^U))+M[0]+3614090360&4294967295;R=k+(j<<7&4294967295|j>>>25),j=U+(L^R&(k^L))+M[1]+3905402710&4294967295,U=R+(j<<12&4294967295|j>>>20),j=L+(k^U&(R^k))+M[2]+606105819&4294967295,L=U+(j<<17&4294967295|j>>>15),j=k+(R^L&(U^R))+M[3]+3250441966&4294967295,k=L+(j<<22&4294967295|j>>>10),j=R+(U^k&(L^U))+M[4]+4118548399&4294967295,R=k+(j<<7&4294967295|j>>>25),j=U+(L^R&(k^L))+M[5]+1200080426&4294967295,U=R+(j<<12&4294967295|j>>>20),j=L+(k^U&(R^k))+M[6]+2821735955&4294967295,L=U+(j<<17&4294967295|j>>>15),j=k+(R^L&(U^R))+M[7]+4249261313&4294967295,k=L+(j<<22&4294967295|j>>>10),j=R+(U^k&(L^U))+M[8]+1770035416&4294967295,R=k+(j<<7&4294967295|j>>>25),j=U+(L^R&(k^L))+M[9]+2336552879&4294967295,U=R+(j<<12&4294967295|j>>>20),j=L+(k^U&(R^k))+M[10]+4294925233&4294967295,L=U+(j<<17&4294967295|j>>>15),j=k+(R^L&(U^R))+M[11]+2304563134&4294967295,k=L+(j<<22&4294967295|j>>>10),j=R+(U^k&(L^U))+M[12]+1804603682&4294967295,R=k+(j<<7&4294967295|j>>>25),j=U+(L^R&(k^L))+M[13]+4254626195&4294967295,U=R+(j<<12&4294967295|j>>>20),j=L+(k^U&(R^k))+M[14]+2792965006&4294967295,L=U+(j<<17&4294967295|j>>>15),j=k+(R^L&(U^R))+M[15]+1236535329&4294967295,k=L+(j<<22&4294967295|j>>>10),j=R+(L^U&(k^L))+M[1]+4129170786&4294967295,R=k+(j<<5&4294967295|j>>>27),j=U+(k^L&(R^k))+M[6]+3225465664&4294967295,U=R+(j<<9&4294967295|j>>>23),j=L+(R^k&(U^R))+M[11]+643717713&4294967295,L=U+(j<<14&4294967295|j>>>18),j=k+(U^R&(L^U))+M[0]+3921069994&4294967295,k=L+(j<<20&4294967295|j>>>12),j=R+(L^U&(k^L))+M[5]+3593408605&4294967295,R=k+(j<<5&4294967295|j>>>27),j=U+(k^L&(R^k))+M[10]+38016083&4294967295,U=R+(j<<9&4294967295|j>>>23),j=L+(R^k&(U^R))+M[15]+3634488961&4294967295,L=U+(j<<14&4294967295|j>>>18),j=k+(U^R&(L^U))+M[4]+3889429448&4294967295,k=L+(j<<20&4294967295|j>>>12),j=R+(L^U&(k^L))+M[9]+568446438&4294967295,R=k+(j<<5&4294967295|j>>>27),j=U+(k^L&(R^k))+M[14]+3275163606&4294967295,U=R+(j<<9&4294967295|j>>>23),j=L+(R^k&(U^R))+M[3]+4107603335&4294967295,L=U+(j<<14&4294967295|j>>>18),j=k+(U^R&(L^U))+M[8]+1163531501&4294967295,k=L+(j<<20&4294967295|j>>>12),j=R+(L^U&(k^L))+M[13]+2850285829&4294967295,R=k+(j<<5&4294967295|j>>>27),j=U+(k^L&(R^k))+M[2]+4243563512&4294967295,U=R+(j<<9&4294967295|j>>>23),j=L+(R^k&(U^R))+M[7]+1735328473&4294967295,L=U+(j<<14&4294967295|j>>>18),j=k+(U^R&(L^U))+M[12]+2368359562&4294967295,k=L+(j<<20&4294967295|j>>>12),j=R+(k^L^U)+M[5]+4294588738&4294967295,R=k+(j<<4&4294967295|j>>>28),j=U+(R^k^L)+M[8]+2272392833&4294967295,U=R+(j<<11&4294967295|j>>>21),j=L+(U^R^k)+M[11]+1839030562&4294967295,L=U+(j<<16&4294967295|j>>>16),j=k+(L^U^R)+M[14]+4259657740&4294967295,k=L+(j<<23&4294967295|j>>>9),j=R+(k^L^U)+M[1]+2763975236&4294967295,R=k+(j<<4&4294967295|j>>>28),j=U+(R^k^L)+M[4]+1272893353&4294967295,U=R+(j<<11&4294967295|j>>>21),j=L+(U^R^k)+M[7]+4139469664&4294967295,L=U+(j<<16&4294967295|j>>>16),j=k+(L^U^R)+M[10]+3200236656&4294967295,k=L+(j<<23&4294967295|j>>>9),j=R+(k^L^U)+M[13]+681279174&4294967295,R=k+(j<<4&4294967295|j>>>28),j=U+(R^k^L)+M[0]+3936430074&4294967295,U=R+(j<<11&4294967295|j>>>21),j=L+(U^R^k)+M[3]+3572445317&4294967295,L=U+(j<<16&4294967295|j>>>16),j=k+(L^U^R)+M[6]+76029189&4294967295,k=L+(j<<23&4294967295|j>>>9),j=R+(k^L^U)+M[9]+3654602809&4294967295,R=k+(j<<4&4294967295|j>>>28),j=U+(R^k^L)+M[12]+3873151461&4294967295,U=R+(j<<11&4294967295|j>>>21),j=L+(U^R^k)+M[15]+530742520&4294967295,L=U+(j<<16&4294967295|j>>>16),j=k+(L^U^R)+M[2]+3299628645&4294967295,k=L+(j<<23&4294967295|j>>>9),j=R+(L^(k|~U))+M[0]+4096336452&4294967295,R=k+(j<<6&4294967295|j>>>26),j=U+(k^(R|~L))+M[7]+1126891415&4294967295,U=R+(j<<10&4294967295|j>>>22),j=L+(R^(U|~k))+M[14]+2878612391&4294967295,L=U+(j<<15&4294967295|j>>>17),j=k+(U^(L|~R))+M[5]+4237533241&4294967295,k=L+(j<<21&4294967295|j>>>11),j=R+(L^(k|~U))+M[12]+1700485571&4294967295,R=k+(j<<6&4294967295|j>>>26),j=U+(k^(R|~L))+M[3]+2399980690&4294967295,U=R+(j<<10&4294967295|j>>>22),j=L+(R^(U|~k))+M[10]+4293915773&4294967295,L=U+(j<<15&4294967295|j>>>17),j=k+(U^(L|~R))+M[1]+2240044497&4294967295,k=L+(j<<21&4294967295|j>>>11),j=R+(L^(k|~U))+M[8]+1873313359&4294967295,R=k+(j<<6&4294967295|j>>>26),j=U+(k^(R|~L))+M[15]+4264355552&4294967295,U=R+(j<<10&4294967295|j>>>22),j=L+(R^(U|~k))+M[6]+2734768916&4294967295,L=U+(j<<15&4294967295|j>>>17),j=k+(U^(L|~R))+M[13]+1309151649&4294967295,k=L+(j<<21&4294967295|j>>>11),j=R+(L^(k|~U))+M[4]+4149444226&4294967295,R=k+(j<<6&4294967295|j>>>26),j=U+(k^(R|~L))+M[11]+3174756917&4294967295,U=R+(j<<10&4294967295|j>>>22),j=L+(R^(U|~k))+M[2]+718787259&4294967295,L=U+(j<<15&4294967295|j>>>17),j=k+(U^(L|~R))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var k=R-this.blockSize,M=this.B,L=this.h,U=0;U<R;){if(L==0)for(;U<=k;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(M[L++]=D.charCodeAt(U++),L==this.blockSize){o(this,M),L=0;break}}else for(;U<R;)if(M[L++]=D[U++],L==this.blockSize){o(this,M),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var k=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=k&255,k/=256;for(this.u(D),D=Array(16),R=k=0;4>R;++R)for(var M=0;32>M;M+=8)D[k++]=this.g[R]>>>M&255;return D};function a(D,R){var k=u;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=R(D)}function l(D,R){this.h=R;for(var k=[],M=!0,L=D.length-1;0<=L;L--){var U=D[L]|0;M&&U==R||(k[L]=U,M=!1)}this.g=k}var u={};function d(D){return-128<=D&&128>D?a(D,function(R){return new l([R|0],0>R?-1:0)}):new l([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return C(m(-D));for(var R=[],k=1,M=0;D>=k;M++)R[M]=D/k|0,k*=4294967296;return new l(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return C(y(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(R,8)),M=g,L=0;L<D.length;L+=8){var U=Math.min(8,D.length-L),j=parseInt(D.substring(L,L+U),R);8>U?(U=m(Math.pow(R,U)),M=M.j(U).add(m(j))):(M=M.j(k),M=M.add(m(j)))}return M}var g=d(0),x=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(I(this))return-C(this).m();for(var D=0,R=1,k=0;k<this.g.length;k++){var M=this.i(k);D+=(0<=M?M:4294967296+M)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(I(this))return"-"+C(this).toString(D);for(var R=m(Math.pow(D,6)),k=this,M="";;){var L=$(k,R).g;k=P(k,L.j(R));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=L,b(k))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function I(D){return D.h==-1}n.l=function(D){return D=P(this,D),I(D)?-1:b(D)?0:1};function C(D){for(var R=D.g.length,k=[],M=0;M<R;M++)k[M]=~D.g[M];return new l(k,~D.h).add(x)}n.abs=function(){return I(this)?C(this):this},n.add=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],M=0,L=0;L<=R;L++){var U=M+(this.i(L)&65535)+(D.i(L)&65535),j=(U>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);M=j>>>16,U&=65535,j&=65535,k[L]=j<<16|U}return new l(k,k[k.length-1]&-2147483648?-1:0)};function P(D,R){return D.add(C(R))}n.j=function(D){if(b(this)||b(D))return g;if(I(this))return I(D)?C(this).j(C(D)):C(C(this).j(D));if(I(D))return C(this.j(C(D)));if(0>this.l(T)&&0>D.l(T))return m(this.m()*D.m());for(var R=this.g.length+D.g.length,k=[],M=0;M<2*R;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<D.g.length;L++){var U=this.i(M)>>>16,j=this.i(M)&65535,Se=D.i(L)>>>16,xe=D.i(L)&65535;k[2*M+2*L]+=j*xe,V(k,2*M+2*L),k[2*M+2*L+1]+=U*xe,V(k,2*M+2*L+1),k[2*M+2*L+1]+=j*Se,V(k,2*M+2*L+1),k[2*M+2*L+2]+=U*Se,V(k,2*M+2*L+2)}for(M=0;M<R;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=R;M<2*R;M++)k[M]=0;return new l(k,0)};function V(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function O(D,R){this.g=D,this.h=R}function $(D,R){if(b(R))throw Error("division by zero");if(b(D))return new O(g,g);if(I(D))return R=$(C(D),R),new O(C(R.g),C(R.h));if(I(R))return R=$(D,C(R)),new O(C(R.g),R.h);if(30<D.g.length){if(I(D)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var k=x,M=R;0>=M.l(D);)k=B(k),M=B(M);var L=K(k,1),U=K(M,1);for(M=K(M,2),k=K(k,2);!b(M);){var j=U.add(M);0>=j.l(D)&&(L=L.add(k),U=j),M=K(M,1),k=K(k,1)}return R=P(D,L.j(R)),new O(L,R)}for(L=g;0<=D.l(R);){for(k=Math.max(1,Math.floor(D.m()/R.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=m(k),j=U.j(R);I(j)||0<j.l(D);)k-=M,U=m(k),j=U.j(R);b(U)&&(U=x),L=L.add(U),D=P(D,j)}return new O(L,D)}n.A=function(D){return $(this,D).h},n.and=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],M=0;M<R;M++)k[M]=this.i(M)&D.i(M);return new l(k,this.h&D.h)},n.or=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],M=0;M<R;M++)k[M]=this.i(M)|D.i(M);return new l(k,this.h|D.h)},n.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],M=0;M<R;M++)k[M]=this.i(M)^D.i(M);return new l(k,this.h^D.h)};function B(D){for(var R=D.g.length+1,k=[],M=0;M<R;M++)k[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(k,D.h)}function K(D,R){var k=R>>5;R%=32;for(var M=D.g.length-k,L=[],U=0;U<M;U++)L[U]=0<R?D.i(U+k)>>>R|D.i(U+k+1)<<32-R:D.i(U+k);return new l(L,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,Qo=l}).apply(typeof Ex<"u"?Ex:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WT,Fc,HT,_f,Og,qT,GT,KT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,S){return f==Array.prototype||f==Object.prototype||(f[_]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var _=0;_<f.length;++_){var S=f[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function o(f,_){if(_)e:{var S=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var G=f[N];if(!(G in S))break e;S=S[G]}f=f[f.length-1],N=S[f],_=_(N),_!=N&&_!=null&&e(S,f,{configurable:!0,writable:!0,value:_})}}function a(f,_){f instanceof String&&(f+="");var S=0,N=!1,G={next:function(){if(!N&&S<f.length){var ee=S++;return{value:_(ee,f[ee]),done:!1}}return N=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(f){return f||function(){return a(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function m(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,S){return f.call.apply(f.bind,arguments)}function g(f,_,S){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,N),f.apply(_,G)}}return function(){return f.apply(_,arguments)}}function x(f,_,S){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,x.apply(null,arguments)}function T(f,_){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function b(f,_){function S(){}S.prototype=_.prototype,f.aa=_.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(N,G,ee){for(var fe=Array(arguments.length-2),at=2;at<arguments.length;at++)fe[at-2]=arguments[at];return _.prototype[G].apply(N,fe)}}function I(f){const _=f.length;if(0<_){const S=Array(_);for(let N=0;N<_;N++)S[N]=f[N];return S}return[]}function C(f,_){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const G=f.length||0,ee=N.length||0;f.length=G+ee;for(let fe=0;fe<ee;fe++)f[G+fe]=N[fe]}else f.push(N)}}class P{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(f){return/^[\s\xa0]*$/.test(f)}function O(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function $(f){return $[" "](f),f}$[" "]=function(){};var B=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function K(f,_,S){for(const N in f)_.call(S,f[N],N,f)}function D(f,_){for(const S in f)_.call(void 0,f[S],S,f)}function R(f){const _={};for(const S in f)_[S]=f[S];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,_){let S,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(S in N)f[S]=N[S];for(let ee=0;ee<k.length;ee++)S=k[ee],Object.prototype.hasOwnProperty.call(N,S)&&(f[S]=N[S])}}function L(f){var _=1;f=f.split(":");const S=[];for(;0<_&&f.length;)S.push(f.shift()),_--;return f.length&&S.push(f.join(":")),S}function U(f){u.setTimeout(()=>{throw f},0)}function j(){var f=Z;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Se{constructor(){this.h=this.g=null}add(_,S){const N=xe.get();N.set(_,S),this.h?this.h.next=N:this.g=N,this.h=N}}var xe=new P(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let he,q=!1,Z=new Se,ne=()=>{const f=u.Promise.resolve(void 0);he=()=>{f.then(z)}};var z=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(S){U(S)}var _=xe;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,_),u.removeEventListener("test",S,_)}catch{}return f}();function Re(f,_){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(B){e:{try{$(_.nodeName);var G=!0;break e}catch{}G=!1}G||(_=null)}}else S=="mouseover"?_=f.fromElement:S=="mouseout"&&(_=f.toElement);this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}b(Re,oe);var me={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Te(f,_,S,N,G){this.listener=f,this.proxy=null,this.src=_,this.type=S,this.capture=!!N,this.ha=G,this.key=++ge,this.da=this.fa=!1}function Pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Be(f){this.src=f,this.g={},this.h=0}Be.prototype.add=function(f,_,S,N,G){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var fe=pt(f,_,N,G);return-1<fe?(_=f[fe],S||(_.fa=!1)):(_=new Te(_,this.src,ee,!!N,G),_.fa=S,f.push(_)),_};function He(f,_){var S=_.type;if(S in f.g){var N=f.g[S],G=Array.prototype.indexOf.call(N,_,void 0),ee;(ee=0<=G)&&Array.prototype.splice.call(N,G,1),ee&&(Pe(_),f.g[S].length==0&&(delete f.g[S],f.h--))}}function pt(f,_,S,N){for(var G=0;G<f.length;++G){var ee=f[G];if(!ee.da&&ee.listener==_&&ee.capture==!!S&&ee.ha==N)return G}return-1}var It="closure_lm_"+(1e6*Math.random()|0),An={};function Rn(f,_,S,N,G){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)Rn(f,_[ee],S,N,G);return null}return S=vi(S),f&&f[se]?f.K(_,S,m(N)?!!N.capture:!1,G):tn(f,_,S,!1,N,G)}function tn(f,_,S,N,G,ee){if(!_)throw Error("Invalid event type");var fe=m(G)?!!G.capture:!!G,at=qn(f);if(at||(f[It]=at=new Be(f)),S=at.add(_,S,N,fe,ee),S.proxy)return S;if(N=Ns(),S.proxy=N,N.src=f,N.listener=S,f.addEventListener)pe||(G=fe),G===void 0&&(G=!1),f.addEventListener(_.toString(),N,G);else if(f.attachEvent)f.attachEvent(Ir(_.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ns(){function f(S){return _.call(f.src,f.listener,S)}const _=Ft;return f}function Rt(f,_,S,N,G){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)Rt(f,_[ee],S,N,G);else N=m(N)?!!N.capture:!!N,S=vi(S),f&&f[se]?(f=f.i,_=String(_).toString(),_ in f.g&&(ee=f.g[_],S=pt(ee,S,N,G),-1<S&&(Pe(ee[S]),Array.prototype.splice.call(ee,S,1),ee.length==0&&(delete f.g[_],f.h--)))):f&&(f=qn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=pt(_,S,N,G)),(S=-1<f?_[f]:null)&&br(S))}function br(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[se])He(_.i,f);else{var S=f.type,N=f.proxy;_.removeEventListener?_.removeEventListener(S,N,f.capture):_.detachEvent?_.detachEvent(Ir(S),N):_.addListener&&_.removeListener&&_.removeListener(N),(S=qn(_))?(He(S,f),S.h==0&&(S.src=null,_[It]=null)):Pe(f)}}}function Ir(f){return f in An?An[f]:An[f]="on"+f}function Ft(f,_){if(f.da)f=!0;else{_=new Re(_,this);var S=f.listener,N=f.ha||f.src;f.fa&&br(f),f=S.call(N,_)}return f}function qn(f){return f=f[It],f instanceof Be?f:null}var ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function vi(f){return typeof f=="function"?f:(f[ho]||(f[ho]=function(_){return f.handleEvent(_)}),f[ho])}function mt(){X.call(this),this.i=new Be(this),this.M=this,this.F=null}b(mt,X),mt.prototype[se]=!0,mt.prototype.removeEventListener=function(f,_,S,N){Rt(this,f,_,S,N)};function kt(f,_){var S,N=f.F;if(N)for(S=[];N;N=N.F)S.push(N);if(f=f.M,N=_.type||_,typeof _=="string")_=new oe(_,f);else if(_ instanceof oe)_.target=_.target||f;else{var G=_;_=new oe(N,f),M(_,G)}if(G=!0,S)for(var ee=S.length-1;0<=ee;ee--){var fe=_.g=S[ee];G=cr(fe,N,!0,_)&&G}if(fe=_.g=f,G=cr(fe,N,!0,_)&&G,G=cr(fe,N,!1,_)&&G,S)for(ee=0;ee<S.length;ee++)fe=_.g=S[ee],G=cr(fe,N,!1,_)&&G}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var S=f.g[_],N=0;N<S.length;N++)Pe(S[N]);delete f.g[_],f.h--}}this.F=null},mt.prototype.K=function(f,_,S,N){return this.i.add(String(f),_,!1,S,N)},mt.prototype.L=function(f,_,S,N){return this.i.add(String(f),_,!0,S,N)};function cr(f,_,S,N){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var G=!0,ee=0;ee<_.length;++ee){var fe=_[ee];if(fe&&!fe.da&&fe.capture==S){var at=fe.listener,zt=fe.ha||fe.src;fe.fa&&He(f.i,fe),G=at.call(zt,N)!==!1&&G}}return G&&!N.defaultPrevented}function Ds(f,_,S){if(typeof f=="function")S&&(f=x(f,S));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(f,_||0)}function _n(f){f.g=Ds(()=>{f.g=null,f.i&&(f.i=!1,_n(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class os extends X{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_n(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(f){X.call(this),this.h=f,this.g={}}b(kn,X);var wi=[];function _i(f){K(f.g,function(_,S){this.g.hasOwnProperty(S)&&br(_)},f),f.g={}}kn.prototype.N=function(){kn.aa.N.call(this),_i(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var po=u.JSON.stringify,mo=u.JSON.parse,xi=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Cr(){}Cr.prototype.h=null;function xn(f){return f.h||(f.h=f.i())}function go(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){oe.call(this,"d")}b(Gn,oe);function Ms(){oe.call(this,"c")}b(Ms,oe);var Oe={},gt=null;function yt(){return gt=gt||new mt}Oe.La="serverreachability";function Ut(f){oe.call(this,Oe.La,f)}b(Ut,oe);function Nn(f){const _=yt();kt(_,new Ut(_))}Oe.STAT_EVENT="statevent";function xt(f,_){oe.call(this,Oe.STAT_EVENT,f),this.stat=_}b(xt,oe);function et(f){const _=yt();kt(_,new xt(_,f))}Oe.Ma="timingevent";function Ar(f,_){oe.call(this,Oe.Ma,f),this.size=_}b(Ar,oe);function Et(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function $t(){this.g=!0}$t.prototype.xa=function(){this.g=!1};function is(f,_,S,N,G,ee){f.info(function(){if(f.g)if(ee)for(var fe="",at=ee.split("&"),zt=0;zt<at.length;zt++){var tt=at[zt].split("=");if(1<tt.length){var Kt=tt[0];tt=tt[1];var Dt=Kt.split("_");fe=2<=Dt.length&&Dt[1]=="type"?fe+(Kt+"="+tt+"&"):fe+(Kt+"=redacted&")}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+_+`
`+S+`
`+fe})}function Dn(f,_,S,N,G,ee,fe){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+_+`
`+S+`
`+ee+" "+fe})}function ur(f,_,S,N){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+hp(f,S)+(N?" "+N:"")})}function Xl(f,_){f.info(function(){return"TIMEOUT: "+_})}$t.prototype.info=function(){};function hp(f,_){if(!f.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var N=S[f];if(!(2>N.length)){var G=N[1];if(Array.isArray(G)&&!(1>G.length)){var ee=G[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var fe=1;fe<G.length;fe++)G[fe]=""}}}}return po(S)}catch{return _}}var ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Du={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rr;function Ei(){}b(Ei,Cr),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},Rr=new Ei;function kr(f,_,S,N){this.j=f,this.i=_,this.l=S,this.R=N||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mu}function Mu(){this.i=null,this.g="",this.h=!1}var Jl={},ya={};function va(f,_,S){f.L=1,f.v=xo(Yn(_)),f.m=S,f.P=!0,Zl(f,null)}function Zl(f,_){f.F=Date.now(),ct(f),f.A=Yn(f.v);var S=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),So(S.i,"t",N),f.C=0,S=f.j.J,f.h=new Mu,f.g=Ju(f.j,S?_:null,!f.m),0<f.O&&(f.M=new os(x(f.Y,f,f.g),f.O)),_=f.U,S=f.g,N=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(wi[0]=G.toString()),G=wi);for(var ee=0;ee<G.length;ee++){var fe=Rn(S,G[ee],N||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Nn(),is(f.i,f.u,f.A,f.l,f.R,f.m)}kr.prototype.ca=function(f){f=f.target;const _=this.M;_&&jn(f)==3?_.j():this.Y(f)},kr.prototype.Y=function(f){try{if(f==this.g)e:{const Dt=jn(this.g);var _=this.g.Ba();const hr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Dt!=4||_==7||(_==8||0>=hr?Nn(3):Nn(2)),Si(this);var S=this.g.Z();this.X=S;t:if(ju(this)){var N=oc(this.g);f="";var G=N.length,ee=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),yo(this);var fe="";break t}this.h.i=new u.TextDecoder}for(_=0;_<G;_++)this.h.h=!0,f+=this.h.i.decode(N[_],{stream:!(ee&&_==G-1)});N.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=S==200,Dn(this.i,this.u,this.A,this.l,this.R,Dt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var at,zt=this.g;if((at=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(at)){var tt=at;break t}}tt=null}if(S=tt)ur(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ec(this,S);else{this.o=!1,this.s=3,et(12),dr(this),yo(this);break e}}if(this.P){S=!0;let Xn;for(;!this.J&&this.C<fe.length;)if(Xn=pp(this,fe),Xn==ya){Dt==4&&(this.s=4,et(14),S=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==Jl){this.s=4,et(15),ur(this.i,this.l,fe,"[Invalid Chunk]"),S=!1;break}else ur(this.i,this.l,Xn,null),ec(this,Xn);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||fe.length!=0||this.h.h||(this.s=1,et(16),S=!1),this.o=this.o&&S,!S)ur(this.i,this.l,fe,"[Invalid Chunked Response]"),dr(this),yo(this);else if(0<fe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ac(Kt),Kt.M=!0,et(11))}}else ur(this.i,this.l,fe,null),ec(this,fe);Dt==4&&dr(this),this.o&&!this.J&&(Dt==4?Ra(this.j,this):(this.o=!1,ct(this)))}else Ta(this.g),S==400&&0<fe.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),dr(this),yo(this)}}}catch{}finally{}};function ju(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function pp(f,_){var S=f.C,N=_.indexOf(`
`,S);return N==-1?ya:(S=Number(_.substring(S,N)),isNaN(S)?Jl:(N+=1,N+S>_.length?ya:(_=_.slice(N,N+S),f.C=N+S,_)))}kr.prototype.cancel=function(){this.J=!0,dr(this)};function ct(f){f.S=Date.now()+f.I,Ou(f,f.I)}function Ou(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Et(x(f.ba,f),_)}function Si(f){f.B&&(u.clearTimeout(f.B),f.B=null)}kr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Xl(this.i,this.A),this.L!=2&&(Nn(),et(17)),dr(this),this.s=2,yo(this)):Ou(this,this.S-f)};function yo(f){f.j.G==0||f.J||Ra(f.j,f)}function dr(f){Si(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,_i(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function ec(f,_){try{var S=f.j;if(S.G!=0&&(S.g==f||En(S.h,f))){if(!f.K&&En(S.h,f)&&S.G==3){try{var N=S.Da.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Aa(S),jr(S);else break e;Ca(S),et(18)}}else S.za=G[1],0<S.za-S.T&&37500>G[2]&&S.F&&S.v==0&&!S.C&&(S.C=Et(x(S.Za,S),6e3));if(1>=Vu(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Fs(S,11)}else if((f.K||S.g==f)&&Aa(S),!V(_))for(G=S.Da.g.parse(_),_=0;_<G.length;_++){let tt=G[_];if(S.T=tt[0],tt=tt[1],S.G==2)if(tt[0]=="c"){S.K=tt[1],S.ia=tt[2];const Kt=tt[3];Kt!=null&&(S.la=Kt,S.j.info("VER="+S.la));const Dt=tt[4];Dt!=null&&(S.Aa=Dt,S.j.info("SVER="+S.Aa));const hr=tt[5];hr!=null&&typeof hr=="number"&&0<hr&&(N=1.5*hr,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Xn=f.g;if(Xn){const ki=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var ee=N.h;ee.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(tc(ee,ee.h),ee.h=null))}if(N.D){const Pa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(N.ya=Pa,lt(N.I,N.D,Pa))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var fe=f;if(N.qa=Xu(N,N.J?N.ia:null,N.W),fe.K){Fu(N.h,fe);var at=fe,zt=N.L;zt&&(at.I=zt),at.B&&(Si(at),ct(at)),N.g=fe}else Ri(N);0<S.i.length&&us(S)}else tt[0]!="stop"&&tt[0]!="close"||Fs(S,7);else S.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Fs(S,7):rn(S):tt[0]!="noop"&&S.l&&S.l.ta(tt),S.v=0)}}Nn(4)}catch{}}var Lu=class{constructor(f,_){this.g=f,this.map=_}};function Ti(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Vu(f){return f.h?1:f.g?f.g.size:0}function En(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function tc(f,_){f.g?f.g.add(_):f.h=_}function Fu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Ti.prototype.cancel=function(){if(this.i=Uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Uu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const S of f.g.values())_=_.concat(S.D);return _}return I(f.i)}function wa(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],S=f.length,N=0;N<S;N++)_.push(f[N]);return _}_=[],S=0;for(N in f)_[S++]=f[N];return _}function _a(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var S=0;S<f;S++)_.push(S);return _}_=[],S=0;for(const N in f)_[S++]=N;return _}}}function vo(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var S=_a(f),N=wa(f),G=N.length,ee=0;ee<G;ee++)_.call(void 0,N[ee],S&&S[ee],f)}var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(f,_){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var N=f[S].indexOf("="),G=null;if(0<=N){var ee=f[S].substring(0,N);G=f[S].substring(N+1)}else ee=f[S];_(ee,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function js(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof js){this.h=f.h,Ii(this,f.j),this.o=f.o,this.g=f.g,wo(this,f.s),this.l=f.l;var _=f.i,S=new as;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),_o(this,S),this.m=f.m}else f&&(_=String(f).match(bi))?(this.h=!1,Ii(this,_[1]||"",!0),this.o=Je(_[2]||""),this.g=Je(_[3]||"",!0),wo(this,_[4]),this.l=Je(_[5]||"",!0),_o(this,_[6]||"",!0),this.m=Je(_[7]||"")):(this.h=!1,this.i=new as(null,this.h))}js.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Eo(_,xa,!0),":");var S=this.g;return(S||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Eo(_,xa,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Eo(S,S.charAt(0)=="/"?Bu:zu,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Eo(S,nc)),f.join("")};function Yn(f){return new js(f)}function Ii(f,_,S){f.j=S?Je(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function wo(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function _o(f,_,S){_ instanceof as?(f.i=_,ls(f.i,f.h)):(S||(_=Eo(_,Wu)),f.i=new as(_,f.h))}function lt(f,_,S){f.i.set(_,S)}function xo(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Je(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Eo(f,_,S){return typeof f=="string"?(f=encodeURI(f).replace(_,$u),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function $u(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xa=/[#\/\?@]/g,zu=/[#\?:]/g,Bu=/[#\?]/g,Wu=/[#\?@]/g,nc=/#/g;function as(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function nn(f){f.g||(f.g=new Map,f.h=0,f.i&&mp(f.i,function(_,S){f.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=as.prototype,n.add=function(f,_){nn(this),this.i=null,f=fr(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(_),this.h+=1,this};function Pr(f,_){nn(f),_=fr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Nr(f,_){return nn(f),_=fr(f,_),f.g.has(_)}n.forEach=function(f,_){nn(this),this.g.forEach(function(S,N){S.forEach(function(G){f.call(_,G,N,this)},this)},this)},n.na=function(){nn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let N=0;N<_.length;N++){const G=f[N];for(let ee=0;ee<G.length;ee++)S.push(_[N])}return S},n.V=function(f){nn(this);let _=[];if(typeof f=="string")Nr(this,f)&&(_=_.concat(this.g.get(fr(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)_=_.concat(f[S])}return _},n.set=function(f,_){return nn(this),this.i=null,f=fr(this,f),Nr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function So(f,_,S){Pr(f,_),0<S.length&&(f.i=null,f.g.set(fr(f,_),I(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var N=_[S];const ee=encodeURIComponent(String(N)),fe=this.V(N);for(N=0;N<fe.length;N++){var G=ee;fe[N]!==""&&(G+="="+encodeURIComponent(String(fe[N]))),f.push(G)}}return this.i=f.join("&")};function fr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function ls(f,_){_&&!f.j&&(nn(f),f.i=null,f.g.forEach(function(S,N){var G=N.toLowerCase();N!=G&&(Pr(this,N),So(this,G,S))},f)),f.j=_}function gp(f,_){const S=new $t;if(u.Image){const N=new Image;N.onload=T(Mn,S,"TestLoadImage: loaded",!0,_,N),N.onerror=T(Mn,S,"TestLoadImage: error",!1,_,N),N.onabort=T(Mn,S,"TestLoadImage: abort",!1,_,N),N.ontimeout=T(Mn,S,"TestLoadImage: timeout",!1,_,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else _(!1)}function Hu(f,_){const S=new $t,N=new AbortController,G=setTimeout(()=>{N.abort(),Mn(S,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:N.signal}).then(ee=>{clearTimeout(G),ee.ok?Mn(S,"TestPingServer: ok",!0,_):Mn(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Mn(S,"TestPingServer: error",!1,_)})}function Mn(f,_,S,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(S)}catch{}}function yp(){this.g=new xi}function qu(f,_,S){const N=S||"";try{vo(f,function(G,ee){let fe=G;m(G)&&(fe=po(G)),_.push(N+ee+"="+encodeURIComponent(fe))})}catch(G){throw _.push(N+"type="+encodeURIComponent("_badmap")),G}}function Os(f){this.l=f.Ub||null,this.j=f.eb||!1}b(Os,Cr),Os.prototype.g=function(){return new Ci(this.l,this.j)},Os.prototype.i=function(f){return function(){return f}}({});function Ci(f,_){mt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ci,mt),n=Ci.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Mr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Dr(this):Mr(this),this.readyState==3&&Gu(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Dr(this))},n.Qa=function(f){this.g&&(this.response=f,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Mr(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=_.next();return f.join(`\r
`)};function Mr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ls(f){let _="";return K(f,function(S,N){_+=N,_+=":",_+=S,_+=`\r
`}),_}function To(f,_,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=Ls(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):lt(f,_,S))}function vt(f){mt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(vt,mt);var vp=/^https?$/i,rc=["POST","PUT"];n=vt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rr.g(),this.v=this.o?xn(this.o):xn(Rr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ee){Ai(this,ee);return}if(f=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)S.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ee of N.keys())S.set(ee,N.get(ee));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(rc,_,void 0))||N||G||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of S)this.g.setRequestHeader(ee,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){Ai(this,ee)}};function Ai(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Ea(f),Qn(f)}function Ea(f){f.A||(f.A=!0,kt(f,"complete"),kt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,kt(this,"complete"),kt(this,"abort"),Qn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sc(this):this.bb())},n.bb=function(){sc(this)};function sc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||jn(f)!=4||f.Z()!=2)){if(f.u&&jn(f)==4)Ds(f.Ea,0,f);else if(kt(f,"readystatechange"),jn(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var N;if(N=fe===0){var G=String(f.D).match(bi)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),N=!vp.test(G?G.toLowerCase():"")}S=N}if(S)kt(f,"complete"),kt(f,"success");else{f.m=6;try{var ee=2<jn(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",Ea(f)}}finally{Qn(f)}}}}function Qn(f,_){if(f.g){Sa(f);const S=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||kt(f,"ready");try{S.onreadystatechange=N}catch{}}}function Sa(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function jn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),mo(_)}};function oc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(f){const _={};f=(f.g&&2<=jn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(V(f[N]))continue;var S=L(f[N]);const G=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=_[G]||[];_[G]=ee,ee.push(S)}D(_,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(f,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||_}function ic(f){this.Aa=0,this.i=[],this.j=new $t,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,f),this.cb=cs("retryDelaySeedMs",1e4,f),this.Wa=cs("forwardChannelMaxRetries",2,f),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(f&&f.concurrentRequestLimit),this.Da=new yp,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ic.prototype,n.la=8,n.G=1,n.connect=function(f,_,S,N){et(0),this.W=f,this.H=_||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=Xu(this,null,this.W),us(this)};function rn(f){if(ba(f),f.G==3){var _=f.U++,S=Yn(f.I);if(lt(S,"SID",f.K),lt(S,"RID",_),lt(S,"TYPE","terminate"),Vs(f,S),_=new kr(f,f.j,_),_.L=2,_.v=xo(Yn(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=_.v,S=!0),S||(_.g=Ju(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ct(_)}Qu(f)}function jr(f){f.g&&(ac(f),f.g.cancel(),f.g=null)}function ba(f){jr(f),f.u&&(u.clearTimeout(f.u),f.u=null),Aa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function us(f){if(!Kn(f.h)&&!f.s){f.s=!0;var _=f.Ga;he||ne(),q||(he(),q=!0),Z.add(_,f),f.B=0}}function wp(f,_){return Vu(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Et(x(f.Ga,f,_),Yu(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new kr(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=R(ee),M(ee,this.S)):ee=this.S),this.m!==null||this.O||(G.H=ee,ee=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=bo(this,G,_),S=Yn(this.I),lt(S,"RID",f),lt(S,"CVER",22),this.D&&lt(S,"X-HTTP-Session-Id",this.D),Vs(this,S),ee&&(this.O?_="headers="+encodeURIComponent(String(Ls(ee)))+"&"+_:this.m&&To(S,this.m,ee)),tc(this.h,G),this.Ua&&lt(S,"TYPE","init"),this.P?(lt(S,"$req",_),lt(S,"SID","null"),G.T=!0,va(G,S,null)):va(G,S,_),this.G=2}}else this.G==3&&(f?Ia(this,f):this.i.length==0||Kn(this.h)||Ia(this))};function Ia(f,_){var S;_?S=_.l:S=f.U++;const N=Yn(f.I);lt(N,"SID",f.K),lt(N,"RID",S),lt(N,"AID",f.T),Vs(f,N),f.m&&f.o&&To(N,f.m,f.o),S=new kr(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),_&&(f.i=_.D.concat(f.i)),_=bo(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),tc(f.h,S),va(S,N,_)}function Vs(f,_){f.H&&K(f.H,function(S,N){lt(_,N,S)}),f.l&&vo({},function(S,N){lt(_,N,S)})}function bo(f,_,S){S=Math.min(f.i.length,S);var N=f.l?x(f.l.Na,f.l,f):null;e:{var G=f.i;let ee=-1;for(;;){const fe=["count="+S];ee==-1?0<S?(ee=G[0].g,fe.push("ofs="+ee)):ee=0:fe.push("ofs="+ee);let at=!0;for(let zt=0;zt<S;zt++){let tt=G[zt].g;const Kt=G[zt].map;if(tt-=ee,0>tt)ee=Math.max(0,G[zt].g-100),at=!1;else try{qu(Kt,fe,"req"+tt+"_")}catch{N&&N(Kt)}}if(at){N=fe.join("&");break e}}}return f=f.i.splice(0,S),_.D=f,N}function Ri(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;he||ne(),q||(he(),q=!0),Z.add(_,f),f.v=0}}function Ca(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Et(x(f.Fa,f),Yu(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Et(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),jr(this),Ku(this))};function ac(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function Ku(f){f.g=new kr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Yn(f.qa);lt(_,"RID","rpc"),lt(_,"SID",f.K),lt(_,"AID",f.T),lt(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(_,"TO",f.ja),lt(_,"TYPE","xmlhttp"),Vs(f,_),f.m&&f.o&&To(_,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=xo(Yn(_)),S.m=null,S.P=!0,Zl(S,f)}n.Za=function(){this.C!=null&&(this.C=null,jr(this),Ca(this),et(19))};function Aa(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Ra(f,_){var S=null;if(f.g==_){Aa(f),ac(f),f.g=null;var N=2}else if(En(f.h,_))S=_.D,Fu(f.h,_),N=1;else return;if(f.G!=0){if(_.o)if(N==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var G=f.B;N=yt(),kt(N,new Ar(N,S)),us(f)}else Ri(f);else if(G=_.s,G==3||G==0&&0<_.X||!(N==1&&wp(f,_)||N==2&&Ca(f)))switch(S&&0<S.length&&(_=f.h,_.i=_.i.concat(S)),G){case 1:Fs(f,5);break;case 4:Fs(f,10);break;case 3:Fs(f,6);break;default:Fs(f,2)}}}function Yu(f,_){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*_}function Fs(f,_){if(f.j.info("Error code "+_),_==2){var S=x(f.fb,f),N=f.Xa;const G=!N;N=new js(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ii(N,"https"),xo(N),G?gp(N.toString(),S):Hu(N.toString(),S)}else et(2);f.G=0,f.l&&f.l.sa(_),Qu(f),ba(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Qu(f){if(f.G=0,f.ka=[],f.l){const _=Uu(f.h);(_.length!=0||f.i.length!=0)&&(C(f.ka,_),C(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function Xu(f,_,S){var N=S instanceof js?Yn(S):new js(S);if(N.g!="")_&&(N.g=_+"."+N.g),wo(N,N.s);else{var G=u.location;N=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;var ee=new js(null);N&&Ii(ee,N),_&&(ee.g=_),G&&wo(ee,G),S&&(ee.l=S),N=ee}return S=f.D,_=f.ya,S&&_&&lt(N,S,_),lt(N,"VER",f.la),Vs(f,N),N}function Ju(f,_,S){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new vt(new Os({eb:S})):new vt(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}n=lc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ka(){}ka.prototype.g=function(f,_){return new Sn(f,_)};function Sn(f,_){mt.call(this),this.g=new ic(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!V(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new ds(this)}b(Sn,mt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){rn(this.g)},Sn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=po(f),f=S);_.i.push(new Lu(_.Ya++,f)),_.G==3&&us(_)},Sn.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,Sn.aa.N.call(this)};function Zu(f){Gn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const S in _){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}b(Zu,Gn);function ed(){Ms.call(this),this.status=1}b(ed,Ms);function ds(f){this.g=f}b(ds,lc),ds.prototype.ua=function(){kt(this.g,"a")},ds.prototype.ta=function(f){kt(this.g,new Zu(f))},ds.prototype.sa=function(f){kt(this.g,new ed)},ds.prototype.ra=function(){kt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,KT=function(){return new ka},GT=function(){return yt()},qT=Oe,Og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,_f=ga,Du.COMPLETE="complete",HT=Du,go.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Fc=go,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,WT=vt}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const Sx="@firebase/firestore",Tx="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new mh("@firebase/firestore");function nl(){return ea.logLevel}function we(n,...e){if(ea.logLevel<=Qe.DEBUG){const t=e.map(Ly);ea.debug(`Firestore (${Ol}): ${n}`,...t)}}function so(n,...e){if(ea.logLevel<=Qe.ERROR){const t=e.map(Ly);ea.error(`Firestore (${Ol}): ${n}`,...t)}}function Sl(n,...e){if(ea.logLevel<=Qe.WARN){const t=e.map(Ly);ea.warn(`Firestore (${Ol}): ${n}`,...t)}}function Ly(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,YT(n,r,t)}function YT(n,e,t){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw so(r),new Error(r)}function it(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||YT(e,o,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends es{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Aj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class Rj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kj{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let r=this.i;const o=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Js,e.enqueueRetryable(()=>o(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},u=d=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Js)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new QT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class Pj{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Pj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Mj(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function Lg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ge(r,o);{const a=XT(),l=jj(a.encode(Ix(n,t)),a.encode(Ix(e,t)));return l!==0?l:Ge(r,o)}}t+=r>65535?2:1}return Ge(n.length,e.length)}function Ix(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function jj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ge(n[t],e[t]);return Ge(n.length,e.length)}function Tl(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=-62135596800,Ax=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ax);return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Cx)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ax}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Cx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new st(0,0))}static max(){return new ze(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="__name__";class ys{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=ys.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ge(e.length,t.length)}static compareSegments(e,t){const r=ys.isNumericId(e),o=ys.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?ys.extractNumericId(e).compare(ys.extractNumericId(t)):Lg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qo.fromString(e.substring(4,e.length-2))}}class ht extends ys{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const Oj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ys{construct(e,t,r){return new ln(e,t,r)}static isValidIdentifier(e){return Oj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rx}static keyField(){return new ln([Rx])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const u=e[o];if(u==="\\"){if(o+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,o+=2}else u==="`"?(l=!l,o++):u!=="."||l?(r+=u,o++):(a(),o++)}if(a(),l)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(ht.fromString(e))}static fromName(e){return new De(ht.fromString(e).popFirst(5))}static empty(){return new De(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function Lj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new ti(o,De.empty(),e)}function Vj(n){return new ti(n.readTime,n.key,nu)}class ti{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ti(ze.min(),De.empty(),nu)}static max(){return new ti(ze.max(),De.empty(),nu)}}function Fj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $j{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Uj)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let o=0,a=0,l=!1;e.forEach(u=>{++o,u.next(()=>{++a,l&&a===o&&t()},d=>r(d))}),l=!0,a===o&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(o=>o?re.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new re((r,o)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const m=d;t(e[m]).next(y=>{l[m]=y,++u,u===a&&r(l)},y=>o(y))}})}static doWhile(e,t){return new re((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function zj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Eh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-1;function Sh(n){return n==null}function zf(n){return n===0&&1/n==-1/0}function Bj(n){return typeof n=="number"&&Number.isInteger(n)&&!zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="";function Wj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kx(e)),e=Hj(n.get(t),e);return kx(e)}function Hj(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case ZT:t+="";break;default:t+=a}}return t}function kx(n){return n+ZT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function di(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??an.RED,this.left=o??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new an(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nx(this.data.getIterator())}getIteratorFrom(e){return new Nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class Nx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new sr([])}unionWith(e){let t=new qt(ln.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tb("Invalid base64 string: "+a):a}}(e);return new cn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let l=0;l<o.length;++l)a+=String.fromCharCode(o[l]);return a}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const qj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=qj.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ri(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="server_timestamp",rb="__type__",sb="__previous_value__",ob="__local_write_time__";function Fy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rb])===null||t===void 0?void 0:t.stringValue)===nb}function Th(n){const e=n.mapValue.fields[sb];return Fy(e)?Th(e):e}function ru(n){const e=ni(n.mapValue.fields[ob].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,t,r,o,a,l,u,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=m}}const Bf="(default)";class su{constructor(e,t){this.projectId=e,this.database=t||Bf}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="__type__",Kj="__max__",Xd={mapValue:{}},ab="__vector__",Wf="value";function si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fy(n)?4:Qj(n)?9007199254740991:Yj(n)?10:11:Fe(28295,{value:n})}function Cs(n,e){if(n===e)return!0;const t=si(n);if(t!==si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ru(n).isEqual(ru(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const l=ni(o.timestampValue),u=ni(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ri(o.bytesValue).isEqual(ri(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Nt(o.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Nt(o.integerValue)===Nt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const l=Nt(o.doubleValue),u=Nt(a.doubleValue);return l===u?zf(l)===zf(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Tl(n.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return function(o,a){const l=o.mapValue.fields||{},u=a.mapValue.fields||{};if(Px(l)!==Px(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Cs(l[d],u[d])))return!1;return!0}(n,e);default:return Fe(52216,{left:n})}}function ou(n,e){return(n.values||[]).find(t=>Cs(t,e))!==void 0}function bl(n,e){if(n===e)return 0;const t=si(n),r=si(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Nt(a.integerValue||a.doubleValue),d=Nt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return Dx(n.timestampValue,e.timestampValue);case 4:return Dx(ru(n),ru(e));case 5:return Lg(n.stringValue,e.stringValue);case 6:return function(a,l){const u=ri(a),d=ri(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),d=l.split("/");for(let m=0;m<u.length&&m<d.length;m++){const y=Ge(u[m],d[m]);if(y!==0)return y}return Ge(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Ge(Nt(a.latitude),Nt(l.latitude));return u!==0?u:Ge(Nt(a.longitude),Nt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Mx(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,d,m,y;const g=a.fields||{},x=l.fields||{},T=(u=g[Wf])===null||u===void 0?void 0:u.arrayValue,b=(d=x[Wf])===null||d===void 0?void 0:d.arrayValue,I=Ge(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:Mx(T,b)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Xd.mapValue&&l===Xd.mapValue)return 0;if(a===Xd.mapValue)return 1;if(l===Xd.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),m=l.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let g=0;g<d.length&&g<y.length;++g){const x=Lg(d[g],y[g]);if(x!==0)return x;const T=bl(u[d[g]],m[y[g]]);if(T!==0)return T}return Ge(d.length,y.length)}(n.mapValue,e.mapValue);default:throw Fe(23264,{Pe:t})}}function Dx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=ni(n),r=ni(e),o=Ge(t.seconds,r.seconds);return o!==0?o:Ge(t.nanos,r.nanos)}function Mx(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=bl(t[o],r[o]);if(a)return a}return Ge(t.length,r.length)}function Il(n){return Vg(n)}function Vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ni(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ri(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Vg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const l of r)a?a=!1:o+=",",o+=`${l}:${Vg(t.fields[l])}`;return o+"}"}(n.mapValue):Fe(61005,{value:n})}function xf(n){switch(si(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(n);return e?16+xf(e):16;case 5:return 2*n.stringValue.length;case 6:return ri(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+xf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return di(r.fields,(a,l)=>{o+=a.length+xf(l)}),o}(n.mapValue);default:throw Fe(13486,{value:n})}}function jx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fg(n){return!!n&&"integerValue"in n}function Uy(n){return!!n&&"arrayValue"in n}function Ox(n){return!!n&&"nullValue"in n}function Lx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ef(n){return!!n&&"mapValue"in n}function Yj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ib])===null||t===void 0?void 0:t.stringValue)===ab}function Gc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return di(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Kj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(t)}setAll(e){let t=ln.emptyPath(),r={},o=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,o),r={},o=[],t=u.popLast()}l?r[u.lastSegment()]=Gc(l):o.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Ef(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){di(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Wn(Gc(this.value))}}function lb(n){const e=[];return di(n.fields,(t,r)=>{const o=new ln([t]);if(Ef(r)){const a=lb(r.mapValue).fields;if(a.length===0)e.push(o);else for(const l of a)e.push(o.child(l))}else e.push(o)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,r,o,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new vn(e,0,ze.min(),ze.min(),ze.min(),Wn.empty(),0)}static newFoundDocument(e,t,r,o){return new vn(e,1,t,ze.min(),r,o,0)}static newNoDocument(e,t){return new vn(e,2,t,ze.min(),ze.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,ze.min(),ze.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.position=e,this.inclusive=t}}function Vx(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],l=n.position[o];if(a.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),t.key):r=bl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{}class Ot extends cb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Zj(e,t,r):t==="array-contains"?new nO(e,r):t==="in"?new rO(e,r):t==="not-in"?new sO(e,r):t==="array-contains-any"?new oO(e,r):new Ot(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eO(e,r):new tO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bl(t,this.value)):t!==null&&si(this.value)===si(t)&&this.matchesComparison(bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends cb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Yr(e,t)}matches(e){return ub(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ub(n){return n.op==="and"}function db(n){return Jj(n)&&ub(n)}function Jj(n){for(const e of n.filters)if(e instanceof Yr)return!1;return!0}function Ug(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+Il(n.value);if(db(n))return n.filters.map(e=>Ug(e)).join(",");{const e=n.filters.map(t=>Ug(t)).join(",");return`${n.op}(${e})`}}function fb(n,e){return n instanceof Ot?function(r,o){return o instanceof Ot&&r.op===o.op&&r.field.isEqual(o.field)&&Cs(r.value,o.value)}(n,e):n instanceof Yr?function(r,o){return o instanceof Yr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,l,u)=>a&&fb(l,o.filters[u]),!0):!1}(n,e):void Fe(19439)}function hb(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${Il(t.value)}`}(n):n instanceof Yr?function(t){return t.op.toString()+" {"+t.getFilters().map(hb).join(" ,")+"}"}(n):"Filter"}class Zj extends Ot{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class eO extends Ot{constructor(e,t){super(e,"in",t),this.keys=pb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tO extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=pb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class nO extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uy(t)&&ou(t.arrayValue,this.value)}}class rO extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ou(this.value.arrayValue,t)}}class sO extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ou(this.value.arrayValue,t)}}class oO extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t=null,r=[],o=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function Ux(n,e=null,t=[],r=[],o=null,a=null,l=null){return new iO(n,e,t,r,o,a,l)}function $y(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ug(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Il(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Il(r)).join(",")),e.Ie=t}return e.Ie}function zy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Xj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fx(n.startAt,e.startAt)&&Fx(n.endAt,e.endAt)}function $g(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t=null,r=[],o=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function aO(n,e,t,r,o,a,l,u){return new Fl(n,e,t,r,o,a,l,u)}function By(n){return new Fl(n)}function $x(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mb(n){return n.collectionGroup!==null}function Kc(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new qt(ln.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new iu(a,r))}),t.has(ln.keyField().canonicalString())||e.Ee.push(new iu(ln.keyField(),r))}return e.Ee}function Es(n){const e=We(n);return e.de||(e.de=lO(e,Kc(n))),e.de}function lO(n,e){if(n.limitType==="F")return Ux(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new iu(o.field,a)});const t=n.endAt?new Hf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Hf(n.startAt.position,n.startAt.inclusive):null;return Ux(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zg(n,e){const t=n.filters.concat([e]);return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qf(n,e,t){return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bh(n,e){return zy(Es(n),Es(e))&&n.limitType===e.limitType}function gb(n){return`${$y(Es(n))}|lt:${n.limitType}`}function rl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>hb(o)).join(", ")}]`),Sh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Il(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Il(o)).join(",")),`Target(${r})`}(Es(n))}; limitType=${n.limitType})`}function Ih(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Kc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(l,u,d){const m=Vx(l,u,d);return l.inclusive?m<=0:m<0}(r.startAt,Kc(r),o)||r.endAt&&!function(l,u,d){const m=Vx(l,u,d);return l.inclusive?m>=0:m>0}(r.endAt,Kc(r),o))}(n,e)}function cO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yb(n){return(e,t)=>{let r=!1;for(const o of Kc(n)){const a=uO(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function uO(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(a,l,u){const d=l.data.field(a),m=u.data.field(a);return d!==null&&m!==null?bl(d,m):Fe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return eb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new bt(De.comparator);function oo(){return dO}const vb=new bt(De.comparator);function Uc(...n){let e=vb;for(const t of n)e=e.insert(t.key,t);return e}function wb(n){let e=vb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yi(){return Yc()}function _b(){return Yc()}function Yc(){return new ca(n=>n.toString(),(n,e)=>n.isEqual(e))}const fO=new bt(De.comparator),hO=new qt(De.comparator);function Xe(...n){let e=hO;for(const t of n)e=e.add(t);return e}const pO=new qt(Ge);function mO(){return pO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function xb(n){return{integerValue:""+n}}function gO(n,e){return Bj(e)?xb(e):Wy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function yO(n,e,t){return n instanceof Gf?function(o,a){const l={fields:{[rb]:{stringValue:nb},[ob]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Fy(a)&&(a=Th(a)),a&&(l.fields[sb]=a),{mapValue:l}}(t,e):n instanceof au?Sb(n,e):n instanceof lu?Tb(n,e):function(o,a){const l=Eb(o,a),u=zx(l)+zx(o.Re);return Fg(l)&&Fg(o.Re)?xb(u):Wy(o.serializer,u)}(n,e)}function vO(n,e,t){return n instanceof au?Sb(n,e):n instanceof lu?Tb(n,e):t}function Eb(n,e){return n instanceof Kf?function(r){return Fg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Gf extends Ch{}class au extends Ch{constructor(e){super(),this.elements=e}}function Sb(n,e){const t=bb(e);for(const r of n.elements)t.some(o=>Cs(o,r))||t.push(r);return{arrayValue:{values:t}}}class lu extends Ch{constructor(e){super(),this.elements=e}}function Tb(n,e){let t=bb(e);for(const r of n.elements)t=t.filter(o=>!Cs(o,r));return{arrayValue:{values:t}}}class Kf extends Ch{constructor(e,t){super(),this.serializer=e,this.Re=t}}function zx(n){return Nt(n.integerValue||n.doubleValue)}function bb(n){return Uy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wO(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof au&&o instanceof au||r instanceof lu&&o instanceof lu?Tl(r.elements,o.elements,Cs):r instanceof Kf&&o instanceof Kf?Cs(r.Re,o.Re):r instanceof Gf&&o instanceof Gf}(n.transform,e.transform)}class _O{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ah{}function Ib(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hy(n.key,xr.none()):new _u(n.key,n.data,xr.none());{const t=n.data,r=Wn.empty();let o=new qt(ln.comparator);for(let a of e.fields)if(!o.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),o=o.add(a)}return new fi(n.key,r,new sr(o.toArray()),xr.none())}}function xO(n,e,t){n instanceof _u?function(o,a,l){const u=o.value.clone(),d=Wx(o.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof fi?function(o,a,l){if(!Sf(o.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Wx(o.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(Cb(o)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(o,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Qc(n,e,t,r){return n instanceof _u?function(a,l,u,d){if(!Sf(a.precondition,l))return u;const m=a.value.clone(),y=Hx(a.fieldTransforms,d,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof fi?function(a,l,u,d){if(!Sf(a.precondition,l))return u;const m=Hx(a.fieldTransforms,d,l),y=l.data;return y.setAll(Cb(a)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,l,u){return Sf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function EO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=Eb(r.transform,o||null);a!=null&&(t===null&&(t=Wn.empty()),t.set(r.field,a))}return t||null}function Bx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Tl(r,o,(a,l)=>wO(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _u extends Ah{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fi extends Ah{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Cb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Wx(n,e,t){const r=new Map;it(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],l=a.transform,u=e.data.field(a.field);r.set(a.field,vO(l,u,t[o]))}return r}function Hx(n,e,t){const r=new Map;for(const o of n){const a=o.transform,l=t.data.field(o.field);r.set(o.field,yO(a,l,e))}return r}class Hy extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&xO(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_b();return this.mutations.forEach(o=>{const a=e.get(o.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(o.key)?null:u;const d=Ib(l,u);d!==null&&r.set(o.key,d),l.isValidDocument()||l.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,(t,r)=>Bx(t,r))&&Tl(this.baseMutations,e.baseMutations,(t,r)=>Bx(t,r))}}class qy{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){it(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return fO}();const a=e.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new qy(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bO=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,nt;function CO(n){switch(n){case te.OK:return Fe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function Ab(n){if(n===void 0)return so("GRPC error has no .code"),te.UNKNOWN;switch(n){case jt.OK:return te.OK;case jt.CANCELLED:return te.CANCELLED;case jt.UNKNOWN:return te.UNKNOWN;case jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case jt.INTERNAL:return te.INTERNAL;case jt.UNAVAILABLE:return te.UNAVAILABLE;case jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case jt.NOT_FOUND:return te.NOT_FOUND;case jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case jt.ABORTED:return te.ABORTED;case jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case jt.DATA_LOSS:return te.DATA_LOSS;default:return Fe(39323,{code:n})}}(nt=jt||(jt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Qo([4294967295,4294967295],0);function qx(n){const e=XT().encode(n),t=new BT;return t.update(e),new Uint8Array(t.digest())}function Gx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qo([t,r],0),new Qo([o,a],0)]}class Gy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $c(`Invalid padding: ${t}`);if(r<0)throw new $c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $c(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qo.fromNumber(this.pe)}we(e,t,r){let o=e.add(t.multiply(Qo.fromNumber(r)));return o.compare(AO)===1&&(o=new Qo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=qx(e),[r,o]=Gx(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,o,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Gy(a,o,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=qx(e),[r,o]=Gx(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,o,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rh(ze.min(),o,new bt(Ge),oo(),Xe())}}class xu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xu(r,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t,r,o){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=o}}class Rb{constructor(e,t){this.targetId=e,this.Ce=t}}class kb{constructor(e,t,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Kx{constructor(){this.Fe=0,this.Me=Yx(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xe(),t=Xe(),r=Xe();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}}),new xu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Yx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,it(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class RO{constructor(e){this.ze=e,this.je=new Map,this.He=oo(),this.Je=Jd(),this.Ye=Jd(),this.Ze=new bt(Ge)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,r=e.Ce.count,o=this._t(t);if(o){const a=o.target;if($g(a))if(r===0){const l=new De(a.path);this.tt(t,l,vn.newNoDocument(l,ze.min()))}else it(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),d=u?this.lt(u,e,l):1;if(d!==0){this.st(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let l,u;try{l=ri(r).toUint8Array()}catch(d){if(d instanceof tb)return Sl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Gy(l,o,a)}catch(d){return Sl(d instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&$g(u.target)){const d=new De(u.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,vn.newNoDocument(d,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=Xe();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(d=>{const m=this._t(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const o=new Rh(e,t,this.Ze,this.He,r);return this.He=oo(),this.Je=Jd(),this.Ye=Jd(),this.Ze=new bt(Ge),o}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Kx,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new qt(Ge),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new qt(Ge),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Kx),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Jd(){return new bt(De.comparator)}function Yx(){return new bt(De.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},PO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NO={and:"AND",or:"OR"};class DO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bg(n,e){return n.useProto3Json||Sh(e)?e:{value:e}}function Yf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MO(n,e){return Yf(n,e.toTimestamp())}function Ss(n){return it(!!n,49232),ze.fromTimestamp(function(t){const r=ni(t);return new st(r.seconds,r.nanos)}(n))}function Ky(n,e){return Wg(n,e).canonicalString()}function Wg(n,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Nb(n){const e=ht.fromString(n);return it(Lb(e),10190,{key:e.toString()}),e}function Hg(n,e){return Ky(n.databaseId,e.path)}function eg(n,e){const t=Nb(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(Mb(t))}function Db(n,e){return Ky(n.databaseId,e)}function jO(n){const e=Nb(n);return e.length===4?ht.emptyPath():Mb(e)}function qg(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Mb(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Qx(n,e,t){return{name:Hg(n,e),fields:t.value.mapValue.fields}}function OO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,y){return m.useProto3Json?(it(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(it(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const y=m.code===void 0?te.UNKNOWN:Ab(m.code);return new ve(y,m.message||"")}(l);t=new kb(r,o,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=eg(n,r.document.name),a=Ss(r.document.updateTime),l=r.document.createTime?Ss(r.document.createTime):ze.min(),u=new Wn({mapValue:{fields:r.document.fields}}),d=vn.newFoundDocument(o,a,l,u),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Tf(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=eg(n,r.document),a=r.readTime?Ss(r.readTime):ze.min(),l=vn.newNoDocument(o,a),u=r.removedTargetIds||[];t=new Tf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=eg(n,r.document),a=r.removedTargetIds||[];t=new Tf([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,l=new IO(o,a),u=r.targetId;t=new Rb(u,l)}}return t}function LO(n,e){let t;if(e instanceof _u)t={update:Qx(n,e.key,e.value)};else if(e instanceof Hy)t={delete:Hg(n,e.key)};else if(e instanceof fi)t={update:Qx(n,e.key,e.data),updateMask:qO(e.fieldMask)};else{if(!(e instanceof SO))return Fe(16599,{ft:e.type});t={verify:Hg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Gf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof au)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Kf)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Fe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:MO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)}(n,e.precondition)),t}function VO(n,e){return n&&n.length>0?(it(e!==void 0,14353),n.map(t=>function(o,a){let l=o.updateTime?Ss(o.updateTime):Ss(a);return l.isEqual(ze.min())&&(l=Ss(a)),new _O(l,o.transformResults||[])}(t,e))):[]}function FO(n,e){return{documents:[Db(n,e.path)]}}function UO(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Db(n,o);const a=function(m){if(m.length!==0)return Ob(Yr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(y=>function(x){return{field:sl(x.field),direction:BO(x.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Bg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function $O(n){let e=jO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){it(r===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(g){const x=jb(g);return x instanceof Yr&&db(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(x=>function(b){return new iu(ol(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(g){let x;return x=typeof g=="object"?g.value:g,Sh(x)?null:x}(t.limit));let d=null;t.startAt&&(d=function(g){const x=!!g.before,T=g.values||[];return new Hf(T,x)}(t.startAt));let m=null;return t.endAt&&(m=function(g){const x=!g.before,T=g.values||[];return new Hf(T,x)}(t.endAt)),aO(e,o,l,a,u,"F",d,m)}function zO(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ol(t.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ol(t.unaryFilter.field);return Ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ol(t.unaryFilter.field);return Ot.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(ol(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yr.create(t.compositeFilter.filters.map(r=>jb(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(t.compositeFilter.op))}(n):Fe(30097,{filter:n})}function BO(n){return kO[n]}function WO(n){return PO[n]}function HO(n){return NO[n]}function sl(n){return{fieldPath:n.canonicalString()}}function ol(n){return ln.fromServerFormat(n.fieldPath)}function Ob(n){return n instanceof Ot?function(t){if(t.op==="=="){if(Lx(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NAN"}};if(Ox(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Lx(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NOT_NAN"}};if(Ox(t.value))return{unaryFilter:{field:sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(t.field),op:WO(t.op),value:t.value}}}(n):n instanceof Yr?function(t){const r=t.getFilters().map(o=>Ob(o));return r.length===1?r[0]:{compositeFilter:{op:HO(t.op),filters:r}}}(n):Fe(54877,{filter:n})}function qO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t,r,o,a=ze.min(),l=ze.min(),u=cn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.wt=e}}function KO(n){const e=$O({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.yn=new QO}addToCollectionParentIndex(e,t){return this.yn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ti.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class QO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new qt(ht.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vb=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(Vb,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Cl(0)}static ir(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="LruGarbageCollector",XO=1048576;function Zx([n,e],[t,r]){const o=Ge(n,t);return o===0?Ge(e,r):o}class JO{constructor(e){this.cr=e,this.buffer=new qt(Zx),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Zx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){we(Jx,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vl(t)?we(Jx,"Ignoring IndexedDB error during garbage collection: ",t):await Ll(t)}await this.Ir(3e5)})}}class eL{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Eh.le);const r=new JO(t);return this.Er.forEachTarget(e,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Xx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xx):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,o,a,l,u,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,l=Date.now(),this.nthSequenceNumber(e,o))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(m=Date.now(),nl()<=Qe.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${o} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:g})))}}function tL(n,e){return new eL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.changes=new ca(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Qc(r.mutation,o,sr.empty(),st.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Xe()){const o=Yi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let l=Uc();return a.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Yi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Xe()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,o){let a=oo();const l=Yc(),u=function(){return Yc()}();return t.forEach((d,m)=>{const y=r.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof fi)?a=a.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),Qc(y.mutation,m,y.mutation.getFieldMask(),st.now())):l.set(m.key,sr.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((m,y)=>l.set(m,y)),t.forEach((m,y)=>{var g;return u.set(m,new rL(y,(g=l.get(m))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Yc();let o=new bt((l,u)=>l-u),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let y=r.get(d)||sr.empty();y=u.applyToLocalView(m,y),r.set(d,y);const g=(o.get(u.batchId)||Xe()).add(d);o=o.insert(u.batchId,g)})}).next(()=>{const l=[],u=o.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),m=d.key,y=d.value,g=_b();y.forEach(x=>{if(!a.has(x)){const T=Ib(t.get(x),r.get(x));T!==null&&g.set(x,T),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,g))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):re.resolve(Yi());let u=nu,d=a;return l.next(m=>re.forEach(m,(y,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next(x=>{d=d.insert(y,x)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,d,m,Xe())).next(y=>({batchId:u,changes:wb(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let o=Uc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let l=Uc();return this.indexManager.getCollectionParents(e,a).next(u=>re.forEach(u,d=>{const m=function(g,x){return new Fl(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(y=>{y.forEach((g,x)=>{l=l.insert(g,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(l=>{a.forEach((d,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,vn.newInvalidDocument(y)))});let u=Uc();return l.forEach((d,m)=>{const y=a.get(d);y!==void 0&&Qc(y.mutation,m,sr.empty(),st.now()),Ih(t,m)&&(u=u.insert(d,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return re.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ss(o.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:KO(o.bundledQuery),readTime:Ss(o.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.overlays=new bt(De.comparator),this.Or=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yi();return re.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const o=Yi(),a=t.length+1,l=new De(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&d.largestBatchId>r&&o.set(d.getKey(),d)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new bt((m,y)=>m-y);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=Yi(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=Yi(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>u.set(m,y)),!(u.size()>=o)););return re.resolve(u)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const l=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new bO(t,r));let a=this.Or.get(t);a===void 0&&(a=Xe(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.Nr=new qt(Zt.Br),this.Lr=new qt(Zt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Zt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Zt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new De(new ht([])),r=new Zt(t,e),o=new Zt(t,e+1),a=[];return this.Lr.forEachInRange([r,o],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new De(new ht([])),r=new Zt(t,e),o=new Zt(t,e+1);let a=Xe();return this.Lr.forEachInRange([r,o],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Zt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return De.comparator(e.key,t.key)||Ge(e.Gr,t.Gr)}static kr(e,t){return Ge(e.Gr,t.Gr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new qt(Zt.Br)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new TO(a,t,r,o);this.mutationQueue.push(l);for(const u of o)this.zr=this.zr.add(new Zt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Hr(r),a=o<0?0:o;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Vy:this.Jn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zt(t,0),o=new Zt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,o],l=>{const u=this.jr(l.Gr);a.push(u)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(Ge);return t.forEach(o=>{const a=new Zt(o,0),l=new Zt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],u=>{r=r.add(u.Gr)})}),re.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const l=new Zt(new De(a),0);let u=new qt(Ge);return this.zr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(u=u.add(d.Gr)),!0)},l),re.resolve(this.Jr(u))}Jr(e){const t=[];return e.forEach(r=>{const o=this.jr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){it(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return re.forEach(t.mutations,o=>{const a=new Zt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Zt(t,0),o=this.zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.Zr=e,this.docs=function(){return new bt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=oo();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():vn.newInvalidDocument(o))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=oo();const l=t.path,u=new De(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||Fj(Vj(y),r)<=0||(o.has(y.key)||Ih(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe(9500)}Xr(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new uL(this)}getSize(e){return re.resolve(this.size)}}class uL extends nL{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.persistence=e,this.ei=new ca(t=>$y(t),zy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ti=0,this.ni=new Yy,this.targetCount=0,this.ri=Cl.rr()}forEachTarget(e,t){return this.ei.forEach((r,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),re.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Cl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.ar(t),re.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),o++)}),re.waitFor(a).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(l=>{a.push(o.markPotentiallyOrphaned(e,l))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t){this.ii={},this.overlays={},this.si=new Eh(0),this.oi=!1,this.oi=!0,this._i=new aL,this.referenceDelegate=e(this),this.ai=new dL(this),this.indexManager=new YO,this.remoteDocumentCache=function(o){return new cL(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new GO(t),this.ci=new oL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new lL(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const o=new fL(this.si.next());return this.referenceDelegate.li(),r(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,t){return re.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class fL extends $j{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Ti=new Yy,this.Ii=null}static Ei(e){return new Qy(e)}get di(){if(this.Ii)return this.Ii;throw Fe(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,r=>{const o=De.fromPath(r);return this.Ai(e,o).next(a=>{a||t.removeEntry(o,ze.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return re.or([()=>re.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Qf{constructor(e,t){this.persistence=e,this.Ri=new ca(r=>Wj(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=tL(this,t)}static Ei(e,t){return new Qf(e,t)}li(){}hi(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return re.forEach(this.Ri,(r,o)=>this.gr(e,r,o).next(a=>a?re.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,l=>this.gr(e,l,t).next(u=>{u||(r++,a.removeEntry(l,ze.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),re.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xf(e.data.value)),t}gr(e,t,r){return re.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=o}static Ps(e,t){let r=Xe(),o=Xe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Xy(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return _P()?8:zj(wn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,t,o,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new hL;return this.fs(e,t,l).next(u=>{if(a.result=u,this.Is)return this.gs(e,t,l,u.size)})}).next(()=>a.result)}gs(e,t,r,o){return r.documentReadCount<this.Es?(nl()<=Qe.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),re.resolve()):(nl()<=Qe.DEBUG&&we("QueryEngine","Query:",rl(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(nl()<=Qe.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(t))):re.resolve())}Rs(e,t){if($x(t))return re.resolve(null);let r=Es(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=qf(t,null,"F"),r=Es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Xe(...a);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.ps(t,u);return this.ys(t,m,l,d.readTime)?this.Rs(e,qf(t,null,"F")):this.ws(e,m,t,d)}))})))}Vs(e,t,r,o){return $x(t)||o.isEqual(ze.min())?re.resolve(null):this.As.getDocuments(e,r).next(a=>{const l=this.ps(t,a);return this.ys(t,l,r,o)?re.resolve(null):(nl()<=Qe.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rl(t)),this.ws(e,l,t,Lj(o,nu)).next(u=>u))})}ps(e,t){let r=new qt(yb(e));return t.forEach((o,a)=>{Ih(e,a)&&(r=r.add(a))}),r}ys(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,t,r){return nl()<=Qe.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",rl(t)),this.As.getDocumentsMatchingQuery(e,t,ti.min(),r)}ws(e,t,r,o){return this.As.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LocalStore",mL=3e8;class gL{constructor(e,t,r,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new bt(Ge),this.Ds=new ca(a=>$y(a),zy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sL(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function yL(n,e,t,r){return new gL(n,e,t,r)}async function Ub(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let d=Xe();for(const m of o){l.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(r,d).next(m=>({Ms:m,removedBatchIds:l,addedBatchIds:u}))})})}function vL(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(u,d,m,y){const g=m.batch,x=g.keys();let T=re.resolve();return x.forEach(b=>{T=T.next(()=>y.getEntry(d,b)).next(I=>{const C=m.docVersions.get(b);it(C!==null,48541),I.version.compareTo(C)<0&&(g.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),y.addEntry(I)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Xe();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(d=d.add(u.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function $b(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function wL(n,e){const t=We(n),r=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const u=[];e.targetChanges.forEach((y,g)=>{const x=o.get(g);if(!x)return;u.push(t.ai.removeMatchingKeys(a,y.removedDocuments,g).next(()=>t.ai.addMatchingKeys(a,y.addedDocuments,g)));let T=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(cn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),o=o.insert(g,T),function(I,C,P){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=mL?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(x,T,y)&&u.push(t.ai.updateTargetData(a,T))});let d=oo(),m=Xe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),u.push(_L(a,l,e.documentUpdates).next(y=>{d=y.xs,m=y.Os})),!r.isEqual(ze.min())){const y=t.ai.getLastRemoteSnapshotVersion(a).next(g=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(y)}return re.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,m)).next(()=>d)}).then(a=>(t.Ss=o,a))}function _L(n,e,t){let r=Xe(),o=Xe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=oo();return t.forEach((u,d)=>{const m=a.get(u);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(u)),d.isNoDocument()&&d.version.isEqual(ze.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):we(Jy,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",d.version)}),{xs:l,Os:o}})}function xL(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EL(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ai.getTargetData(r,e).next(a=>a?(o=a,re.resolve(o)):t.ai.allocateTargetId(r).next(l=>(o=new Go(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Gg(n,e,t){const r=We(n),o=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,o))}catch(l){if(!Vl(l))throw l;we(Jy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(o.target)}function eE(n,e,t){const r=We(n);let o=ze.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,m,y){const g=We(d),x=g.Ds.get(y);return x!==void 0?re.resolve(g.Ss.get(x)):g.ai.getTargetData(m,y)}(r,l,Es(e)).next(u=>{if(u)return o=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,u.targetId).next(d=>{a=d})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?o:ze.min(),t?a:Xe())).next(u=>(SL(r,cO(e),u),{documents:u,Ns:a})))}function SL(n,e,t){let r=n.vs.get(e)||ze.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class tE{constructor(){this.activeTargetIds=mO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TL{constructor(){this.So=new tE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new tE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="ConnectivityMonitor";class rE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){we(nE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){we(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=null;function Kg(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",IL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CL{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===Bf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(e,t,r,o,a){const l=Kg(),u=this.$o(e,t.toUriEncodedString());we(tg,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(d,o,a),this.Ko(e,u,d,r).then(m=>(we(tg,`Received RPC '${e}' ${l}: `,m),m),m=>{throw Sl(tg,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m})}Wo(e,t,r,o,a,l){return this.Qo(e,t,r,o,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}$o(e,t){const r=IL[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class RL extends CL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,o){const a=Kg();return new Promise((l,u)=>{const d=new WT;d.setWithCredentials(!0),d.listenOnce(HT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case _f.NO_ERROR:const y=d.getResponseJson();we(gn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case _f.TIMEOUT:we(gn,`RPC '${e}' ${a} timed out`),u(new ve(te.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const g=d.getStatus();if(we(gn,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x==null?void 0:x.error;if(T&&T.status&&T.message){const b=function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(P)>=0?P:te.UNKNOWN}(T.status);u(new ve(b,T.message))}else u(new ve(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ve(te.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{s_:e,streamId:a,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{we(gn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);we(gn,`RPC '${e}' ${a} sending request:`,o),d.send(t,"POST",m,r,15)})}a_(e,t,r){const o=Kg(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=KT(),u=GT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const y=a.join("");we(gn,`Creating RPC '${e}' stream ${o}: ${y}`,d);const g=l.createWebChannel(y,d);let x=!1,T=!1;const b=new AL({Go:C=>{T?we(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(x||(we(gn,`Opening RPC '${e}' stream ${o} transport.`),g.open(),x=!0),we(gn,`RPC '${e}' stream ${o} sending:`,C),g.send(C))},zo:()=>g.close()}),I=(C,P,V)=>{C.listen(P,O=>{try{V(O)}catch($){setTimeout(()=>{throw $},0)}})};return I(g,Fc.EventType.OPEN,()=>{T||(we(gn,`RPC '${e}' stream ${o} transport opened.`),b.t_())}),I(g,Fc.EventType.CLOSE,()=>{T||(T=!0,we(gn,`RPC '${e}' stream ${o} transport closed`),b.r_())}),I(g,Fc.EventType.ERROR,C=>{T||(T=!0,Sl(gn,`RPC '${e}' stream ${o} transport errored. Name:`,C.name,"Message:",C.message),b.r_(new ve(te.UNAVAILABLE,"The operation could not be completed")))}),I(g,Fc.EventType.MESSAGE,C=>{var P;if(!T){const V=C.data[0];it(!!V,16349);const O=V,$=(O==null?void 0:O.error)||((P=O[0])===null||P===void 0?void 0:P.error);if($){we(gn,`RPC '${e}' stream ${o} received error:`,$);const B=$.status;let K=function(k){const M=jt[k];if(M!==void 0)return Ab(M)}(B),D=$.message;K===void 0&&(K=te.INTERNAL,D="Unknown error status: "+B+" with message "+$.message),T=!0,b.r_(new ve(K,D)),g.close()}else we(gn,`RPC '${e}' stream ${o} received:`,V),b.i_(V)}}),I(u,qT.STAT_EVENT,C=>{C.stat===Og.PROXY?we(gn,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Og.NOPROXY&&we(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(n){return new DO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,r=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-r);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="PersistentStream";class Bb{constructor(e,t,r,o,a,l,u,d){this.bi=e,this.R_=r,this.V_=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new zb(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(so(t.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===t&&this.B_(r,o)},r=>{e(()=>{const o=new ve(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return we(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(we(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kL extends Bb{constructor(e,t,r,o,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=OO(this.serializer,e),r=function(a){if(!("targetChange"in a))return ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Ss(l.readTime):ze.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=qg(this.serializer),t.addTarget=function(a,l){let u;const d=l.target;if(u=$g(d)?{documents:FO(a,d)}:{query:UO(a,d).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Pb(a,l.resumeToken);const m=Bg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(ze.min())>0){u.readTime=Yf(a,l.snapshotVersion.toTimestamp());const m=Bg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const r=zO(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=qg(this.serializer),t.removeTarget=e,this.F_(t)}}class PL extends Bb{constructor(e,t,r,o,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=VO(e.writeResults,e.commitTime),r=Ss(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=qg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>LO(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{}class DL extends NL{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,Wg(t,r),o,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(te.UNKNOWN,a.toString())})}Wo(e,t,r,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,Wg(t,r),o,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(te.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class ML{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(so(t),this.ea=!1):we("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class jL{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{r.enqueueAndForget(async()=>{ua(this)&&(we(ta,"Restarting streams for network reachability change."),await async function(d){const m=We(d);m.aa.add(4),await Eu(m),m.la.set("Unknown"),m.aa.delete(4),await Ph(m)}(this))})}),this.la=new ML(r,o)}}async function Ph(n){if(ua(n))for(const e of n.ua)await e(!0)}async function Eu(n){for(const e of n.ua)await e(!1)}function Wb(n,e){const t=We(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),nv(t)?tv(t):Ul(t).b_()&&ev(t,e))}function Zy(n,e){const t=We(n),r=Ul(t);t._a.delete(e),r.b_()&&Hb(t,e),t._a.size===0&&(r.b_()?r.v_():ua(t)&&t.la.set("Unknown"))}function ev(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ul(n).U_(e)}function Hb(n,e){n.ha.Ke(e),Ul(n).K_(e)}function tv(n){n.ha=new RO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ul(n).start(),n.la.ta()}function nv(n){return ua(n)&&!Ul(n).w_()&&n._a.size>0}function ua(n){return We(n).aa.size===0}function qb(n){n.ha=void 0}async function OL(n){n.la.set("Online")}async function LL(n){n._a.forEach((e,t)=>{ev(n,e)})}async function VL(n,e){qb(n),nv(n)?(n.la.ia(e),tv(n)):n.la.set("Unknown")}async function FL(n,e,t){if(n.la.set("Online"),e instanceof kb&&e.state===2&&e.cause)try{await async function(o,a){const l=a.cause;for(const u of a.targetIds)o._a.has(u)&&(await o.remoteSyncer.rejectListen(u,l),o._a.delete(u),o.ha.removeTarget(u))}(n,e)}catch(r){we(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xf(n,r)}else if(e instanceof Tf?n.ha.Xe(e):e instanceof Rb?n.ha.ot(e):n.ha.nt(e),!t.isEqual(ze.min()))try{const r=await $b(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.ha.It(l);return u.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=a._a.get(m);y&&a._a.set(m,y.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,m)=>{const y=a._a.get(d);if(!y)return;a._a.set(d,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),Hb(a,d);const g=new Go(y.target,d,m,y.sequenceNumber);ev(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){we(ta,"Failed to raise snapshot:",r),await Xf(n,r)}}async function Xf(n,e,t){if(!Vl(e))throw e;n.aa.add(1),await Eu(n),n.la.set("Offline"),t||(t=()=>$b(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(ta,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Ph(n)})}function Gb(n,e){return e().catch(t=>Xf(n,t,e))}async function Nh(n){const e=We(n),t=oi(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Vy;for(;UL(e);)try{const o=await xL(e.localStore,r);if(o===null){e.oa.length===0&&t.v_();break}r=o.batchId,$L(e,o)}catch(o){await Xf(e,o)}Kb(e)&&Yb(e)}function UL(n){return ua(n)&&n.oa.length<10}function $L(n,e){n.oa.push(e);const t=oi(n);t.b_()&&t.W_&&t.G_(e.mutations)}function Kb(n){return ua(n)&&!oi(n).w_()&&n.oa.length>0}function Yb(n){oi(n).start()}async function zL(n){oi(n).H_()}async function BL(n){const e=oi(n);for(const t of n.oa)e.G_(t.mutations)}async function WL(n,e,t){const r=n.oa.shift(),o=qy.from(r,e,t);await Gb(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Nh(n)}async function HL(n,e){e&&oi(n).W_&&await async function(r,o){if(function(l){return CO(l)&&l!==te.ABORTED}(o.code)){const a=r.oa.shift();oi(r).D_(),await Gb(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Nh(r)}}(n,e),Kb(n)&&Yb(n)}async function oE(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),we(ta,"RemoteStore received new credentials");const r=ua(t);t.aa.add(3),await Eu(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Ph(t)}async function qL(n,e){const t=We(n);e?(t.aa.delete(2),await Ph(t)):e||(t.aa.add(2),await Eu(t),t.la.set("Unknown"))}function Ul(n){return n.Pa||(n.Pa=function(t,r,o){const a=We(t);return a.Y_(),new kL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:OL.bind(null,n),Jo:LL.bind(null,n),Zo:VL.bind(null,n),Q_:FL.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),nv(n)?tv(n):n.la.set("Unknown")):(await n.Pa.stop(),qb(n))})),n.Pa}function oi(n){return n.Ta||(n.Ta=function(t,r,o){const a=We(t);return a.Y_(),new PL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:zL.bind(null,n),Zo:HL.bind(null,n),z_:BL.bind(null,n),j_:WL.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Nh(n)):(await n.Ta.stop(),n.oa.length>0&&(we(ta,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const l=Date.now()+r,u=new rv(e,t,l,o,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(n,e){if(so("AsyncQueue",`${e}: ${n}`),Vl(n))return new ve(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Uc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.Ia=new bt(De.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Fe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Al{constructor(e,t,r,o,a,l,u,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Al(e,t,vl.emptySet(t),l,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class KL{constructor(){this.queries=aE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const o=We(t),a=o.queries;o.queries=aE(),a.forEach((l,u)=>{for(const d of u.Ra)d.onError(r)})})(this,new ve(te.ABORTED,"Firestore shutting down"))}}function aE(){return new ca(n=>gb(n),bh)}async function Qb(n,e){const t=We(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Va()&&e.ma()&&(r=2):(a=new GL,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(o,!0);break;case 1:a.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(l){const u=sv(l,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(u)}t.queries.set(o,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&ov(t)}async function Xb(n,e){const t=We(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function YL(n,e){const t=We(n);let r=!1;for(const o of e){const a=o.query,l=t.queries.get(a);if(l){for(const u of l.Ra)u.pa(o)&&(r=!0);l.Aa=o}}r&&ov(t)}function QL(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const a of o.Ra)a.onError(t);r.queries.delete(e)}function ov(n){n.fa.forEach(e=>{e.next()})}var Yg,lE;(lE=Yg||(Yg={})).ya="default",lE.Cache="cache";class Jb{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.key=e}}class eI{constructor(e){this.key=e}}class XL{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Xe(),this.mutatedKeys=Xe(),this.Ua=yb(e),this.Ka=new vl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new iE,o=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,l=o,u=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,g)=>{const x=o.get(y),T=Ih(this.query,g)?g:null,b=!!x&&this.mutatedKeys.has(x.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;x&&T?x.data.isEqual(T.data)?b!==I&&(r.track({type:3,doc:T}),C=!0):this.ja(x,T)||(r.track({type:2,doc:T}),C=!0,(d&&this.Ua(T,d)>0||m&&this.Ua(T,m)<0)&&(u=!0)):!x&&T?(r.track({type:0,doc:T}),C=!0):x&&!T&&(r.track({type:1,doc:x}),C=!0,(d||m)&&(u=!0)),C&&(T?(l=l.add(T),a=I?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ka:l,za:r,ys:u,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((y,g)=>function(T,b){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:C})}};return I(T)-I(b)}(y.type,g.type)||this.Ua(y.doc,g.doc)),this.Ha(r),o=o!=null&&o;const u=t&&!o?this.Ja():[],d=this.$a.size===0&&this.current&&!o?1:0,m=d!==this.Qa;return this.Qa=d,l.length!==0||m?{snapshot:new Al(this.query,e.Ka,a,l,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new iE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Xe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new eI(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new Zb(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Xe();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Al.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const iv="SyncEngine";class JL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ZL{constructor(e){this.key=e,this.tu=!1}}class e4{constructor(e,t,r,o,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new ca(u=>gb(u),bh),this.iu=new Map,this.su=new Set,this.ou=new bt(De.comparator),this._u=new Map,this.au=new Yy,this.uu={},this.cu=new Map,this.lu=Cl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function t4(n,e,t=!0){const r=iI(n);let o;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await tI(r,e,t,!0),o}async function n4(n,e){const t=iI(n);await tI(t,e,!0,!1)}async function tI(n,e,t,r){const o=await EL(n.localStore,Es(e)),a=o.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await r4(n,e,a,l==="current",o.resumeToken)),n.isPrimaryClient&&t&&Wb(n.remoteStore,o),u}async function r4(n,e,t,r,o){n.Pu=(g,x,T)=>async function(I,C,P,V){let O=C.view.Ga(P);O.ys&&(O=await eE(I.localStore,C.query,!1).then(({documents:D})=>C.view.Ga(D,O)));const $=V&&V.targetChanges.get(C.targetId),B=V&&V.targetMismatches.get(C.targetId)!=null,K=C.view.applyChanges(O,I.isPrimaryClient,$,B);return uE(I,C.targetId,K.Ya),K.snapshot}(n,g,x,T);const a=await eE(n.localStore,e,!0),l=new XL(e,a.Ns),u=l.Ga(a.documents),d=xu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=l.applyChanges(u,n.isPrimaryClient,d);uE(n,t,m.Ya);const y=new JL(e,t,l);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function s4(n,e,t){const r=We(n),o=r.ru.get(e),a=r.iu.get(o.targetId);if(a.length>1)return r.iu.set(o.targetId,a.filter(l=>!bh(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Gg(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Zy(r.remoteStore,o.targetId),Qg(r,o.targetId)}).catch(Ll)):(Qg(r,o.targetId),await Gg(r.localStore,o.targetId,!0))}async function o4(n,e){const t=We(n),r=t.ru.get(e),o=t.iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zy(t.remoteStore,r.targetId))}async function i4(n,e,t){const r=h4(n);try{const o=await function(l,u){const d=We(l),m=st.now(),y=u.reduce((T,b)=>T.add(b.key),Xe());let g,x;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=oo(),I=Xe();return d.Cs.getEntries(T,y).next(C=>{b=C,b.forEach((P,V)=>{V.isValidDocument()||(I=I.add(P))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,b)).next(C=>{g=C;const P=[];for(const V of u){const O=EO(V,g.get(V.key).overlayedDocument);O!=null&&P.push(new fi(V.key,O,lb(O.value.mapValue),xr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,m,P,u)}).next(C=>{x=C;const P=C.applyToLocalDocumentSet(g,I);return d.documentOverlayCache.saveOverlays(T,C.batchId,P)})}).then(()=>({batchId:x.batchId,changes:wb(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,u,d){let m=l.uu[l.currentUser.toKey()];m||(m=new bt(Ge)),m=m.insert(u,d),l.uu[l.currentUser.toKey()]=m}(r,o.batchId,t),await Su(r,o.changes),await Nh(r.remoteStore)}catch(o){const a=sv(o,"Failed to persist write");t.reject(a)}}async function nI(n,e){const t=We(n);try{const r=await wL(t.localStore,e);e.targetChanges.forEach((o,a)=>{const l=t._u.get(a);l&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?l.tu=!0:o.modifiedDocuments.size>0?it(l.tu,14607):o.removedDocuments.size>0&&(it(l.tu,42227),l.tu=!1))}),await Su(t,r,e)}catch(r){await Ll(r)}}function cE(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ru.forEach((a,l)=>{const u=l.view.ga(e);u.snapshot&&o.push(u.snapshot)}),function(l,u){const d=We(l);d.onlineState=u;let m=!1;d.queries.forEach((y,g)=>{for(const x of g.Ra)x.ga(u)&&(m=!0)}),m&&ov(d)}(r.eventManager,e),o.length&&r.nu.Q_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a4(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r._u.get(e),a=o&&o.key;if(a){let l=new bt(De.comparator);l=l.insert(a,vn.newNoDocument(a,ze.min()));const u=Xe().add(a),d=new Rh(ze.min(),new Map,new bt(Ge),l,u);await nI(r,d),r.ou=r.ou.remove(a),r._u.delete(e),av(r)}else await Gg(r.localStore,e,!1).then(()=>Qg(r,e,t)).catch(Ll)}async function l4(n,e){const t=We(n),r=e.batch.batchId;try{const o=await vL(t.localStore,e);sI(t,r,null),rI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Su(t,o)}catch(o){await Ll(o)}}async function c4(n,e,t){const r=We(n);try{const o=await function(l,u){const d=We(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.mutationQueue.lookupMutationBatch(m,u).next(g=>(it(g!==null,37113),y=g.keys(),d.mutationQueue.removeMutationBatch(m,g))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>d.localDocuments.getDocuments(m,y))})}(r.localStore,e);sI(r,e,t),rI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Su(r,o)}catch(o){await Ll(o)}}function rI(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function sI(n,e,t){const r=We(n);let o=r.uu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.uu[r.currentUser.toKey()]=o}}function Qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||oI(n,r)})}function oI(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Zy(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),av(n))}function uE(n,e,t){for(const r of t)r instanceof Zb?(n.au.addReference(r.key,e),u4(n,r)):r instanceof eI?(we(iv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||oI(n,r.key)):Fe(19791,{Iu:r})}function u4(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(we(iv,"New document in limbo: "+t),n.su.add(r),av(n))}function av(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new De(ht.fromString(e)),r=n.lu.next();n._u.set(r,new ZL(t)),n.ou=n.ou.insert(t,r),Wb(n.remoteStore,new Go(Es(By(t.path)),r,"TargetPurposeLimboResolution",Eh.le))}}async function Su(n,e,t){const r=We(n),o=[],a=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,d)=>{l.push(r.Pu(d,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){o.push(m);const g=Xy.Ps(d.targetId,m);a.push(g)}}))}),await Promise.all(l),r.nu.Q_(o),await async function(d,m){const y=We(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>re.forEach(m,x=>re.forEach(x.ls,T=>y.persistence.referenceDelegate.addReference(g,x.targetId,T)).next(()=>re.forEach(x.hs,T=>y.persistence.referenceDelegate.removeReference(g,x.targetId,T)))))}catch(g){if(!Vl(g))throw g;we(Jy,"Failed to update sequence numbers: "+g)}for(const g of m){const x=g.targetId;if(!g.fromCache){const T=y.Ss.get(x),b=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(b);y.Ss=y.Ss.insert(x,I)}}}(r.localStore,a))}async function d4(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){we(iv,"User change. New user:",e.toKey());const r=await Ub(t.localStore,e);t.currentUser=e,function(a,l){a.cu.forEach(u=>{u.forEach(d=>{d.reject(new ve(te.CANCELLED,l))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(t,r.Ms)}}function f4(n,e){const t=We(n),r=t._u.get(e);if(r&&r.tu)return Xe().add(r.key);{let o=Xe();const a=t.iu.get(e);if(!a)return o;for(const l of a){const u=t.ru.get(l);o=o.unionWith(u.view.Wa)}return o}}function iI(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a4.bind(null,e),e.nu.Q_=YL.bind(null,e.eventManager),e.nu.Tu=QL.bind(null,e.eventManager),e}function h4(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c4.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return yL(this.persistence,new pL,e.initialUser,this.serializer)}Ru(e){return new Fb(Qy.Ei,this.serializer)}Au(e){return new TL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class p4 extends Jf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){it(this.persistence.referenceDelegate instanceof Qf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZO(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new Fb(r=>Qf.Ei(r,t),this.serializer)}}class Xg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d4.bind(null,this.syncEngine),await qL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KL}()}createDatastore(e){const t=kh(e.databaseInfo.databaseId),r=function(a){return new RL(a)}(e.databaseInfo);return function(a,l,u,d){return new DL(a,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,l,u){return new jL(r,o,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>cE(this.syncEngine,t,0),function(){return rE.C()?new rE:new bL}())}createSyncEngine(e,t){return function(o,a,l,u,d,m,y){const g=new e4(o,a,l,u,d,m);return y&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=We(o);we(ta,"RemoteStore shutting down."),a.aa.add(5),await Eu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Xg.provider={build:()=>new Xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="FirestoreClient";class m4{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=JT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{we(ii,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(we(ii,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rg(n,e){n.asyncQueue.verifyOperationInProgress(),we(ii,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Ub(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function dE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await g4(n);we(ii,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>oE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>oE(e.remoteStore,o)),n._onlineComponents=e}async function g4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(ii,"Using user provided OfflineComponentProvider");try{await rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Sl("Error using user provided cache. Falling back to memory cache: "+t),await rg(n,new Jf)}}else we(ii,"Using default OfflineComponentProvider"),await rg(n,new p4(void 0));return n._offlineComponents}async function lI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(ii,"Using user provided OnlineComponentProvider"),await dE(n,n._uninitializedComponentsProvider._online)):(we(ii,"Using default OnlineComponentProvider"),await dE(n,new Xg))),n._onlineComponents}function y4(n){return lI(n).then(e=>e.syncEngine)}async function cI(n){const e=await lI(n),t=e.eventManager;return t.onListen=t4.bind(null,e.syncEngine),t.onUnlisten=s4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=n4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=o4.bind(null,e.syncEngine),t}function v4(n,e,t={}){const r=new Js;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,m){const y=new aI({next:x=>{y.yu(),l.enqueueAndForget(()=>Xb(a,g));const T=x.docs.has(u);!T&&x.fromCache?m.reject(new ve(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&d&&d.source==="server"?m.reject(new ve(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),g=new Jb(By(u.path),y,{includeMetadataChanges:!0,Fa:!0});return Qb(a,g)}(await cI(n),n.asyncQueue,e,t,r)),r.promise}function w4(n,e,t={}){const r=new Js;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,m){const y=new aI({next:x=>{y.yu(),l.enqueueAndForget(()=>Xb(a,g)),x.fromCache&&d.source==="server"?m.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),g=new Jb(u,y,{includeMetadataChanges:!0,Fa:!0});return Qb(a,g)}(await cI(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(n,e,t){if(!t)throw new ve(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _4(n,e,t,r){if(e===!0&&r===!0)throw new ve(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hE(n){if(!De.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pE(n){if(De.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function Qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dh(n);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function x4(n,e){if(e<=0)throw new ve(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firestore.googleapis.com",mE=!0;class gE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fI,this.ssl=mE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:mE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XO)throw new ve(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Aj;switch(r.type){case"firstParty":return new Nj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=fE.get(t);r&&(we("ComponentProvider","Removing Datastore"),fE.delete(t),r.terminate())}(this),Promise.resolve()}}function E4(n,e,t,r={}){var o;const a=(n=Qr(n,Mh))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;a.host!==fI&&a.host!==u&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:r});if(!ei(d,l)&&(n._setSettings(d),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=yn.MOCK_USER;else{m=pP(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new yn(g)}n._authCredentials=new Rj(new QT(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class In{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Xo extends hi{constructor(e,t,r){super(e,t,By(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new De(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function ef(n,e,...t){if(n=At(n),dI("collection","path",e),n instanceof Mh){const r=ht.fromString(e,...t);return pE(r),new Xo(n,null,r)}{if(!(n instanceof In||n instanceof Xo))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return pE(r),new Xo(n.firestore,null,r)}}function Jo(n,e,...t){if(n=At(n),arguments.length===1&&(e=JT.newId()),dI("doc","path",e),n instanceof Mh){const r=ht.fromString(e,...t);return hE(r),new In(n,null,new De(r))}{if(!(n instanceof In||n instanceof Xo))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return hE(r),new In(n.firestore,n instanceof Xo?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="AsyncQueue";class vE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new zb(this,"async_queue_retry"),this.ju=()=>{const r=ng();r&&we(yE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Js;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Vl(e))throw e;we(yE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,so("INTERNAL UNHANDLED ERROR: ",wE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=rv.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&Fe(47125,{ec:wE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function wE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class da extends Mh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new vE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vE(e),this._firestoreClient=void 0,await e}}}function S4(n,e){const t=typeof n=="object"?n:Ey(),r=typeof n=="string"?n:Bf,o=la(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=fP("firestore");a&&E4(o,...a)}return o}function lv(n){if(n._terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||T4(n),n._firestoreClient}function T4(n){var e,t,r;const o=n._freezeSettings(),a=function(u,d,m,y){return new Gj(u,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,uI(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new m4(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rl(cn.fromBase64String(e))}catch(t){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rl(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=/^__.*__$/;class I4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}class hI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{oc:n})}}class fv{constructor(e,t,r,o,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new fv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:r,cc:!1});return o.lc(e),o}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:r,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Zf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(pI(this.oc)&&b4.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class C4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kh(e)}dc(e,t,r,o=!1){return new fv({oc:e,methodName:t,Ec:r,path:ln.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(n){const e=n._freezeSettings(),t=kh(n._databaseId);return new C4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mI(n,e,t,r,o,a={}){const l=n.dc(a.merge||a.mergeFields?2:0,e,t,o);hv("Data must be an object, but it was:",l,r);const u=gI(r,l);let d,m;if(a.merge)d=new sr(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const x=Jg(e,g,t);if(!l.contains(x))throw new ve(te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);vI(y,x)||y.push(x)}d=new sr(y),m=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,m=l.fieldTransforms;return new I4(new Wn(u),d,m)}class Lh extends cv{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function A4(n,e,t,r){const o=n.dc(1,e,t);hv("Data must be an object, but it was:",o,r);const a=[],l=Wn.empty();di(r,(d,m)=>{const y=pv(e,d,t);m=At(m);const g=o.hc(y);if(m instanceof Lh)a.push(y);else{const x=Tu(m,g);x!=null&&(a.push(y),l.set(y,x))}});const u=new sr(a);return new hI(l,u,o.fieldTransforms)}function R4(n,e,t,r,o,a){const l=n.dc(1,e,t),u=[Jg(e,r,t)],d=[o];if(a.length%2!=0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(Jg(e,a[x])),d.push(a[x+1]);const m=[],y=Wn.empty();for(let x=u.length-1;x>=0;--x)if(!vI(m,u[x])){const T=u[x];let b=d[x];b=At(b);const I=l.hc(T);if(b instanceof Lh)m.push(T);else{const C=Tu(b,I);C!=null&&(m.push(T),y.set(T,C))}}const g=new sr(m);return new hI(y,g,l.fieldTransforms)}function k4(n,e,t,r=!1){return Tu(t,n.dc(r?4:3,e))}function Tu(n,e){if(yI(n=At(n)))return hv("Unsupported field value:",e,n),gI(n,e);if(n instanceof cv)return function(r,o){if(!pI(o.oc))throw o.Tc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,o){const a=[];let l=0;for(const u of r){let d=Tu(u,o.Pc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:Yf(o.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yf(o.serializer,a)}}if(r instanceof uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rl)return{bytesValue:Pb(o.serializer,r._byteString)};if(r instanceof In){const a=o.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw o.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ky(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof dv)return function(l,u){return{mapValue:{fields:{[ib]:{stringValue:ab},[Wf]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw u.Tc("VectorValues must only contain numeric values.");return Wy(u.serializer,m)})}}}}}}(r,o);throw o.Tc(`Unsupported field value: ${Dh(r)}`)}(n,e)}function gI(n,e){const t={};return eb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(n,(r,o)=>{const a=Tu(o,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function yI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof uv||n instanceof Rl||n instanceof In||n instanceof cv||n instanceof dv)}function hv(n,e,t){if(!yI(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Dh(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Jg(n,e,t){if((e=At(e))instanceof jh)return e._internalPath;if(typeof e=="string")return pv(n,e);throw Zf("Field path arguments must be of type string or ",n,!1,void 0,t)}const P4=new RegExp("[~\\*/\\[\\]]");function pv(n,e,t){if(e.search(P4)>=0)throw Zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jh(...e.split("."))._internalPath}catch{throw Zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zf(n,e,t,r,o){const a=r&&!r.isEmpty(),l=o!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${o}`),d+=")"),new ve(te.INVALID_ARGUMENT,u+n+d)}function vI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N4 extends wI{data(){return super.data()}}function Vh(n,e){return typeof e=="string"?pv(n,e):e instanceof jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mv{}class gv extends mv{}function tf(n,e,...t){let r=[];e instanceof mv&&r.push(e),r=r.concat(t),function(a){const l=a.filter(d=>d instanceof yv).length,u=a.filter(d=>d instanceof Fh).length;if(l>1||l>0&&u>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Fh extends gv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Fh(e,t,r)}_apply(e){const t=this._parse(e);return _I(e._query,t),new hi(e.firestore,e.converter,zg(e._query,t))}_parse(e){const t=Oh(e.firestore);return function(a,l,u,d,m,y,g){let x;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){EE(g,y);const b=[];for(const I of g)b.push(xE(d,a,I));x={arrayValue:{values:b}}}else x=xE(d,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||EE(g,y),x=k4(u,l,g,y==="in"||y==="not-in");return Ot.create(m,y,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function sg(n,e,t){const r=e,o=Vh("where",n);return Fh._create(o,r,t)}class yv extends mv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Yr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let l=o;const u=a.getFlattenedFilters();for(const d of u)_I(l,d),l=zg(l,d)}(e._query,t),new hi(e.firestore,e.converter,zg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vv extends gv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vv(e,t)}_apply(e){const t=function(o,a,l){if(o.startAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(a,l)}(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,function(o,a){const l=o.explicitOrderBy.concat([a]);return new Fl(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function nf(n,e="asc"){const t=e,r=Vh("orderBy",n);return vv._create(r,t)}class wv extends gv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new wv(e,t,r)}_apply(e){return new hi(e.firestore,e.converter,qf(e._query,this._limit,this._limitType))}}function _E(n){return x4("limit",n),wv._create("limit",n,"F")}function xE(n,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(e)&&t.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ht.fromString(t));if(!De.isDocumentKey(r))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jx(n,new De(r))}if(t instanceof In)return jx(n,t._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(t)}.`)}function EE(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _I(n,e){const t=function(o,a){for(const l of o)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class M4{convertValue(e,t="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return di(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Wf].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(l=>Nt(l.doubleValue));return new dv(a)}convertGeoPoint(e){return new uv(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const t=ni(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);it(Lb(r),9688,{name:e});const o=new su(r.get(1),r.get(3)),a=new De(r.popFirst(5));return o.isEqual(t)||so(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EI extends wI{constructor(e,t,r,o,a,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bf extends EI{data(e={}){return super.data(e)}}class j4{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new zc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bf(this._firestore,this._userDataWriter,r.key,r,new zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(u=>{const d=new bf(o._firestore,o._userDataWriter,u.doc.key,u.doc,new zc(o._snapshot.mutatedKeys.has(u.doc.key),o._snapshot.fromCache),o.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new bf(o._firestore,o._userDataWriter,u.doc.key,u.doc,new zc(o._snapshot.mutatedKeys.has(u.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,y=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:O4(u.type),doc:d,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n){n=Qr(n,In);const e=Qr(n.firestore,da);return v4(lv(e),n._key).then(t=>F4(e,n,t))}class SI extends M4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function og(n){n=Qr(n,hi);const e=Qr(n.firestore,da),t=lv(e),r=new SI(e);return D4(n._query),w4(t,n._query).then(o=>new j4(e,r,n,o))}function L4(n,e,t){n=Qr(n,In);const r=Qr(n.firestore,da),o=xI(n.converter,e);return Uh(r,[mI(Oh(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,xr.none())])}function TI(n,e,t,...r){n=Qr(n,In);const o=Qr(n.firestore,da),a=Oh(o);let l;return l=typeof(e=At(e))=="string"||e instanceof jh?R4(a,"updateDoc",n._key,e,t,r):A4(a,"updateDoc",n._key,e),Uh(o,[l.toMutation(n._key,xr.exists(!0))])}function bI(n){return Uh(Qr(n.firestore,da),[new Hy(n._key,xr.none())])}function V4(n,e){const t=Qr(n.firestore,da),r=Jo(n),o=xI(n.converter,e);return Uh(t,[mI(Oh(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function Uh(n,e){return function(r,o){const a=new Js;return r.asyncQueue.enqueueAndForget(async()=>i4(await y4(r),o,a)),a.promise}(lv(n),e)}function F4(n,e,t){const r=t.docs.get(e._key),o=new SI(n);return new EI(n,o,e._key,r,new zc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ol=o})(Ml),Is(new Kr("firestore",(r,{instanceIdentifier:o,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new da(new kj(r.getProvider("auth-internal")),new Dj(l,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(m.options.projectId,y)}(l,o),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),_r(Sx,Tx,e),_r(Sx,Tx,"esm2017")})();var U4="firebase",$4="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(U4,$4,"app");const z4={apiKey:"AIzaSyC-DVPD-4CjDQ0nYOjg5y2hMOy1zjx6VeU",authDomain:"grindmode-5d2bb.firebaseapp.com",projectId:"grindmode-5d2bb",storageBucket:"grindmode-5d2bb.firebasestorage.app",messagingSenderId:"1096214127157",appId:"1:1096214127157:web:7b82fd19693d933f3f877c",measurementId:"G-XJN3G8434B"},xv=jS(z4);tD(xv);const Br=S4(xv),ar=Ij(xv),B4=(n,e)=>AT(ar,n,e),W4=(n,e)=>sM(ar,n,e),H4=()=>mM(ar),SE=n=>ar.currentUser&&RT(ar.currentUser,n),q4=()=>ar.currentUser&&gM(ar.currentUser),G4=pM,K4=()=>{const n=new ws;return $T(ar,n)},Y4=dM;ar.currentUser;const Q4=ar,Bo=n=>{if(!n)return"An unknown error occurred";if(n.code){const t=n;switch(t.code){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or try logging in.";case"auth/invalid-email":return"Invalid email address. Please check your email and try again.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/user-not-found":return"No account found with this email. Please check your email or create a new account.";case"auth/wrong-password":return"Incorrect password. Please try again or reset your password.";case"auth/too-many-requests":return"Too many unsuccessful login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support for assistance.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return`Authentication error: ${t.message}`}}return`Error: ${n instanceof Error?n.message:String(n)}`},Wr=()=>{const n=ar.currentUser;if(!n||!n.uid)throw new Error("User not authenticated");return n.uid},X4=async n=>{const e=Jo(Br,"users",n),t=await _v(e);return t.exists()?t.data():null},J4=async(n,e)=>{const t=Jo(Br,"users",n);if(!(await _v(t)).exists()){const o=st.now();await L4(t,{...e,createdAt:o,updatedAt:o})}},Z4=async(n,e)=>{const t=Jo(Br,"users",n);await TI(t,{...e,updatedAt:st.now()})},eV=async n=>{const e=Jo(Br,"users",n);await bI(e)},tV=async()=>{try{const n=Wr();return await X4(n)}catch(n){return console.error("Error getting user profile:",n),null}},nV=async n=>{try{const e=Wr();await Z4(e,n)}catch(e){throw console.error("Error updating user profile:",e),new Error("Failed to update profile")}},rV=async n=>{try{const e=Wr();await J4(e,n)}catch(e){throw console.error("Error creating user profile:",e),new Error("Failed to create profile")}},sV=async()=>{try{const n=Wr();await eV(n)}catch(n){throw console.error("Error deleting user profile:",n),new Error("Failed to delete profile")}};function II(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=II(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function CI(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=II(n))&&(r&&(r+=" "),r+=e);return r}const Ev="-",oV=n=>{const e=aV(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Ev);return u[0]===""&&u.length!==1&&u.shift(),AI(u,e)||iV(l)},getConflictingClassGroupIds:(l,u)=>{const d=t[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},AI=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?AI(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(Ev);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},TE=/^\[(.+)\]$/,iV=n=>{if(TE.test(n)){const e=TE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},aV=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)Zg(t[o],r,o,e);return r},Zg=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:bE(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(lV(o)){Zg(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,l])=>{Zg(l,bE(e,a),t,r)})})},bE=(n,e)=>{let t=n;return e.split(Ev).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},lV=n=>n.isThemeGetter,cV=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return o(a,l),l},set(a,l){t.has(a)?t.set(a,l):o(a,l)}}},ey="!",ty=":",uV=ty.length,dV=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let l=0,u=0,d=0,m;for(let b=0;b<o.length;b++){let I=o[b];if(l===0&&u===0){if(I===ty){a.push(o.slice(d,b)),d=b+uV;continue}if(I==="/"){m=b;continue}}I==="["?l++:I==="]"?l--:I==="("?u++:I===")"&&u--}const y=a.length===0?o:o.substring(d),g=fV(y),x=g!==y,T=m&&m>d?m-d:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:T}};if(e){const o=e+ty,a=r;r=l=>l.startsWith(o)?a(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},fV=n=>n.endsWith(ey)?n.substring(0,n.length-1):n.startsWith(ey)?n.substring(1):n,hV=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(o.push(...a.sort(),l),a=[]):a.push(l)}),o.push(...a.sort()),o}},pV=n=>({cache:cV(n.cacheSize),parseClassName:dV(n),sortModifiers:hV(n),...oV(n)}),mV=/\s+/,gV=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,l=[],u=n.trim().split(mV);let d="";for(let m=u.length-1;m>=0;m-=1){const y=u[m],{isExternal:g,modifiers:x,hasImportantModifier:T,baseClassName:b,maybePostfixModifierPosition:I}=t(y);if(g){d=y+(d.length>0?" "+d:d);continue}let C=!!I,P=r(C?b.substring(0,I):b);if(!P){if(!C){d=y+(d.length>0?" "+d:d);continue}if(P=r(b),!P){d=y+(d.length>0?" "+d:d);continue}C=!1}const V=a(x).join(":"),O=T?V+ey:V,$=O+P;if(l.includes($))continue;l.push($);const B=o(P,C);for(let K=0;K<B.length;++K){const D=B[K];l.push(O+D)}d=y+(d.length>0?" "+d:d)}return d};function yV(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=RI(e))&&(r&&(r+=" "),r+=t);return r}const RI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=RI(n[r]))&&(t&&(t+=" "),t+=e);return t};function vV(n,...e){let t,r,o,a=l;function l(d){const m=e.reduce((y,g)=>g(y),n());return t=pV(m),r=t.cache.get,o=t.cache.set,a=u,u(d)}function u(d){const m=r(d);if(m)return m;const y=gV(d,t);return o(d,y),y}return function(){return a(yV.apply(null,arguments))}}const Ht=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},kI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wV=/^\d+\/\d+$/,_V=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ja=n=>wV.test(n),qe=n=>!!n&&!Number.isNaN(Number(n)),$o=n=>!!n&&Number.isInteger(Number(n)),ig=n=>n.endsWith("%")&&qe(n.slice(0,-1)),Ks=n=>_V.test(n),bV=()=>!0,IV=n=>xV.test(n)&&!EV.test(n),NI=()=>!1,CV=n=>SV.test(n),AV=n=>TV.test(n),RV=n=>!Ie(n)&&!Ce(n),kV=n=>$l(n,jI,NI),Ie=n=>kI.test(n),Bi=n=>$l(n,OI,IV),ag=n=>$l(n,jV,qe),IE=n=>$l(n,DI,NI),PV=n=>$l(n,MI,AV),rf=n=>$l(n,LI,CV),Ce=n=>PI.test(n),Dc=n=>zl(n,OI),NV=n=>zl(n,OV),CE=n=>zl(n,DI),DV=n=>zl(n,jI),MV=n=>zl(n,MI),sf=n=>zl(n,LI,!0),$l=(n,e,t)=>{const r=kI.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},zl=(n,e,t=!1)=>{const r=PI.exec(n);return r?r[1]?e(r[1]):t:!1},DI=n=>n==="position"||n==="percentage",MI=n=>n==="image"||n==="url",jI=n=>n==="length"||n==="size"||n==="bg-size",OI=n=>n==="length",jV=n=>n==="number",OV=n=>n==="family-name",LI=n=>n==="shadow",LV=()=>{const n=Ht("color"),e=Ht("font"),t=Ht("text"),r=Ht("font-weight"),o=Ht("tracking"),a=Ht("leading"),l=Ht("breakpoint"),u=Ht("container"),d=Ht("spacing"),m=Ht("radius"),y=Ht("shadow"),g=Ht("inset-shadow"),x=Ht("text-shadow"),T=Ht("drop-shadow"),b=Ht("blur"),I=Ht("perspective"),C=Ht("aspect"),P=Ht("ease"),V=Ht("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...$(),Ce,Ie],K=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],R=()=>[Ce,Ie,d],k=()=>[Ja,"full","auto",...R()],M=()=>[$o,"none","subgrid",Ce,Ie],L=()=>["auto",{span:["full",$o,Ce,Ie]},$o,Ce,Ie],U=()=>[$o,"auto",Ce,Ie],j=()=>["auto","min","max","fr",Ce,Ie],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...R()],he=()=>[Ja,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],q=()=>[n,Ce,Ie],Z=()=>[...$(),CE,IE,{position:[Ce,Ie]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",DV,kV,{size:[Ce,Ie]}],X=()=>[ig,Dc,Bi],oe=()=>["","none","full",m,Ce,Ie],pe=()=>["",qe,Dc,Bi],Re=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[qe,ig,CE,IE],ge=()=>["","none",b,Ce,Ie],Te=()=>["none",qe,Ce,Ie],Pe=()=>["none",qe,Ce,Ie],Be=()=>[qe,Ce,Ie],He=()=>[Ja,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ks],breakpoint:[Ks],color:[bV],container:[Ks],"drop-shadow":[Ks],ease:["in","out","in-out"],font:[RV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ks],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ks],shadow:[Ks],spacing:["px",qe],text:[Ks],"text-shadow":[Ks],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ja,Ie,Ce,C]}],container:["container"],columns:[{columns:[qe,Ie,Ce,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[$o,"auto",Ce,Ie]}],basis:[{basis:[Ja,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Ja,"auto","initial","none",Ie]}],grow:[{grow:["",qe,Ce,Ie]}],shrink:[{shrink:["",qe,Ce,Ie]}],order:[{order:[$o,"first","last","none",Ce,Ie]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[u,"screen",...he()]}],"min-w":[{"min-w":[u,"screen","none",...he()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...he()]}],h:[{h:["screen",...he()]}],"min-h":[{"min-h":["screen","none",...he()]}],"max-h":[{"max-h":["screen",...he()]}],"font-size":[{text:["base",t,Dc,Bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,ag]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ig,Ie]}],"font-family":[{font:[NV,Ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ce,Ie]}],"line-clamp":[{"line-clamp":[qe,"none",Ce,ag]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Ce,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Ce,Bi]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[qe,"auto",Ce,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$o,Ce,Ie],radial:["",Ce,Ie],conic:[$o,Ce,Ie]},MV,PV]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Ce,Ie]}],"outline-w":[{outline:["",qe,Dc,Bi]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",y,sf,rf]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",g,sf,rf]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[qe,Bi]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",x,sf,rf]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[qe,Ce,Ie]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ce,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ie]}],filter:[{filter:["","none",Ce,Ie]}],blur:[{blur:ge()}],brightness:[{brightness:[qe,Ce,Ie]}],contrast:[{contrast:[qe,Ce,Ie]}],"drop-shadow":[{"drop-shadow":["","none",T,sf,rf]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",qe,Ce,Ie]}],"hue-rotate":[{"hue-rotate":[qe,Ce,Ie]}],invert:[{invert:["",qe,Ce,Ie]}],saturate:[{saturate:[qe,Ce,Ie]}],sepia:[{sepia:["",qe,Ce,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ie]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Ce,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Ce,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Ce,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Ce,Ie]}],"backdrop-invert":[{"backdrop-invert":["",qe,Ce,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Ce,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Ce,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Ce,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Ce,Ie]}],ease:[{ease:["linear","initial",P,Ce,Ie]}],delay:[{delay:[qe,Ce,Ie]}],animate:[{animate:["none",V,Ce,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Ce,Ie]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[Ce,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ie]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[qe,Dc,Bi,ag]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VV=vV(LV);function Ne(...n){return VV(CI(n))}const Lt=w.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:Ne("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Lt.displayName="Card";const un=w.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:Ne("flex flex-col space-y-1.5 p-6",n),...e}));un.displayName="CardHeader";const dn=w.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:Ne("font-semibold leading-none tracking-tight",n),...e}));dn.displayName="CardTitle";const kl=w.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:Ne("text-sm text-muted-foreground",n),...e}));kl.displayName="CardDescription";const Gt=w.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:Ne("p-6 pt-0",n),...e}));Gt.displayName="CardContent";const pi=w.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:Ne("flex items-center p-6 pt-0",n),...e}));pi.displayName="CardFooter";const AE=({title:n,description:e,children:t})=>h.jsxs(Lt,{children:[h.jsxs(un,{children:[h.jsx(dn,{children:n}),h.jsx(kl,{children:e})]}),h.jsx(Gt,{className:"space-y-6",children:h.jsx("div",{className:"grid gap-4",children:t})})]});var bu=xS();const VI=wS(bu);function RE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function $h(...n){return e=>{let t=!1;const r=n.map(o=>{const a=RE(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():RE(n[o],null)}}}}function Ze(...n){return w.useCallback($h(...n),n)}function na(n){const e=FV(n),t=w.forwardRef((r,o)=>{const{children:a,...l}=r,u=w.Children.toArray(a),d=u.find($V);if(d){const m=d.props.children,y=u.map(g=>g===d?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return h.jsx(e,{...l,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,y):null})}return h.jsx(e,{...l,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var FI=na("Slot");function FV(n){const e=w.forwardRef((t,r)=>{const{children:o,...a}=t;if(w.isValidElement(o)){const l=BV(o),u=zV(a,o.props);return o.type!==w.Fragment&&(u.ref=r?$h(r,l):l),w.cloneElement(o,u)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var UI=Symbol("radix.slottable");function UV(n){const e=({children:t})=>h.jsx(h.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=UI,e}function $V(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===UI}function zV(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...u)=>{a(...u),o(...u)}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function BV(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var WV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=WV.reduce((n,e)=>{const t=na(`Primitive.${e}`),r=w.forwardRef((o,a)=>{const{asChild:l,...u}=o,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function $I(n,e){n&&bu.flushSync(()=>n.dispatchEvent(e))}var HV="Label",zI=w.forwardRef((n,e)=>h.jsx($e.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));zI.displayName=HV;var qV=zI;function _s({className:n,...e}){return h.jsx(qV,{"data-slot":"label",className:Ne("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const of=({icon:n,label:e,description:t,inputId:r,children:o})=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[n,h.jsxs("div",{children:[h.jsx(_s,{htmlFor:r,children:e}),h.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})]}),o]});function ny(n,[e,t]){return Math.min(t,Math.max(e,n))}function _e(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function GV(n,e){const t=w.createContext(e),r=a=>{const{children:l,...u}=a,d=w.useMemo(()=>u,Object.values(u));return h.jsx(t.Provider,{value:d,children:l})};r.displayName=n+"Provider";function o(a){const l=w.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,o]}function ts(n,e=[]){let t=[];function r(a,l){const u=w.createContext(l),d=t.length;t=[...t,l];const m=g=>{var P;const{scope:x,children:T,...b}=g,I=((P=x==null?void 0:x[n])==null?void 0:P[d])||u,C=w.useMemo(()=>b,Object.values(b));return h.jsx(I.Provider,{value:C,children:T})};m.displayName=a+"Provider";function y(g,x){var I;const T=((I=x==null?void 0:x[n])==null?void 0:I[d])||u,b=w.useContext(T);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[m,y]}const o=()=>{const a=t.map(l=>w.createContext(l));return function(u){const d=(u==null?void 0:u[n])||a;return w.useMemo(()=>({[`__scope${n}`]:{...u,[n]:d}}),[u,d])}};return o.scopeName=n,[r,KV(o,...e)]}function KV(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=r.reduce((u,{useScope:d,scopeName:m})=>{const g=d(a)[`__scope${m}`];return{...u,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Sv(n){const e=n+"CollectionProvider",[t,r]=ts(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:C,children:P}=I,V=ce.useRef(null),O=ce.useRef(new Map).current;return h.jsx(o,{scope:C,itemMap:O,collectionRef:V,children:P})};l.displayName=e;const u=n+"CollectionSlot",d=na(u),m=ce.forwardRef((I,C)=>{const{scope:P,children:V}=I,O=a(u,P),$=Ze(C,O.collectionRef);return h.jsx(d,{ref:$,children:V})});m.displayName=u;const y=n+"CollectionItemSlot",g="data-radix-collection-item",x=na(y),T=ce.forwardRef((I,C)=>{const{scope:P,children:V,...O}=I,$=ce.useRef(null),B=Ze(C,$),K=a(y,P);return ce.useEffect(()=>(K.itemMap.set($,{ref:$,...O}),()=>void K.itemMap.delete($))),h.jsx(x,{[g]:"",ref:B,children:V})});T.displayName=y;function b(I){const C=a(n+"CollectionConsumer",I);return ce.useCallback(()=>{const V=C.collectionRef.current;if(!V)return[];const O=Array.from(V.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((K,D)=>O.indexOf(K.ref.current)-O.indexOf(D.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:m,ItemSlot:T},b,r]}var YV=w.createContext(void 0);function Iu(n){const e=w.useContext(YV);return n||e||"ltr"}function en(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function QV(n,e=globalThis==null?void 0:globalThis.document){const t=en(n);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var XV="DismissableLayer",ry="dismissableLayer.update",JV="dismissableLayer.pointerDownOutside",ZV="dismissableLayer.focusOutside",kE,BI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zh=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=n,m=w.useContext(BI),[y,g]=w.useState(null),x=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=w.useState({}),b=Ze(e,D=>g(D)),I=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=I.indexOf(C),V=y?I.indexOf(y):-1,O=m.layersWithOutsidePointerEventsDisabled.size>0,$=V>=P,B=nF(D=>{const R=D.target,k=[...m.branches].some(M=>M.contains(R));!$||k||(o==null||o(D),l==null||l(D),D.defaultPrevented||u==null||u())},x),K=rF(D=>{const R=D.target;[...m.branches].some(M=>M.contains(R))||(a==null||a(D),l==null||l(D),D.defaultPrevented||u==null||u())},x);return QV(D=>{V===m.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},x),w.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(kE=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),PE(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=kE)}},[y,x,t,m]),w.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),PE())},[y,m]),w.useEffect(()=>{const D=()=>T({});return document.addEventListener(ry,D),()=>document.removeEventListener(ry,D)},[]),h.jsx($e.div,{...d,ref:b,style:{pointerEvents:O?$?"auto":"none":void 0,...n.style},onFocusCapture:_e(n.onFocusCapture,K.onFocusCapture),onBlurCapture:_e(n.onBlurCapture,K.onBlurCapture),onPointerDownCapture:_e(n.onPointerDownCapture,B.onPointerDownCapture)})});zh.displayName=XV;var eF="DismissableLayerBranch",tF=w.forwardRef((n,e)=>{const t=w.useContext(BI),r=w.useRef(null),o=Ze(e,r);return w.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),h.jsx($e.div,{...n,ref:o})});tF.displayName=eF;function nF(n,e=globalThis==null?void 0:globalThis.document){const t=en(n),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let d=function(){WI(JV,t,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=d,e.addEventListener("click",o.current,{once:!0})):d()}else e.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function rF(n,e=globalThis==null?void 0:globalThis.document){const t=en(n),r=w.useRef(!1);return w.useEffect(()=>{const o=a=>{a.target&&!r.current&&WI(ZV,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function PE(){const n=new CustomEvent(ry);document.dispatchEvent(n)}function WI(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?$I(o,a):o.dispatchEvent(a)}var lg=0;function Tv(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??NE()),document.body.insertAdjacentElement("beforeend",n[1]??NE()),lg++,()=>{lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lg--}},[])}function NE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",DE={bubbles:!1,cancelable:!0},sF="FocusScope",Bh=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=n,[u,d]=w.useState(null),m=en(o),y=en(a),g=w.useRef(null),x=Ze(e,I=>d(I)),T=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let I=function(O){if(T.paused||!u)return;const $=O.target;u.contains($)?g.current=$:zo(g.current,{select:!0})},C=function(O){if(T.paused||!u)return;const $=O.relatedTarget;$!==null&&(u.contains($)||zo(g.current,{select:!0}))},P=function(O){if(document.activeElement===document.body)for(const B of O)B.removedNodes.length>0&&zo(u)};document.addEventListener("focusin",I),document.addEventListener("focusout",C);const V=new MutationObserver(P);return u&&V.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",C),V.disconnect()}}},[r,u,T.paused]),w.useEffect(()=>{if(u){jE.add(T);const I=document.activeElement;if(!u.contains(I)){const P=new CustomEvent(cg,DE);u.addEventListener(cg,m),u.dispatchEvent(P),P.defaultPrevented||(oF(uF(HI(u)),{select:!0}),document.activeElement===I&&zo(u))}return()=>{u.removeEventListener(cg,m),setTimeout(()=>{const P=new CustomEvent(ug,DE);u.addEventListener(ug,y),u.dispatchEvent(P),P.defaultPrevented||zo(I??document.body,{select:!0}),u.removeEventListener(ug,y),jE.remove(T)},0)}}},[u,m,y,T]);const b=w.useCallback(I=>{if(!t&&!r||T.paused)return;const C=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,P=document.activeElement;if(C&&P){const V=I.currentTarget,[O,$]=iF(V);O&&$?!I.shiftKey&&P===$?(I.preventDefault(),t&&zo(O,{select:!0})):I.shiftKey&&P===O&&(I.preventDefault(),t&&zo($,{select:!0})):P===V&&I.preventDefault()}},[t,r,T.paused]);return h.jsx($e.div,{tabIndex:-1,...l,ref:x,onKeyDown:b})});Bh.displayName=sF;function oF(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(zo(r,{select:e}),document.activeElement!==t)return}function iF(n){const e=HI(n),t=ME(e,n),r=ME(e.reverse(),n);return[t,r]}function HI(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ME(n,e){for(const t of n)if(!aF(t,{upTo:e}))return t}function aF(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function lF(n){return n instanceof HTMLInputElement&&"select"in n}function zo(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&lF(n)&&e&&n.select()}}var jE=cF();function cF(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=OE(n,e),n.unshift(e)},remove(e){var t;n=OE(n,e),(t=n[0])==null||t.resume()}}}function OE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function uF(n){return n.filter(e=>e.tagName!=="A")}var Vt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},dF=_S[" useId ".trim().toString()]||(()=>{}),fF=0;function Ts(n){const[e,t]=w.useState(dF());return Vt(()=>{t(r=>r??String(fF++))},[n]),n||(e?`radix-${e}`:"")}const hF=["top","right","bottom","left"],ai=Math.min,nr=Math.max,eh=Math.round,af=Math.floor,bs=n=>({x:n,y:n}),pF={left:"right",right:"left",bottom:"top",top:"bottom"},mF={start:"end",end:"start"};function sy(n,e,t){return nr(n,ai(e,t))}function io(n,e){return typeof n=="function"?n(e):n}function ao(n){return n.split("-")[0]}function Bl(n){return n.split("-")[1]}function bv(n){return n==="x"?"y":"x"}function Iv(n){return n==="y"?"height":"width"}function Zs(n){return["top","bottom"].includes(ao(n))?"y":"x"}function Cv(n){return bv(Zs(n))}function gF(n,e,t){t===void 0&&(t=!1);const r=Bl(n),o=Cv(n),a=Iv(o);let l=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=th(l)),[l,th(l)]}function yF(n){const e=th(n);return[oy(n),e,oy(e)]}function oy(n){return n.replace(/start|end/g,e=>mF[e])}function vF(n,e,t){const r=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?a:l;default:return[]}}function wF(n,e,t,r){const o=Bl(n);let a=vF(ao(n),t==="start",r);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(oy)))),a}function th(n){return n.replace(/left|right|bottom|top/g,e=>pF[e])}function _F(n){return{top:0,right:0,bottom:0,left:0,...n}}function qI(n){return typeof n!="number"?_F(n):{top:n,right:n,bottom:n,left:n}}function nh(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function LE(n,e,t){let{reference:r,floating:o}=n;const a=Zs(e),l=Cv(e),u=Iv(l),d=ao(e),m=a==="y",y=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,x=r[u]/2-o[u]/2;let T;switch(d){case"top":T={x:y,y:r.y-o.height};break;case"bottom":T={x:y,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:g};break;case"left":T={x:r.x-o.width,y:g};break;default:T={x:r.x,y:r.y}}switch(Bl(e)){case"start":T[l]-=x*(t&&m?-1:1);break;case"end":T[l]+=x*(t&&m?-1:1);break}return T}const xF=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:n,floating:e,strategy:o}),{x:y,y:g}=LE(m,r,d),x=r,T={},b=0;for(let I=0;I<u.length;I++){const{name:C,fn:P}=u[I],{x:V,y:O,data:$,reset:B}=await P({x:y,y:g,initialPlacement:r,placement:x,strategy:o,middlewareData:T,rects:m,platform:l,elements:{reference:n,floating:e}});y=V??y,g=O??g,T={...T,[C]:{...T[C],...$}},B&&b<=50&&(b++,typeof B=="object"&&(B.placement&&(x=B.placement),B.rects&&(m=B.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:o}):B.rects),{x:y,y:g}=LE(m,x,d)),I=-1)}return{x:y,y:g,placement:x,strategy:o,middlewareData:T}};async function cu(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:l,elements:u,strategy:d}=n,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:x=!1,padding:T=0}=io(e,n),b=qI(T),C=u[x?g==="floating"?"reference":"floating":g],P=nh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(C)))==null||t?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:m,rootBoundary:y,strategy:d})),V=g==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),$=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},B=nh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:V,offsetParent:O,strategy:d}):V);return{top:(P.top-B.top+b.top)/$.y,bottom:(B.bottom-P.bottom+b.bottom)/$.y,left:(P.left-B.left+b.left)/$.x,right:(B.right-P.right+b.right)/$.x}}const EF=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:l,elements:u,middlewareData:d}=e,{element:m,padding:y=0}=io(n,e)||{};if(m==null)return{};const g=qI(y),x={x:t,y:r},T=Cv(o),b=Iv(T),I=await l.getDimensions(m),C=T==="y",P=C?"top":"left",V=C?"bottom":"right",O=C?"clientHeight":"clientWidth",$=a.reference[b]+a.reference[T]-x[T]-a.floating[b],B=x[T]-a.reference[T],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let D=K?K[O]:0;(!D||!await(l.isElement==null?void 0:l.isElement(K)))&&(D=u.floating[O]||a.floating[b]);const R=$/2-B/2,k=D/2-I[b]/2-1,M=ai(g[P],k),L=ai(g[V],k),U=M,j=D-I[b]-L,Se=D/2-I[b]/2+R,xe=sy(U,Se,j),ae=!d.arrow&&Bl(o)!=null&&Se!==xe&&a.reference[b]/2-(Se<U?M:L)-I[b]/2<0,he=ae?Se<U?Se-U:Se-j:0;return{[T]:x[T]+he,data:{[T]:xe,centerOffset:Se-xe-he,...ae&&{alignmentOffset:he}},reset:ae}}}),SF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:m}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:I=!0,...C}=io(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const P=ao(o),V=Zs(u),O=ao(u)===u,$=await(d.isRTL==null?void 0:d.isRTL(m.floating)),B=x||(O||!I?[th(u)]:yF(u)),K=b!=="none";!x&&K&&B.push(...wF(u,I,b,$));const D=[u,...B],R=await cu(e,C),k=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&k.push(R[P]),g){const xe=gF(o,l,$);k.push(R[xe[0]],R[xe[1]])}if(M=[...M,{placement:o,overflows:k}],!k.every(xe=>xe<=0)){var L,U;const xe=(((L=a.flip)==null?void 0:L.index)||0)+1,ae=D[xe];if(ae){var j;const q=g==="alignment"?V!==Zs(ae):!1,Z=((j=M[0])==null?void 0:j.overflows[0])>0;if(!q||Z)return{data:{index:xe,overflows:M},reset:{placement:ae}}}let he=(U=M.filter(q=>q.overflows[0]<=0).sort((q,Z)=>q.overflows[1]-Z.overflows[1])[0])==null?void 0:U.placement;if(!he)switch(T){case"bestFit":{var Se;const q=(Se=M.filter(Z=>{if(K){const ne=Zs(Z.placement);return ne===V||ne==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ne=>ne>0).reduce((ne,z)=>ne+z,0)]).sort((Z,ne)=>Z[1]-ne[1])[0])==null?void 0:Se[0];q&&(he=q);break}case"initialPlacement":he=u;break}if(o!==he)return{reset:{placement:he}}}return{}}}};function VE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function FE(n){return hF.some(e=>n[e]>=0)}const TF=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=io(n,e);switch(r){case"referenceHidden":{const a=await cu(e,{...o,elementContext:"reference"}),l=VE(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:FE(l)}}}case"escaped":{const a=await cu(e,{...o,altBoundary:!0}),l=VE(a,t.floating);return{data:{escapedOffsets:l,escaped:FE(l)}}}default:return{}}}}};async function bF(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=ao(t),u=Bl(t),d=Zs(t)==="y",m=["left","top"].includes(l)?-1:1,y=a&&d?-1:1,g=io(e,n);let{mainAxis:x,crossAxis:T,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof b=="number"&&(T=u==="end"?b*-1:b),d?{x:T*y,y:x*m}:{x:x*m,y:T*y}}const IF=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:l,middlewareData:u}=e,d=await bF(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:l}}}}},CF=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:P,y:V}=C;return{x:P,y:V}}},...d}=io(n,e),m={x:t,y:r},y=await cu(e,d),g=Zs(ao(o)),x=bv(g);let T=m[x],b=m[g];if(a){const C=x==="y"?"top":"left",P=x==="y"?"bottom":"right",V=T+y[C],O=T-y[P];T=sy(V,T,O)}if(l){const C=g==="y"?"top":"left",P=g==="y"?"bottom":"right",V=b+y[C],O=b-y[P];b=sy(V,b,O)}const I=u.fn({...e,[x]:T,[g]:b});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[x]:a,[g]:l}}}}}},AF=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:m=!0}=io(n,e),y={x:t,y:r},g=Zs(o),x=bv(g);let T=y[x],b=y[g];const I=io(u,e),C=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(d){const O=x==="y"?"height":"width",$=a.reference[x]-a.floating[O]+C.mainAxis,B=a.reference[x]+a.reference[O]-C.mainAxis;T<$?T=$:T>B&&(T=B)}if(m){var P,V;const O=x==="y"?"width":"height",$=["top","left"].includes(ao(o)),B=a.reference[g]-a.floating[O]+($&&((P=l.offset)==null?void 0:P[g])||0)+($?0:C.crossAxis),K=a.reference[g]+a.reference[O]+($?0:((V=l.offset)==null?void 0:V[g])||0)-($?C.crossAxis:0);b<B?b=B:b>K&&(b=K)}return{[x]:T,[g]:b}}}},RF=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:l,elements:u}=e,{apply:d=()=>{},...m}=io(n,e),y=await cu(e,m),g=ao(o),x=Bl(o),T=Zs(o)==="y",{width:b,height:I}=a.floating;let C,P;g==="top"||g==="bottom"?(C=g,P=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(P=g,C=x==="end"?"top":"bottom");const V=I-y.top-y.bottom,O=b-y.left-y.right,$=ai(I-y[C],V),B=ai(b-y[P],O),K=!e.middlewareData.shift;let D=$,R=B;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=V),K&&!x){const M=nr(y.left,0),L=nr(y.right,0),U=nr(y.top,0),j=nr(y.bottom,0);T?R=b-2*(M!==0||L!==0?M+L:nr(y.left,y.right)):D=I-2*(U!==0||j!==0?U+j:nr(y.top,y.bottom))}await d({...e,availableWidth:R,availableHeight:D});const k=await l.getDimensions(u.floating);return b!==k.width||I!==k.height?{reset:{rects:!0}}:{}}}};function Wh(){return typeof window<"u"}function Wl(n){return GI(n)?(n.nodeName||"").toLowerCase():"#document"}function ir(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ks(n){var e;return(e=(GI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function GI(n){return Wh()?n instanceof Node||n instanceof ir(n).Node:!1}function Xr(n){return Wh()?n instanceof Element||n instanceof ir(n).Element:!1}function As(n){return Wh()?n instanceof HTMLElement||n instanceof ir(n).HTMLElement:!1}function UE(n){return!Wh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ir(n).ShadowRoot}function Cu(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Jr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function kF(n){return["table","td","th"].includes(Wl(n))}function Hh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Av(n){const e=Rv(),t=Xr(n)?Jr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function PF(n){let e=li(n);for(;As(e)&&!Pl(e);){if(Av(e))return e;if(Hh(e))return null;e=li(e)}return null}function Rv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pl(n){return["html","body","#document"].includes(Wl(n))}function Jr(n){return ir(n).getComputedStyle(n)}function qh(n){return Xr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function li(n){if(Wl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||UE(n)&&n.host||ks(n);return UE(e)?e.host:e}function KI(n){const e=li(n);return Pl(e)?n.ownerDocument?n.ownerDocument.body:n.body:As(e)&&Cu(e)?e:KI(e)}function uu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=KI(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),l=ir(o);if(a){const u=iy(l);return e.concat(l,l.visualViewport||[],Cu(o)?o:[],u&&t?uu(u):[])}return e.concat(o,uu(o,[],t))}function iy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function YI(n){const e=Jr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=As(n),a=o?n.offsetWidth:t,l=o?n.offsetHeight:r,u=eh(t)!==a||eh(r)!==l;return u&&(t=a,r=l),{width:t,height:r,$:u}}function kv(n){return Xr(n)?n:n.contextElement}function wl(n){const e=kv(n);if(!As(e))return bs(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=YI(e);let l=(a?eh(t.width):t.width)/r,u=(a?eh(t.height):t.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const NF=bs(0);function QI(n){const e=ir(n);return!Rv()||!e.visualViewport?NF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DF(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ir(n)?!1:e}function ra(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=kv(n);let l=bs(1);e&&(r?Xr(r)&&(l=wl(r)):l=wl(n));const u=DF(a,t,r)?QI(a):bs(0);let d=(o.left+u.x)/l.x,m=(o.top+u.y)/l.y,y=o.width/l.x,g=o.height/l.y;if(a){const x=ir(a),T=r&&Xr(r)?ir(r):r;let b=x,I=iy(b);for(;I&&r&&T!==b;){const C=wl(I),P=I.getBoundingClientRect(),V=Jr(I),O=P.left+(I.clientLeft+parseFloat(V.paddingLeft))*C.x,$=P.top+(I.clientTop+parseFloat(V.paddingTop))*C.y;d*=C.x,m*=C.y,y*=C.x,g*=C.y,d+=O,m+=$,b=ir(I),I=iy(b)}}return nh({width:y,height:g,x:d,y:m})}function Pv(n,e){const t=qh(n).scrollLeft;return e?e.left+t:ra(ks(n)).left+t}function XI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:Pv(n,r)),a=r.top+e.scrollTop;return{x:o,y:a}}function MF(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",l=ks(r),u=e?Hh(e.floating):!1;if(r===l||u&&a)return t;let d={scrollLeft:0,scrollTop:0},m=bs(1);const y=bs(0),g=As(r);if((g||!g&&!a)&&((Wl(r)!=="body"||Cu(l))&&(d=qh(r)),As(r))){const T=ra(r);m=wl(r),y.x=T.x+r.clientLeft,y.y=T.y+r.clientTop}const x=l&&!g&&!a?XI(l,d,!0):bs(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-d.scrollLeft*m.x+y.x+x.x,y:t.y*m.y-d.scrollTop*m.y+y.y+x.y}}function jF(n){return Array.from(n.getClientRects())}function OF(n){const e=ks(n),t=qh(n),r=n.ownerDocument.body,o=nr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=nr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Pv(n);const u=-t.scrollTop;return Jr(r).direction==="rtl"&&(l+=nr(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:l,y:u}}function LF(n,e){const t=ir(n),r=ks(n),o=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,d=0;if(o){a=o.width,l=o.height;const m=Rv();(!m||m&&e==="fixed")&&(u=o.offsetLeft,d=o.offsetTop)}return{width:a,height:l,x:u,y:d}}function VF(n,e){const t=ra(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=As(n)?wl(n):bs(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,d=o*a.x,m=r*a.y;return{width:l,height:u,x:d,y:m}}function $E(n,e,t){let r;if(e==="viewport")r=LF(n,t);else if(e==="document")r=OF(ks(n));else if(Xr(e))r=VF(e,t);else{const o=QI(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return nh(r)}function JI(n,e){const t=li(n);return t===e||!Xr(t)||Pl(t)?!1:Jr(t).position==="fixed"||JI(t,e)}function FF(n,e){const t=e.get(n);if(t)return t;let r=uu(n,[],!1).filter(u=>Xr(u)&&Wl(u)!=="body"),o=null;const a=Jr(n).position==="fixed";let l=a?li(n):n;for(;Xr(l)&&!Pl(l);){const u=Jr(l),d=Av(l);!d&&u.position==="fixed"&&(o=null),(a?!d&&!o:!d&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Cu(l)&&!d&&JI(n,l))?r=r.filter(y=>y!==l):o=u,l=li(l)}return e.set(n,r),r}function UF(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const l=[...t==="clippingAncestors"?Hh(e)?[]:FF(e,this._c):[].concat(t),r],u=l[0],d=l.reduce((m,y)=>{const g=$E(e,y,o);return m.top=nr(g.top,m.top),m.right=ai(g.right,m.right),m.bottom=ai(g.bottom,m.bottom),m.left=nr(g.left,m.left),m},$E(e,u,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function $F(n){const{width:e,height:t}=YI(n);return{width:e,height:t}}function zF(n,e,t){const r=As(e),o=ks(e),a=t==="fixed",l=ra(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const d=bs(0);function m(){d.x=Pv(o)}if(r||!r&&!a)if((Wl(e)!=="body"||Cu(o))&&(u=qh(e)),r){const T=ra(e,!0,a,e);d.x=T.x+e.clientLeft,d.y=T.y+e.clientTop}else o&&m();a&&!r&&o&&m();const y=o&&!r&&!a?XI(o,u):bs(0),g=l.left+u.scrollLeft-d.x-y.x,x=l.top+u.scrollTop-d.y-y.y;return{x:g,y:x,width:l.width,height:l.height}}function dg(n){return Jr(n).position==="static"}function zE(n,e){if(!As(n)||Jr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ks(n)===t&&(t=t.ownerDocument.body),t}function ZI(n,e){const t=ir(n);if(Hh(n))return t;if(!As(n)){let o=li(n);for(;o&&!Pl(o);){if(Xr(o)&&!dg(o))return o;o=li(o)}return t}let r=zE(n,e);for(;r&&kF(r)&&dg(r);)r=zE(r,e);return r&&Pl(r)&&dg(r)&&!Av(r)?t:r||PF(n)||t}const BF=async function(n){const e=this.getOffsetParent||ZI,t=this.getDimensions,r=await t(n.floating);return{reference:zF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WF(n){return Jr(n).direction==="rtl"}const HF={convertOffsetParentRelativeRectToViewportRelativeRect:MF,getDocumentElement:ks,getClippingRect:UF,getOffsetParent:ZI,getElementRects:BF,getClientRects:jF,getDimensions:$F,getScale:wl,isElement:Xr,isRTL:WF};function eC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function qF(n,e){let t=null,r;const o=ks(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const m=n.getBoundingClientRect(),{left:y,top:g,width:x,height:T}=m;if(u||e(),!x||!T)return;const b=af(g),I=af(o.clientWidth-(y+x)),C=af(o.clientHeight-(g+T)),P=af(y),O={rootMargin:-b+"px "+-I+"px "+-C+"px "+-P+"px",threshold:nr(0,ai(1,d))||1};let $=!0;function B(K){const D=K[0].intersectionRatio;if(D!==d){if(!$)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!eC(m,n.getBoundingClientRect())&&l(),$=!1}try{t=new IntersectionObserver(B,{...O,root:o.ownerDocument})}catch{t=new IntersectionObserver(B,O)}t.observe(n)}return l(!0),a}function GF(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,m=kv(n),y=o||a?[...m?uu(m):[],...uu(e)]:[];y.forEach(P=>{o&&P.addEventListener("scroll",t,{passive:!0}),a&&P.addEventListener("resize",t)});const g=m&&u?qF(m,t):null;let x=-1,T=null;l&&(T=new ResizeObserver(P=>{let[V]=P;V&&V.target===m&&T&&(T.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var O;(O=T)==null||O.observe(e)})),t()}),m&&!d&&T.observe(m),T.observe(e));let b,I=d?ra(n):null;d&&C();function C(){const P=ra(n);I&&!eC(I,P)&&t(),I=P,b=requestAnimationFrame(C)}return t(),()=>{var P;y.forEach(V=>{o&&V.removeEventListener("scroll",t),a&&V.removeEventListener("resize",t)}),g==null||g(),(P=T)==null||P.disconnect(),T=null,d&&cancelAnimationFrame(b)}}const KF=IF,YF=CF,QF=SF,XF=RF,JF=TF,BE=EF,ZF=AF,e3=(n,e,t)=>{const r=new Map,o={platform:HF,...t},a={...o.platform,_c:r};return xF(n,e,{...o,platform:a})};var If=typeof document<"u"?w.useLayoutEffect:w.useEffect;function rh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!rh(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!rh(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function tC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function WE(n,e){const t=tC(n);return Math.round(e*t)/t}function fg(n){const e=w.useRef(n);return If(()=>{e.current=n}),e}function t3(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:m}=n,[y,g]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,T]=w.useState(r);rh(x,r)||T(r);const[b,I]=w.useState(null),[C,P]=w.useState(null),V=w.useCallback(q=>{q!==K.current&&(K.current=q,I(q))},[]),O=w.useCallback(q=>{q!==D.current&&(D.current=q,P(q))},[]),$=a||b,B=l||C,K=w.useRef(null),D=w.useRef(null),R=w.useRef(y),k=d!=null,M=fg(d),L=fg(o),U=fg(m),j=w.useCallback(()=>{if(!K.current||!D.current)return;const q={placement:e,strategy:t,middleware:x};L.current&&(q.platform=L.current),e3(K.current,D.current,q).then(Z=>{const ne={...Z,isPositioned:U.current!==!1};Se.current&&!rh(R.current,ne)&&(R.current=ne,bu.flushSync(()=>{g(ne)}))})},[x,e,t,L,U]);If(()=>{m===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,g(q=>({...q,isPositioned:!1})))},[m]);const Se=w.useRef(!1);If(()=>(Se.current=!0,()=>{Se.current=!1}),[]),If(()=>{if($&&(K.current=$),B&&(D.current=B),$&&B){if(M.current)return M.current($,B,j);j()}},[$,B,j,M,k]);const xe=w.useMemo(()=>({reference:K,floating:D,setReference:V,setFloating:O}),[V,O]),ae=w.useMemo(()=>({reference:$,floating:B}),[$,B]),he=w.useMemo(()=>{const q={position:t,left:0,top:0};if(!ae.floating)return q;const Z=WE(ae.floating,y.x),ne=WE(ae.floating,y.y);return u?{...q,transform:"translate("+Z+"px, "+ne+"px)",...tC(ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:ne}},[t,u,ae.floating,y.x,y.y]);return w.useMemo(()=>({...y,update:j,refs:xe,elements:ae,floatingStyles:he}),[y,j,xe,ae,he])}const n3=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?BE({element:r.current,padding:o}).fn(t):{}:r?BE({element:r,padding:o}).fn(t):{}}}},r3=(n,e)=>({...KF(n),options:[n,e]}),s3=(n,e)=>({...YF(n),options:[n,e]}),o3=(n,e)=>({...ZF(n),options:[n,e]}),i3=(n,e)=>({...QF(n),options:[n,e]}),a3=(n,e)=>({...XF(n),options:[n,e]}),l3=(n,e)=>({...JF(n),options:[n,e]}),c3=(n,e)=>({...n3(n),options:[n,e]});var u3="Arrow",nC=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return h.jsx($e.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});nC.displayName=u3;var d3=nC;function f3(n){const[e,t]=w.useState(void 0);return Vt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,m=Array.isArray(d)?d[0]:d;l=m.inlineSize,u=m.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Nv="Popper",[rC,Gh]=ts(Nv),[h3,sC]=rC(Nv),oC=n=>{const{__scopePopper:e,children:t}=n,[r,o]=w.useState(null);return h.jsx(h3,{scope:e,anchor:r,onAnchorChange:o,children:t})};oC.displayName=Nv;var iC="PopperAnchor",aC=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=sC(iC,t),l=w.useRef(null),u=Ze(e,l);return w.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:h.jsx($e.div,{...o,ref:u})});aC.displayName=iC;var Dv="PopperContent",[p3,m3]=rC(Dv),lC=w.forwardRef((n,e)=>{var se,ge,Te,Pe,Be,He;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:T="optimized",onPlaced:b,...I}=n,C=sC(Dv,t),[P,V]=w.useState(null),O=Ze(e,pt=>V(pt)),[$,B]=w.useState(null),K=f3($),D=(K==null?void 0:K.width)??0,R=(K==null?void 0:K.height)??0,k=r+(a!=="center"?"-"+a:""),M=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},L=Array.isArray(m)?m:[m],U=L.length>0,j={padding:M,boundary:L.filter(y3),altBoundary:U},{refs:Se,floatingStyles:xe,placement:ae,isPositioned:he,middlewareData:q}=t3({strategy:"fixed",placement:k,whileElementsMounted:(...pt)=>GF(...pt,{animationFrame:T==="always"}),elements:{reference:C.anchor},middleware:[r3({mainAxis:o+R,alignmentAxis:l}),d&&s3({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?o3():void 0,...j}),d&&i3({...j}),a3({...j,apply:({elements:pt,rects:It,availableWidth:An,availableHeight:Rn})=>{const{width:tn,height:Ns}=It.reference,Rt=pt.floating.style;Rt.setProperty("--radix-popper-available-width",`${An}px`),Rt.setProperty("--radix-popper-available-height",`${Rn}px`),Rt.setProperty("--radix-popper-anchor-width",`${tn}px`),Rt.setProperty("--radix-popper-anchor-height",`${Ns}px`)}}),$&&c3({element:$,padding:u}),v3({arrowWidth:D,arrowHeight:R}),x&&l3({strategy:"referenceHidden",...j})]}),[Z,ne]=dC(ae),z=en(b);Vt(()=>{he&&(z==null||z())},[he,z]);const X=(se=q.arrow)==null?void 0:se.x,oe=(ge=q.arrow)==null?void 0:ge.y,pe=((Te=q.arrow)==null?void 0:Te.centerOffset)!==0,[Re,me]=w.useState();return Vt(()=>{P&&me(window.getComputedStyle(P).zIndex)},[P]),h.jsx("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:he?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(Pe=q.transformOrigin)==null?void 0:Pe.x,(Be=q.transformOrigin)==null?void 0:Be.y].join(" "),...((He=q.hide)==null?void 0:He.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:h.jsx(p3,{scope:t,placedSide:Z,onArrowChange:B,arrowX:X,arrowY:oe,shouldHideArrow:pe,children:h.jsx($e.div,{"data-side":Z,"data-align":ne,...I,ref:O,style:{...I.style,animation:he?void 0:"none"}})})})});lC.displayName=Dv;var cC="PopperArrow",g3={top:"bottom",right:"left",bottom:"top",left:"right"},uC=w.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=m3(cC,r),l=g3[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(d3,{...o,ref:t,style:{...o.style,display:"block"}})})});uC.displayName=cC;function y3(n){return n!==null}var v3=n=>({name:"transformOrigin",options:n,fn(e){var C,P,V;const{placement:t,rects:r,middlewareData:o}=e,l=((C=o.arrow)==null?void 0:C.centerOffset)!==0,u=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[m,y]=dC(t),g={start:"0%",center:"50%",end:"100%"}[y],x=(((P=o.arrow)==null?void 0:P.x)??0)+u/2,T=(((V=o.arrow)==null?void 0:V.y)??0)+d/2;let b="",I="";return m==="bottom"?(b=l?g:`${x}px`,I=`${-d}px`):m==="top"?(b=l?g:`${x}px`,I=`${r.floating.height+d}px`):m==="right"?(b=`${-d}px`,I=l?g:`${T}px`):m==="left"&&(b=`${r.floating.width+d}px`,I=l?g:`${T}px`),{data:{x:b,y:I}}}});function dC(n){const[e,t="center"]=n.split("-");return[e,t]}var fC=oC,hC=aC,pC=lC,mC=uC,w3="Portal",Kh=w.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[o,a]=w.useState(!1);Vt(()=>a(!0),[]);const l=t||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?VI.createPortal(h.jsx($e.div,{...r,ref:e}),l):null});Kh.displayName=w3;var _3=_S[" useInsertionEffect ".trim().toString()]||Vt;function Nl({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,l]=x3({defaultProp:e,onChange:t}),u=n!==void 0,d=u?n:o;{const y=w.useRef(n!==void 0);w.useEffect(()=>{const g=y.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const m=w.useCallback(y=>{var g;if(u){const x=E3(y)?y(n):y;x!==n&&((g=l.current)==null||g.call(l,x))}else a(y)},[u,n,a,l]);return[d,m]}function x3({defaultProp:n,onChange:e}){const[t,r]=w.useState(n),o=w.useRef(t),a=w.useRef(e);return _3(()=>{a.current=e},[e]),w.useEffect(()=>{var l;o.current!==t&&((l=a.current)==null||l.call(a,t),o.current=t)},[t,o]),[t,r,a]}function E3(n){return typeof n=="function"}function S3(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var gC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),T3="VisuallyHidden",b3=w.forwardRef((n,e)=>h.jsx($e.span,{...n,ref:e,style:{...gC,...n.style}}));b3.displayName=T3;var I3=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Za=new WeakMap,lf=new WeakMap,cf={},hg=0,yC=function(n){return n&&(n.host||yC(n.parentNode))},C3=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=yC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},A3=function(n,e,t,r){var o=C3(e,Array.isArray(n)?n:[n]);cf[t]||(cf[t]=new WeakMap);var a=cf[t],l=[],u=new Set,d=new Set(o),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};o.forEach(m);var y=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))y(x);else try{var T=x.getAttribute(r),b=T!==null&&T!=="false",I=(Za.get(x)||0)+1,C=(a.get(x)||0)+1;Za.set(x,I),a.set(x,C),l.push(x),I===1&&b&&lf.set(x,!0),C===1&&x.setAttribute(t,"true"),b||x.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",x,P)}})};return y(e),u.clear(),hg++,function(){l.forEach(function(g){var x=Za.get(g)-1,T=a.get(g)-1;Za.set(g,x),a.set(g,T),x||(lf.has(g)||g.removeAttribute(r),lf.delete(g)),T||g.removeAttribute(t)}),hg--,hg||(Za=new WeakMap,Za=new WeakMap,lf=new WeakMap,cf={})}},Mv=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=I3(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),A3(r,o,t,"aria-hidden")):function(){return null}},Cf="right-scroll-bar-position",Af="width-before-scroll-bar",R3="with-scroll-bars-hidden",k3="--removed-body-scroll-bar-size";function pg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function P3(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var N3=typeof window<"u"?w.useLayoutEffect:w.useEffect,HE=new WeakMap;function D3(n,e){var t=P3(null,function(r){return n.forEach(function(o){return pg(o,r)})});return N3(function(){var r=HE.get(t);if(r){var o=new Set(r),a=new Set(n),l=t.current;o.forEach(function(u){a.has(u)||pg(u,null)}),a.forEach(function(u){o.has(u)||pg(u,l)})}HE.set(t,n)},[n]),t}function M3(n){return n}function j3(n,e){e===void 0&&(e=M3);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(a),l=t}var d=function(){var y=l;l=[],y.forEach(a)},m=function(){return Promise.resolve().then(d)};m(),t={push:function(y){l.push(y),m()},filter:function(y){return l=l.filter(y),t}}}};return o}function O3(n){n===void 0&&(n={});var e=j3(null);return e.options=vs({async:!0,ssr:!1},n),e}var vC=function(n){var e=n.sideCar,t=mu(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,vs({},t))};vC.isSideCarExport=!0;function L3(n,e){return n.useMedium(e),vC}var wC=O3(),mg=function(){},Yh=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:mg,onWheelCapture:mg,onTouchMoveCapture:mg}),o=r[0],a=r[1],l=n.forwardProps,u=n.children,d=n.className,m=n.removeScrollBar,y=n.enabled,g=n.shards,x=n.sideCar,T=n.noIsolation,b=n.inert,I=n.allowPinchZoom,C=n.as,P=C===void 0?"div":C,V=n.gapMode,O=mu(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=x,B=D3([t,e]),K=vs(vs({},O),o);return w.createElement(w.Fragment,null,y&&w.createElement($,{sideCar:wC,removeScrollBar:m,shards:g,noIsolation:T,inert:b,setCallbacks:a,allowPinchZoom:!!I,lockRef:t,gapMode:V}),l?w.cloneElement(w.Children.only(u),vs(vs({},K),{ref:B})):w.createElement(P,vs({},K,{className:d,ref:B}),u))});Yh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yh.classNames={fullWidth:Af,zeroRight:Cf};var V3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F3(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=V3();return e&&n.setAttribute("nonce",e),n}function U3(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function $3(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var z3=function(){var n=0,e=null;return{add:function(t){n==0&&(e=F3())&&(U3(e,t),$3(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},B3=function(){var n=z3();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},_C=function(){var n=B3(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},W3={left:0,top:0,right:0,gap:0},gg=function(n){return parseInt(n||"",10)||0},H3=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[gg(t),gg(r),gg(o)]},q3=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return W3;var e=H3(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},G3=_C(),_l="data-scroll-locked",K3=function(n,e,t,r){var o=n.left,a=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(R3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(_l,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Af,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Af," .").concat(Af,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_l,`] {
    `).concat(k3,": ").concat(u,`px;
  }
`)},qE=function(){var n=parseInt(document.body.getAttribute(_l)||"0",10);return isFinite(n)?n:0},Y3=function(){w.useEffect(function(){return document.body.setAttribute(_l,(qE()+1).toString()),function(){var n=qE()-1;n<=0?document.body.removeAttribute(_l):document.body.setAttribute(_l,n.toString())}},[])},Q3=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;Y3();var a=w.useMemo(function(){return q3(o)},[o]);return w.createElement(G3,{styles:K3(a,!e,o,t?"":"!important")})},ay=!1;if(typeof window<"u")try{var uf=Object.defineProperty({},"passive",{get:function(){return ay=!0,!0}});window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{ay=!1}var el=ay?{passive:!1}:!1,X3=function(n){return n.tagName==="TEXTAREA"},xC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!X3(n)&&t[e]==="visible")},J3=function(n){return xC(n,"overflowY")},Z3=function(n){return xC(n,"overflowX")},GE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=EC(n,r);if(o){var a=SC(n,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},eU=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},tU=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},EC=function(n,e){return n==="v"?J3(e):Z3(e)},SC=function(n,e){return n==="v"?eU(e):tU(e)},nU=function(n,e){return n==="h"&&e==="rtl"?-1:1},rU=function(n,e,t,r,o){var a=nU(n,window.getComputedStyle(e).direction),l=a*r,u=t.target,d=e.contains(u),m=!1,y=l>0,g=0,x=0;do{var T=SC(n,u),b=T[0],I=T[1],C=T[2],P=I-C-a*b;(b||P)&&EC(n,u)&&(g+=P,x+=b),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(y&&Math.abs(g)<1||!y&&Math.abs(x)<1)&&(m=!0),m},df=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},KE=function(n){return[n.deltaX,n.deltaY]},YE=function(n){return n&&"current"in n?n.current:n},sU=function(n,e){return n[0]===e[0]&&n[1]===e[1]},oU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},iU=0,tl=[];function aU(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),o=w.useState(iU++)[0],a=w.useState(_C)[0],l=w.useRef(n);w.useEffect(function(){l.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var I=oD([n.lockRef.current],(n.shards||[]).map(YE),!0).filter(Boolean);return I.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var u=w.useCallback(function(I,C){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var P=df(I),V=t.current,O="deltaX"in I?I.deltaX:V[0]-P[0],$="deltaY"in I?I.deltaY:V[1]-P[1],B,K=I.target,D=Math.abs(O)>Math.abs($)?"h":"v";if("touches"in I&&D==="h"&&K.type==="range")return!1;var R=GE(D,K);if(!R)return!0;if(R?B=D:(B=D==="v"?"h":"v",R=GE(D,K)),!R)return!1;if(!r.current&&"changedTouches"in I&&(O||$)&&(r.current=B),!B)return!0;var k=r.current||B;return rU(k,C,I,k==="h"?O:$)},[]),d=w.useCallback(function(I){var C=I;if(!(!tl.length||tl[tl.length-1]!==a)){var P="deltaY"in C?KE(C):df(C),V=e.current.filter(function(B){return B.name===C.type&&(B.target===C.target||C.target===B.shadowParent)&&sU(B.delta,P)})[0];if(V&&V.should){C.cancelable&&C.preventDefault();return}if(!V){var O=(l.current.shards||[]).map(YE).filter(Boolean).filter(function(B){return B.contains(C.target)}),$=O.length>0?u(C,O[0]):!l.current.noIsolation;$&&C.cancelable&&C.preventDefault()}}},[]),m=w.useCallback(function(I,C,P,V){var O={name:I,delta:C,target:P,should:V,shadowParent:lU(P)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function($){return $!==O})},1)},[]),y=w.useCallback(function(I){t.current=df(I),r.current=void 0},[]),g=w.useCallback(function(I){m(I.type,KE(I),I.target,u(I,n.lockRef.current))},[]),x=w.useCallback(function(I){m(I.type,df(I),I.target,u(I,n.lockRef.current))},[]);w.useEffect(function(){return tl.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",d,el),document.addEventListener("touchmove",d,el),document.addEventListener("touchstart",y,el),function(){tl=tl.filter(function(I){return I!==a}),document.removeEventListener("wheel",d,el),document.removeEventListener("touchmove",d,el),document.removeEventListener("touchstart",y,el)}},[]);var T=n.removeScrollBar,b=n.inert;return w.createElement(w.Fragment,null,b?w.createElement(a,{styles:oU(o)}):null,T?w.createElement(Q3,{gapMode:n.gapMode}):null)}function lU(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const cU=L3(wC,aU);var Qh=w.forwardRef(function(n,e){return w.createElement(Yh,vs({},n,{ref:e,sideCar:cU}))});Qh.classNames=Yh.classNames;var uU=[" ","Enter","ArrowUp","ArrowDown"],dU=[" ","Enter"],sa="Select",[Xh,Jh,fU]=Sv(sa),[Hl,mW]=ts(sa,[fU,Gh]),Zh=Gh(),[hU,mi]=Hl(sa),[pU,mU]=Hl(sa),TC=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:a,value:l,defaultValue:u,onValueChange:d,dir:m,name:y,autoComplete:g,disabled:x,required:T,form:b}=n,I=Zh(e),[C,P]=w.useState(null),[V,O]=w.useState(null),[$,B]=w.useState(!1),K=Iu(m),[D,R]=Nl({prop:r,defaultProp:o??!1,onChange:a,caller:sa}),[k,M]=Nl({prop:l,defaultProp:u,onChange:d,caller:sa}),L=w.useRef(null),U=C?b||!!C.closest("form"):!0,[j,Se]=w.useState(new Set),xe=Array.from(j).map(ae=>ae.props.value).join(";");return h.jsx(fC,{...I,children:h.jsxs(hU,{required:T,scope:e,trigger:C,onTriggerChange:P,valueNode:V,onValueNodeChange:O,valueNodeHasChildren:$,onValueNodeHasChildrenChange:B,contentId:Ts(),value:k,onValueChange:M,open:D,onOpenChange:R,dir:K,triggerPointerDownPosRef:L,disabled:x,children:[h.jsx(Xh.Provider,{scope:e,children:h.jsx(pU,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(ae=>{Se(he=>new Set(he).add(ae))},[]),onNativeOptionRemove:w.useCallback(ae=>{Se(he=>{const q=new Set(he);return q.delete(ae),q})},[]),children:t})}),U?h.jsxs(qC,{"aria-hidden":!0,required:T,tabIndex:-1,name:y,autoComplete:g,value:k,onChange:ae=>M(ae.target.value),disabled:x,form:b,children:[k===void 0?h.jsx("option",{value:""}):null,Array.from(j)]},xe):null]})})};TC.displayName=sa;var bC="SelectTrigger",IC=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,a=Zh(t),l=mi(bC,t),u=l.disabled||r,d=Ze(e,l.onTriggerChange),m=Jh(t),y=w.useRef("touch"),[g,x,T]=KC(I=>{const C=m().filter(O=>!O.disabled),P=C.find(O=>O.value===l.value),V=YC(C,I,P);V!==void 0&&l.onValueChange(V.value)}),b=I=>{u||(l.onOpenChange(!0),T()),I&&(l.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return h.jsx(hC,{asChild:!0,...a,children:h.jsx($e.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":GC(l.value)?"":void 0,...o,ref:d,onClick:_e(o.onClick,I=>{I.currentTarget.focus(),y.current!=="mouse"&&b(I)}),onPointerDown:_e(o.onPointerDown,I=>{y.current=I.pointerType;const C=I.target;C.hasPointerCapture(I.pointerId)&&C.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(b(I),I.preventDefault())}),onKeyDown:_e(o.onKeyDown,I=>{const C=g.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&x(I.key),!(C&&I.key===" ")&&uU.includes(I.key)&&(b(),I.preventDefault())})})})});IC.displayName=bC;var CC="SelectValue",AC=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:a,placeholder:l="",...u}=n,d=mi(CC,t),{onValueNodeHasChildrenChange:m}=d,y=a!==void 0,g=Ze(e,d.onValueNodeChange);return Vt(()=>{m(y)},[m,y]),h.jsx($e.span,{...u,ref:g,style:{pointerEvents:"none"},children:GC(d.value)?h.jsx(h.Fragment,{children:l}):a})});AC.displayName=CC;var gU="SelectIcon",RC=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return h.jsx($e.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});RC.displayName=gU;var yU="SelectPortal",kC=n=>h.jsx(Kh,{asChild:!0,...n});kC.displayName=yU;var oa="SelectContent",PC=w.forwardRef((n,e)=>{const t=mi(oa,n.__scopeSelect),[r,o]=w.useState();if(Vt(()=>{o(new DocumentFragment)},[]),!t.open){const a=r;return a?bu.createPortal(h.jsx(NC,{scope:n.__scopeSelect,children:h.jsx(Xh.Slot,{scope:n.__scopeSelect,children:h.jsx("div",{children:n.children})})}),a):null}return h.jsx(DC,{...n,ref:e})});PC.displayName=oa;var zr=10,[NC,gi]=Hl(oa),vU="SelectContentImpl",wU=na("SelectContent.RemoveScroll"),DC=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:d,align:m,alignOffset:y,arrowPadding:g,collisionBoundary:x,collisionPadding:T,sticky:b,hideWhenDetached:I,avoidCollisions:C,...P}=n,V=mi(oa,t),[O,$]=w.useState(null),[B,K]=w.useState(null),D=Ze(e,se=>$(se)),[R,k]=w.useState(null),[M,L]=w.useState(null),U=Jh(t),[j,Se]=w.useState(!1),xe=w.useRef(!1);w.useEffect(()=>{if(O)return Mv(O)},[O]),Tv();const ae=w.useCallback(se=>{const[ge,...Te]=U().map(He=>He.ref.current),[Pe]=Te.slice(-1),Be=document.activeElement;for(const He of se)if(He===Be||(He==null||He.scrollIntoView({block:"nearest"}),He===ge&&B&&(B.scrollTop=0),He===Pe&&B&&(B.scrollTop=B.scrollHeight),He==null||He.focus(),document.activeElement!==Be))return},[U,B]),he=w.useCallback(()=>ae([R,O]),[ae,R,O]);w.useEffect(()=>{j&&he()},[j,he]);const{onOpenChange:q,triggerPointerDownPosRef:Z}=V;w.useEffect(()=>{if(O){let se={x:0,y:0};const ge=Pe=>{var Be,He;se={x:Math.abs(Math.round(Pe.pageX)-(((Be=Z.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((He=Z.current)==null?void 0:He.y)??0))}},Te=Pe=>{se.x<=10&&se.y<=10?Pe.preventDefault():O.contains(Pe.target)||q(!1),document.removeEventListener("pointermove",ge),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Te,{capture:!0})}}},[O,q,Z]),w.useEffect(()=>{const se=()=>q(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[q]);const[ne,z]=KC(se=>{const ge=U().filter(Be=>!Be.disabled),Te=ge.find(Be=>Be.ref.current===document.activeElement),Pe=YC(ge,se,Te);Pe&&setTimeout(()=>Pe.ref.current.focus())}),X=w.useCallback((se,ge,Te)=>{const Pe=!xe.current&&!Te;(V.value!==void 0&&V.value===ge||Pe)&&(k(se),Pe&&(xe.current=!0))},[V.value]),oe=w.useCallback(()=>O==null?void 0:O.focus(),[O]),pe=w.useCallback((se,ge,Te)=>{const Pe=!xe.current&&!Te;(V.value!==void 0&&V.value===ge||Pe)&&L(se)},[V.value]),Re=r==="popper"?ly:MC,me=Re===ly?{side:u,sideOffset:d,align:m,alignOffset:y,arrowPadding:g,collisionBoundary:x,collisionPadding:T,sticky:b,hideWhenDetached:I,avoidCollisions:C}:{};return h.jsx(NC,{scope:t,content:O,viewport:B,onViewportChange:K,itemRefCallback:X,selectedItem:R,onItemLeave:oe,itemTextRefCallback:pe,focusSelectedItem:he,selectedItemText:M,position:r,isPositioned:j,searchRef:ne,children:h.jsx(Qh,{as:wU,allowPinchZoom:!0,children:h.jsx(Bh,{asChild:!0,trapped:V.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:_e(o,se=>{var ge;(ge=V.trigger)==null||ge.focus({preventScroll:!0}),se.preventDefault()}),children:h.jsx(zh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>V.onOpenChange(!1),children:h.jsx(Re,{role:"listbox",id:V.contentId,"data-state":V.open?"open":"closed",dir:V.dir,onContextMenu:se=>se.preventDefault(),...P,...me,onPlaced:()=>Se(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:_e(P.onKeyDown,se=>{const ge=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ge&&se.key.length===1&&z(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Pe=U().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Be=se.target,He=Pe.indexOf(Be);Pe=Pe.slice(He+1)}setTimeout(()=>ae(Pe)),se.preventDefault()}})})})})})})});DC.displayName=vU;var _U="SelectItemAlignedPosition",MC=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,a=mi(oa,t),l=gi(oa,t),[u,d]=w.useState(null),[m,y]=w.useState(null),g=Ze(e,D=>y(D)),x=Jh(t),T=w.useRef(!1),b=w.useRef(!0),{viewport:I,selectedItem:C,selectedItemText:P,focusSelectedItem:V}=l,O=w.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&m&&I&&C&&P){const D=a.trigger.getBoundingClientRect(),R=m.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),M=P.getBoundingClientRect();if(a.dir!=="rtl"){const Be=M.left-R.left,He=k.left-Be,pt=D.left-He,It=D.width+pt,An=Math.max(It,R.width),Rn=window.innerWidth-zr,tn=ny(He,[zr,Math.max(zr,Rn-An)]);u.style.minWidth=It+"px",u.style.left=tn+"px"}else{const Be=R.right-M.right,He=window.innerWidth-k.right-Be,pt=window.innerWidth-D.right-He,It=D.width+pt,An=Math.max(It,R.width),Rn=window.innerWidth-zr,tn=ny(He,[zr,Math.max(zr,Rn-An)]);u.style.minWidth=It+"px",u.style.right=tn+"px"}const L=x(),U=window.innerHeight-zr*2,j=I.scrollHeight,Se=window.getComputedStyle(m),xe=parseInt(Se.borderTopWidth,10),ae=parseInt(Se.paddingTop,10),he=parseInt(Se.borderBottomWidth,10),q=parseInt(Se.paddingBottom,10),Z=xe+ae+j+q+he,ne=Math.min(C.offsetHeight*5,Z),z=window.getComputedStyle(I),X=parseInt(z.paddingTop,10),oe=parseInt(z.paddingBottom,10),pe=D.top+D.height/2-zr,Re=U-pe,me=C.offsetHeight/2,se=C.offsetTop+me,ge=xe+ae+se,Te=Z-ge;if(ge<=pe){const Be=L.length>0&&C===L[L.length-1].ref.current;u.style.bottom="0px";const He=m.clientHeight-I.offsetTop-I.offsetHeight,pt=Math.max(Re,me+(Be?oe:0)+He+he),It=ge+pt;u.style.height=It+"px"}else{const Be=L.length>0&&C===L[0].ref.current;u.style.top="0px";const pt=Math.max(pe,xe+I.offsetTop+(Be?X:0)+me)+Te;u.style.height=pt+"px",I.scrollTop=ge-pe+I.offsetTop}u.style.margin=`${zr}px 0`,u.style.minHeight=ne+"px",u.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[x,a.trigger,a.valueNode,u,m,I,C,P,a.dir,r]);Vt(()=>O(),[O]);const[$,B]=w.useState();Vt(()=>{m&&B(window.getComputedStyle(m).zIndex)},[m]);const K=w.useCallback(D=>{D&&b.current===!0&&(O(),V==null||V(),b.current=!1)},[O,V]);return h.jsx(EU,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:K,children:h.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:h.jsx($e.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});MC.displayName=_U;var xU="SelectPopperPosition",ly=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=zr,...a}=n,l=Zh(t);return h.jsx(pC,{...l,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ly.displayName=xU;var[EU,jv]=Hl(oa,{}),cy="SelectViewport",jC=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,a=gi(cy,t),l=jv(cy,t),u=Ze(e,a.onViewportChange),d=w.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Xh.Slot,{scope:t,children:h.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:_e(o.onScroll,m=>{const y=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&g){const T=Math.abs(d.current-y.scrollTop);if(T>0){const b=window.innerHeight-zr*2,I=parseFloat(g.style.minHeight),C=parseFloat(g.style.height),P=Math.max(I,C);if(P<b){const V=P+T,O=Math.min(b,V),$=V-O;g.style.height=O+"px",g.style.bottom==="0px"&&(y.scrollTop=$>0?$:0,g.style.justifyContent="flex-end")}}}d.current=y.scrollTop})})})]})});jC.displayName=cy;var OC="SelectGroup",[SU,TU]=Hl(OC),bU=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Ts();return h.jsx(SU,{scope:t,id:o,children:h.jsx($e.div,{role:"group","aria-labelledby":o,...r,ref:e})})});bU.displayName=OC;var LC="SelectLabel",IU=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=TU(LC,t);return h.jsx($e.div,{id:o.id,...r,ref:e})});IU.displayName=LC;var sh="SelectItem",[CU,VC]=Hl(sh),FC=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:a,...l}=n,u=mi(sh,t),d=gi(sh,t),m=u.value===r,[y,g]=w.useState(a??""),[x,T]=w.useState(!1),b=Ze(e,V=>{var O;return(O=d.itemRefCallback)==null?void 0:O.call(d,V,r,o)}),I=Ts(),C=w.useRef("touch"),P=()=>{o||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(CU,{scope:t,value:r,disabled:o,textId:I,isSelected:m,onItemTextChange:w.useCallback(V=>{g(O=>O||((V==null?void 0:V.textContent)??"").trim())},[]),children:h.jsx(Xh.ItemSlot,{scope:t,value:r,disabled:o,textValue:y,children:h.jsx($e.div,{role:"option","aria-labelledby":I,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:b,onFocus:_e(l.onFocus,()=>T(!0)),onBlur:_e(l.onBlur,()=>T(!1)),onClick:_e(l.onClick,()=>{C.current!=="mouse"&&P()}),onPointerUp:_e(l.onPointerUp,()=>{C.current==="mouse"&&P()}),onPointerDown:_e(l.onPointerDown,V=>{C.current=V.pointerType}),onPointerMove:_e(l.onPointerMove,V=>{var O;C.current=V.pointerType,o?(O=d.onItemLeave)==null||O.call(d):C.current==="mouse"&&V.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(l.onPointerLeave,V=>{var O;V.currentTarget===document.activeElement&&((O=d.onItemLeave)==null||O.call(d))}),onKeyDown:_e(l.onKeyDown,V=>{var $;(($=d.searchRef)==null?void 0:$.current)!==""&&V.key===" "||(dU.includes(V.key)&&P(),V.key===" "&&V.preventDefault())})})})})});FC.displayName=sh;var Bc="SelectItemText",UC=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...a}=n,l=mi(Bc,t),u=gi(Bc,t),d=VC(Bc,t),m=mU(Bc,t),[y,g]=w.useState(null),x=Ze(e,P=>g(P),d.onItemTextChange,P=>{var V;return(V=u.itemTextRefCallback)==null?void 0:V.call(u,P,d.value,d.disabled)}),T=y==null?void 0:y.textContent,b=w.useMemo(()=>h.jsx("option",{value:d.value,disabled:d.disabled,children:T},d.value),[d.disabled,d.value,T]),{onNativeOptionAdd:I,onNativeOptionRemove:C}=m;return Vt(()=>(I(b),()=>C(b)),[I,C,b]),h.jsxs(h.Fragment,{children:[h.jsx($e.span,{id:d.textId,...a,ref:x}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?bu.createPortal(a.children,l.valueNode):null]})});UC.displayName=Bc;var $C="SelectItemIndicator",zC=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return VC($C,t).isSelected?h.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});zC.displayName=$C;var uy="SelectScrollUpButton",BC=w.forwardRef((n,e)=>{const t=gi(uy,n.__scopeSelect),r=jv(uy,n.__scopeSelect),[o,a]=w.useState(!1),l=Ze(e,r.onScrollButtonChange);return Vt(()=>{if(t.viewport&&t.isPositioned){let u=function(){const m=d.scrollTop>0;a(m)};const d=t.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),o?h.jsx(HC,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=t;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});BC.displayName=uy;var dy="SelectScrollDownButton",WC=w.forwardRef((n,e)=>{const t=gi(dy,n.__scopeSelect),r=jv(dy,n.__scopeSelect),[o,a]=w.useState(!1),l=Ze(e,r.onScrollButtonChange);return Vt(()=>{if(t.viewport&&t.isPositioned){let u=function(){const m=d.scrollHeight-d.clientHeight,y=Math.ceil(d.scrollTop)<m;a(y)};const d=t.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),o?h.jsx(HC,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=t;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});WC.displayName=dy;var HC=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,a=gi("SelectScrollButton",t),l=w.useRef(null),u=Jh(t),d=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),Vt(()=>{var y;const m=u().find(g=>g.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[u]),h.jsx($e.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:_e(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:_e(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:_e(o.onPointerLeave,()=>{d()})})}),AU="SelectSeparator",RU=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return h.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});RU.displayName=AU;var fy="SelectArrow",kU=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Zh(t),a=mi(fy,t),l=gi(fy,t);return a.open&&l.position==="popper"?h.jsx(mC,{...o,...r,ref:e}):null});kU.displayName=fy;var PU="SelectBubbleInput",qC=w.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=w.useRef(null),a=Ze(r,o),l=S3(e);return w.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&y){const g=new Event("change",{bubbles:!0});y.call(u,e),u.dispatchEvent(g)}},[l,e]),h.jsx($e.select,{...t,style:{...gC,...t.style},ref:a,defaultValue:e})});qC.displayName=PU;function GC(n){return n===""||n===void 0}function KC(n){const e=en(n),t=w.useRef(""),r=w.useRef(0),o=w.useCallback(l=>{const u=t.current+l;e(u),function d(m){t.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[e]),a=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,a]}function YC(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=NU(n,Math.max(a,0));o.length===1&&(l=l.filter(m=>m!==t));const d=l.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==t?d:void 0}function NU(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var DU=TC,MU=IC,jU=AC,OU=RC,LU=kC,VU=PC,FU=jC,UU=FC,$U=UC,zU=zC,BU=BC,WU=WC;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qU=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),QE=n=>{const e=qU(n);return e.charAt(0).toUpperCase()+e.slice(1)},QC=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),GU=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:l,...u},d)=>w.createElement("svg",{ref:d,...KU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:QC("lucide",o),...!a&&!GU(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,y])=>w.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(n,e)=>{const t=w.forwardRef(({className:r,...o},a)=>w.createElement(YU,{ref:a,iconNode:e,className:QC(`lucide-${HU(QE(n))}`,`lucide-${n}`,r),...o}));return t.displayName=QE(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],XU=Ye("arrow-left",QU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ZU=Ye("bell",JU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],t5=Ye("calendar-clock",e5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],r5=Ye("calendar",n5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],o5=Ye("chart-no-axes-column-increasing",s5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XC=Ye("check",i5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ep=Ye("chevron-down",a5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],JC=Ye("chevron-left",l5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ZC=Ye("chevron-right",c5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],e1=Ye("chevron-up",u5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xc=Ye("circle-alert",d5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ql=Ye("circle-plus",f5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],p5=Ye("clock",h5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],Ov=Ye("dumbbell",m5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],t1=Ye("info",g5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],v5=Ye("layout-dashboard",y5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gl=Ye("loader-circle",w5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x5=Ye("lock",_5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],n1=Ye("log-out",E5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],T5=Ye("mail",S5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],I5=Ye("moon",b5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],A5=Ye("pen",C5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],k5=Ye("plus",R5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],N5=Ye("ruler",P5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],M5=Ye("save",D5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],XE=Ye("scale",j5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],r1=Ye("search",O5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hy=Ye("square-pen",L5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],F5=Ye("sun",V5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$5=Ye("target",U5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tp=Ye("trash-2",z5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],W5=Ye("trash",B5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s1=Ye("triangle-alert",H5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],G5=Ye("user-cog",q5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lv=Ye("user",K5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],o1=Ye("utensils-crossed",Y5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],i1=Ye("utensils",Q5);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],np=Ye("x",X5);function il({...n}){return h.jsx(DU,{"data-slot":"select",...n})}function al({...n}){return h.jsx(jU,{"data-slot":"select-value",...n})}function ll({className:n,size:e="default",children:t,...r}){return h.jsxs(MU,{"data-slot":"select-trigger","data-size":e,className:Ne("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,h.jsx(OU,{asChild:!0,children:h.jsx(ep,{className:"size-4 opacity-50"})})]})}function cl({className:n,children:e,position:t="popper",...r}){return h.jsx(LU,{children:h.jsxs(VU,{"data-slot":"select-content",className:Ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[h.jsx(J5,{}),h.jsx(FU,{className:Ne("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),h.jsx(Z5,{})]})})}function ul({className:n,children:e,...t}){return h.jsxs(UU,{"data-slot":"select-item",className:Ne("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[h.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:h.jsx(zU,{children:h.jsx(XC,{className:"size-4"})})}),h.jsx($U,{children:e})]})}function J5({className:n,...e}){return h.jsx(BU,{"data-slot":"select-scroll-up-button",className:Ne("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(e1,{className:"size-4"})})}function Z5({className:n,...e}){return h.jsx(WU,{"data-slot":"select-scroll-down-button",className:Ne("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(ep,{className:"size-4"})})}const e9=[1,2,3,4,5,6,7],t9=["kg","lb"],n9=["cm","ft"],r9=["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"],s9=({dateFormat:n,heightUnit:e,weightUnit:t,workoutDaysPerWeek:r=3,onDateFormatChange:o,onHeightUnitChange:a,onWeightUnitChange:l,onWorkoutDaysChange:u})=>h.jsxs("div",{className:"space-y-6",children:[h.jsx(AE,{title:"Workout Preferences",description:"Customize your workout planning settings",children:h.jsx(of,{icon:h.jsx(Ov,{className:"h-5 w-5 text-muted-foreground"}),label:"Workout Days Per Week",description:"How many days per week you plan to work out",inputId:"workout-days",children:h.jsxs(il,{value:(r==null?void 0:r.toString())||"3",onValueChange:d=>u(parseInt(d)),children:[h.jsx(ll,{className:"w-40",id:"workout-days",children:h.jsx(al,{placeholder:"Days Per Week"})}),h.jsx(cl,{children:e9.map(d=>h.jsxs(ul,{value:d.toString(),children:[d," ",d===1?"day":"days"]},d))})]})})}),h.jsxs(AE,{title:"Units & Formatting",description:"Customize measurement units and date formats",children:[h.jsx(of,{icon:h.jsx(t5,{className:"h-5 w-5 text-muted-foreground"}),label:"Date Format",description:"How dates should be displayed",inputId:"date-format",children:h.jsxs(il,{value:n,onValueChange:o,children:[h.jsx(ll,{className:"w-40",children:h.jsx(al,{placeholder:"Date Format"})}),h.jsx(cl,{children:r9.map(d=>h.jsx(ul,{value:d,children:d},d))})]})}),h.jsx(of,{icon:h.jsx(XE,{className:"h-5 w-5 text-muted-foreground"}),label:"Height Unit",description:"Choose your preferred height measurement",inputId:"height-unit",children:h.jsxs(il,{value:e,onValueChange:a,children:[h.jsx(ll,{className:"w-40",children:h.jsx(al,{placeholder:"Height Unit"})}),h.jsx(cl,{children:n9.map(d=>h.jsx(ul,{value:d,children:d==="cm"?"Centimeters (cm)":"Feet (ft)"},d))})]})}),h.jsx(of,{icon:h.jsx(XE,{className:"h-5 w-5 text-muted-foreground"}),label:"Weight Unit",description:"Choose your preferred weight measurement",inputId:"weight-unit",children:h.jsxs(il,{value:t,onValueChange:l,children:[h.jsx(ll,{className:"w-40",children:h.jsx(al,{placeholder:"Weight Unit"})}),h.jsx(cl,{children:t9.map(d=>h.jsx(ul,{value:d,children:d==="kg"?"Kilograms (kg)":"Pounds (lb)"},d))})]})})]})]}),JE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ZE=CI,Vv=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return ZE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:a}=e,l=Object.keys(o).map(m=>{const y=t==null?void 0:t[m],g=a==null?void 0:a[m];if(y===null)return null;const x=JE(y)||JE(g);return o[m][x]}),u=t&&Object.entries(t).reduce((m,y)=>{let[g,x]=y;return x===void 0||(m[g]=x),m},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:g,className:x,...T}=y;return Object.entries(T).every(b=>{let[I,C]=b;return Array.isArray(C)?C.includes({...a,...u}[I]):{...a,...u}[I]===C})?[...m,g,x]:m},[]);return ZE(n,l,d,t==null?void 0:t.class,t==null?void 0:t.className)},o9=Vv("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function a1({className:n,variant:e,...t}){return h.jsx("div",{"data-slot":"alert",role:"alert",className:Ne(o9({variant:e}),n),...t})}function l1({className:n,...e}){return h.jsx("div",{"data-slot":"alert-description",className:Ne("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}var yg={exports:{}},vg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function i9(){if(eS)return vg;eS=1;var n=hh();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(g,x){var T=x(),b=r({inst:{value:T,getSnapshot:x}}),I=b[0].inst,C=b[1];return a(function(){I.value=T,I.getSnapshot=x,d(I)&&C({inst:I})},[g,T,x]),o(function(){return d(I)&&C({inst:I}),g(function(){d(I)&&C({inst:I})})},[g]),l(T),T}function d(g){var x=g.getSnapshot;g=g.value;try{var T=x();return!t(g,T)}catch{return!0}}function m(g,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return vg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,vg}var tS;function a9(){return tS||(tS=1,yg.exports=i9()),yg.exports}var l9=a9();function c9(){return l9.useSyncExternalStore(u9,()=>!0,()=>!1)}function u9(){return()=>{}}var Fv="Avatar",[d9,gW]=ts(Fv),[f9,c1]=d9(Fv),u1=w.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[o,a]=w.useState("idle");return h.jsx(f9,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:h.jsx($e.span,{...r,ref:e})})});u1.displayName=Fv;var d1="AvatarImage",f1=w.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:o=()=>{},...a}=n,l=c1(d1,t),u=p9(r,a),d=en(m=>{o(m),l.onImageLoadingStatusChange(m)});return Vt(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?h.jsx($e.img,{...a,ref:e,src:r}):null});f1.displayName=d1;var h1="AvatarFallback",h9=w.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...o}=n,a=c1(h1,t),[l,u]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&a.imageLoadingStatus!=="loaded"?h.jsx($e.span,{...o,ref:e}):null});h9.displayName=h1;function nS(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function p9(n,{referrerPolicy:e,crossOrigin:t}){const r=c9(),o=w.useRef(null),a=r?(o.current||(o.current=new window.Image),o.current):null,[l,u]=w.useState(()=>nS(a,n));return Vt(()=>{u(nS(a,n))},[a,n]),Vt(()=>{const d=g=>()=>{u(g)};if(!a)return;const m=d("loaded"),y=d("error");return a.addEventListener("load",m),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",m),a.removeEventListener("error",y)}},[a,t,e]),l}var m9=u1,g9=f1;function y9({className:n,...e}){return h.jsx(m9,{"data-slot":"avatar",className:Ne("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function v9({className:n,...e}){return h.jsx(g9,{"data-slot":"avatar-image",className:Ne("aspect-square size-full",n),...e})}const w9=Vv("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Uv({className:n,variant:e,asChild:t=!1,...r}){const o=t?FI:"span";return h.jsx(o,{"data-slot":"badge",className:Ne(w9({variant:e}),n),...r})}const $v=Vv("inline-flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ve=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},a)=>{const l=r?FI:"button";return h.jsx(l,{className:Ne($v({variant:e,size:t,className:n})),ref:a,...o})});Ve.displayName="Button";function _9(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function x9(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function rS(n){const e=_9(n);return e.setHours(0,0,0,0),e}function E9(n){return x9(n,Date.now())}function S9(n,e){const t=rS(n),r=rS(e);return+t==+r}function T9(n){return S9(n,E9(n))}var Jc=function(){return Jc=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Jc.apply(this,arguments)};var b9=w.createContext(void 0);function I9(){var n=w.useContext(b9);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}w.createContext(void 0);w.forwardRef(function(n,e){var t=I9(),r=t.classNames,o=t.styles,a=[r.button_reset,r.button];n.className&&a.push(n.className);var l=a.join(" "),u=Jc(Jc({},o.button_reset),o.button);return n.style&&Object.assign(u,n.style),h.jsx("button",Jc({},n,{ref:e,type:"button",className:l,style:u}))});w.createContext(void 0);w.createContext(void 0);var Rs;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(Rs||(Rs={}));Rs.Selected;Rs.Disabled;Rs.Hidden;Rs.Today;Rs.RangeEnd;Rs.RangeMiddle;Rs.RangeStart;Rs.Outside;w.createContext(void 0);w.createContext(void 0);w.createContext(void 0);function C9(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var lr=n=>{const{present:e,children:t}=n,r=A9(e),o=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),a=Ze(r.ref,R9(o));return typeof t=="function"||r.isPresent?w.cloneElement(o,{ref:a}):null};lr.displayName="Presence";function A9(n){const[e,t]=w.useState(),r=w.useRef(null),o=w.useRef(n),a=w.useRef("none"),l=n?"mounted":"unmounted",[u,d]=C9(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=ff(r.current);a.current=u==="mounted"?m:"none"},[u]),Vt(()=>{const m=r.current,y=o.current;if(y!==n){const x=a.current,T=ff(m);n?d("MOUNT"):T==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(y&&x!==T?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,d]),Vt(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,g=T=>{const I=ff(r.current).includes(T.animationName);if(T.target===e&&I&&(d("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=T=>{T.target===e&&(a.current=ff(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function ff(n){return(n==null?void 0:n.animationName)||"none"}function R9(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var wg="rovingFocusGroup.onEntryFocus",k9={bubbles:!1,cancelable:!0},Au="RovingFocusGroup",[py,p1,P9]=Sv(Au),[N9,rp]=ts(Au,[P9]),[D9,M9]=N9(Au),m1=w.forwardRef((n,e)=>h.jsx(py.Provider,{scope:n.__scopeRovingFocusGroup,children:h.jsx(py.Slot,{scope:n.__scopeRovingFocusGroup,children:h.jsx(j9,{...n,ref:e})})}));m1.displayName=Au;var j9=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...g}=n,x=w.useRef(null),T=Ze(e,x),b=Iu(a),[I,C]=Nl({prop:l,defaultProp:u??null,onChange:d,caller:Au}),[P,V]=w.useState(!1),O=en(m),$=p1(t),B=w.useRef(!1),[K,D]=w.useState(0);return w.useEffect(()=>{const R=x.current;if(R)return R.addEventListener(wg,O),()=>R.removeEventListener(wg,O)},[O]),h.jsx(D9,{scope:t,orientation:r,dir:b,loop:o,currentTabStopId:I,onItemFocus:w.useCallback(R=>C(R),[C]),onItemShiftTab:w.useCallback(()=>V(!0),[]),onFocusableItemAdd:w.useCallback(()=>D(R=>R+1),[]),onFocusableItemRemove:w.useCallback(()=>D(R=>R-1),[]),children:h.jsx($e.div,{tabIndex:P||K===0?-1:0,"data-orientation":r,...g,ref:T,style:{outline:"none",...n.style},onMouseDown:_e(n.onMouseDown,()=>{B.current=!0}),onFocus:_e(n.onFocus,R=>{const k=!B.current;if(R.target===R.currentTarget&&k&&!P){const M=new CustomEvent(wg,k9);if(R.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=$().filter(ae=>ae.focusable),U=L.find(ae=>ae.active),j=L.find(ae=>ae.id===I),xe=[U,j,...L].filter(Boolean).map(ae=>ae.ref.current);v1(xe,y)}}B.current=!1}),onBlur:_e(n.onBlur,()=>V(!1))})})}),g1="RovingFocusGroupItem",y1=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:a,children:l,...u}=n,d=Ts(),m=a||d,y=M9(g1,t),g=y.currentTabStopId===m,x=p1(t),{onFocusableItemAdd:T,onFocusableItemRemove:b,currentTabStopId:I}=y;return w.useEffect(()=>{if(r)return T(),()=>b()},[r,T,b]),h.jsx(py.ItemSlot,{scope:t,id:m,focusable:r,active:o,children:h.jsx($e.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...u,ref:e,onMouseDown:_e(n.onMouseDown,C=>{r?y.onItemFocus(m):C.preventDefault()}),onFocus:_e(n.onFocus,()=>y.onItemFocus(m)),onKeyDown:_e(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){y.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const P=V9(C,y.orientation,y.dir);if(P!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let O=x().filter($=>$.focusable).map($=>$.ref.current);if(P==="last")O.reverse();else if(P==="prev"||P==="next"){P==="prev"&&O.reverse();const $=O.indexOf(C.currentTarget);O=y.loop?F9(O,$+1):O.slice($+1)}setTimeout(()=>v1(O))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:I!=null}):l})})});y1.displayName=g1;var O9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L9(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function V9(n,e,t){const r=L9(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return O9[r]}function v1(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function F9(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var w1=m1,_1=y1,my=["Enter"," "],U9=["ArrowDown","PageUp","Home"],x1=["ArrowUp","PageDown","End"],$9=[...U9,...x1],z9={ltr:[...my,"ArrowRight"],rtl:[...my,"ArrowLeft"]},B9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ru="Menu",[du,W9,H9]=Sv(Ru),[fa,E1]=ts(Ru,[H9,Gh,rp]),sp=Gh(),S1=rp(),[q9,ha]=fa(Ru),[G9,ku]=fa(Ru),T1=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:o,onOpenChange:a,modal:l=!0}=n,u=sp(e),[d,m]=w.useState(null),y=w.useRef(!1),g=en(a),x=Iu(o);return w.useEffect(()=>{const T=()=>{y.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>y.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),h.jsx(fC,{...u,children:h.jsx(q9,{scope:e,open:t,onOpenChange:g,content:d,onContentChange:m,children:h.jsx(G9,{scope:e,onClose:w.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:x,modal:l,children:r})})})};T1.displayName=Ru;var K9="MenuAnchor",zv=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=sp(t);return h.jsx(hC,{...o,...r,ref:e})});zv.displayName=K9;var Bv="MenuPortal",[Y9,b1]=fa(Bv,{forceMount:void 0}),I1=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:o}=n,a=ha(Bv,e);return h.jsx(Y9,{scope:e,forceMount:t,children:h.jsx(lr,{present:t||a.open,children:h.jsx(Kh,{asChild:!0,container:o,children:r})})})};I1.displayName=Bv;var Er="MenuContent",[Q9,Wv]=fa(Er),C1=w.forwardRef((n,e)=>{const t=b1(Er,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,a=ha(Er,n.__scopeMenu),l=ku(Er,n.__scopeMenu);return h.jsx(du.Provider,{scope:n.__scopeMenu,children:h.jsx(lr,{present:r||a.open,children:h.jsx(du.Slot,{scope:n.__scopeMenu,children:l.modal?h.jsx(X9,{...o,ref:e}):h.jsx(J9,{...o,ref:e})})})})}),X9=w.forwardRef((n,e)=>{const t=ha(Er,n.__scopeMenu),r=w.useRef(null),o=Ze(e,r);return w.useEffect(()=>{const a=r.current;if(a)return Mv(a)},[]),h.jsx(Hv,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:_e(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),J9=w.forwardRef((n,e)=>{const t=ha(Er,n.__scopeMenu);return h.jsx(Hv,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Z9=na("MenuContent.ScrollLock"),Hv=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:x,onDismiss:T,disableOutsideScroll:b,...I}=n,C=ha(Er,t),P=ku(Er,t),V=sp(t),O=S1(t),$=W9(t),[B,K]=w.useState(null),D=w.useRef(null),R=Ze(e,D,C.onContentChange),k=w.useRef(0),M=w.useRef(""),L=w.useRef(0),U=w.useRef(null),j=w.useRef("right"),Se=w.useRef(0),xe=b?Qh:w.Fragment,ae=b?{as:Z9,allowPinchZoom:!0}:void 0,he=Z=>{var se,ge;const ne=M.current+Z,z=$().filter(Te=>!Te.disabled),X=document.activeElement,oe=(se=z.find(Te=>Te.ref.current===X))==null?void 0:se.textValue,pe=z.map(Te=>Te.textValue),Re=d6(pe,ne,oe),me=(ge=z.find(Te=>Te.textValue===Re))==null?void 0:ge.ref.current;(function Te(Pe){M.current=Pe,window.clearTimeout(k.current),Pe!==""&&(k.current=window.setTimeout(()=>Te(""),1e3))})(ne),me&&setTimeout(()=>me.focus())};w.useEffect(()=>()=>window.clearTimeout(k.current),[]),Tv();const q=w.useCallback(Z=>{var z,X;return j.current===((z=U.current)==null?void 0:z.side)&&h6(Z,(X=U.current)==null?void 0:X.area)},[]);return h.jsx(Q9,{scope:t,searchRef:M,onItemEnter:w.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),onItemLeave:w.useCallback(Z=>{var ne;q(Z)||((ne=D.current)==null||ne.focus(),K(null))},[q]),onTriggerLeave:w.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),pointerGraceTimerRef:L,onPointerGraceIntentChange:w.useCallback(Z=>{U.current=Z},[]),children:h.jsx(xe,{...ae,children:h.jsx(Bh,{asChild:!0,trapped:o,onMountAutoFocus:_e(a,Z=>{var ne;Z.preventDefault(),(ne=D.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:h.jsx(zh,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:x,onDismiss:T,children:h.jsx(w1,{asChild:!0,...O,dir:P.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:K,onEntryFocus:_e(d,Z=>{P.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(pC,{role:"menu","aria-orientation":"vertical","data-state":B1(C.open),"data-radix-menu-content":"",dir:P.dir,...V,...I,ref:R,style:{outline:"none",...I.style},onKeyDown:_e(I.onKeyDown,Z=>{const z=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,X=Z.ctrlKey||Z.altKey||Z.metaKey,oe=Z.key.length===1;z&&(Z.key==="Tab"&&Z.preventDefault(),!X&&oe&&he(Z.key));const pe=D.current;if(Z.target!==pe||!$9.includes(Z.key))return;Z.preventDefault();const me=$().filter(se=>!se.disabled).map(se=>se.ref.current);x1.includes(Z.key)&&me.reverse(),c6(me)}),onBlur:_e(n.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(k.current),M.current="")}),onPointerMove:_e(n.onPointerMove,fu(Z=>{const ne=Z.target,z=Se.current!==Z.clientX;if(Z.currentTarget.contains(ne)&&z){const X=Z.clientX>Se.current?"right":"left";j.current=X,Se.current=Z.clientX}}))})})})})})})});C1.displayName=Er;var e6="MenuGroup",qv=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx($e.div,{role:"group",...r,ref:e})});qv.displayName=e6;var t6="MenuLabel",A1=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx($e.div,{...r,ref:e})});A1.displayName=t6;var oh="MenuItem",sS="menu.itemSelect",op=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...o}=n,a=w.useRef(null),l=ku(oh,n.__scopeMenu),u=Wv(oh,n.__scopeMenu),d=Ze(e,a),m=w.useRef(!1),y=()=>{const g=a.current;if(!t&&g){const x=new CustomEvent(sS,{bubbles:!0,cancelable:!0});g.addEventListener(sS,T=>r==null?void 0:r(T),{once:!0}),$I(g,x),x.defaultPrevented?m.current=!1:l.onClose()}};return h.jsx(R1,{...o,ref:d,disabled:t,onClick:_e(n.onClick,y),onPointerDown:g=>{var x;(x=n.onPointerDown)==null||x.call(n,g),m.current=!0},onPointerUp:_e(n.onPointerUp,g=>{var x;m.current||(x=g.currentTarget)==null||x.click()}),onKeyDown:_e(n.onKeyDown,g=>{const x=u.searchRef.current!=="";t||x&&g.key===" "||my.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});op.displayName=oh;var R1=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:o,...a}=n,l=Wv(oh,t),u=S1(t),d=w.useRef(null),m=Ze(e,d),[y,g]=w.useState(!1),[x,T]=w.useState("");return w.useEffect(()=>{const b=d.current;b&&T((b.textContent??"").trim())},[a.children]),h.jsx(du.ItemSlot,{scope:t,disabled:r,textValue:o??x,children:h.jsx(_1,{asChild:!0,...u,focusable:!r,children:h.jsx($e.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:m,onPointerMove:_e(n.onPointerMove,fu(b=>{r?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(n.onPointerLeave,fu(b=>l.onItemLeave(b))),onFocus:_e(n.onFocus,()=>g(!0)),onBlur:_e(n.onBlur,()=>g(!1))})})})}),n6="MenuCheckboxItem",k1=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...o}=n;return h.jsx(j1,{scope:n.__scopeMenu,checked:t,children:h.jsx(op,{role:"menuitemcheckbox","aria-checked":ih(t)?"mixed":t,...o,ref:e,"data-state":Kv(t),onSelect:_e(o.onSelect,()=>r==null?void 0:r(ih(t)?!0:!t),{checkForDefaultPrevented:!1})})})});k1.displayName=n6;var P1="MenuRadioGroup",[r6,s6]=fa(P1,{value:void 0,onValueChange:()=>{}}),N1=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...o}=n,a=en(r);return h.jsx(r6,{scope:n.__scopeMenu,value:t,onValueChange:a,children:h.jsx(qv,{...o,ref:e})})});N1.displayName=P1;var D1="MenuRadioItem",M1=w.forwardRef((n,e)=>{const{value:t,...r}=n,o=s6(D1,n.__scopeMenu),a=t===o.value;return h.jsx(j1,{scope:n.__scopeMenu,checked:a,children:h.jsx(op,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Kv(a),onSelect:_e(r.onSelect,()=>{var l;return(l=o.onValueChange)==null?void 0:l.call(o,t)},{checkForDefaultPrevented:!1})})})});M1.displayName=D1;var Gv="MenuItemIndicator",[j1,o6]=fa(Gv,{checked:!1}),O1=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...o}=n,a=o6(Gv,t);return h.jsx(lr,{present:r||ih(a.checked)||a.checked===!0,children:h.jsx($e.span,{...o,ref:e,"data-state":Kv(a.checked)})})});O1.displayName=Gv;var i6="MenuSeparator",L1=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});L1.displayName=i6;var a6="MenuArrow",V1=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=sp(t);return h.jsx(mC,{...o,...r,ref:e})});V1.displayName=a6;var l6="MenuSub",[yW,F1]=fa(l6),Wc="MenuSubTrigger",U1=w.forwardRef((n,e)=>{const t=ha(Wc,n.__scopeMenu),r=ku(Wc,n.__scopeMenu),o=F1(Wc,n.__scopeMenu),a=Wv(Wc,n.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=a,m={__scopeMenu:n.__scopeMenu},y=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>y,[y]),w.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),d(null)}},[u,d]),h.jsx(zv,{asChild:!0,...m,children:h.jsx(R1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":o.contentId,"data-state":B1(t.open),...n,ref:$h(e,o.onTriggerChange),onClick:g=>{var x;(x=n.onClick)==null||x.call(n,g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:_e(n.onPointerMove,fu(g=>{a.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:_e(n.onPointerLeave,fu(g=>{var T,b;y();const x=(T=t.content)==null?void 0:T.getBoundingClientRect();if(x){const I=(b=t.content)==null?void 0:b.dataset.side,C=I==="right",P=C?-5:5,V=x[C?"left":"right"],O=x[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+P,y:g.clientY},{x:V,y:x.top},{x:O,y:x.top},{x:O,y:x.bottom},{x:V,y:x.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:_e(n.onKeyDown,g=>{var T;const x=a.searchRef.current!=="";n.disabled||x&&g.key===" "||z9[r.dir].includes(g.key)&&(t.onOpenChange(!0),(T=t.content)==null||T.focus(),g.preventDefault())})})})});U1.displayName=Wc;var $1="MenuSubContent",z1=w.forwardRef((n,e)=>{const t=b1(Er,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,a=ha(Er,n.__scopeMenu),l=ku(Er,n.__scopeMenu),u=F1($1,n.__scopeMenu),d=w.useRef(null),m=Ze(e,d);return h.jsx(du.Provider,{scope:n.__scopeMenu,children:h.jsx(lr,{present:r||a.open,children:h.jsx(du.Slot,{scope:n.__scopeMenu,children:h.jsx(Hv,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;l.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:_e(n.onFocusOutside,y=>{y.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:_e(n.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:_e(n.onKeyDown,y=>{var T;const g=y.currentTarget.contains(y.target),x=B9[l.dir].includes(y.key);g&&x&&(a.onOpenChange(!1),(T=u.trigger)==null||T.focus(),y.preventDefault())})})})})})});z1.displayName=$1;function B1(n){return n?"open":"closed"}function ih(n){return n==="indeterminate"}function Kv(n){return ih(n)?"indeterminate":n?"checked":"unchecked"}function c6(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function u6(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function d6(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=u6(n,Math.max(a,0));o.length===1&&(l=l.filter(m=>m!==t));const d=l.find(m=>m.toLowerCase().startsWith(o.toLowerCase()));return d!==t?d:void 0}function f6(n,e){const{x:t,y:r}=n;let o=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],d=e[l],m=u.x,y=u.y,g=d.x,x=d.y;y>r!=x>r&&t<(g-m)*(r-y)/(x-y)+m&&(o=!o)}return o}function h6(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return f6(t,e)}function fu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var p6=T1,m6=zv,g6=I1,y6=C1,v6=qv,w6=A1,_6=op,x6=k1,E6=N1,S6=M1,T6=O1,b6=L1,I6=V1,C6=U1,A6=z1,ip="DropdownMenu",[R6,vW]=ts(ip,[E1]),Cn=E1(),[k6,W1]=R6(ip),H1=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:o,defaultOpen:a,onOpenChange:l,modal:u=!0}=n,d=Cn(e),m=w.useRef(null),[y,g]=Nl({prop:o,defaultProp:a??!1,onChange:l,caller:ip});return h.jsx(k6,{scope:e,triggerId:Ts(),triggerRef:m,contentId:Ts(),open:y,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),modal:u,children:h.jsx(p6,{...d,open:y,onOpenChange:g,dir:r,modal:u,children:t})})};H1.displayName=ip;var q1="DropdownMenuTrigger",G1=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...o}=n,a=W1(q1,t),l=Cn(t);return h.jsx(m6,{asChild:!0,...l,children:h.jsx($e.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:$h(e,a.triggerRef),onPointerDown:_e(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:_e(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});G1.displayName=q1;var P6="DropdownMenuPortal",K1=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Cn(e);return h.jsx(g6,{...r,...t})};K1.displayName=P6;var Y1="DropdownMenuContent",Q1=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=W1(Y1,t),a=Cn(t),l=w.useRef(!1);return h.jsx(y6,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:e,onCloseAutoFocus:_e(n.onCloseAutoFocus,u=>{var d;l.current||(d=o.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:_e(n.onInteractOutside,u=>{const d=u.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,y=d.button===2||m;(!o.modal||y)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q1.displayName=Y1;var N6="DropdownMenuGroup",D6=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(v6,{...o,...r,ref:e})});D6.displayName=N6;var M6="DropdownMenuLabel",X1=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(w6,{...o,...r,ref:e})});X1.displayName=M6;var j6="DropdownMenuItem",J1=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(_6,{...o,...r,ref:e})});J1.displayName=j6;var O6="DropdownMenuCheckboxItem",L6=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(x6,{...o,...r,ref:e})});L6.displayName=O6;var V6="DropdownMenuRadioGroup",F6=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(E6,{...o,...r,ref:e})});F6.displayName=V6;var U6="DropdownMenuRadioItem",$6=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(S6,{...o,...r,ref:e})});$6.displayName=U6;var z6="DropdownMenuItemIndicator",B6=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(T6,{...o,...r,ref:e})});B6.displayName=z6;var W6="DropdownMenuSeparator",Z1=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(b6,{...o,...r,ref:e})});Z1.displayName=W6;var H6="DropdownMenuArrow",q6=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(I6,{...o,...r,ref:e})});q6.displayName=H6;var G6="DropdownMenuSubTrigger",K6=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(C6,{...o,...r,ref:e})});K6.displayName=G6;var Y6="DropdownMenuSubContent",Q6=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Cn(t);return h.jsx(A6,{...o,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q6.displayName=Y6;var X6=H1,J6=G1,Z6=K1,e$=Q1,t$=X1,n$=J1,r$=Z1;function s$({...n}){return h.jsx(X6,{"data-slot":"dropdown-menu",...n})}function o$({...n}){return h.jsx(J6,{"data-slot":"dropdown-menu-trigger",...n})}function i$({className:n,sideOffset:e=4,...t}){return h.jsx(Z6,{children:h.jsx(e$,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ne("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function _g({className:n,inset:e,variant:t="default",...r}){return h.jsx(n$,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Ne("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function a$({className:n,inset:e,...t}){return h.jsx(t$,{"data-slot":"dropdown-menu-label","data-inset":e,className:Ne("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...t})}function oS({className:n,...e}){return h.jsx(r$,{"data-slot":"dropdown-menu-separator",className:Ne("bg-border -mx-1 my-1 h-px",n),...e})}const l$=({message:n,className:e})=>n?h.jsxs("div",{className:Ne("flex items-center gap-2 text-destructive text-sm",e),children:[h.jsx(Xc,{className:"h-4 w-4"}),h.jsx("span",{children:n})]}):null;w.createContext({});w.createContext({});const eo=w.forwardRef(({className:n,type:e,...t},r)=>h.jsx("input",{type:e,className:Ne("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));eo.displayName="Input";function Hr({className:n,...e}){return h.jsx("div",{"data-slot":"skeleton",className:Ne("bg-accent animate-pulse rounded-md",n),...e})}const ah=({title:n,subtitle:e,value:t,unit:r,className:o=""})=>h.jsxs("div",{className:`border rounded-md p-3 flex justify-between items-center ${o}`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:n}),e&&h.jsx("p",{className:"text-xs text-muted-foreground",children:e})]}),t!==void 0&&h.jsxs("p",{className:"text-lg font-semibold",children:[t,r&&h.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:r})]})]}),lh=({label:n,value:e,unit:t,valueSize:r="lg",className:o=""})=>{const a={sm:"text-sm",md:"text-md",lg:"text-lg",xl:"text-xl"};return h.jsxs("div",{className:o,children:[h.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n}),h.jsxs("p",{className:`${a[r]} font-bold`,children:[e,t&&h.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:t})]})]})},eA=({children:n,className:e=""})=>h.jsx("div",{className:`flex items-center justify-between ${e}`,children:n}),tA=({title:n,actionLabel:e,actionIcon:t,onAction:r,isLoading:o=!1,loadingText:a="Loading data...",className:l="",children:u})=>h.jsxs(Lt,{className:l,children:[h.jsx(un,{className:"pb-2",children:h.jsxs(dn,{className:"text-lg flex justify-between items-center",children:[h.jsx("span",{children:n}),r&&h.jsxs(Ve,{size:"sm",variant:"outline",onClick:r,className:"flex items-center gap-1 h-8",disabled:o,children:[t,e]})]})}),h.jsx(Gt,{children:o?h.jsxs("div",{className:"flex items-center justify-center py-4",children:[h.jsx(Gl,{className:"h-5 w-5 animate-spin mr-2 text-muted-foreground"}),h.jsx("p",{className:"text-muted-foreground text-sm",children:a})]}):u})]}),xg=({icon:n,label:e,value:t,action:r})=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[n,h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:e}),h.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})]}),r]});var ap="Dialog",[nA,rA]=ts(ap),[c$,ns]=nA(ap),sA=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:l=!0}=n,u=w.useRef(null),d=w.useRef(null),[m,y]=Nl({prop:r,defaultProp:o??!1,onChange:a,caller:ap});return h.jsx(c$,{scope:e,triggerRef:u,contentRef:d,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(g=>!g),[y]),modal:l,children:t})};sA.displayName=ap;var oA="DialogTrigger",iA=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=ns(oA,t),a=Ze(e,o.triggerRef);return h.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Xv(o.open),...r,ref:a,onClick:_e(n.onClick,o.onOpenToggle)})});iA.displayName=oA;var Yv="DialogPortal",[u$,aA]=nA(Yv,{forceMount:void 0}),lA=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,a=ns(Yv,e);return h.jsx(u$,{scope:e,forceMount:t,children:w.Children.map(r,l=>h.jsx(lr,{present:t||a.open,children:h.jsx(Kh,{asChild:!0,container:o,children:l})}))})};lA.displayName=Yv;var ch="DialogOverlay",cA=w.forwardRef((n,e)=>{const t=aA(ch,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=ns(ch,n.__scopeDialog);return a.modal?h.jsx(lr,{present:r||a.open,children:h.jsx(f$,{...o,ref:e})}):null});cA.displayName=ch;var d$=na("DialogOverlay.RemoveScroll"),f$=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=ns(ch,t);return h.jsx(Qh,{as:d$,allowPinchZoom:!0,shards:[o.contentRef],children:h.jsx($e.div,{"data-state":Xv(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ia="DialogContent",uA=w.forwardRef((n,e)=>{const t=aA(ia,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=ns(ia,n.__scopeDialog);return h.jsx(lr,{present:r||a.open,children:a.modal?h.jsx(h$,{...o,ref:e}):h.jsx(p$,{...o,ref:e})})});uA.displayName=ia;var h$=w.forwardRef((n,e)=>{const t=ns(ia,n.__scopeDialog),r=w.useRef(null),o=Ze(e,t.contentRef,r);return w.useEffect(()=>{const a=r.current;if(a)return Mv(a)},[]),h.jsx(dA,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:_e(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:_e(n.onFocusOutside,a=>a.preventDefault())})}),p$=w.forwardRef((n,e)=>{const t=ns(ia,n.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return h.jsx(dA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var d,m;(d=n.onInteractOutside)==null||d.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;((m=t.triggerRef.current)==null?void 0:m.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),dA=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=n,u=ns(ia,t),d=w.useRef(null),m=Ze(e,d);return Tv(),h.jsxs(h.Fragment,{children:[h.jsx(Bh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:h.jsx(zh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Xv(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(g$,{titleId:u.titleId}),h.jsx(v$,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Qv="DialogTitle",fA=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=ns(Qv,t);return h.jsx($e.h2,{id:o.titleId,...r,ref:e})});fA.displayName=Qv;var hA="DialogDescription",pA=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=ns(hA,t);return h.jsx($e.p,{id:o.descriptionId,...r,ref:e})});pA.displayName=hA;var mA="DialogClose",gA=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=ns(mA,t);return h.jsx($e.button,{type:"button",...r,ref:e,onClick:_e(n.onClick,()=>o.onOpenChange(!1))})});gA.displayName=mA;function Xv(n){return n?"open":"closed"}var yA="DialogTitleWarning",[m$,vA]=GV(yA,{contentName:ia,titleName:Qv,docsSlug:"dialog"}),g$=({titleId:n})=>{const e=vA(yA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},y$="DialogDescriptionWarning",v$=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vA(y$).contentName}}.`;return w.useEffect(()=>{var a;const o=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},wA=sA,w$=iA,_A=lA,Jv=cA,Zv=uA,ew=fA,tw=pA,nw=gA,xA="AlertDialog",[_$,wW]=ts(xA,[rA]),uo=rA(),EA=n=>{const{__scopeAlertDialog:e,...t}=n,r=uo(e);return h.jsx(wA,{...r,...t,modal:!0})};EA.displayName=xA;var x$="AlertDialogTrigger",SA=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=uo(t);return h.jsx(w$,{...o,...r,ref:e})});SA.displayName=x$;var E$="AlertDialogPortal",TA=n=>{const{__scopeAlertDialog:e,...t}=n,r=uo(e);return h.jsx(_A,{...r,...t})};TA.displayName=E$;var S$="AlertDialogOverlay",bA=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=uo(t);return h.jsx(Jv,{...o,...r,ref:e})});bA.displayName=S$;var xl="AlertDialogContent",[T$,b$]=_$(xl),I$=UV("AlertDialogContent"),IA=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...o}=n,a=uo(t),l=w.useRef(null),u=Ze(e,l),d=w.useRef(null);return h.jsx(m$,{contentName:xl,titleName:CA,docsSlug:"alert-dialog",children:h.jsx(T$,{scope:t,cancelRef:d,children:h.jsxs(Zv,{role:"alertdialog",...a,...o,ref:u,onOpenAutoFocus:_e(o.onOpenAutoFocus,m=>{var y;m.preventDefault(),(y=d.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[h.jsx(I$,{children:r}),h.jsx(A$,{contentRef:l})]})})})});IA.displayName=xl;var CA="AlertDialogTitle",AA=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=uo(t);return h.jsx(ew,{...o,...r,ref:e})});AA.displayName=CA;var RA="AlertDialogDescription",kA=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=uo(t);return h.jsx(tw,{...o,...r,ref:e})});kA.displayName=RA;var C$="AlertDialogAction",PA=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,o=uo(t);return h.jsx(nw,{...o,...r,ref:e})});PA.displayName=C$;var NA="AlertDialogCancel",DA=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:o}=b$(NA,t),a=uo(t),l=Ze(e,o);return h.jsx(nw,{...a,...r,ref:l})});DA.displayName=NA;var A$=({contentRef:n})=>{const e=`\`${xl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xl}\` by passing a \`${RA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},R$=EA,k$=SA,P$=TA,MA=bA,jA=IA,OA=PA,LA=DA,VA=AA,FA=kA;const N$=R$,D$=k$,M$=P$,UA=w.forwardRef(({className:n,...e},t)=>h.jsx(MA,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));UA.displayName=MA.displayName;const $A=w.forwardRef(({className:n,...e},t)=>h.jsxs(M$,{children:[h.jsx(UA,{}),h.jsx(jA,{ref:t,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));$A.displayName=jA.displayName;const zA=({className:n,...e})=>h.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",n),...e});zA.displayName="AlertDialogHeader";const BA=({className:n,...e})=>h.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});BA.displayName="AlertDialogFooter";const WA=w.forwardRef(({className:n,...e},t)=>h.jsx(VA,{ref:t,className:Ne("text-lg font-semibold",n),...e}));WA.displayName=VA.displayName;const HA=w.forwardRef(({className:n,...e},t)=>h.jsx(FA,{ref:t,className:Ne("text-sm text-muted-foreground",n),...e}));HA.displayName=FA.displayName;const qA=w.forwardRef(({className:n,...e},t)=>h.jsx(OA,{ref:t,className:Ne($v(),n),...e}));qA.displayName=OA.displayName;const GA=w.forwardRef(({className:n,...e},t)=>h.jsx(LA,{ref:t,className:Ne($v({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));GA.displayName=LA.displayName;const Eg=({trigger:n,title:e,description:t,fields:r,onSubmit:o,cancelLabel:a="Cancel",actionLabel:l="Update"})=>{const[u,d]=ce.useState({}),m=g=>{d({...u,[g.target.name]:g.target.value})},y=()=>{o(u)};return h.jsxs(N$,{children:[h.jsx(D$,{asChild:!0,children:n}),h.jsxs($A,{className:"w-full max-w-md",children:[h.jsxs(zA,{children:[h.jsx(WA,{children:e}),h.jsx(HA,{children:t})]}),r.map(g=>h.jsxs("div",{className:"mb-4",children:[h.jsx(_s,{htmlFor:g.name,className:"block mb-2",children:g.label}),h.jsx(eo,{id:g.name,type:g.type||"text",name:g.name,className:"w-full",onChange:m,value:u[g.name]||""})]},g.name)),h.jsxs(BA,{children:[h.jsx(GA,{children:a}),h.jsx(qA,{type:"submit",onClick:y,children:l})]})]})]})},j$=({email:n,displayName:e,isLoading:t,onChangeEmail:r,onChangePassword:o,onSignOut:a,onDeleteAccount:l})=>{const u=m=>{m==="DELETE"?l():alert('Please type "DELETE" to confirm account deletion.')},d=(m,y)=>{if(m!==y){alert("Passwords do not match!");return}o(m)};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Lt,{children:[h.jsxs(un,{children:[h.jsx(dn,{children:"Account Information"}),h.jsx(kl,{children:"Manage your personal account details"})]}),h.jsxs(Gt,{className:"space-y-6",children:[h.jsx(xg,{icon:h.jsx(Lv,{className:"h-5 w-5 text-muted-foreground"}),label:"Name",value:e||"Not set"}),h.jsx(xg,{icon:h.jsx(x5,{className:"h-5 w-5 text-muted-foreground"}),label:"Password",value:"********",action:h.jsx(Eg,{trigger:h.jsx(Ve,{variant:"outline",size:"sm",disabled:t,children:"Change"}),title:"Change Password",description:"Please enter your new password.",onSubmit:m=>d(m.newPassword,m.confirmPassword),fields:[{name:"newPassword",label:"New Password",type:"password"},{name:"confirmPassword",label:"Confirm Password",type:"password"}],actionLabel:"Update Password"})}),h.jsx(xg,{icon:h.jsx(T5,{className:"h-5 w-5 text-muted-foreground"}),label:"Email",value:n||"Not set",action:h.jsx(Eg,{trigger:h.jsx(Ve,{variant:"outline",size:"sm",disabled:t,children:"Change"}),title:"Change Email",description:"Please enter your new email address.",fields:[{name:"newEmail",label:"New Email",type:"email"}],actionLabel:"Update Email",onSubmit:m=>r(m.newEmail),cancelLabel:"Cancel"})})]})]}),h.jsxs(Lt,{children:[h.jsxs(un,{children:[h.jsx(dn,{children:"Account Management"}),h.jsx(kl,{children:"Manage your account access and data"})]}),h.jsxs(Gt,{className:"flex flex-col gap-4",children:[h.jsxs(Ve,{variant:"outline",className:"w-full sm:w-auto flex items-center gap-2",onClick:a,disabled:t,children:[h.jsx(n1,{className:"h-4 w-4"}),"Sign out"]}),h.jsx(Eg,{trigger:h.jsxs(Ve,{variant:"destructive",className:"w-full sm:w-auto flex items-center gap-2",disabled:t,children:[h.jsx(W5,{className:"h-4 w-4"}),"Delete account"]}),title:"Are you absolutely sure?",description:"This action cannot be undone. This will permanently delete your account and remove your data from our servers.",actionLabel:"Delete account",cancelLabel:"Cancel",onSubmit:m=>u(m.confirmDelete),fields:[{name:"confirmDelete",label:'Type "DELETE" to confirm',type:"text"}]})]})]})]})},Rf={userPreferences:{theme:"light",heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",notificationsEnabled:!0,workoutDaysPerWeek:3},ui:{sidebarOpen:!1,activeDashboardTab:"home"},dashboardData:{needsRefresh:!1,lastUpdated:null}},KA=ce.createContext({state:Rf,setHeightUnit:()=>{},setWeightUnit:()=>{},setDateFormat:()=>{},setSidebarOpen:()=>{},setTheme:()=>{},setWorkoutDaysPerWeek:()=>{}}),rw=()=>{const n=w.useContext(KA);if(!n)throw new Error("useAppState must be used within an AppProvider");const{state:e,setHeightUnit:t,setWeightUnit:r,setDateFormat:o,setSidebarOpen:a,setTheme:l,setWorkoutDaysPerWeek:u}=n;return{state:e,setHeightUnit:t,setWeightUnit:r,setDateFormat:o,setSidebarOpen:a,setTheme:l,setWorkoutDaysPerWeek:u}},yi=()=>{const n=w.useContext(ES);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return{...n}};var Mc={},iS;function O$(){if(iS)return Mc;iS=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.parse=l,Mc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,T){const b=new a,I=x.length;if(I<2)return b;const C=(T==null?void 0:T.decode)||y;let P=0;do{const V=x.indexOf("=",P);if(V===-1)break;const O=x.indexOf(";",P),$=O===-1?I:O;if(V>$){P=x.lastIndexOf(";",V-1)+1;continue}const B=u(x,P,V),K=d(x,V,B),D=x.slice(B,K);if(b[D]===void 0){let R=u(x,V+1,$),k=d(x,$,R);const M=C(x.slice(R,k));b[D]=M}P=$+1}while(P<I);return b}function u(x,T,b){do{const I=x.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<b);return b}function d(x,T,b){for(;T>b;){const I=x.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return b}function m(x,T,b){const I=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=I(T);if(!e.test(C))throw new TypeError(`argument val is invalid: ${T}`);let P=x+"="+C;if(!b)return P;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);P+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);P+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);P+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);P+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(P+="; HttpOnly"),b.secure&&(P+="; Secure"),b.partitioned&&(P+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return P}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function g(x){return o.call(x)==="[object Date]"}return Mc}O$();var aS="popstate";function L$(n={}){function e(r,o){let{pathname:a,search:l,hash:u}=r.location;return gy("",{pathname:a,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:hu(o)}return F$(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V$(){return Math.random().toString(36).substring(2,10)}function lS(n,e){return{usr:n.state,key:n.key,idx:e}}function gy(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Kl(e):e,state:t,key:e&&e.key||r||V$()}}function hu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Kl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function F$(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,u="POP",d=null,m=y();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function y(){return(l.state||{idx:null}).idx}function g(){u="POP";let C=y(),P=C==null?null:C-m;m=C,d&&d({action:u,location:I.location,delta:P})}function x(C,P){u="PUSH";let V=gy(I.location,C,P);m=y()+1;let O=lS(V,m),$=I.createHref(V);try{l.pushState(O,"",$)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign($)}a&&d&&d({action:u,location:I.location,delta:1})}function T(C,P){u="REPLACE";let V=gy(I.location,C,P);m=y();let O=lS(V,m),$=I.createHref(V);l.replaceState(O,"",$),a&&d&&d({action:u,location:I.location,delta:0})}function b(C){let P=o.location.origin!=="null"?o.location.origin:o.location.href,V=typeof C=="string"?C:hu(C);return V=V.replace(/ $/,"%20"),_t(P,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,P)}let I={get action(){return u},get location(){return n(o,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(aS,g),d=C,()=>{o.removeEventListener(aS,g),d=null}},createHref(C){return e(o,C)},createURL:b,encodeLocation(C){let P=b(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:T,go(C){return l.go(C)}};return I}function YA(n,e,t="/"){return U$(n,e,t,!1)}function U$(n,e,t,r){let o=typeof e=="string"?Kl(e):e,a=lo(o.pathname||"/",t);if(a==null)return null;let l=QA(n);$$(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let m=J$(a);u=Q$(l[d],m,r)}return u}function QA(n,e=[],t=[],r=""){let o=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(_t(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=to([r,d.relativePath]),y=t.concat(d);a.children&&a.children.length>0&&(_t(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),QA(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:K$(m,a.index),routesMeta:y})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))o(a,l);else for(let d of XA(a.path))o(a,l,d)}),e}function XA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=XA(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),o&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function $$(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Y$(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var z$=/^:[\w-]+$/,B$=3,W$=2,H$=1,q$=10,G$=-2,cS=n=>n==="*";function K$(n,e){let t=n.split("/"),r=t.length;return t.some(cS)&&(r+=G$),e&&(r+=W$),t.filter(o=>!cS(o)).reduce((o,a)=>o+(z$.test(a)?B$:a===""?H$:q$),r)}function Y$(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function Q$(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],m=u===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=uh({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),x=d.route;if(!g&&m&&t&&!r[r.length-1].route.index&&(g=uh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!g)return null;Object.assign(o,g.params),l.push({params:o,pathname:to([a,g.pathname]),pathnameBase:nz(to([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=to([a,g.pathnameBase]))}return l}function uh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=X$(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:g},x)=>{if(y==="*"){let b=u[x]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const T=u[x];return g&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:n}}function X$(n,e=!1,t=!0){Zr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function J$(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function lo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Z$(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Kl(n):n;return{pathname:t?t.startsWith("/")?t:ez(t,e):e,search:rz(r),hash:sz(o)}}function ez(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tz(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sw(n){let e=tz(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ow(n,e,t,r=!1){let o;typeof n=="string"?o=Kl(n):(o={...n},_t(!o.pathname||!o.pathname.includes("?"),Sg("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),Sg("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),Sg("#","search","hash",o)));let a=n===""||o.pathname==="",l=a?"/":o.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;o.pathname=x.join("/")}u=g>=0?e[g]:"/"}let d=Z$(o,u),m=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var to=n=>n.join("/").replace(/\/\/+/g,"/"),nz=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rz=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sz=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oz(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var JA=["POST","PUT","PATCH","DELETE"];new Set(JA);var iz=["GET",...JA];new Set(iz);var Yl=w.createContext(null);Yl.displayName="DataRouter";var lp=w.createContext(null);lp.displayName="DataRouterState";var ZA=w.createContext({isTransitioning:!1});ZA.displayName="ViewTransition";var az=w.createContext(new Map);az.displayName="Fetchers";var lz=w.createContext(null);lz.displayName="Await";var rs=w.createContext(null);rs.displayName="Navigation";var Pu=w.createContext(null);Pu.displayName="Location";var ss=w.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var iw=w.createContext(null);iw.displayName="RouteError";function cz(n,{relative:e}={}){_t(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=w.useContext(rs),{hash:o,pathname:a,search:l}=Nu(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:to([t,a])),r.createHref({pathname:u,search:l,hash:o})}function Ql(){return w.useContext(Pu)!=null}function fo(){return _t(Ql(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Pu).location}var eR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tR(n){w.useContext(rs).static||w.useLayoutEffect(n)}function pa(){let{isDataRoute:n}=w.useContext(ss);return n?Tz():uz()}function uz(){_t(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Yl),{basename:e,navigator:t}=w.useContext(rs),{matches:r}=w.useContext(ss),{pathname:o}=fo(),a=JSON.stringify(sw(r)),l=w.useRef(!1);return tR(()=>{l.current=!0}),w.useCallback((d,m={})=>{if(Zr(l.current,eR),!l.current)return;if(typeof d=="number"){t.go(d);return}let y=ow(d,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:to([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,a,o,n])}var dz=w.createContext(null);function fz(n){let e=w.useContext(ss).outlet;return e&&w.createElement(dz.Provider,{value:n},e)}function Nu(n,{relative:e}={}){let{matches:t}=w.useContext(ss),{pathname:r}=fo(),o=JSON.stringify(sw(t));return w.useMemo(()=>ow(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function hz(n,e){return nR(n,e)}function nR(n,e,t,r){var V;_t(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=w.useContext(rs),{matches:l}=w.useContext(ss),u=l[l.length-1],d=u?u.params:{},m=u?u.pathname:"/",y=u?u.pathnameBase:"/",g=u&&u.route;{let O=g&&g.path||"";rR(m,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=fo(),T;if(e){let O=typeof e=="string"?Kl(e):e;_t(y==="/"||((V=O.pathname)==null?void 0:V.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${O.pathname}" was given in the \`location\` prop.`),T=O}else T=x;let b=T.pathname||"/",I=b;if(y!=="/"){let O=y.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=!a&&t&&t.matches&&t.matches.length>0?t.matches:YA(n,{pathname:I});Zr(g||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Zr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=vz(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:to([y,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:to([y,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,t,r);return e&&P?w.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},P):P}function pz(){let n=Sz(),e=oz(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,l)}var mz=w.createElement(pz,null),gz=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(ss.Provider,{value:this.props.routeContext},w.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yz({routeContext:n,match:e,children:t}){let r=w.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ss.Provider,{value:n},t)}function vz(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let d=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);_t(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:y,errors:g}=t,x=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,y)=>{let g,x=!1,T=null,b=null;t&&(g=a&&m.route.id?a[m.route.id]:void 0,T=m.route.errorElement||mz,l&&(u<0&&y===0?(rR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):u===y&&(x=!0,b=m.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,y+1)),C=()=>{let P;return g?P=T:x?P=b:m.route.Component?P=w.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=d,w.createElement(yz,{match:m,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:P})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?w.createElement(gz,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:C(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):C()},null)}function aw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wz(n){let e=w.useContext(Yl);return _t(e,aw(n)),e}function _z(n){let e=w.useContext(lp);return _t(e,aw(n)),e}function xz(n){let e=w.useContext(ss);return _t(e,aw(n)),e}function lw(n){let e=xz(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ez(){return lw("useRouteId")}function Sz(){var r;let n=w.useContext(iw),e=_z("useRouteError"),t=lw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Tz(){let{router:n}=wz("useNavigate"),e=lw("useNavigate"),t=w.useRef(!1);return tR(()=>{t.current=!0}),w.useCallback(async(o,a={})=>{Zr(t.current,eR),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var uS={};function rR(n,e,t){!e&&!uS[n]&&(uS[n]=!0,Zr(!1,t))}w.memo(bz);function bz({routes:n,future:e,state:t}){return nR(n,void 0,t,e)}function dl({to:n,replace:e,state:t,relative:r}){_t(Ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(rs);Zr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(ss),{pathname:l}=fo(),u=pa(),d=ow(n,sw(a),l,r==="path"),m=JSON.stringify(d);return w.useEffect(()=>{u(JSON.parse(m),{replace:e,state:t,relative:r})},[u,m,r,e,t]),null}function cw(n){return fz(n.context)}function tr(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Iz({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){_t(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);typeof t=="string"&&(t=Kl(t));let{pathname:d="/",search:m="",hash:y="",state:g=null,key:x="default"}=t,T=w.useMemo(()=>{let b=lo(d,l);return b==null?null:{location:{pathname:b,search:m,hash:y,state:g,key:x},navigationType:r}},[l,d,m,y,g,x,r]);return Zr(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:w.createElement(rs.Provider,{value:u},w.createElement(Pu.Provider,{children:e,value:T}))}function Cz({children:n,location:e}){return hz(yy(n),e)}function yy(n,e=[]){let t=[];return w.Children.forEach(n,(r,o)=>{if(!w.isValidElement(r))return;let a=[...e,o];if(r.type===w.Fragment){t.push.apply(t,yy(r.props.children,a));return}_t(r.type===tr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=yy(r.props.children,a)),t.push(l)}),t}var kf="get",Pf="application/x-www-form-urlencoded";function cp(n){return n!=null&&typeof n.tagName=="string"}function Az(n){return cp(n)&&n.tagName.toLowerCase()==="button"}function Rz(n){return cp(n)&&n.tagName.toLowerCase()==="form"}function kz(n){return cp(n)&&n.tagName.toLowerCase()==="input"}function Pz(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Nz(n,e){return n.button===0&&(!e||e==="_self")&&!Pz(n)}var hf=null;function Dz(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var Mz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(n){return n!=null&&!Mz.has(n)?(Zr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):n}function jz(n,e){let t,r,o,a,l;if(Rz(n)){let u=n.getAttribute("action");r=u?lo(u,e):null,t=n.getAttribute("method")||kf,o=Tg(n.getAttribute("enctype"))||Pf,a=new FormData(n)}else if(Az(n)||kz(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?lo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||kf,o=Tg(n.getAttribute("formenctype"))||Tg(u.getAttribute("enctype"))||Pf,a=new FormData(u,n),!Dz()){let{name:m,type:y,value:g}=n;if(y==="image"){let x=m?`${m}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else m&&a.append(m,g)}}else{if(cp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kf,r=null,o=Pf,l=n}return a&&o==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:l}}function uw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Oz(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lz(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Vz(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await Oz(a,t);return l.links?l.links():[]}return[]}));return zz(r.flat(1).filter(Lz).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dS(n,e,t,r,o,a){let l=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,u=(d,m)=>{var y;return t[m].pathname!==d.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,m)=>l(d,m)||u(d,m)):a==="data"?e.filter((d,m)=>{var g;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(l(d,m)||u(d,m))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Fz(n,e,{includeHydrateFallback:t}={}){return Uz(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Uz(n){return[...new Set(n)]}function $z(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function zz(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify($z(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}var Bz=new Set([100,101,204,205]);function Wz(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&lo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sR(){let n=w.useContext(Yl);return uw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Hz(){let n=w.useContext(lp);return uw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dw=w.createContext(void 0);dw.displayName="FrameworkContext";function oR(){let n=w.useContext(dw);return uw(n,"You must render this element inside a <HydratedRouter> element"),n}function qz(n,e){let t=w.useContext(dw),[r,o]=w.useState(!1),[a,l]=w.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:g}=e,x=w.useRef(null);w.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=P=>{P.forEach(V=>{l(V.isIntersecting)})},C=new IntersectionObserver(I,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),w.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{o(!0)},b=()=>{o(!1),l(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:jc(u,T),onBlur:jc(d,b),onMouseEnter:jc(m,T),onMouseLeave:jc(y,b),onTouchStart:jc(g,T)}]:[!1,x,{}]}function jc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Gz({page:n,...e}){let{router:t}=sR(),r=w.useMemo(()=>YA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?w.createElement(Yz,{page:n,matches:r,...e}):null}function Kz(n){let{manifest:e,routeModules:t}=oR(),[r,o]=w.useState([]);return w.useEffect(()=>{let a=!1;return Vz(n,e,t).then(l=>{a||o(l)}),()=>{a=!0}},[n,e,t]),r}function Yz({page:n,matches:e,...t}){let r=fo(),{manifest:o,routeModules:a}=oR(),{basename:l}=sR(),{loaderData:u,matches:d}=Hz(),m=w.useMemo(()=>dS(n,e,d,o,r,"data"),[n,e,d,o,r]),y=w.useMemo(()=>dS(n,e,d,o,r,"assets"),[n,e,d,o,r]),g=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,I=!1;if(e.forEach(P=>{var O;let V=o.routes[P.route.id];!V||!V.hasLoader||(!m.some($=>$.route.id===P.route.id)&&P.route.id in u&&((O=a[P.route.id])!=null&&O.shouldRevalidate)||V.hasClientLoader?I=!0:b.add(P.route.id))}),b.size===0)return[];let C=Wz(n,l);return I&&b.size>0&&C.searchParams.set("_routes",e.filter(P=>b.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[l,u,r,o,m,e,n,a]),x=w.useMemo(()=>Fz(y,o),[y,o]),T=Kz(y);return w.createElement(w.Fragment,null,g.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),x.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:I})=>w.createElement("link",{key:b,...I})))}function Qz(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iR&&(window.__reactRouterVersion="7.5.2")}catch{}function Xz({basename:n,children:e,window:t}){let r=w.useRef();r.current==null&&(r.current=L$({window:t,v5Compat:!0}));let o=r.current,[a,l]=w.useState({action:o.action,location:o.location}),u=w.useCallback(d=>{w.startTransition(()=>l(d))},[l]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.createElement(Iz,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var aR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=w.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:l,state:u,target:d,to:m,preventScrollReset:y,viewTransition:g,...x},T){let{basename:b}=w.useContext(rs),I=typeof m=="string"&&aR.test(m),C,P=!1;if(typeof m=="string"&&I&&(C=m,iR))try{let k=new URL(window.location.href),M=m.startsWith("//")?new URL(k.protocol+m):new URL(m),L=lo(M.pathname,b);M.origin===k.origin&&L!=null?m=L+M.search+M.hash:P=!0}catch{Zr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=cz(m,{relative:o}),[O,$,B]=qz(r,x),K=eB(m,{replace:l,state:u,target:d,preventScrollReset:y,relative:o,viewTransition:g});function D(k){e&&e(k),k.defaultPrevented||K(k)}let R=w.createElement("a",{...x,...B,href:C||V,onClick:P||a?e:D,ref:Qz(T,$),target:d,"data-discover":!I&&t==="render"?"true":void 0});return O&&!I?w.createElement(w.Fragment,null,R,w.createElement(Gz,{page:V})):R});Zo.displayName="Link";var lR=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:u,children:d,...m},y){let g=Nu(l,{relative:m.relative}),x=fo(),T=w.useContext(lp),{navigator:b,basename:I}=w.useContext(rs),C=T!=null&&oB(g)&&u===!0,P=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,V=x.pathname,O=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(V=V.toLowerCase(),O=O?O.toLowerCase():null,P=P.toLowerCase()),O&&I&&(O=lo(O,I)||O);const $=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let B=V===P||!o&&V.startsWith(P)&&V.charAt($)==="/",K=O!=null&&(O===P||!o&&O.startsWith(P)&&O.charAt(P.length)==="/"),D={isActive:B,isPending:K,isTransitioning:C},R=B?e:void 0,k;typeof r=="function"?k=r(D):k=[r,B?"active":null,K?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(D):a;return w.createElement(Zo,{...m,"aria-current":R,className:k,ref:y,style:M,to:l,viewTransition:u},typeof d=="function"?d(D):d)});lR.displayName="NavLink";var Jz=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:l=kf,action:u,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:g,...x},T)=>{let b=rB(),I=sB(u,{relative:m}),C=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&aR.test(u),V=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let $=O.nativeEvent.submitter,B=($==null?void 0:$.getAttribute("formmethod"))||l;b($||O.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:o,state:a,relative:m,preventScrollReset:y,viewTransition:g})};return w.createElement("form",{ref:T,method:C,action:I,onSubmit:r?d:V,...x,"data-discover":!P&&n==="render"?"true":void 0})});Jz.displayName="Form";function Zz(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cR(n){let e=w.useContext(Yl);return _t(e,Zz(n)),e}function eB(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:l}={}){let u=pa(),d=fo(),m=Nu(n,{relative:a});return w.useCallback(y=>{if(Nz(y,e)){y.preventDefault();let g=t!==void 0?t:hu(d)===hu(m);u(n,{replace:g,state:r,preventScrollReset:o,relative:a,viewTransition:l})}},[d,u,m,t,r,e,n,o,a,l])}var tB=0,nB=()=>`__${String(++tB)}__`;function rB(){let{router:n}=cR("useSubmit"),{basename:e}=w.useContext(rs),t=Ez();return w.useCallback(async(r,o={})=>{let{action:a,method:l,encType:u,formData:d,body:m}=jz(r,e);if(o.navigate===!1){let y=o.fetcherKey||nB();await n.fetch(y,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function sB(n,{relative:e}={}){let{basename:t}=w.useContext(rs),r=w.useContext(ss);_t(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Nu(n||".",{relative:e})},l=fo();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(y=>y==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let y=u.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:to([t,a.pathname])),hu(a)}function oB(n,e={}){let t=w.useContext(ZA);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cR("useViewTransitionState"),o=Nu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=lo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=lo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return uh(o.pathname,l)!=null||uh(o.pathname,a)!=null}new TextEncoder;[...Bz];var up="Tabs",[iB,_W]=ts(up,[rp]),uR=rp(),[aB,fw]=iB(up),dR=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:d="automatic",...m}=n,y=Iu(u),[g,x]=Nl({prop:r,onChange:o,defaultProp:a??"",caller:up});return h.jsx(aB,{scope:t,baseId:Ts(),value:g,onValueChange:x,orientation:l,dir:y,activationMode:d,children:h.jsx($e.div,{dir:y,"data-orientation":l,...m,ref:e})})});dR.displayName=up;var fR="TabsList",hR=w.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,a=fw(fR,t),l=uR(t);return h.jsx(w1,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:h.jsx($e.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});hR.displayName=fR;var pR="TabsTrigger",vy=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...a}=n,l=fw(pR,t),u=uR(t),d=gR(l.baseId,r),m=yR(l.baseId,r),y=r===l.value;return h.jsx(_1,{asChild:!0,...u,focusable:!o,active:y,children:h.jsx($e.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...a,ref:e,onMouseDown:_e(n.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:_e(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:_e(n.onFocus,()=>{const g=l.activationMode!=="manual";!y&&!o&&g&&l.onValueChange(r)})})})});vy.displayName=pR;var mR="TabsContent",wy=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:a,...l}=n,u=fw(mR,t),d=gR(u.baseId,r),m=yR(u.baseId,r),y=r===u.value,g=w.useRef(y);return w.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),h.jsx(lr,{present:o||y,children:({present:x})=>h.jsx($e.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:m,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:x&&a})})});wy.displayName=mR;function gR(n,e){return`${n}-trigger-${e}`}function yR(n,e){return`${n}-content-${e}`}const lB=()=>{const[n,e]=w.useState(null),[t,r]=w.useState(!0),[o,a]=w.useState(null),[l,u]=w.useState(!1),d=async()=>{try{r(!0);const g=await tV();e(g)}catch(g){a(`Failed to fetch profile: ${g}`)}finally{r(!1)}},m=w.useCallback(async g=>{u(!0),a(null);try{await nV(g),e(x=>x?{...x,...g}:null)}catch(x){a(`Failed to update profile: ${x}`)}finally{u(!1)}},[]),y=w.useCallback(async()=>{a(null);try{await d()}catch(g){a(`Failed to refresh profile: ${g}`)}},[]);return{profile:n,isLoading:t,error:o,isSaving:l,updateProfile:m,refreshProfile:y}},cB=()=>{const n=pa(),{logout:e,deleteProfile:t}=yi(),[r,o]=ce.useState(!1),[a,l]=ce.useState("profile"),{state:{userPreferences:u},setDateFormat:d,setHeightUnit:m,setWeightUnit:y,setWorkoutDaysPerWeek:g}=rw(),{profile:x,refreshProfile:T}=lB();w.useEffect(()=>{T()},[T]);const b=()=>{e&&(e(),n("/login"))},I=()=>{console.log("Change email clicked")},C=V=>{console.log("Change password clicked",V)},P=async()=>{if(t){o(!0);try{await t(),await sV(),n("/login")}finally{o(!1)}}};return x?h.jsx("div",{className:"container mx-auto py-6 max-w-4xl",children:h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Profile"})}),h.jsxs(dR,{value:a,onValueChange:l,className:"w-full",children:[h.jsxs(hR,{className:"grid grid-cols-2 mb-8",children:[h.jsxs(vy,{value:"profile",className:"flex items-center gap-2",children:[h.jsx(Lv,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:"Account"})]}),h.jsxs(vy,{value:"preferences",className:"flex items-center gap-2",children:[h.jsx(G5,{size:16}),h.jsx("span",{className:"hidden sm:inline",children:"Preferences"})]})]}),h.jsx(wy,{value:"preferences",children:h.jsx(s9,{dateFormat:u.dateFormat,heightUnit:u.heightUnit,weightUnit:u.weightUnit,workoutDaysPerWeek:u.workoutDaysPerWeek,onDateFormatChange:d,onHeightUnitChange:m,onWeightUnitChange:y,onWorkoutDaysChange:g})}),h.jsx(wy,{value:"profile",children:h.jsx(j$,{email:x.email,displayName:x.displayName,isLoading:r,onChangeEmail:I,onChangePassword:V=>C(V),onSignOut:b,onDeleteAccount:P})})]})]})}):h.jsx("div",{className:"p-6",children:"Loading user data..."})},uB=({children:n})=>{const[e,t]=w.useState(null),[r,o]=w.useState("loading"),[a,l]=w.useState(null);w.useEffect(()=>{const b=G4(Q4,I=>{I?(t({uid:I.uid,email:I.email,displayName:I.displayName,photoURL:I.photoURL}),o("authenticated")):(t(null),o("unauthenticated"))});return()=>b()},[]);const T={isAuthenticated:r==="authenticated",isLoading:r==="loading",user:e,error:a,login:async(b,I)=>{l(null);try{await W4(b,I)}catch(C){const P=Bo(C),V=new Error(P);throw l(V),V}},loginWithGoogle:async()=>{l(null);try{const b=await K4(),I=Y4(b);if(!(I!=null&&I.isNewUser))return;await rV({email:b.user.email||"",displayName:b.user.displayName||""})}catch(b){const I=Bo(b),C=new Error(I);throw l(C),C}},signup:async(b,I,C)=>{l(null);try{(await B4(b,I)).user&&await SE({displayName:C})}catch(P){const V=Bo(P),O=new Error(V);throw l(O),O}},logout:async()=>{l(null);try{await H4()}catch(b){const I=Bo(b),C=new Error(I);throw l(C),C}},updateProfile:async b=>{l(null);try{const{displayName:I}=b;I&&await SE({displayName:I})}catch(I){const C=Bo(I),P=new Error(C);throw l(P),P}},deleteProfile:async()=>{l(null);try{await q4()}catch(b){const I=Bo(b),C=new Error(I);throw l(C),C}}};return h.jsx(ES.Provider,{value:T,children:n})},dB=()=>h.jsx("footer",{className:"py-4 text-center",children:h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," GrindMode"]})}),fB={theme:"light",setTheme:()=>null},vR=w.createContext(fB),hB=()=>{const n=w.useContext(vR);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},pB=({isDashboard:n=!1,onLogout:e})=>{const{user:t,isAuthenticated:r}=yi(),{theme:o,setTheme:a}=hB(),l=pa();return h.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center bg-white dark:bg-background border-b border-gray-200 dark:border-border px-4",children:[!n&&h.jsxs("nav",{className:"hidden md:flex items-center space-x-4 mx-6",children:[h.jsx("div",{className:"container mx-auto flex justify-center md:justify-start",children:h.jsx(Zo,{to:"/",className:"flex items-center",children:h.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:h.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})})})}),h.jsx(Zo,{to:"/about",className:"text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-foreground dark:hover:text-foreground",children:"About"}),r&&h.jsx(Zo,{to:"/dashboard",className:"text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-foreground dark:hover:text-foreground",children:"Dashboard"})]}),h.jsx("div",{className:"ml-auto flex items-center space-x-2",children:r?h.jsxs(h.Fragment,{children:[h.jsxs(Ve,{variant:"ghost",size:"icon",className:"hidden md:flex",children:[h.jsx(ZU,{className:"h-5 w-5"}),h.jsx("span",{className:"sr-only",children:"Notifications"})]}),h.jsxs(s$,{children:[h.jsx(o$,{children:h.jsxs("div",{className:"flex items-center gap-2 rounded-full pl-1 cursor-pointer",children:[h.jsx(y9,{className:"h-8 w-8",children:h.jsx(v9,{src:(t==null?void 0:t.photoURL)||void 0,alt:"User Avatar"})}),h.jsx("span",{className:"hidden md:inline text-sm font-medium",children:(t==null?void 0:t.displayName)||"Account"}),h.jsx(ep,{className:"h-4 w-4 opacity-50"})]})}),h.jsxs(i$,{align:"end",className:"w-56",children:[h.jsx(a$,{children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium",children:(t==null?void 0:t.displayName)||"User"}),h.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t==null?void 0:t.email})]})}),h.jsx(oS,{}),h.jsxs(_g,{onClick:()=>l("profile"),children:[h.jsx(Lv,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Profile"})]}),h.jsx(_g,{onClick:()=>a(o==="dark"?"light":"dark"),children:h.jsxs("span",{className:"flex items-center gap-2",children:[o==="dark"?h.jsx(F5,{className:"h-4 w-4 bg-gray-800 dark:bg-card rounded-full"}):h.jsx(I5,{className:"h-4 w-4 bg-gray-200 dark:bg-card rounded-full"}),h.jsx("span",{children:"Toggle Theme"})]})}),h.jsx(oS,{}),h.jsxs(_g,{onClick:e,children:[h.jsx(n1,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Log out"})]})]})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>l("/login"),className:"hidden md:inline-flex",children:"Log in"}),h.jsx(Ve,{size:"sm",onClick:()=>l("/signup"),children:"Sign up"})]})})]})},mB=({navItems:n,isCollapsed:e=!1})=>h.jsx("ul",{className:Ne("space-y-1",e?"px-2":"px-3"),children:n.map(t=>h.jsx("li",{className:"transform transition-all duration-200 ease-in-out",children:h.jsxs(lR,{to:t.path,className:({isActive:r})=>Ne("flex items-center rounded-md px-3 py-2 text-sm transition-all duration-300 ease-in-out",r?"bg-sidebar-accent text-sidebar-accent-foreground dark:bg-sidebar-accent dark:text-sidebar-accent-foreground":"hover:bg-accent/50 text-muted-foreground hover:text-foreground dark:hover:bg-sidebar-accent/30 dark:text-sidebar-foreground dark:hover:text-sidebar-foreground",e?"justify-center":"justify-start"),children:[h.jsx("div",{className:Ne("flex items-center transition-all duration-300 ease-in-out",e?"w-full justify-center":"mr-3"),children:h.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:t.icon})}),h.jsx("span",{className:Ne("whitespace-nowrap transition-all duration-300 ease-in-out",e?"w-0 opacity-0 overflow-hidden":"w-auto opacity-100"),children:t.label})]})},t.path))}),gB=()=>[{path:"/dashboard",label:"Dashboard",icon:h.jsx(v5,{className:"h-4 w-4"})},{path:"/workoutplanner",label:"Workout Planner",icon:h.jsx(Ov,{className:"h-4 w-4"})},{path:"/nutrition",label:"Nutrition",icon:h.jsx(o1,{className:"h-4 w-4"})},{path:"/progress",label:"Progress",icon:h.jsx(o5,{className:"h-4 w-4"})},{path:"/goals",label:"Goals",icon:h.jsx($5,{className:"h-4 w-4"})}],yB=({isCollapsed:n=!1,toggleSidebar:e})=>{const t=gB();return h.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-sidebar",children:[h.jsx("div",{className:Ne("flex h-16 items-center border-b dark:border-sidebar-border",n?"justify-center":"px-4"),children:n?h.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}):h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"rounded-full bg-primary h-6 w-6 flex items-center justify-center",children:h.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"GM"})}),h.jsx("span",{className:"font-semibold text-lg dark:text-sidebar-foreground",children:"GrindMode"})]})}),h.jsx("nav",{className:"flex-1 overflow-y-auto py-6 no-scrollbar bg-white dark:bg-sidebar",children:h.jsx(mB,{navItems:t,isCollapsed:n})}),h.jsx("div",{className:"flex items-center justify-center border-t dark:border-sidebar-border p-2 bg-white dark:bg-sidebar",children:h.jsx(Ve,{variant:"ghost",size:"icon",onClick:e,className:"w-full h-10 rounded-full hover:bg-accent/50 dark:hover:bg-sidebar-accent/50","aria-label":"Toggle sidebar",children:n?h.jsx(ZC,{className:"h-5 w-5 dark:text-sidebar-foreground"}):h.jsx(JC,{className:"h-5 w-5 dark:text-sidebar-foreground"})})})]})},vB=({isAuthenticated:n})=>n?h.jsx(cw,{}):h.jsx(dl,{to:"/login"}),wB=()=>h.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 dark:from-background dark:to-card",children:[h.jsx("header",{className:"w-full py-6 px-4",children:h.jsxs("div",{className:"container mx-auto flex justify-center",children:[h.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:h.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}),h.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-foreground",children:"Grind Mode"})]})}),h.jsx("main",{className:"flex flex-grow items-center justify-center px-4 py-8",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsx(cw,{})})}),h.jsx(dB,{})]}),fl=({label:n,id:e,name:t,type:r,autoComplete:o,value:a,onChange:l,className:u})=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx(_s,{htmlFor:e,children:n})}),h.jsx(eo,{id:e,name:t,type:r,autoComplete:o,value:a,onChange:l,className:`w-full ${u??""}`})]}),wR=({text:n,onClick:e,isLoading:t})=>h.jsxs(Ve,{type:"button",variant:"outline",onClick:e,disabled:t,className:"w-full mt-2",children:[h.jsx("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:h.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[h.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),h.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),h.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),h.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),n]}),_B=({onSignup:n,onGoogleSignIn:e,isLoading:t,error:r})=>{const[o,a]=ce.useState({email:"",password:"",confirmPassword:"",displayName:""}),[l,u]=ce.useState(!0),d=y=>{const{name:g,value:x}=y.target;a(T=>({...T,[g]:x})),(g==="password"||g==="confirmPassword")&&u(g==="confirmPassword"?o.password===x:x===o.confirmPassword)},m=async y=>{if(y.preventDefault(),o.password!==o.confirmPassword){u(!1);return}await n(o)};return h.jsxs(Lt,{className:"w-full max-w-md mx-auto",children:[h.jsx(un,{children:h.jsx(dn,{className:"text-2xl text-center font-bold",children:"Sign up"})}),h.jsx(Gt,{children:h.jsxs("form",{onSubmit:m,className:"space-y-4",children:[h.jsx(fl,{label:"Full Name",id:"displayName",name:"displayName",type:"text",autoComplete:"name",value:o.displayName,onChange:d,required:!0}),h.jsx(fl,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:o.email,onChange:d,required:!0}),h.jsx(fl,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"new-password",value:o.password,onChange:d}),h.jsx(fl,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",value:o.confirmPassword,onChange:d,className:` ${!l&&o.confirmPassword?"border-destructive":""}`,autoComplete:"new-password"}),!l&&o.confirmPassword&&h.jsx("p",{className:"text-xs text-destructive mt-1",children:"Passwords don't match"}),r&&h.jsx("p",{className:"text-sm text-destructive",children:r}),h.jsx(Ve,{type:"submit",className:"w-full",disabled:t||!l,children:t?h.jsxs(h.Fragment,{children:[h.jsx(Gl,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})}),h.jsx(pi,{children:h.jsx(wR,{text:"Continue with Google",onClick:e,isLoading:t})})]})},xB=({onLogin:n,isLoading:e,onGoogleSignIn:t})=>{const[r,o]=w.useState({email:"",password:""}),a=u=>{const{name:d,value:m}=u.target;o(y=>({...y,[d]:m}))},l=async u=>{u.preventDefault(),n(r)};return h.jsxs(Lt,{className:"w-full max-w-md mx-auto",children:[h.jsx(un,{children:h.jsx(dn,{className:"text-2xl text-center font-bold",children:"Login"})}),h.jsx(Gt,{children:h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsx(fl,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:a,required:!0}),h.jsx(fl,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"current-password",value:r.password,onChange:a,required:!0}),h.jsx(Ve,{type:"submit",className:"w-full",disabled:e,children:e?h.jsxs(h.Fragment,{children:[h.jsx(Gl,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})}),t&&h.jsx(pi,{children:h.jsx(wR,{onClick:t,isLoading:e,text:"Continue with Google"})})]})},EB=()=>{const[n,e]=ce.useState(null),[t,r]=ce.useState(!1),{isAuthenticated:o,login:a,loginWithGoogle:l}=yi();if(o)return h.jsx(dl,{to:"/"});const u=async()=>{e(null),r(!0);try{if(!l)throw new Error("Google Sign-In function is not available");await l()}catch(m){e(Bo(m))}finally{r(!1)}},d=async m=>{e(null),r(!0);try{if(!a)throw new Error("Login function is not available");await a(m.email,m.password)}catch(y){e(Bo(y))}finally{r(!1)}};return h.jsxs(Lt,{children:[h.jsxs(un,{className:"space-y-1",children:[h.jsx(dn,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),h.jsx(kl,{className:"text-center",children:"Log in to continue your fitness journey"})]}),h.jsxs(Gt,{children:[n&&h.jsxs(a1,{variant:"destructive",className:"mb-4",children:[h.jsx(s1,{className:"h-4 w-4"}),h.jsx(l1,{children:n})]}),h.jsx(xB,{onGoogleSignIn:u,onLogin:d,isLoading:t})]}),h.jsx(pi,{className:"flex justify-center",children:h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dont have an account?"," ",h.jsx(Zo,{to:"/signup",className:"font-medium text-primary hover:underline",children:"Sign up"})]})})]})},SB=()=>{const[n,e]=w.useState(!1),[t,r]=w.useState(null),o=pa(),a=async u=>{const{email:d,password:m,displayName:y}=u;e(!0),r(null);try{const g=await AT(ar,d,m);g.user&&await RT(g.user,{displayName:y}),o("/dashboard")}catch(g){let x="Failed to create account. Please try again.";g instanceof Error&&(g.message.includes("email-already-in-use")?x="This email is already registered. Please use another email or login.":g.message.includes("weak-password")?x="Password should be at least 6 characters long.":g.message.includes("invalid-email")&&(x="Please enter a valid email address.")),r(x)}finally{e(!1)}},l=async()=>{e(!0),r(null);try{const u=new ws;await $T(ar,u),o("/dashboard")}catch(u){r("Google sign-in failed. Please try again."),console.error("Google sign-in error:",u)}finally{e(!1)}};return h.jsxs(Lt,{children:[h.jsxs(un,{className:"space-y-1",children:[h.jsx(dn,{className:"text-2xl font-bold text-center",children:"Create your account"}),h.jsx(kl,{className:"text-center",children:"Join GrindMode to track your fitness journey"})]}),h.jsxs(Gt,{children:[t&&h.jsxs(a1,{variant:"destructive",className:"mb-4",children:[h.jsx(s1,{className:"h-4 w-4"}),h.jsx(l1,{children:t})]}),h.jsx(_B,{onSignup:a,isLoading:n,error:t,onGoogleSignIn:l})]}),h.jsx(pi,{className:"flex justify-center",children:h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",h.jsx(Zo,{to:"/login",className:"font-medium text-primary hover:underline",children:"Log in"})]})})]})},TB=n=>h.jsxs(tr,{element:h.jsx(wB,{}),children:[h.jsx(tr,{path:"/",element:n?h.jsx(dl,{to:"/dashboard"}):h.jsx(dl,{to:"/login"})}),h.jsx(tr,{path:"/login",element:n?h.jsx(dl,{to:"/dashboard"}):h.jsx(EB,{})}),h.jsx(tr,{path:"/signup",element:n?h.jsx(dl,{to:"/dashboard"}):h.jsx(SB,{})})]},"auth-layout"),bB=({userName:n})=>{const e=new Date,t={weekday:"long",year:"numeric",month:"long",day:"numeric"},r=e.toLocaleDateString("en-US",t);return h.jsx("header",{className:"mb-6 space-y-2",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Welcome back, ",n]}),h.jsx("p",{className:"text-muted-foreground",children:"Track your fitness journey and reach your goals"})]}),h.jsxs("div",{className:"mt-2 sm:mt-0 flex items-center text-sm text-muted-foreground",children:[h.jsx(r5,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:r})]})]})})},IB=n=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(n);function CB(n){const[e,t]=n.split(":").map(Number),r=new Date;return r.setHours(e,t,0,0),st.fromDate(r)}function AB(n){return n.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const RB=({nutritionData:n,isLoading:e=!1,latestEntries:t=[],onLogFood:r})=>{var a,l;const o=t[0];return h.jsx(tA,{title:"Nutrition",actionLabel:"Log",actionIcon:h.jsx(ql,{className:"h-4 w-4 mr-1"}),onAction:r,isLoading:e,children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs(eA,{children:[h.jsx(lh,{label:"Today",value:(n==null?void 0:n.today.calories.toFixed(0))||"0",unit:"cal",valueSize:"lg"}),h.jsx(lh,{label:"Protein",value:(n==null?void 0:n.today.protein.toFixed(0))||"0",unit:"g",valueSize:"md",className:"text-right"})]}),o&&h.jsxs("div",{className:"pt-2",children:[h.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Last Entry"}),h.jsx(ah,{title:o.date?IB(o.date.toDate()):"Recent",subtitle:`${((a=o.meals)==null?void 0:a.length)||0} meals logged`,value:((l=o.dailyTotals)==null?void 0:l.calories.toFixed(0))||"0",unit:"cal"})]}),n&&n.weekly.daysTracked>0&&h.jsxs("div",{className:"pt-2",children:[h.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Weekly Average"}),h.jsx(ah,{title:`${n.weekly.averageCalories.toFixed(0)} cal/day`,subtitle:`${n.weekly.daysTracked} days tracked this week`})]})]})})},kB=({workoutData:n={today:{completed:!1,duration:0,exercises:0},weekly:{workouts:0,totalDuration:0}},isLoading:e=!1,onLogWorkout:t})=>h.jsx(tA,{title:"Workouts",actionLabel:"Log",actionIcon:h.jsx(ql,{className:"h-4 w-4 mr-1"}),onAction:t,isLoading:e,children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs(eA,{children:[h.jsx(lh,{label:"This Week",value:n.weekly.workouts,unit:"workouts"}),h.jsx(lh,{label:"Total Time",value:n.weekly.totalDuration,unit:"min",className:"text-right"})]}),h.jsx("div",{className:"pt-2",children:n.today.completed?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Today's Workout"}),h.jsx(ah,{title:"Completed",subtitle:`${n.today.exercises} exercises`,value:n.today.duration,unit:"min"})]}):h.jsx(ah,{title:"No workout yet today",subtitle:"Log your workout to track progress"})})]})}),PB=({onAddWorkout:n,onLogFood:e,onRecordMeasurement:t})=>h.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[h.jsxs(Ve,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:n,children:[h.jsx(Ov,{className:"h-4 w-4"}),h.jsx("span",{children:"Add Workout"})]}),h.jsxs(Ve,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:e,children:[h.jsx(o1,{className:"h-4 w-4"}),h.jsx("span",{children:"Log Food"})]}),h.jsxs(Ve,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:t,children:[h.jsx(N5,{className:"h-4 w-4"}),h.jsx("span",{children:"Measurements"})]})]});class _R{constructor(e){A0(this,"collectionName");this.collectionName=e}async add(e,t=!0){if(!e)throw new Error(`Invalid data for ${this.collectionName}`);const r=Wr(),o=ef(Br,"users",r,this.collectionName),a=t?{date:st.now(),createdAt:st.now(),updatedAt:st.now()}:{};return(await V4(o,{...e,...a})).id}async getAll(e){const t=Wr();if(!t)throw new Error("User not authenticated");const r=ef(Br,"users",t,this.collectionName),o=e?tf(r,nf("date","desc"),_E(e)):tf(r,nf("date","desc"));return(await og(o)).docs.map(l=>({id:l.id,...l.data()}))}async getById(e){if(!e)throw new Error(`Invalid ID for fetching ${this.collectionName}`);try{const t=Wr();if(!t)throw new Error("User not authenticated");const r=Jo(Br,"users",t,this.collectionName,e),o=await _v(r);return o.exists()?{id:o.id,...o.data()}:null}catch(t){return console.error(`Error fetching ${this.collectionName} document ${e}:`,t),null}}async update(e,t){if(!e||!t)throw new Error(`Invalid parameters for update ${this.collectionName}`);const r=Wr(),o=Jo(Br,"users",r,this.collectionName,e);return await TI(o,{...t,updatedAt:st.now()}),!0}async delete(e){if(!e)throw new Error(`Invalid ID for delete ${this.collectionName}`);const t=Wr(),r=Jo(Br,"users",t,this.collectionName,e);return await bI(r),!0}async getByDateRange(e,t,r="date"){if(!e||!t)throw new Error(`Invalid date parameters for ${this.collectionName} date range query`);const o=Wr(),a=ef(Br,"users",o,this.collectionName),l=tf(a,sg(r,">=",st.fromDate(e)),sg(r,"<=",st.fromDate(t)),nf(r,"desc"));return(await og(l)).docs.map(d=>({id:d.id,...d.data()}))}async getByDate(e,t="date"){const r=new Date(e);r.setHours(0,0,0,0);const o=new Date(e);return o.setHours(23,59,59,999),this.getByDateRange(r,o,t)}async query(e=[],t="date",r="desc",o){const a=Wr(),l=ef(Br,"users",a,this.collectionName),u=[...e.map(y=>sg(y.field,y.operator,y.value)),nf(t,r)];o&&u.push(_E(o));const d=tf(l,...u);return(await og(d)).docs.map(y=>({id:y.id,...y.data()}))}}const ma=new _R("nutrition"),xR=async n=>{try{return await ma.add(n)}catch(e){throw console.error("Error adding nutrition entry:",e),e}},NB=async n=>{try{return await ma.getAll(n)}catch(e){return console.error("Error fetching nutrition entries:",e),[]}},DB=async n=>{try{return await ma.getById(n)}catch(e){return console.error(`Error fetching nutrition entry ${n}:`,e),null}},Zc=async(n,e)=>{try{return await ma.update(n,e)}catch(t){return console.error(`Error updating nutrition entry ${n}:`,t),!1}},MB=async n=>{try{return await ma.delete(n)}catch(e){return console.error(`Error deleting nutrition entry ${n}:`,e),!1}},jB=async n=>{try{return await ma.getByDate(n)}catch(e){return console.error("Error fetching nutrition entries by date:",e),[]}},OB=async()=>{try{const n=new Date,e=new Date(n);return e.setDate(n.getDate()-7),await ma.getByDateRange(e,n)}catch(n){return console.error("Error fetching nutrition summary:",n),[]}},ER=n=>{const[e,t]=w.useState([]),[r,o]=w.useState([]),[a,l]=w.useState([]),[u,d]=w.useState(!1),[m,y]=w.useState(0),g=w.useCallback($=>{if(!$.date)return!1;const B=new Date,K=new Date;K.setDate(B.getDate()-7);const D=$.date.toDate();return D>=K&&D<=B},[]),x=w.useCallback($=>{$&&(o(B=>B.some(K=>K.id===$.id)?B.map(K=>K.id===$.id?$:K):[$,...B]),g($)&&l(B=>B.some(K=>K.id===$.id)?B.map(K=>K.id===$.id?$:K):[$,...B]),t(B=>B.some(K=>K.id===$.id)?B.map(K=>K.id===$.id?$:K):[$,...B])),y(B=>B+1)},[g]);w.useEffect(()=>{(async()=>{d(!0);try{const B=await jB(n);o(B)}catch(B){console.error("Error fetching nutrition entries by date:",B)}finally{d(!1)}})()},[n]),w.useEffect(()=>{(async()=>{d(!0);try{const B=new Date;new Date().setDate(B.getDate()-7);const D=await OB();l(D)}catch(B){console.error("Error fetching weekly nutrition entries:",B)}finally{d(!1)}})()},[m]),w.useEffect(()=>{(async()=>{d(!0);try{const B=await NB();t(B)}catch(B){console.error("Error fetching all nutrition entries:",B)}finally{d(!1)}})()},[m]);const T=w.useCallback(()=>{const $=new Set;a.forEach(M=>{if(!M.date)return;const L=M.date.toDate(),U=`${L.getFullYear()}-${L.getMonth()}-${L.getDate()}`;$.add(U)});const B=a.reduce((M,L)=>{var U;return M+(((U=L.dailyTotals)==null?void 0:U.calories)||0)},0),K=a.reduce((M,L)=>{var U;return M+(((U=L.dailyTotals)==null?void 0:U.protein)||0)},0),D=$.size,R=D>0?B/D:0,k=D>0?K/D:0;return{averageCalories:R,averageProtein:k,daysTracked:D}},[a]),b=w.useCallback(()=>{var B,K,D;const $=e.find(R=>{if(!R.date)return!1;const k=R.date.toDate();return T9(k)});return{calories:((B=$==null?void 0:$.dailyTotals)==null?void 0:B.calories)||0,protein:((K=$==null?void 0:$.dailyTotals)==null?void 0:K.protein)||0,meals:((D=$==null?void 0:$.meals)==null?void 0:D.length)||0}},[e]),I=w.useMemo(()=>{const $=T();return{today:b(),weekly:{averageCalories:$.averageCalories,averageProtein:$.averageProtein,daysTracked:$.daysTracked}}},[T,b]),C=async $=>{d(!0);try{const B={...$,date:$.date||st.fromDate(n)},K=await xR(B);return K?(x(),K):null}catch(B){return console.error("Error adding nutrition entry:",B),null}finally{d(!1)}},P=async($,B)=>{d(!0);try{return await Zc($,B)?(x(),!0):!1}catch(K){return console.error("Error updating nutrition entry:",K),!1}finally{d(!1)}},V=async $=>{d(!0);try{return await MB($)?(x(),!0):!1}catch(B){return console.error("Error deleting nutrition entry:",B),!1}finally{d(!1)}},O=w.useCallback(async($,B)=>{d(!0);try{return await Zc($,{notes:B})?(x(),!0):!1}catch(K){return console.error("Error updating notes:",K),!1}finally{d(!1)}},[x]);return{isLoading:u,allNutritionEntries:e,weeklyNutritionEntries:a,selectedDateNutritionEntries:r,nutritionSummary:I,addEntry:C,updateEntry:P,deleteEntry:V,updateNotes:O,getWeeklySummary:T,getTodayData:b,refreshData:x}},LB=()=>{const n=pa(),{user:e}=yi(),[t]=w.useState(()=>new Date),{isLoading:r,allNutritionEntries:o,nutritionSummary:a}=ER(t),l=()=>{n("/workoutplanner")},u=()=>{n("/nutrition")},d=()=>{n("/progress")};return h.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[h.jsx(bB,{userName:(e==null?void 0:e.displayName)||"User"}),h.jsx(PB,{onAddWorkout:l,onLogFood:u,onRecordMeasurement:d}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(kB,{onLogWorkout:l}),h.jsx(RB,{isLoading:r,nutritionData:a,latestEntries:o.slice(0,3),onLogFood:u})]})]})},VB=()=>{const{state:n,setSidebarOpen:e}=rw(),{logout:t}=yi(),r=pa(),o=n.ui.sidebarOpen,a=()=>{e(!o)},l=w.useCallback(async()=>{try{t&&await t(),r("/login")}catch(u){console.error("Logout failed:",u)}},[t,r]);return h.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-background",children:[h.jsx("div",{className:`${o?"w-64":"w-20"} transition-all duration-300 ease-in-out bg-white dark:bg-sidebar shadow-lg`,children:h.jsx(yB,{isCollapsed:!o,toggleSidebar:a})}),h.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[h.jsx(pB,{isDashboard:!0,onLogout:l}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 dark:bg-background",children:h.jsx("div",{className:"container mx-auto",children:h.jsx(cw,{})})})]})]})},FB=[{value:"breakfast",label:"Breakfast"},{value:"lunch",label:"Lunch"},{value:"dinner",label:"Dinner"},{value:"snack",label:"Snack"},{value:"other",label:"Other"}],UB=({name:n,time:e,onNameChange:t,onTimeChange:r})=>h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs(hl,{children:[h.jsx(_s,{htmlFor:"meal-name",children:"Meal Type"}),h.jsxs(il,{value:n,onValueChange:t,children:[h.jsx(ll,{id:"meal-name",className:"max-w-[180px]",children:h.jsx(al,{placeholder:"Select meal type"})}),h.jsx(cl,{children:FB.map(o=>h.jsx(ul,{value:o.value,children:o.label},o.value))})]})]}),h.jsxs(hl,{children:[h.jsx(_s,{htmlFor:"meal-time",children:"Time"}),h.jsx(eo,{id:"meal-time",type:"time",value:e,onChange:r,className:"max-w-[180px]"})]})]}),$B=({onSubmit:n,onCancel:e,initialMeal:t,isEditing:r=!1})=>{const[o,a]=w.useState((t==null?void 0:t.name)||""),[l,u]=w.useState((t==null?void 0:t.time)||st.now()),[d,m]=w.useState({mealName:""}),[y,g]=w.useState(!1),x=()=>{const C={mealName:""};let P=!0;return o||(C.mealName="Meal type is required",P=!1),m(C),P},T=async C=>{if(C.preventDefault(),!!x())try{g(!0),await n({name:o,time:l})}catch(P){console.error("Error submitting meal form:",P)}finally{g(!1)}},b=C=>{a(C),C&&m(P=>({...P,mealName:""}))},I=C=>{u(CB(C.target.value))};return h.jsxs(Lt,{className:"w-full",children:[h.jsx(un,{children:h.jsxs(dn,{className:"flex items-center gap-2",children:[h.jsx(i1,{className:"h-5 w-5"}),r?"Edit Meal":"Add New Meal"]})}),h.jsxs("form",{onSubmit:T,children:[h.jsxs(Gt,{className:"space-y-4",children:[h.jsx(UB,{name:o,time:AB(l),onNameChange:b,onTimeChange:I}),d.mealName&&h.jsx(l$,{message:d.mealName})]}),h.jsxs(pi,{className:"flex justify-end gap-2 border-t pt-4 mt-1",children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:e,disabled:y,children:"Cancel"}),h.jsx(Ve,{type:"submit",disabled:y,children:y?"Saving...":r?"Save Changes":"Save Meal"})]})]})]})},zB=n=>{const e={name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""};let t=!0;return n.name.trim()||(e.name="Food name is required",t=!1),n.quantity<=0&&(e.quantity="Quantity must be greater than 0",t=!1),n.calories<0&&(e.calories="Calories cannot be negative",t=!1),n.protein<0&&(e.protein="Protein cannot be negative",t=!1),n.carbs<0&&(e.carbs="Carbs cannot be negative",t=!1),n.fat<0&&(e.fat="Fat cannot be negative",t=!1),{isValid:t,newErrors:e}},fS="aGILeRnIJ3bHhfVWbBagI6fbyRwqbzDGOf5x1FB3",hS="https://api.nal.usda.gov/fdc/v1",Wi={calories:1008,protein:1003,carbs:1005,fat:1004,fiber:1079,sugar:2e3,sodium:1093},hw={searchFoods:async(n,e=20)=>{try{const t=await fetch(`${hS}/foods/search?api_key=${fS}&query=${encodeURIComponent(n)}&pageSize=${e}`);if(!t.ok)throw new Error(`USDA API error: ${t.status}`);return(await t.json()).foods||[]}catch(t){throw console.error("Error searching foods:",t),t}},getFoodDetails:async n=>{try{const e=await fetch(`${hS}/food/${n}?api_key=${fS}`);if(!e.ok)throw new Error(`USDA API error: ${e.status}`);return await e.json()}catch(e){throw console.error(`Error getting food details for ID ${n}:`,e),e}},extractNutrients:n=>{const e={calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0};return n.foodNutrients.forEach(t=>{switch(t.nutrientId){case Wi.calories:e.calories=t.value;break;case Wi.protein:e.protein=t.value;break;case Wi.carbs:e.carbs=t.value;break;case Wi.fat:e.fat=t.value;break;case Wi.fiber:e.fiber=t.value;break;case Wi.sugar:e.sugar=t.value;break;case Wi.sodium:e.sodium=t.value;break}}),e}},BB=[{value:"g",label:"grams (g)"},{value:"ml",label:"milliliters (ml)"}],WB=[{id:"calories",label:"Calories",placeholder:"165",unit:""},{id:"protein",label:"Protein",placeholder:"31",unit:"g"},{id:"carbs",label:"Carbs",placeholder:"0",unit:"g"},{id:"fat",label:"Fat",placeholder:"3.6",unit:"g"}],HB=({onSubmit:n,onCancel:e,initValues:t})=>{const[r,o]=w.useState({name:(t==null?void 0:t.name)||"",quantity:(t==null?void 0:t.quantity)||100,calories:(t==null?void 0:t.calories)||0,protein:(t==null?void 0:t.protein)||0,carbs:(t==null?void 0:t.carbs)||0,fat:(t==null?void 0:t.fat)||0,unit:(t==null?void 0:t.unit)||"g"}),[a,l]=w.useState({name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""}),u=g=>{const x=hw.extractNutrients(g);o({...r,name:g.description,quantity:100,calories:Math.round(x.calories||0),protein:Math.round(x.protein||0),carbs:Math.round(x.carbs||0),fat:Math.round(x.fat||0)}),l({name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""})},d=g=>{const{id:x,value:T}=g.target,b=x.replace("food-",""),C=["quantity","calories","protein","carbs","fat"].includes(b)?parseFloat(T)||0:T;o(P=>({...P,[b]:C})),a[b]&&l(P=>({...P,[b]:""}))},m=g=>{o(x=>({...x,unit:g}))},y=g=>{g.preventDefault();const x=zB(r);l(x.newErrors),x.isValid&&n(r)};return h.jsxs("form",{onSubmit:y,className:"space-y-4",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx(_s,{className:"text-sm font-medium block mb-2",children:"Search USDA Food Database"}),h.jsx(u8,{onSelectFood:u,buttonLabel:"Select",autoFocus:!t}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Search for foods to automatically fill nutrition information"})]}),h.jsxs(hl,{children:[h.jsx(_s,{htmlFor:"food-name",className:"text-sm font-medium",children:"Food Name"}),h.jsx(eo,{id:"food-name",placeholder:"e.g., Chicken Breast",value:r.name,onChange:d,className:a.name?"border-destructive":""}),a.name&&h.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[h.jsx(Xc,{className:"h-3 w-3 mr-1"}),h.jsx("span",{children:a.name})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs(hl,{children:[h.jsx(_s,{htmlFor:"food-quantity",className:"text-sm font-medium",children:"Quantity"}),h.jsx(eo,{id:"food-quantity",type:"number",placeholder:"100",value:r.quantity===0?"":r.quantity,onChange:d,min:"0",step:"any",className:a.quantity?"border-destructive":""}),a.quantity&&h.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[h.jsx(Xc,{className:"h-3 w-3 mr-1"}),h.jsx("span",{children:a.quantity})]})]}),h.jsxs(hl,{children:[h.jsx(_s,{htmlFor:"food-unit",className:"text-sm font-medium",children:"Unit"}),h.jsxs(il,{value:r.unit,onValueChange:m,children:[h.jsx(ll,{id:"food-unit",children:h.jsx(al,{placeholder:"Select unit"})}),h.jsx(cl,{children:BB.map(g=>h.jsx(ul,{value:g.value,children:g.label},g.value))})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nutrition Information"}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:WB.map(g=>h.jsxs(hl,{children:[h.jsxs(_s,{htmlFor:`food-${g.id}`,className:"text-sm font-medium",children:[g.label,g.unit?` (${g.unit})`:""]}),h.jsx(eo,{id:`food-${g.id}`,type:"number",placeholder:g.placeholder,value:r[g.id]===0?"":r[g.id],onChange:d,min:"0",step:"any",className:a[g.id]?"border-destructive":""}),a[g.id]&&h.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[h.jsx(Xc,{className:"h-3 w-3 mr-1"}),h.jsx("span",{children:a[g.id]})]})]},g.id))})]}),h.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[h.jsx(Ve,{type:"button",variant:"outline",size:"sm",onClick:e,children:"Cancel"}),h.jsxs(Ve,{type:"submit",size:"sm",children:[t?"Update":"Add"," Food Item"]})]})]})},qB=({onSubmit:n,onCancel:e,initialMeal:t,isEditing:r=!1})=>{const[o,a]=w.useState("meal"),[l,u]=w.useState({name:(t==null?void 0:t.name)||"",time:(t==null?void 0:t.time)||st.now()}),[d,m]=w.useState((t==null?void 0:t.foods)||[]),[y,g]=w.useState(!1),[x,T]=w.useState(null),[b,I]=w.useState(null),[C,P]=w.useState(!1),V=async L=>{u(L),a("food")},O=()=>{g(!0),T(null),I(null)},$=L=>{g(!0),T(d[L]),I(L)},B=L=>{m(U=>U.filter((j,Se)=>Se!==L))},K=L=>{m(b!==null?U=>U.map((j,Se)=>Se===b?L:j):U=>[...U,L]),g(!1),T(null),I(null)},D=()=>{g(!1),T(null),I(null)},R=()=>{a("meal")},k=async()=>{if(!(!l||d.length===0)){P(!0);try{const L={id:(t==null?void 0:t.id)||`meal-${Date.now()}`,name:l.name,time:l.time,foods:d};await n(L)}catch(L){console.error("Error submitting meal:",L)}finally{P(!1)}}},M=d.reduce((L,U)=>(L.calories+=U.calories*U.quantity/100,L.protein+=U.protein*U.quantity/100,L.carbs+=U.carbs*U.quantity/100,L.fat+=U.fat*U.quantity/100,L),{calories:0,protein:0,carbs:0,fat:0});return h.jsxs(Lt,{className:"w-full",children:[h.jsx(un,{children:h.jsxs(dn,{children:[r?"Edit Meal":"Add New Meal",o==="food"&&h.jsxs(Uv,{className:"ml-2",children:[d.length," items"]})]})}),h.jsx(Gt,{children:o==="meal"?h.jsx($B,{onSubmit:V,onCancel:e,initialMeal:l,isEditing:r}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-muted p-3 rounded-md flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium capitalize",children:l.name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(l.time.toMillis()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),h.jsxs(Ve,{variant:"outline",size:"sm",onClick:R,children:[h.jsx(hy,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),y?h.jsx("div",{className:"border rounded-lg p-4",children:h.jsx(HB,{onSubmit:K,onCancel:D,initValues:x||void 0})}):h.jsxs("div",{className:"space-y-3",children:[d.length>0&&h.jsxs("div",{className:"space-y-2",children:[d.map((L,U)=>h.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:L.name}),h.jsxs("div",{className:"flex gap-3 text-sm text-muted-foreground",children:[h.jsxs("span",{children:[L.quantity," ",L.unit]}),h.jsxs("span",{children:[L.calories," kcal"]}),h.jsxs("span",{children:[L.protein,"g protein"]})]})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>$(U),className:"h-8 w-8 p-0",children:h.jsx(hy,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>B(U),className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10",children:h.jsx(tp,{className:"h-4 w-4"})})]})]},U)),h.jsxs("div",{className:"bg-secondary/40 p-3 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"font-medium text-sm",children:"Total calories:"}),h.jsxs("span",{className:"font-medium text-sm",children:[M.calories," kcal"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"font-medium text-sm",children:"Total protein:"}),h.jsxs("span",{className:"font-medium text-sm",children:[M.protein,"g"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"font-medium text-sm",children:"Total carbs:"}),h.jsxs("span",{className:"font-medium text-sm",children:[M.carbs,"g"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"font-medium text-sm",children:"Total fat:"}),h.jsxs("span",{className:"font-medium text-sm",children:[M.fat,"g"]})]})]})]}),h.jsxs(Ve,{variant:"outline",className:"w-full",onClick:O,children:[h.jsx(ql,{className:"h-4 w-4 mr-2"}),d.length?"Add Another Food":"Add Food Item"]})]})]})}),o==="food"&&!y&&h.jsxs(pi,{className:"border-t pt-4 flex justify-between",children:[h.jsxs(Ve,{variant:"ghost",onClick:e,disabled:C,children:[h.jsx(np,{className:"h-4 w-4 mr-2"}),"Cancel"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Ve,{variant:"outline",onClick:R,disabled:C,children:[h.jsx(XU,{className:"h-4 w-4 mr-2"}),"Back"]}),h.jsxs(Ve,{onClick:k,disabled:d.length===0||C,children:[h.jsx(XC,{className:"h-4 w-4 mr-2"}),C?"Saving...":r?"Update Meal":"Add Meal"]})]})]})]})},Jt=(n,e)=>n.reduce((t,r)=>t+r.foods.reduce((o,a)=>o+a[e]*(a.quantity/100),0),0),GB=({meal:n,className:e,onEdit:t,onDelete:r})=>{const[o,a]=w.useState(!1),l=Jt([n],"calories"),u=Jt([n],"protein"),d=n.time?new Date(n.time.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"No time set",m=()=>a(y=>!y);return h.jsxs(Lt,{className:Ne("overflow-hidden",e),children:[h.jsx(un,{className:"py-3 px-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(dn,{className:"text-base capitalize flex items-center",children:[n.name,h.jsx(Uv,{variant:"outline",className:"ml-2 font-normal text-xs",children:d})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[t&&h.jsxs(Ve,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t(n),children:[h.jsx(A5,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Edit"})]}),r&&h.jsxs(Ve,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",children:[h.jsx(tp,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Delete"})]}),h.jsxs(Ve,{variant:"ghost",size:"sm",onClick:m,className:"h-8 w-8 p-0 ml-1",children:[o?h.jsx(e1,{className:"h-4 w-4"}):h.jsx(ep,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:o?"Collapse":"Expand"})]})]})]})}),h.jsxs(Gt,{className:"px-4 pb-4 pt-0",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[h.jsxs("div",{className:"flex items-center text-muted-foreground",children:[h.jsx(p5,{className:"h-3.5 w-3.5 mr-1.5"}),h.jsx("span",{children:d})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("span",{className:"font-medium",children:[l," kcal"]}),h.jsxs("span",{className:"font-medium",children:[u,"g protein"]})]})]}),o&&n.foods.length>0&&h.jsx("div",{className:"pt-2 mt-2 border-t",children:h.jsx(d8,{foods:n.foods})}),o&&n.foods.length===0&&h.jsx("div",{className:"py-3 text-center bg-muted/30 rounded-md mt-2",children:h.jsx("p",{className:"text-sm text-muted-foreground",children:"No food items in this meal"})}),!o&&n.foods.length>0&&h.jsxs(Ve,{variant:"ghost",size:"sm",onClick:m,className:"w-full mt-1 border border-dashed text-muted-foreground",children:["Show ",n.foods.length," food item",n.foods.length>1?"s":""]}),o&&n.foods.length>0&&h.jsx(Ve,{variant:"ghost",size:"sm",onClick:m,className:"w-full mt-1 border border-dashed text-muted-foreground",children:"Hide"})]})]})},KB=({selectedDate:n,onDateChange:e})=>{const t=l=>{const u={weekday:"short",month:"short",day:"numeric"};return l.toLocaleDateString("en-US",u)},r=()=>{const l=new Date(n);l.setDate(n.getDate()-1),e(l)},o=()=>{const l=new Date(n);l.setDate(n.getDate()+1),e(l)},a=l=>{const u=new Date;return l.getDate()===u.getDate()&&l.getMonth()===u.getMonth()&&l.getFullYear()===u.getFullYear()};return h.jsx(Lt,{className:"mb-4 shadow-sm",children:h.jsx(Gt,{className:"p-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Previous day",children:h.jsx(JC,{})}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{className:"font-medium",children:t(n)}),a(n)&&h.jsx("span",{className:"text-xs text-primary",children:"Today"})]}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:o,"aria-label":"Next day",children:h.jsx(ZC,{})})]})})})};function SR(n,e){const[t,r]=w.useState(n);return w.useEffect(()=>{const o=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(o)}},[n,e]),t}const YB=({query:n,onQueryChange:e,onSearch:t,onClear:r,isLoading:o,onKeyDown:a,inputRef:l})=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(eo,{ref:l,type:"text",placeholder:"Search for a food...",value:n,onChange:u=>e(u.target.value),onKeyDown:a,className:"pr-8"}),n&&h.jsx("button",{type:"button",onClick:r,className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:h.jsx(np,{className:"h-4 w-4"})})]}),h.jsxs(Ve,{type:"button",variant:"secondary",size:"sm",onClick:t,disabled:o||!n.trim()||n.trim().length<2,children:[o?h.jsx(Gl,{className:"h-4 w-4 animate-spin"}):h.jsx(r1,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Search"})]})]}),QB=({food:n,onSelect:e,buttonLabel:t="Add"})=>{const r=hw.extractNutrients(n);return h.jsx("div",{className:"p-3 hover:bg-accent/50 transition-colors",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>e(n),children:[h.jsx("h4",{className:"font-medium text-sm",children:n.description}),n.brandOwner&&h.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[90%]",children:n.brandOwner}),h.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1 text-xs text-muted-foreground",children:[h.jsxs("span",{className:"font-medium text-foreground",children:[Math.round(r.calories)," cal"]}),h.jsxs("span",{children:["P: ",r.protein.toFixed(1),"g"]}),h.jsxs("span",{children:["C: ",r.carbs.toFixed(1),"g"]}),h.jsxs("span",{children:["F: ",r.fat.toFixed(1),"g"]})]})]}),h.jsxs(Ve,{size:"sm",variant:"ghost",onClick:()=>e(n),className:"h-7 px-2",children:[h.jsx(k5,{className:"h-3.5 w-3.5 mr-1"}),t]})]})})};function XB(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var pw="ScrollArea",[TR,xW]=ts(pw),[JB,Tr]=TR(pw),bR=w.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:o,scrollHideDelay:a=600,...l}=n,[u,d]=w.useState(null),[m,y]=w.useState(null),[g,x]=w.useState(null),[T,b]=w.useState(null),[I,C]=w.useState(null),[P,V]=w.useState(0),[O,$]=w.useState(0),[B,K]=w.useState(!1),[D,R]=w.useState(!1),k=Ze(e,L=>d(L)),M=Iu(o);return h.jsx(JB,{scope:t,type:r,dir:M,scrollHideDelay:a,scrollArea:u,viewport:m,onViewportChange:y,content:g,onContentChange:x,scrollbarX:T,onScrollbarXChange:b,scrollbarXEnabled:B,onScrollbarXEnabledChange:K,scrollbarY:I,onScrollbarYChange:C,scrollbarYEnabled:D,onScrollbarYEnabledChange:R,onCornerWidthChange:V,onCornerHeightChange:$,children:h.jsx($e.div,{dir:M,...l,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":O+"px",...n.style}})})});bR.displayName=pw;var IR="ScrollAreaViewport",CR=w.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:o,...a}=n,l=Tr(IR,t),u=w.useRef(null),d=Ze(e,u,l.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),h.jsx($e.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:h.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});CR.displayName=IR;var Ps="ScrollAreaScrollbar",mw=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,o=Tr(Ps,n.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,u=n.orientation==="horizontal";return w.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),o.type==="hover"?h.jsx(ZB,{...r,ref:e,forceMount:t}):o.type==="scroll"?h.jsx(e8,{...r,ref:e,forceMount:t}):o.type==="auto"?h.jsx(AR,{...r,ref:e,forceMount:t}):o.type==="always"?h.jsx(gw,{...r,ref:e}):null});mw.displayName=Ps;var ZB=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,o=Tr(Ps,n.__scopeScrollArea),[a,l]=w.useState(!1);return w.useEffect(()=>{const u=o.scrollArea;let d=0;if(u){const m=()=>{window.clearTimeout(d),l(!0)},y=()=>{d=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",m),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",m),u.removeEventListener("pointerleave",y)}}},[o.scrollArea,o.scrollHideDelay]),h.jsx(lr,{present:t||a,children:h.jsx(AR,{"data-state":a?"visible":"hidden",...r,ref:e})})}),e8=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,o=Tr(Ps,n.__scopeScrollArea),a=n.orientation==="horizontal",l=fp(()=>d("SCROLL_END"),100),[u,d]=XB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(u==="idle"){const m=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[u,o.scrollHideDelay,d]),w.useEffect(()=>{const m=o.viewport,y=a?"scrollLeft":"scrollTop";if(m){let g=m[y];const x=()=>{const T=m[y];g!==T&&(d("SCROLL"),l()),g=T};return m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[o.viewport,a,d,l]),h.jsx(lr,{present:t||u!=="hidden",children:h.jsx(gw,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:_e(n.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:_e(n.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),AR=w.forwardRef((n,e)=>{const t=Tr(Ps,n.__scopeScrollArea),{forceMount:r,...o}=n,[a,l]=w.useState(!1),u=n.orientation==="horizontal",d=fp(()=>{if(t.viewport){const m=t.viewport.offsetWidth<t.viewport.scrollWidth,y=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?m:y)}},10);return Dl(t.viewport,d),Dl(t.content,d),h.jsx(lr,{present:r||a,children:h.jsx(gw,{"data-state":a?"visible":"hidden",...o,ref:e})})}),gw=w.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,o=Tr(Ps,n.__scopeScrollArea),a=w.useRef(null),l=w.useRef(0),[u,d]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=DR(u.viewport,u.content),y={...r,sizes:u,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function g(x,T){return i8(x,l.current,u,T)}return t==="horizontal"?h.jsx(t8,{...y,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollLeft,T=pS(x,u,o.dir);a.current.style.transform=`translate3d(${T}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=g(x,o.dir))}}):t==="vertical"?h.jsx(n8,{...y,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollTop,T=pS(x,u);a.current.style.transform=`translate3d(0, ${T}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=g(x))}}):null}),t8=w.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...o}=n,a=Tr(Ps,n.__scopeScrollArea),[l,u]=w.useState(),d=w.useRef(null),m=Ze(e,d,a.onScrollbarXChange);return w.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),h.jsx(kR,{"data-orientation":"horizontal",...o,ref:m,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dp(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.x),onDragScroll:y=>n.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(a.viewport){const x=a.viewport.scrollLeft+y.deltaX;n.onWheelScroll(x),jR(x,g)&&y.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:fh(l.paddingLeft),paddingEnd:fh(l.paddingRight)}})}})}),n8=w.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...o}=n,a=Tr(Ps,n.__scopeScrollArea),[l,u]=w.useState(),d=w.useRef(null),m=Ze(e,d,a.onScrollbarYChange);return w.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),h.jsx(kR,{"data-orientation":"vertical",...o,ref:m,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dp(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.y),onDragScroll:y=>n.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(a.viewport){const x=a.viewport.scrollTop+y.deltaY;n.onWheelScroll(x),jR(x,g)&&y.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:fh(l.paddingTop),paddingEnd:fh(l.paddingBottom)}})}})}),[r8,RR]=TR(Ps),kR=w.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:y,onResize:g,...x}=n,T=Tr(Ps,t),[b,I]=w.useState(null),C=Ze(e,k=>I(k)),P=w.useRef(null),V=w.useRef(""),O=T.viewport,$=r.content-r.viewport,B=en(y),K=en(d),D=fp(g,10);function R(k){if(P.current){const M=k.clientX-P.current.left,L=k.clientY-P.current.top;m({x:M,y:L})}}return w.useEffect(()=>{const k=M=>{const L=M.target;(b==null?void 0:b.contains(L))&&B(M,$)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[O,b,$,B]),w.useEffect(K,[r,K]),Dl(b,D),Dl(T.content,D),h.jsx(r8,{scope:t,scrollbar:b,hasThumb:o,onThumbChange:en(a),onThumbPointerUp:en(l),onThumbPositionChange:K,onThumbPointerDown:en(u),children:h.jsx($e.div,{...x,ref:C,style:{position:"absolute",...x.style},onPointerDown:_e(n.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),P.current=b.getBoundingClientRect(),V.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T.viewport&&(T.viewport.style.scrollBehavior="auto"),R(k))}),onPointerMove:_e(n.onPointerMove,R),onPointerUp:_e(n.onPointerUp,k=>{const M=k.target;M.hasPointerCapture(k.pointerId)&&M.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=V.current,T.viewport&&(T.viewport.style.scrollBehavior=""),P.current=null})})})}),dh="ScrollAreaThumb",PR=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,o=RR(dh,n.__scopeScrollArea);return h.jsx(lr,{present:t||o.hasThumb,children:h.jsx(s8,{ref:e,...r})})}),s8=w.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...o}=n,a=Tr(dh,t),l=RR(dh,t),{onThumbPositionChange:u}=l,d=Ze(e,g=>l.onThumbChange(g)),m=w.useRef(void 0),y=fp(()=>{m.current&&(m.current(),m.current=void 0)},100);return w.useEffect(()=>{const g=a.viewport;if(g){const x=()=>{if(y(),!m.current){const T=a8(g,u);m.current=T,u()}};return u(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[a.viewport,y,u]),h.jsx($e.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:_e(n.onPointerDownCapture,g=>{const T=g.target.getBoundingClientRect(),b=g.clientX-T.left,I=g.clientY-T.top;l.onThumbPointerDown({x:b,y:I})}),onPointerUp:_e(n.onPointerUp,l.onThumbPointerUp)})});PR.displayName=dh;var yw="ScrollAreaCorner",NR=w.forwardRef((n,e)=>{const t=Tr(yw,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?h.jsx(o8,{...n,ref:e}):null});NR.displayName=yw;var o8=w.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,o=Tr(yw,t),[a,l]=w.useState(0),[u,d]=w.useState(0),m=!!(a&&u);return Dl(o.scrollbarX,()=>{var g;const y=((g=o.scrollbarX)==null?void 0:g.offsetHeight)||0;o.onCornerHeightChange(y),d(y)}),Dl(o.scrollbarY,()=>{var g;const y=((g=o.scrollbarY)==null?void 0:g.offsetWidth)||0;o.onCornerWidthChange(y),l(y)}),m?h.jsx($e.div,{...r,ref:e,style:{width:a,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function fh(n){return n?parseInt(n,10):0}function DR(n,e){const t=n/e;return isNaN(t)?0:t}function dp(n){const e=DR(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function i8(n,e,t,r="ltr"){const o=dp(t),a=o/2,l=e||a,u=o-l,d=t.scrollbar.paddingStart+l,m=t.scrollbar.size-t.scrollbar.paddingEnd-u,y=t.content-t.viewport,g=r==="ltr"?[0,y]:[y*-1,0];return MR([d,m],g)(n)}function pS(n,e,t="ltr"){const r=dp(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,l=e.content-e.viewport,u=a-r,d=t==="ltr"?[0,l]:[l*-1,0],m=ny(n,d);return MR([0,l],[0,u])(m)}function MR(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function jR(n,e){return n>0&&n<e}var a8=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function o(){const a={left:n.scrollLeft,top:n.scrollTop},l=t.left!==a.left,u=t.top!==a.top;(l||u)&&e(),t=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function fp(n,e){const t=en(n),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Dl(n,e){const t=en(e);Vt(()=>{let r=0;if(n){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return o.observe(n),()=>{window.cancelAnimationFrame(r),o.unobserve(n)}}},[n,t])}var OR=bR,l8=CR,c8=NR;const LR=w.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(OR,{ref:r,className:Ne("relative overflow-hidden",n),...t,children:[h.jsx(l8,{className:"h-full w-full rounded-[inherit]",children:e}),h.jsx(VR,{}),h.jsx(c8,{})]}));LR.displayName=OR.displayName;const VR=w.forwardRef(({className:n,orientation:e="vertical",...t},r)=>h.jsx(mw,{ref:r,orientation:e,className:Ne("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:h.jsx(PR,{className:"relative flex-1 rounded-full bg-border"})}));VR.displayName=mw.displayName;const FR=w.forwardRef(({isLoading:n,error:e,results:t,onSelectFood:r,buttonLabel:o="Add",showInline:a=!1,className:l=""},u)=>h.jsx(Lt,{ref:u,className:`${a?"":"absolute z-50 left-0 right-0 top-[calc(100%+0.5rem)]"} shadow-md ${l}`,children:h.jsx(Gt,{className:"p-0 overflow-hidden",children:n?h.jsxs("div",{className:"flex items-center justify-center p-4 text-sm text-muted-foreground",children:[h.jsx(Gl,{className:"h-4 w-4 mr-2 animate-spin"}),"Searching..."]}):e?h.jsx("div",{className:"p-4 text-sm text-destructive",children:e}):t.length>0?h.jsx(LR,{className:"max-h-64 overflow-y-scroll",children:t.map(d=>h.jsx(QB,{food:d,onSelect:r,buttonLabel:o},d.fdcId))}):null})}));FR.displayName="FoodSearchResults";const u8=({onSelectFood:n,buttonLabel:e="Add",autoFocus:t=!1,showInline:r=!1})=>{const[o,a]=w.useState(""),[l,u]=w.useState([]),[d,m]=w.useState(!1),[y,g]=w.useState(null),[x,T]=w.useState(!1),b=w.useRef(null),I=w.useRef(null),C=SR(o,300);w.useEffect(()=>{function B(K){b.current&&!b.current.contains(K.target)&&I.current!==K.target&&T(!1)}return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),w.useEffect(()=>{t&&I.current&&I.current.focus()},[t]);const P=w.useCallback(async()=>{if(!(!o.trim()||o.trim().length<2)){m(!0),g(null),T(!0);try{const B=await hw.searchFoods(o);u(B),B.length===0&&g("No foods found matching your search.")}catch(B){g("Failed to search foods. Please try again."),console.error(B)}finally{m(!1)}}},[o]),V=()=>{a(""),u([]),g(null),T(!1),I.current&&I.current.focus()},O=B=>{T(!1),n(B),r?(u([]),g(null)):V()},$=B=>{B.key==="Enter"&&o.trim()?(B.preventDefault(),P()):B.key==="Escape"&&T(!1)};return w.useEffect(()=>{C.trim().length>=2&&P()},[C,P]),h.jsxs("div",{className:"relative w-full",children:[h.jsx(YB,{inputRef:I,query:o,onQueryChange:a,onSearch:P,onClear:V,isLoading:d,onKeyDown:$}),x&&h.jsx(FR,{ref:b,isLoading:d,error:y,results:l,onSelectFood:O,buttonLabel:e,showInline:r})]})},hl=({children:n,errorMessage:e,className:t})=>h.jsxs("div",{className:Ne("space-y-2",t),children:[n,e&&h.jsxs("div",{className:"flex items-center gap-1 text-destructive text-xs",children:[h.jsx(Xc,{className:"h-3 w-3"}),h.jsx("span",{children:e})]})]}),d8=({foods:n,className:e=""})=>!n||n.length===0?null:h.jsx("div",{className:`space-y-2 ${e}`,children:n.map((t,r)=>h.jsx("div",{className:"bg-background border rounded-md p-3",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h5",{className:"font-medium text-sm",children:t.name}),h.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1 text-xs text-muted-foreground",children:[h.jsxs("span",{children:[t.quantity," ",t.unit]}),h.jsxs("span",{children:[t.calories," calories"]}),h.jsxs("span",{children:[t.protein,"g protein"]})]})]}),h.jsx(Uv,{variant:"outline",className:"text-xs",children:r+1})]})},`food-${r}`))}),f8=({meals:n,onDeleteMeal:e,onEditMeal:t,onAddMeal:r,isLoading:o=!1,children:a})=>h.jsxs(Lt,{className:"w-full",children:[h.jsxs(un,{className:"pb-3 flex flex-row items-center justify-between",children:[h.jsxs(dn,{className:"text-lg flex items-center gap-2",children:[h.jsx(i1,{className:"h-5 w-5"}),"Today's Meals",o&&h.jsx(Gl,{className:"h-4 w-4 ml-2 animate-spin text-muted-foreground"})]}),r&&h.jsxs(Ve,{variant:"outline",size:"sm",onClick:r,className:"h-8 gap-1",children:[h.jsx(ql,{className:"h-3.5 w-3.5"}),h.jsx("span",{children:"Add Meal"})]})]}),h.jsxs(Gt,{className:"space-y-3",children:[o?h.jsx("div",{className:"space-y-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Array(3).fill(0).map((u,d)=>h.jsx(Lt,{className:"h-[180px] overflow-hidden",children:h.jsxs("div",{className:"p-4 h-full flex flex-col",children:[h.jsx(Hr,{className:"h-5 w-3/4 mb-2"}),h.jsx(Hr,{className:"h-4 w-1/2 mb-4"}),h.jsxs("div",{className:"flex space-x-2 mb-3",children:[h.jsx(Hr,{className:"h-4 w-16"}),h.jsx(Hr,{className:"h-4 w-16"})]}),h.jsx("div",{className:"flex-1"}),h.jsxs("div",{className:"flex justify-between items-center pt-2 mt-auto",children:[h.jsx(Hr,{className:"h-4 w-16"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Hr,{className:"h-8 w-8 rounded-md"}),h.jsx(Hr,{className:"h-8 w-8 rounded-md"})]})]})]})},`skeleton-${d}`))}):n.length>0?h.jsx("div",{className:"space-y-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:n.map((u,d)=>h.jsx(GB,{meal:u,onDelete:()=>e(d),onEdit:()=>t(d,u),className:"h-full"},`meal-${u.id||d}`))}):h.jsx("div",{className:"py-8 text-center border-dashed border rounded-md bg-muted/40",children:h.jsx("p",{className:"text-muted-foreground",children:"No meals logged for today."})}),a&&h.jsx("div",{className:"pt-3",children:a})]})]});function h8({className:n,...e}){return h.jsx("textarea",{"data-slot":"textarea",className:Ne("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}const p8=({notes:n,isLoading:e=!1,onChange:t})=>{const[r,o]=ce.useState(n),[a,l]=ce.useState(!1),[u,d]=ce.useState(!1);ce.useEffect(()=>{o(n)},[n]);const m=()=>{o(n),l(!0)},y=()=>{o(n),l(!1)},g=async()=>{d(!0);try{await t(r),l(!1)}catch(x){console.error("Failed to save notes:",x)}finally{d(!1)}};return e?h.jsxs(Lt,{children:[h.jsx(un,{children:h.jsxs(dn,{className:"flex items-center justify-between",children:[h.jsx(Hr,{className:"h-4 w-16"}),h.jsx(Hr,{className:"w-20"})]})}),h.jsx(Gt,{children:h.jsx(Hr,{className:"w-full"})})]}):h.jsxs(Lt,{children:[h.jsx(un,{children:h.jsxs(dn,{className:"flex items-center justify-between",children:[h.jsx("span",{children:"Notes"}),!a&&h.jsxs(Ve,{variant:"outline",size:"sm",onClick:m,children:[h.jsx(hy,{className:"mr-2"}),n?"Edit":"Add Notes"]})]})}),h.jsx(Gt,{children:a?h.jsx(h8,{value:r,onChange:x=>o(x.target.value),placeholder:"Add your notes here...",className:"resize-none"}):h.jsx("div",{children:n?h.jsx("p",{className:"whitespace-pre-wrap",children:n}):h.jsx("p",{className:"text-muted-foreground italic",children:"No notes added yet."})})}),a&&h.jsxs(pi,{className:"flex justify-end gap-2",children:[h.jsxs(Ve,{variant:"ghost",size:"sm",onClick:y,disabled:u,children:[h.jsx(np,{className:"mr-1"}),"Cancel"]}),h.jsxs(Ve,{variant:"default",size:"sm",onClick:g,disabled:u,children:[h.jsx(M5,{className:"mr-1"}),u?"Saving...":"Save"]})]})]})},m8=({nutritionEntry:n,onEntryUpdated:e})=>{const[t,r]=w.useState(!1),[o,a]=w.useState(null),l=w.useCallback(async g=>{const x={calories:Jt([g],"calories"),protein:Jt([g],"protein"),carbs:Jt([g],"carbs"),fat:Jt([g],"fat")};try{const T=await xR({meals:[g],dailyTotals:x});if(!T)return a("Failed to create nutrition entry"),!1;const b=await DB(T);return b?(e(b),!0):(a("Failed to fetch new nutrition entry"),!1)}catch(T){return console.error("Error creating nutrition entry:",T),a("Failed to create new nutrition entry"),!1}},[e]),u=w.useCallback(async g=>{if(!n||!n.id)return a("Missing nutrition entry"),!1;const x=[...n.meals||[],g],T={calories:Jt(x,"calories"),protein:Jt(x,"protein"),carbs:Jt(x,"carbs"),fat:Jt(x,"fat")};if(!await Zc(n.id,{meals:x,dailyTotals:T}))return a("Failed to add meal to existing entry"),!1;const I={...n,meals:x,dailyTotals:T};return e(I),!0},[n,e]),d=w.useCallback(async g=>{r(!0),a(null);try{return n!=null&&n.id?await u(g):await l(g)}catch(x){return console.error("Error in addMeal operation:",x),a("An error occurred while processing the meal"),!1}finally{r(!1)}},[n,l,u]),m=w.useCallback(async(g,x)=>{if(!(n!=null&&n.id)||!n.meals)return a("Cannot edit meal: No nutrition entry or meals exist"),!1;if(g<0||g>=n.meals.length)return a("Invalid meal index"),!1;r(!0),a(null);try{const T=[...n.meals];T[g]=x;const b={calories:Jt(T,"calories"),protein:Jt(T,"protein"),carbs:Jt(T,"carbs"),fat:Jt(T,"fat")};if(await Zc(n.id,{meals:T,dailyTotals:b})){const C={...n,meals:T,dailyTotals:b};return e(C),!0}return a("Failed to update meal"),!1}catch(T){return console.error("Error editing meal:",T),a("An error occurred while editing the meal"),!1}finally{r(!1)}},[n,e]),y=w.useCallback(async g=>{if(!(n!=null&&n.id)||!n.meals)return a("Cannot delete meal: No nutrition entry or meals exist"),!1;if(g<0||g>=n.meals.length)return a("Invalid meal index"),!1;r(!0),a(null);try{const x=n.meals.filter((I,C)=>C!==g),T={calories:Jt(x,"calories"),protein:Jt(x,"protein"),carbs:Jt(x,"carbs"),fat:Jt(x,"fat")};if(await Zc(n.id,{meals:x,dailyTotals:T})){const I={...n,meals:x,dailyTotals:T};return e(I),!0}return a("Failed to delete meal"),!1}catch(x){return console.error("Error deleting meal:",x),a("An error occurred while deleting the meal"),!1}finally{r(!1)}},[n,e]);return{addMeal:d,editMeal:m,deleteMeal:y,isLoading:t,error:o}},g8=()=>{const[n,e]=w.useState(new Date),[t,r]=w.useState("hidden"),[o,a]=w.useState(void 0),[l,u]=w.useState(-1),{selectedDateNutritionEntries:d,isLoading:m,refreshData:y,updateNotes:g}=ER(n),x=d[0],{addMeal:T,editMeal:b,deleteMeal:I,isLoading:C}=m8({nutritionEntry:x,onEntryUpdated:k=>{k?y(k):y()}}),P=m||C,V=w.useCallback(k=>{e(k),r("hidden"),a(void 0)},[]),O=()=>{r("add"),a(void 0),u(-1)},$=async(k,M)=>(a(M),u(k),r("edit"),Promise.resolve()),B=async k=>{try{let M=!1;t==="add"?M=await T(k):t==="edit"&&l!==-1&&(M=await b(l,k)),M&&(r("hidden"),a(void 0),u(-1))}catch(M){console.error("Error handling meal submission:",M)}},K=()=>{r("hidden"),a(void 0),u(-1)},D=t!=="hidden",R=(x==null?void 0:x.meals)||[];return h.jsxs("div",{className:"nutrition-page space-y-4",children:[h.jsx("div",{className:"container mx-auto px-4 max-w-md",children:h.jsx(KB,{selectedDate:n,onDateChange:V})}),h.jsx("div",{className:D?"container mx-auto px-4 max-w-md":"container mx-auto px-4",children:D?h.jsx(qB,{onSubmit:B,onCancel:K,initialMeal:o,isEditing:t==="edit"}):h.jsx(h.Fragment,{children:h.jsx(f8,{meals:R,onEditMeal:$,onDeleteMeal:async k=>{await I(k)},onAddMeal:O,isLoading:P})})}),h.jsx("div",{className:"container mx-auto px-4 max-w-md pb-8",children:h.jsx(p8,{notes:(x==null?void 0:x.notes)||"",onChange:k=>g((x==null?void 0:x.id)||"",k),isLoading:P})})]})},y8=({searchResults:n,onViewExercise:e,onSelectExercise:t})=>h.jsx("div",{className:"space-y-2",children:n.map(r=>h.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-md bg-card text-card-foreground",children:[h.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r.name}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>e==null?void 0:e(r.exerciseId),children:h.jsx(t1,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>t(r.exerciseId),children:"Add"})]})]},r.exerciseId))}),v8=({searchTerm:n,searchResults:e,isSearching:t,error:r,onSearchChange:o,onSelectExercise:a,onViewExercise:l,className:u})=>h.jsxs(Lt,{className:Ne("h-full flex flex-col",u),children:[h.jsx(un,{className:"py-3 px-3",children:h.jsx(dn,{className:"text-base",children:"Exercise Library"})}),h.jsx("div",{className:"px-3 pb-2",children:h.jsxs("div",{className:"relative",children:[h.jsx(eo,{placeholder:"Search exercises...",value:n,onChange:o,className:"pr-8"}),h.jsx(r1,{className:"absolute right-2 top-2.5 h-4 w-4 text-muted-foreground"})]})}),h.jsx(Gt,{className:"flex-1 p-2 overflow-y-auto max-h-[calc(100vh-200px)]",children:t?h.jsx("div",{className:"flex items-center justify-center h-24",children:h.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching..."})}):r?h.jsx("div",{className:"flex items-center justify-center h-24",children:h.jsx("p",{className:"text-sm text-destructive",children:r})}):n.trim()!==""&&e.length===0?h.jsx("div",{className:"flex items-center justify-center h-24",children:h.jsx("p",{className:"text-sm text-muted-foreground",children:"No exercises found"})}):n.trim()===""?h.jsx("div",{className:"flex items-center justify-center h-24",children:h.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a keyword to search exercises"})}):h.jsx(y8,{searchResults:e,onSelectExercise:a,onViewExercise:l})})]}),UR=wA,w8=_A,$R=w.forwardRef(({className:n,...e},t)=>h.jsx(Jv,{ref:t,className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));$R.displayName=Jv.displayName;const vw=w.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(w8,{children:[h.jsx($R,{}),h.jsxs(Zv,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,h.jsxs(nw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(np,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vw.displayName=Zv.displayName;const ww=({className:n,...e})=>h.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});ww.displayName="DialogHeader";const zR=({className:n,...e})=>h.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});zR.displayName="DialogFooter";const _w=w.forwardRef(({className:n,...e},t)=>h.jsx(ew,{ref:t,className:Ne("text-lg font-semibold leading-none tracking-tight",n),...e}));_w.displayName=ew.displayName;const xw=w.forwardRef(({className:n,...e},t)=>h.jsx(tw,{ref:t,className:Ne("text-sm text-muted-foreground",n),...e}));xw.displayName=tw.displayName;const _8=({title:n,isOpen:e,onClose:t,children:r})=>h.jsx(UR,{open:e,onOpenChange:t,children:h.jsxs(vw,{children:[h.jsxs(ww,{children:[h.jsxs(_w,{children:["Add Exercise to ",n]}),h.jsx(xw,{children:"Search and select an exercise to add to your workout."})]}),h.jsx("div",{className:"mt-4 h-96",children:r})]})});function x8({className:n,...e}){return h.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:h.jsx("table",{"data-slot":"table",className:Ne("w-full caption-bottom text-sm",n),...e})})}function E8({className:n,...e}){return h.jsx("thead",{"data-slot":"table-header",className:Ne("[&_tr]:border-b",n),...e})}function S8({className:n,...e}){return h.jsx("tbody",{"data-slot":"table-body",className:Ne("[&_tr:last-child]:border-0",n),...e})}function bg({className:n,...e}){return h.jsx("tr",{"data-slot":"table-row",className:Ne("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function pf({className:n,...e}){return h.jsx("th",{"data-slot":"table-head",className:Ne("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function Oc({className:n,...e}){return h.jsx("td",{"data-slot":"table-cell",className:Ne("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const T8=({exercise:n,onAddSet:e,onDeleteSet:t,className:r,id:o})=>{const{sets:a=0,weight:l=0,reps:u="0",exerciseId:d}=n;return h.jsx("div",{className:`rounded border p-4 bg-card text-card-foreground ${r??""}`,id:o,children:h.jsxs(x8,{children:[h.jsx(E8,{children:h.jsxs(bg,{children:[h.jsx(pf,{className:"w-1/4",children:"Set"}),h.jsx(pf,{className:"w-1/4",children:"Reps"}),h.jsx(pf,{className:"w-1/4",children:"Weight"}),h.jsx(pf,{className:"w-1/4 text-right"})]})}),h.jsxs(S8,{children:[Array.from({length:a},(m,y)=>h.jsxs(bg,{children:[h.jsx(Oc,{children:y+1}),h.jsx(Oc,{children:String(u)}),h.jsx(Oc,{children:l}),h.jsx(Oc,{className:"text-right",children:a>1&&h.jsx(Ve,{variant:"ghost",size:"icon",onClick:t?()=>t(d):void 0,children:h.jsx(tp,{className:"h-4 w-4"})})})]},y)),h.jsx(bg,{children:h.jsx(Oc,{colSpan:4,className:"text-center ",children:h.jsx(Ve,{variant:"ghost",size:"icon",onClick:e?()=>e(d):void 0,className:"w-full",children:h.jsx(ql,{className:"h-full w-3"})})})})]})]})})},b8=({exercise:n,isOpen:e,onClose:t})=>n?h.jsx(UR,{open:e,onOpenChange:t,children:h.jsxs(vw,{className:"max-w-md",children:[h.jsxs(ww,{children:[h.jsx(_w,{children:n.name}),h.jsxs(xw,{children:[n.targetMuscles," - ",n.equipments]})]}),h.jsx("div",{className:"space-y-4 mt-4",children:n.instructions&&n.instructions.length>0&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium mb-2",children:"Instructions:"}),n.instructions.map((r,o)=>h.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r},o))]})}),h.jsx(zR,{className:"flex justify-between",children:h.jsx(Ve,{onClick:t,size:"sm",children:"Close"})})]})}):null,I8=({children:n,plannedExercise:e,workout:t,removeExerciseFromWorkout:r,handleViewExerciseDetails:o})=>h.jsxs("div",{className:"border-t pt-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h4",{className:"font-medium",children:e.name}),h.jsx("div",{children:h.jsxs("div",{className:"flex flex-row",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>o(e.exerciseId),"aria-label":`View details for ${e.name}`,children:h.jsx(t1,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>r(t.id,e.exerciseId),"aria-label":`Remove ${e.name} from workout`,children:h.jsx(tp,{className:"h-4 w-4 text-red-400"})})]})})]}),n]},e.exerciseId),mS="https://exercisedb-api.vercel.app/api/v1",gS={getExerciseById:async n=>{try{const e=await fetch(`${mS}/exercises/${n}`);if(!e.ok)throw new Error(`Exercise API error: ${e.status}`);return await e.json()}catch(e){throw console.error(`Error getting exercise data for ID ${n}:`,e),e}},searchExercises:async n=>{try{const e=await fetch(`${mS}/exercises/autocomplete?search=${encodeURIComponent(n)}`);if(!e.ok)throw new Error(`Exercise API error: ${e.status}`);return await e.json()}catch(e){throw console.error("Error searching exercises:",e),e}}},C8=()=>{const[n,e]=w.useState(""),t=SR(n,500),[r,o]=w.useState(!1),[a,l]=w.useState([]),[u,d]=w.useState(null),m=w.useCallback(g=>({exerciseId:g.exerciseId,name:g.name,sets:0,reps:0,weight:0}),[]);w.useEffect(()=>{(async()=>{if(!t.trim()){l([]);return}o(!0),d(null);try{const x=await gS.searchExercises(t);x.success&&Array.isArray(x.data)?l(x.data):(d("Couldn't retrieve exercise data. Format error."),l([]))}catch(x){console.error("Error searching exercises:",x),d("Couldn't connect to exercise database."),l([])}finally{o(!1)}})()},[t]);const y=w.useCallback(async g=>{try{const x=await gS.getExerciseById(g);return x.success?x.data:(d("Failed to fetch exercise details. Please try again."),null)}catch(x){return console.error("Error fetching exercise details:",x),d("Failed to fetch exercise details. Please try again."),null}},[]);return{searchTerm:n,searchResults:a,isSearching:r,error:u,setSearchTerm:e,selectExercise:y,mapApiExerciseToPlannedExercise:m}};function A8(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const R8=n=>{switch(n){case"success":return N8;case"info":return M8;case"warning":return D8;case"error":return j8;default:return null}},k8=Array(12).fill(0),P8=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},k8.map((t,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),N8=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),D8=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),M8=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),j8=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),O8=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),L8=()=>{const[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let _y=1;class V8{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...o}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:_y++,l=this.toasts.find(d=>d.id===a),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:u,title:r}):d):this.addToast({title:r,...o,dismissible:u,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const u=o.then(async m=>{if(l=["resolve",m],ce.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(U8(m)&&!m.ok){a=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,b=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:x,...b})}else if(m instanceof Error){a=!1;const g=typeof t.error=="function"?await t.error(m):t.error,x=typeof t.description=="function"?await t.description(m):t.description,b=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:x,...b})}else if(t.success!==void 0){a=!1;const g=typeof t.success=="function"?await t.success(m):t.success,x=typeof t.description=="function"?await t.description(m):t.description,b=typeof g=="object"&&!ce.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:x,...b})}}).catch(async m=>{if(l=["reject",m],t.error!==void 0){a=!1;const y=typeof t.error=="function"?await t.error(m):t.error,g=typeof t.description=="function"?await t.description(m):t.description,T=typeof y=="object"&&!ce.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:g,...T})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((m,y)=>u.then(()=>l[0]==="reject"?y(l[1]):m(l[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||_y++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const zn=new V8,F8=(n,e)=>{const t=(e==null?void 0:e.id)||_y++;return zn.addToast({title:n,...e,id:t}),t},U8=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",$8=F8,z8=()=>zn.toasts,B8=()=>zn.getActiveToasts(),qi=Object.assign($8,{success:zn.success,info:zn.info,warning:zn.warning,error:zn.error,custom:zn.custom,message:zn.message,promise:zn.promise,dismiss:zn.dismiss,loading:zn.loading},{getHistory:z8,getToasts:B8});A8("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function mf(n){return n.label!==void 0}const W8=3,H8="24px",q8="16px",yS=4e3,G8=356,K8=14,Y8=45,Q8=200;function gs(...n){return n.filter(Boolean).join(" ")}function X8(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const J8=n=>{var e,t,r,o,a,l,u,d,m;const{invert:y,toast:g,unstyled:x,interacting:T,setHeights:b,visibleToasts:I,heights:C,index:P,toasts:V,expanded:O,removeToast:$,defaultRichColors:B,closeButton:K,style:D,cancelButtonStyle:R,actionButtonStyle:k,className:M="",descriptionClassName:L="",duration:U,position:j,gap:Se,expandByDefault:xe,classNames:ae,icons:he,closeButtonAriaLabel:q="Close toast"}=n,[Z,ne]=ce.useState(null),[z,X]=ce.useState(null),[oe,pe]=ce.useState(!1),[Re,me]=ce.useState(!1),[se,ge]=ce.useState(!1),[Te,Pe]=ce.useState(!1),[Be,He]=ce.useState(!1),[pt,It]=ce.useState(0),[An,Rn]=ce.useState(0),tn=ce.useRef(g.duration||U||yS),Ns=ce.useRef(null),Rt=ce.useRef(null),br=P===0,Ir=P+1<=I,Ft=g.type,qn=g.dismissible!==!1,ho=g.className||"",vi=g.descriptionClassName||"",mt=ce.useMemo(()=>C.findIndex(Oe=>Oe.toastId===g.id)||0,[C,g.id]),kt=ce.useMemo(()=>{var Oe;return(Oe=g.closeButton)!=null?Oe:K},[g.closeButton,K]),cr=ce.useMemo(()=>g.duration||U||yS,[g.duration,U]),Ds=ce.useRef(0),_n=ce.useRef(0),os=ce.useRef(0),kn=ce.useRef(null),[wi,_i]=j.split("-"),po=ce.useMemo(()=>C.reduce((Oe,gt,yt)=>yt>=mt?Oe:Oe+gt.height,0),[C,mt]),mo=L8(),xi=g.invert||y,Cr=Ft==="loading";_n.current=ce.useMemo(()=>mt*Se+po,[mt,po]),ce.useEffect(()=>{tn.current=cr},[cr]),ce.useEffect(()=>{pe(!0)},[]),ce.useEffect(()=>{const Oe=Rt.current;if(Oe){const gt=Oe.getBoundingClientRect().height;return Rn(gt),b(yt=>[{toastId:g.id,height:gt,position:g.position},...yt]),()=>b(yt=>yt.filter(Ut=>Ut.toastId!==g.id))}},[b,g.id]),ce.useLayoutEffect(()=>{if(!oe)return;const Oe=Rt.current,gt=Oe.style.height;Oe.style.height="auto";const yt=Oe.getBoundingClientRect().height;Oe.style.height=gt,Rn(yt),b(Ut=>Ut.find(xt=>xt.toastId===g.id)?Ut.map(xt=>xt.toastId===g.id?{...xt,height:yt}:xt):[{toastId:g.id,height:yt,position:g.position},...Ut])},[oe,g.title,g.description,b,g.id]);const xn=ce.useCallback(()=>{me(!0),It(_n.current),b(Oe=>Oe.filter(gt=>gt.toastId!==g.id)),setTimeout(()=>{$(g)},Q8)},[g,$,b,_n]);ce.useEffect(()=>{if(g.promise&&Ft==="loading"||g.duration===1/0||g.type==="loading")return;let Oe;return O||T||mo?(()=>{if(os.current<Ds.current){const Ut=new Date().getTime()-Ds.current;tn.current=tn.current-Ut}os.current=new Date().getTime()})():(()=>{tn.current!==1/0&&(Ds.current=new Date().getTime(),Oe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),xn()},tn.current))})(),()=>clearTimeout(Oe)},[O,T,g,Ft,mo,xn]),ce.useEffect(()=>{g.delete&&xn()},[xn,g.delete]);function go(){var Oe;if(he!=null&&he.loading){var gt;return ce.createElement("div",{className:gs(ae==null?void 0:ae.loader,g==null||(gt=g.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":Ft==="loading"},he.loading)}return ce.createElement(P8,{className:gs(ae==null?void 0:ae.loader,g==null||(Oe=g.classNames)==null?void 0:Oe.loader),visible:Ft==="loading"})}const Pn=g.icon||(he==null?void 0:he[Ft])||R8(Ft);var Gn,Ms;return ce.createElement("li",{tabIndex:0,ref:Rt,className:gs(M,ho,ae==null?void 0:ae.toast,g==null||(e=g.classNames)==null?void 0:e.toast,ae==null?void 0:ae.default,ae==null?void 0:ae[Ft],g==null||(t=g.classNames)==null?void 0:t[Ft]),"data-sonner-toast":"","data-rich-colors":(Gn=g.richColors)!=null?Gn:B,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":oe,"data-promise":!!g.promise,"data-swiped":Be,"data-removed":Re,"data-visible":Ir,"data-y-position":wi,"data-x-position":_i,"data-index":P,"data-front":br,"data-swiping":se,"data-dismissible":qn,"data-type":Ft,"data-invert":xi,"data-swipe-out":Te,"data-swipe-direction":z,"data-expanded":!!(O||xe&&oe),style:{"--index":P,"--toasts-before":P,"--z-index":V.length-P,"--offset":`${Re?pt:_n.current}px`,"--initial-height":xe?"auto":`${An}px`,...D,...g.style},onDragEnd:()=>{ge(!1),ne(null),kn.current=null},onPointerDown:Oe=>{Cr||!qn||(Ns.current=new Date,It(_n.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(ge(!0),kn.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,gt,yt;if(Te||!qn)return;kn.current=null;const Ut=Number(((Oe=Rt.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nn=Number(((gt=Rt.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xt=new Date().getTime()-((yt=Ns.current)==null?void 0:yt.getTime()),et=Z==="x"?Ut:Nn,Ar=Math.abs(et)/xt;if(Math.abs(et)>=Y8||Ar>.11){It(_n.current),g.onDismiss==null||g.onDismiss.call(g,g),X(Z==="x"?Ut>0?"right":"left":Nn>0?"down":"up"),xn(),Pe(!0);return}else{var Et,$t;(Et=Rt.current)==null||Et.style.setProperty("--swipe-amount-x","0px"),($t=Rt.current)==null||$t.style.setProperty("--swipe-amount-y","0px")}He(!1),ge(!1),ne(null)},onPointerMove:Oe=>{var gt,yt,Ut;if(!kn.current||!qn||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;const xt=Oe.clientY-kn.current.y,et=Oe.clientX-kn.current.x;var Ar;const Et=(Ar=n.swipeDirections)!=null?Ar:X8(j);!Z&&(Math.abs(et)>1||Math.abs(xt)>1)&&ne(Math.abs(et)>Math.abs(xt)?"x":"y");let $t={x:0,y:0};const is=Dn=>1/(1.5+Math.abs(Dn)/20);if(Z==="y"){if(Et.includes("top")||Et.includes("bottom"))if(Et.includes("top")&&xt<0||Et.includes("bottom")&&xt>0)$t.y=xt;else{const Dn=xt*is(xt);$t.y=Math.abs(Dn)<Math.abs(xt)?Dn:xt}}else if(Z==="x"&&(Et.includes("left")||Et.includes("right")))if(Et.includes("left")&&et<0||Et.includes("right")&&et>0)$t.x=et;else{const Dn=et*is(et);$t.x=Math.abs(Dn)<Math.abs(et)?Dn:et}(Math.abs($t.x)>0||Math.abs($t.y)>0)&&He(!0),(yt=Rt.current)==null||yt.style.setProperty("--swipe-amount-x",`${$t.x}px`),(Ut=Rt.current)==null||Ut.style.setProperty("--swipe-amount-y",`${$t.y}px`)}},kt&&!g.jsx&&Ft!=="loading"?ce.createElement("button",{"aria-label":q,"data-disabled":Cr,"data-close-button":!0,onClick:Cr||!qn?()=>{}:()=>{xn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:gs(ae==null?void 0:ae.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Ms=he==null?void 0:he.close)!=null?Ms:O8):null,(Ft||g.icon||g.promise)&&g.icon!==null&&((he==null?void 0:he[Ft])!==null||g.icon)?ce.createElement("div",{"data-icon":"",className:gs(ae==null?void 0:ae.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||go():null,g.type!=="loading"?Pn:null):null,ce.createElement("div",{"data-content":"",className:gs(ae==null?void 0:ae.content,g==null||(a=g.classNames)==null?void 0:a.content)},ce.createElement("div",{"data-title":"",className:gs(ae==null?void 0:ae.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ce.createElement("div",{"data-description":"",className:gs(L,vi,ae==null?void 0:ae.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ce.isValidElement(g.cancel)?g.cancel:g.cancel&&mf(g.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:Oe=>{mf(g.cancel)&&qn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Oe),xn())},className:gs(ae==null?void 0:ae.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,ce.isValidElement(g.action)?g.action:g.action&&mf(g.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:Oe=>{mf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Oe),!Oe.defaultPrevented&&xn())},className:gs(ae==null?void 0:ae.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function vS(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Z8(n,e){const t={};return[n,e].forEach((r,o)=>{const a=o===1,l=a?"--mobile-offset":"--offset",u=a?q8:H8;function d(m){["top","right","bottom","left"].forEach(y=>{t[`${l}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?t[`${l}-${m}`]=u:t[`${l}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):d(u)}),t}const eW=ce.forwardRef(function(e,t){const{invert:r,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:m,mobileOffset:y,theme:g="light",richColors:x,duration:T,style:b,visibleToasts:I=W8,toastOptions:C,dir:P=vS(),gap:V=K8,icons:O,containerAriaLabel:$="Notifications"}=e,[B,K]=ce.useState([]),D=ce.useMemo(()=>Array.from(new Set([o].concat(B.filter(z=>z.position).map(z=>z.position)))),[B,o]),[R,k]=ce.useState([]),[M,L]=ce.useState(!1),[U,j]=ce.useState(!1),[Se,xe]=ce.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=ce.useRef(null),he=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=ce.useRef(null),Z=ce.useRef(!1),ne=ce.useCallback(z=>{K(X=>{var oe;return(oe=X.find(pe=>pe.id===z.id))!=null&&oe.delete||zn.dismiss(z.id),X.filter(({id:pe})=>pe!==z.id)})},[]);return ce.useEffect(()=>zn.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{K(X=>X.map(oe=>oe.id===z.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{VI.flushSync(()=>{K(X=>{const oe=X.findIndex(pe=>pe.id===z.id);return oe!==-1?[...X.slice(0,oe),{...X[oe],...z},...X.slice(oe+1)]:[z,...X]})})})}),[B]),ce.useEffect(()=>{if(g!=="system"){xe(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?xe("dark"):xe("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:X})=>{xe(X?"dark":"light")})}catch{z.addListener(({matches:oe})=>{try{xe(oe?"dark":"light")}catch(pe){console.error(pe)}})}},[g]),ce.useEffect(()=>{B.length<=1&&L(!1)},[B]),ce.useEffect(()=>{const z=X=>{var oe;if(a.every(me=>X[me]||X.code===me)){var Re;L(!0),(Re=ae.current)==null||Re.focus()}X.code==="Escape"&&(document.activeElement===ae.current||(oe=ae.current)!=null&&oe.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[a]),ce.useEffect(()=>{if(ae.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,Z.current=!1)}},[ae.current]),ce.createElement("section",{ref:t,"aria-label":`${$} ${he}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((z,X)=>{var oe;const[pe,Re]=z.split("-");return B.length?ce.createElement("ol",{key:z,dir:P==="auto"?vS():P,tabIndex:-1,ref:ae,className:d,"data-sonner-toaster":!0,"data-sonner-theme":Se,"data-y-position":pe,"data-lifted":M&&B.length>1&&!l,"data-x-position":Re,style:{"--front-toast-height":`${((oe=R[0])==null?void 0:oe.height)||0}px`,"--width":`${G8}px`,"--gap":`${V}px`,...b,...Z8(m,y)},onBlur:me=>{Z.current&&!me.currentTarget.contains(me.relatedTarget)&&(Z.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,q.current=me.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{U||L(!1)},onDragEnd:()=>L(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},B.filter(me=>!me.position&&X===0||me.position===z).map((me,se)=>{var ge,Te;return ce.createElement(J8,{key:me.id,icons:O,index:se,toast:me,defaultRichColors:x,duration:(ge=C==null?void 0:C.duration)!=null?ge:T,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:I,closeButton:(Te=C==null?void 0:C.closeButton)!=null?Te:u,interacting:U,position:z,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:ne,toasts:B.filter(Pe=>Pe.position==me.position),heights:R.filter(Pe=>Pe.position==me.position),setHeights:k,expandByDefault:l,gap:V,expanded:M,swipeDirections:e.swipeDirections})})):null}))}),tW=()=>{const{user:n}=yi(),{state:e}=rw(),[t]=w.useState(e.userPreferences.workoutDaysPerWeek),[r,o]=w.useState([]),[a,l]=w.useState(!0),[u,d]=w.useState();w.useEffect(()=>{(()=>{if(l(!0),n){const I=Array.from({length:t},(C,P)=>({id:`workout-template-${Date.now()}-${P}`,name:`Workout ${P+1}`,exercises:[]}));o(I)}else o([]);l(!1)})()},[n,t]);const m=w.useCallback((b,I)=>{o(C=>C.map(P=>{if(P.id!==b)return P;if(P.exercises.some(O=>O.exerciseId===I.exerciseId))return qi.error("Exercise Already Exists",{description:`"${I.name}" is already in "${P.name}".`}),P;const V={...I,sets:1,reps:10,weight:0};return qi("Exercise Added",{description:`"${I.name}" added to "${P.name}".`}),{...P,exercises:[...P.exercises,V]}}))},[]),y=w.useCallback((b,I)=>{o(C=>{const P=C.findIndex(B=>B.id===b);if(P===-1)return C;const V=[...C],O=V[P],$=O.exercises.find(B=>B.exerciseId===I);return V[P]={...O,exercises:O.exercises.filter(B=>B.exerciseId!==I)},$&&qi("Exercise Removed",{description:`"${$.name}" removed from "${O.name}".`}),V})},[]),g=w.useCallback((b,I)=>{o(C=>C.map(P=>{if(P.id!==b)return P;const V=P.exercises.map(O=>O.exerciseId!==I?O:(qi.info(`Set added to ${O.name} in ${P.name}`),{...O,sets:(O.sets||0)+1}));return{...P,exercises:V}}))},[]),x=w.useCallback((b,I)=>{o(C=>C.map(P=>{if(P.id!==b)return P;const V=P.exercises.map(O=>O.exerciseId!==I?O:(qi.info(`Set removed from ${O.name} in ${P.name}`),{...O,sets:Math.max((O.sets||0)-1,0)}));return{...P,exercises:V}}))},[]),T=w.useCallback(()=>{if(n){const b={id:`planned-workout-${Date.now()}`,name:"Planned Workouts",workouts:r,createdAt:st.now(),updatedAt:st.now()};d(b)}},[n,r]);return{isLoading:a,workouts:r,plannedWorkouts:u,numberOfWorkoutsPerWeek:t,addExerciseToWorkout:m,removeExerciseFromWorkout:y,addSetToExercise:g,removeSetFromExercise:x,saveWorkoutsToPlannedWorkouts:T}},nW=n=>{if(!n)return"An unknown error occurred";if(n.code){const t=n;switch(t.code){case"permission-denied":return"You do not have permission to perform this action.";case"not-found":return"The requested data could not be found.";case"already-exists":return"This data already exists.";case"resource-exhausted":return"You have exceeded your quota. Please try again later.";case"failed-precondition":return"Operation failed due to the current state of the data.";case"unavailable":return"The service is currently unavailable. Please try again later.";default:return`Database error: ${t.message}`}}return`Error: ${n instanceof Error?n.message:String(n)}`},rW=()=>{var R;const{workouts:n,plannedWorkouts:e,isLoading:t,addExerciseToWorkout:r,removeExerciseFromWorkout:o,addSetToExercise:a,removeSetFromExercise:l,saveWorkoutsToPlannedWorkouts:u}=tW(),{searchTerm:d,searchResults:m,isSearching:y,error:g,setSearchTerm:x,selectExercise:T}=C8(),[b,I]=w.useState(null),[C,P]=w.useState(null),V=k=>{I(k)},O=async k=>{const M=await T(k);M&&P(M)},$=k=>{b&&r(b,k),K()},B=k=>{if(b){const M=m.find(L=>L.exerciseId===k);M&&r(b,M)}},K=()=>{I(null),P(null)},D=async()=>{try{if(u(),!e)return;await oW(e),qi.success("Workouts added successfully!")}catch(k){qi.error(`Failed to add workouts. Please try again: ${nW(k)}`)}};return t?h.jsx(Hr,{className:"h-full w-full"}):h.jsxs("div",{className:"container mx-auto p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Plan your workout"}),h.jsxs("p",{className:"text-sm text-gray-500",children:["You prefer to work out ",n.length," times a week."]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(k=>h.jsxs(Lt,{id:`workout-${k.id}`,children:[h.jsx(un,{children:h.jsx("div",{className:"flex justify-between items-start",children:h.jsx("div",{children:h.jsx(dn,{children:k.name})})})}),h.jsxs(Gt,{children:[h.jsxs(Ve,{variant:"outline",className:"w-full mb-4",onClick:()=>V(k.id),children:[h.jsx(ql,{className:"mr-2 h-4 w-4"})," Add Exercise"]}),h.jsx("div",{className:"space-y-4",children:k.exercises.map(M=>h.jsx(I8,{plannedExercise:M,workout:k,removeExerciseFromWorkout:o,handleViewExerciseDetails:O,children:h.jsx(T8,{exercise:M,onAddSet:()=>a(k.id,M.exerciseId),onDeleteSet:()=>l(k.id,M.exerciseId)})},M.exerciseId))})]})]},k.id))}),h.jsx(b8,{exercise:C,isOpen:!!C,onClose:K}),h.jsx(_8,{title:`Add Exercise to ${((R=n.find(k=>k.id===b))==null?void 0:R.name)||"Workout"}`,isOpen:!!b,onClose:K,onSelectExercise:$,onViewExercise:()=>console.log(""),children:h.jsx(v8,{searchTerm:d,searchResults:m,isSearching:y,error:g,onSearchChange:k=>x(k.target.value),onSelectExercise:B,onViewExercise:O})}),h.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:h.jsx(Ve,{variant:"default",onClick:D,disabled:t,children:"Save Workout Templates"})})]})},sW=new _R("plannedWorkouts"),oW=async n=>{try{return await sW.add(n),!0}catch(e){return console.error("Error adding workout:",e),!1}},iW=()=>{const{isAuthenticated:n,isLoading:e}=yi(),t=fo();return e?h.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):h.jsxs(Cz,{children:[TB(n),h.jsx(tr,{element:h.jsx(vB,{isAuthenticated:n}),children:h.jsxs(tr,{element:h.jsx(VB,{}),children:[h.jsx(tr,{path:"/dashboard",element:h.jsx(LB,{})}),h.jsx(tr,{path:"/nutrition",element:h.jsx(g8,{})}),h.jsx(tr,{path:"/workoutplanner",element:h.jsx(rW,{})}),h.jsx(tr,{path:"/profile",element:h.jsx(cB,{})}),h.jsx(tr,{path:"/progress",element:h.jsx("div",{children:"Progress Tracking"})})]})}),h.jsx(tr,{path:"*",element:h.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Page Not Found"}),h.jsxs("p",{className:"mb-4",children:["The page at ",t.pathname," does not exist."]}),h.jsx(Zo,{to:"/",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Return Home"})]})})]})},aW=({children:n})=>{const[e,t]=w.useState(()=>{const T=localStorage.getItem("appState");if(T)try{return JSON.parse(T)}catch(b){console.error("Failed to parse saved app state",b)}return Rf}),{user:r}=yi();w.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(e))},[e]),w.useEffect(()=>{r||t(T=>({...T,ui:Rf.ui,dashboardData:Rf.dashboardData}))},[r]);const x={state:e,setTheme:T=>{t(b=>({...b,userPreferences:{...b.userPreferences,theme:T}}))},setSidebarOpen:T=>{t(b=>({...b,ui:{...b.ui,sidebarOpen:T}}))},setHeightUnit:T=>{t(b=>({...b,userPreferences:{...b.userPreferences,heightUnit:T}}))},setWeightUnit:T=>{t(b=>({...b,userPreferences:{...b.userPreferences,weightUnit:T}}))},setDateFormat:T=>{t(b=>({...b,userPreferences:{...b.userPreferences,dateFormat:T}}))},markDashboardNeedsRefresh:()=>{t(T=>({...T,dashboardData:{...T.dashboardData,needsRefresh:!0}}))},resetDashboardRefreshState:()=>{t(T=>({...T,dashboardData:{needsRefresh:!1,lastUpdated:new Date}}))},setWorkoutDaysPerWeek:T=>{t(b=>({...b,userPreferences:{...b.userPreferences,workoutDaysPerWeek:T}}))}};return h.jsx(KA.Provider,{value:x,children:n})};function lW({children:n,defaultTheme:e="light",storageKey:t="appState",...r}){const[o,a]=w.useState(()=>{var u;try{const d=localStorage.getItem(t);if(d){const m=JSON.parse(d);return((u=m==null?void 0:m.userPreferences)==null?void 0:u.theme)||e}}catch(d){console.error("Error reading theme from localStorage:",d)}return e});w.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),o==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(d);return}u.classList.add(o)},[o]);const l={theme:o,setTheme:u=>{try{const d=localStorage.getItem(t),m=d?JSON.parse(d):{};m.userPreferences||(m.userPreferences={heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",workoutDaysPerWeek:3,theme:u,notificationsEnabled:!0}),m.userPreferences.theme=u,localStorage.setItem(t,JSON.stringify(m)),a(u)}catch(d){console.error("Error saving theme to localStorage:",d),a(u)}}};return h.jsx(vR.Provider,{...r,value:l,children:n})}const cW=()=>h.jsx(uB,{children:h.jsx(lW,{children:h.jsxs(aW,{children:[h.jsx(iW,{}),h.jsx(eW,{})]})})}),uW="/grindmode/";nP.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(Xz,{basename:uW,children:h.jsx(cW,{})})}));
