var K1=Object.defineProperty;var Q1=(t,e,n)=>e in t?K1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var J_=(t,e,n)=>Q1(t,typeof e!="symbol"?e+"":e,n);function Y1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function jE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sm={exports:{}},yc={},Tm={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function X1(){if(Z_)return qe;Z_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,I={};function R(B,Z,ue){this.props=B,this.context=Z,this.refs=I,this.updater=ue||T}R.prototype.isReactComponent={},R.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function D(){}D.prototype=R.prototype;function U(B,Z,ue){this.props=B,this.context=Z,this.refs=I,this.updater=ue||T}var V=U.prototype=new D;V.constructor=U,b(V,R.prototype),V.isPureReactComponent=!0;var $=Array.isArray,W=Object.prototype.hasOwnProperty,Y={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(B,Z,ue){var ve,Re={},De=null,oe=null;if(Z!=null)for(ve in Z.ref!==void 0&&(oe=Z.ref),Z.key!==void 0&&(De=""+Z.key),Z)W.call(Z,ve)&&!N.hasOwnProperty(ve)&&(Re[ve]=Z[ve]);var Ee=arguments.length-2;if(Ee===1)Re.children=ue;else if(1<Ee){for(var Ce=Array(Ee),Pe=0;Pe<Ee;Pe++)Ce[Pe]=arguments[Pe+2];Re.children=Ce}if(B&&B.defaultProps)for(ve in Ee=B.defaultProps,Ee)Re[ve]===void 0&&(Re[ve]=Ee[ve]);return{$$typeof:t,type:B,key:De,ref:oe,props:Re,_owner:Y.current}}function P(B,Z){return{$$typeof:t,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function j(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return Z[ue]})}var F=/\/+/g;function O(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):Z.toString(36)}function Te(B,Z,ue,ve,Re){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var oe=!1;if(B===null)oe=!0;else switch(De){case"string":case"number":oe=!0;break;case"object":switch(B.$$typeof){case t:case e:oe=!0}}if(oe)return oe=B,Re=Re(oe),B=ve===""?"."+O(oe,0):ve,$(Re)?(ue="",B!=null&&(ue=B.replace(F,"$&/")+"/"),Te(Re,Z,ue,"",function(Pe){return Pe})):Re!=null&&(M(Re)&&(Re=P(Re,ue+(!Re.key||oe&&oe.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+B)),Z.push(Re)),1;if(oe=0,ve=ve===""?".":ve+":",$(B))for(var Ee=0;Ee<B.length;Ee++){De=B[Ee];var Ce=ve+O(De,Ee);oe+=Te(De,Z,ue,Ce,Re)}else if(Ce=x(B),typeof Ce=="function")for(B=Ce.call(B),Ee=0;!(De=B.next()).done;)De=De.value,Ce=ve+O(De,Ee++),oe+=Te(De,Z,ue,Ce,Re);else if(De==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return oe}function be(B,Z,ue){if(B==null)return B;var ve=[],Re=0;return Te(B,ve,"","",function(De){return Z.call(ue,De,Re++)}),ve}function he(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var me={current:null},q={transition:null},ee={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:q,ReactCurrentOwner:Y};function re(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:be,forEach:function(B,Z,ue){be(B,function(){Z.apply(this,arguments)},ue)},count:function(B){var Z=0;return be(B,function(){Z++}),Z},toArray:function(B){return be(B,function(Z){return Z})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=R,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=U,qe.StrictMode=r,qe.Suspense=h,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,qe.act=re,qe.cloneElement=function(B,Z,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ve=b({},B.props),Re=B.key,De=B.ref,oe=B._owner;if(Z!=null){if(Z.ref!==void 0&&(De=Z.ref,oe=Y.current),Z.key!==void 0&&(Re=""+Z.key),B.type&&B.type.defaultProps)var Ee=B.type.defaultProps;for(Ce in Z)W.call(Z,Ce)&&!N.hasOwnProperty(Ce)&&(ve[Ce]=Z[Ce]===void 0&&Ee!==void 0?Ee[Ce]:Z[Ce])}var Ce=arguments.length-2;if(Ce===1)ve.children=ue;else if(1<Ce){Ee=Array(Ce);for(var Pe=0;Pe<Ce;Pe++)Ee[Pe]=arguments[Pe+2];ve.children=Ee}return{$$typeof:t,type:B.type,key:Re,ref:De,props:ve,_owner:oe}},qe.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},qe.createElement=A,qe.createFactory=function(B){var Z=A.bind(null,B);return Z.type=B,Z},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:u,render:B}},qe.isValidElement=M,qe.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:he}},qe.memo=function(B,Z){return{$$typeof:m,type:B,compare:Z===void 0?null:Z}},qe.startTransition=function(B){var Z=q.transition;q.transition={};try{B()}finally{q.transition=Z}},qe.unstable_act=re,qe.useCallback=function(B,Z){return me.current.useCallback(B,Z)},qe.useContext=function(B){return me.current.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B){return me.current.useDeferredValue(B)},qe.useEffect=function(B,Z){return me.current.useEffect(B,Z)},qe.useId=function(){return me.current.useId()},qe.useImperativeHandle=function(B,Z,ue){return me.current.useImperativeHandle(B,Z,ue)},qe.useInsertionEffect=function(B,Z){return me.current.useInsertionEffect(B,Z)},qe.useLayoutEffect=function(B,Z){return me.current.useLayoutEffect(B,Z)},qe.useMemo=function(B,Z){return me.current.useMemo(B,Z)},qe.useReducer=function(B,Z,ue){return me.current.useReducer(B,Z,ue)},qe.useRef=function(B){return me.current.useRef(B)},qe.useState=function(B){return me.current.useState(B)},qe.useSyncExternalStore=function(B,Z,ue){return me.current.useSyncExternalStore(B,Z,ue)},qe.useTransition=function(){return me.current.useTransition()},qe.version="18.3.1",qe}var e0;function Yh(){return e0||(e0=1,Tm.exports=X1()),Tm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function J1(){if(t0)return yc;t0=1;var t=Yh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,m){var v,y={},x=null,T=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(T=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(y[v]=h[v]);if(u&&u.defaultProps)for(v in h=u.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:e,type:u,key:x,ref:T,props:y,_owner:o.current}}return yc.Fragment=n,yc.jsx=l,yc.jsxs=l,yc}var n0;function Z1(){return n0||(n0=1,Sm.exports=J1()),Sm.exports}var p=Z1(),_=Yh();const wt=jE(_),LE=Y1({__proto__:null,default:wt},[_]);var Dd={},Im={exports:{}},En={},Cm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function eP(){return r0||(r0=1,function(t){function e(q,ee){var re=q.length;q.push(ee);e:for(;0<re;){var B=re-1>>>1,Z=q[B];if(0<o(Z,ee))q[B]=ee,q[re]=Z,re=B;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ee=q[0],re=q.pop();if(re!==ee){q[0]=re;e:for(var B=0,Z=q.length,ue=Z>>>1;B<ue;){var ve=2*(B+1)-1,Re=q[ve],De=ve+1,oe=q[De];if(0>o(Re,re))De<Z&&0>o(oe,Re)?(q[B]=oe,q[De]=re,B=De):(q[B]=Re,q[ve]=re,B=ve);else if(De<Z&&0>o(oe,re))q[B]=oe,q[De]=re,B=De;else break e}}return ee}function o(q,ee){var re=q.sortIndex-ee.sortIndex;return re!==0?re:q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],v=1,y=null,x=3,T=!1,b=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(q){for(var ee=n(m);ee!==null;){if(ee.callback===null)r(m);else if(ee.startTime<=q)r(m),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(m)}}function $(q){if(I=!1,V(q),!b)if(n(h)!==null)b=!0,he(W);else{var ee=n(m);ee!==null&&me($,ee.startTime-q)}}function W(q,ee){b=!1,I&&(I=!1,D(A),A=-1),T=!0;var re=x;try{for(V(ee),y=n(h);y!==null&&(!(y.expirationTime>ee)||q&&!j());){var B=y.callback;if(typeof B=="function"){y.callback=null,x=y.priorityLevel;var Z=B(y.expirationTime<=ee);ee=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===n(h)&&r(h),V(ee)}else r(h);y=n(h)}if(y!==null)var ue=!0;else{var ve=n(m);ve!==null&&me($,ve.startTime-ee),ue=!1}return ue}finally{y=null,x=re,T=!1}}var Y=!1,N=null,A=-1,P=5,M=-1;function j(){return!(t.unstable_now()-M<P)}function F(){if(N!==null){var q=t.unstable_now();M=q;var ee=!0;try{ee=N(!0,q)}finally{ee?O():(Y=!1,N=null)}}else Y=!1}var O;if(typeof U=="function")O=function(){U(F)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,be=Te.port2;Te.port1.onmessage=F,O=function(){be.postMessage(null)}}else O=function(){R(F,0)};function he(q){N=q,Y||(Y=!0,O())}function me(q,ee){A=R(function(){q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){b||T||(b=!0,he(W))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(q){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var re=x;x=ee;try{return q()}finally{x=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=x;x=q;try{return ee()}finally{x=re}},t.unstable_scheduleCallback=function(q,ee,re){var B=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?B+re:B):re=B,q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=re+Z,q={id:v++,callback:ee,priorityLevel:q,startTime:re,expirationTime:Z,sortIndex:-1},re>B?(q.sortIndex=re,e(m,q),n(h)===null&&q===n(m)&&(I?(D(A),A=-1):I=!0,me($,re-B))):(q.sortIndex=Z,e(h,q),b||T||(b=!0,he(W))),q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(q){var ee=x;return function(){var re=x;x=ee;try{return q.apply(this,arguments)}finally{x=re}}}}(bm)),bm}var s0;function tP(){return s0||(s0=1,Cm.exports=eP()),Cm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function nP(){if(o0)return En;o0=1;var t=Yh(),e=tP();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function x(s){return h.call(y,s)?!0:h.call(v,s)?!1:m.test(s)?y[s]=!0:(v[s]=!0,!1)}function T(s,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,i,c,f){if(i===null||typeof i>"u"||T(s,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function I(s,i,c,f,g,E,C){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=E,this.removeEmptyString=C}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];R[i]=new I(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(D,U);R[i]=new I(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(D,U);R[i]=new I(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(D,U);R[i]=new I(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,i,c,f){var g=R.hasOwnProperty(i)?R[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,c,g,f)&&(c=null),f||g===null?x(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(i=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(i):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,i,c):s.setAttribute(i,c))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),Y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),q=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,B;function Z(s){if(B===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);B=i&&i[1]||""}return`
`+B+s}var ue=!1;function ve(s,i){if(!s||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(X){var f=X}Reflect.construct(s,[],i)}else{try{i.call()}catch(X){f=X}s.call(i.prototype)}else{try{throw Error()}catch(X){f=X}s()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),E=f.stack.split(`
`),C=g.length-1,L=E.length-1;1<=C&&0<=L&&g[C]!==E[L];)L--;for(;1<=C&&0<=L;C--,L--)if(g[C]!==E[L]){if(C!==1||L!==1)do if(C--,L--,0>L||g[C]!==E[L]){var z=`
`+g[C].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=C&&0<=L);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Re(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case Y:return"Portal";case P:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case Te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case F:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return i=s.displayName||null,i!==null?i:De(s.type)||"Memo";case he:i=s._payload,s=s._init;try{return De(s(i))}catch{}}return null}function oe(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ee(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ce(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Pe(s){var i=Ce(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,E=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(C){f=""+C,E.call(this,C)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function $e(s){s._valueTracker||(s._valueTracker=Pe(s))}function Be(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return s&&(f=Ce(s)?s.checked?"true":"false":s.value),s=f,s!==c?(i.setValue(s),!0):!1}function vt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function jt(s,i){var c=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Bn(s,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=Ee(i.value!=null?i.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ir(s,i){i=i.checked,i!=null&&V(s,"checked",i,!1)}function ar(s,i){ir(s,i);var c=Ee(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?lr(s,i.type,c):i.hasOwnProperty("defaultValue")&&lr(s,i.type,Ee(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Wi(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function lr(s,i,c){(i!=="number"||vt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var cs=Array.isArray;function us(s,i,c,f){if(s=s.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=i.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Ee(c),i=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Cl(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Hi(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(cs(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:Ee(c)}}function qi(s,i){var c=Ee(i.value),f=Ee(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function bl(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Rt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Rt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ds,Al=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(i,c,f,g)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ds.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Hs(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Go=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(s){Go.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),qo[i]=qo[s]})});function Rl(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||qo.hasOwnProperty(s)&&qo[s]?(""+i).trim():i+"px"}function Pl(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Rl(c,i[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var kl=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nl(s,i){if(i){if(kl[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Dl(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function Gi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ki=null,Wn=null,Vr=null;function Qi(s){if(s=rc(s)){if(typeof Ki!="function")throw Error(n(280));var i=s.stateNode;i&&(i=Ku(i),Ki(s.stateNode,s.type,i))}}function Fr(s){Wn?Vr?Vr.push(s):Vr=[s]:Wn=s}function Ml(){if(Wn){var s=Wn,i=Vr;if(Vr=Wn=null,Qi(s),i)for(s=0;s<i.length;s++)Qi(i[s])}}function Qo(s,i){return s(i)}function Ol(){}var hs=!1;function jl(s,i,c){if(hs)return s(i,c);hs=!0;try{return Qo(s,i,c)}finally{hs=!1,(Wn!==null||Vr!==null)&&(Ol(),Ml())}}function xt(s,i){var c=s.stateNode;if(c===null)return null;var f=Ku(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var Yi=!1;if(u)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Yi=!1}function Yo(s,i,c,f,g,E,C,L,z){var X=Array.prototype.slice.call(arguments,3);try{i.apply(c,X)}catch(ie){this.onError(ie)}}var Xo=!1,Xi=null,ur=!1,Ll=null,Xf={onError:function(s){Xo=!0,Xi=s}};function Ji(s,i,c,f,g,E,C,L,z){Xo=!1,Xi=null,Yo.apply(Xf,arguments)}function wu(s,i,c,f,g,E,C,L,z){if(Ji.apply(this,arguments),Xo){if(Xo){var X=Xi;Xo=!1,Xi=null}else throw Error(n(198));ur||(ur=!0,Ll=X)}}function dr(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function Jo(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function hr(s){if(dr(s)!==s)throw Error(n(188))}function _u(s){var i=s.alternate;if(!i){if(i=dr(s),i===null)throw Error(n(188));return i!==s?null:s}for(var c=s,f=i;;){var g=c.return;if(g===null)break;var E=g.alternate;if(E===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===c)return hr(g),s;if(E===f)return hr(g),i;E=E.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=E;else{for(var C=!1,L=g.child;L;){if(L===c){C=!0,c=g,f=E;break}if(L===f){C=!0,f=g,c=E;break}L=L.sibling}if(!C){for(L=E.child;L;){if(L===c){C=!0,c=E,f=g;break}if(L===f){C=!0,f=E,c=g;break}L=L.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:i}function Vl(s){return s=_u(s),s!==null?Zi(s):null}function Zi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Zi(s);if(i!==null)return i;s=s.sibling}return null}var ea=e.unstable_scheduleCallback,Fl=e.unstable_cancelCallback,xu=e.unstable_shouldYield,Jf=e.unstable_requestPaint,it=e.unstable_now,Eu=e.unstable_getCurrentPriorityLevel,Zo=e.unstable_ImmediatePriority,qs=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,Ul=e.unstable_LowPriority,Su=e.unstable_IdlePriority,ei=null,Cn=null;function Tu(s){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ei,s,void 0,(s.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:Cu,$l=Math.log,Iu=Math.LN2;function Cu(s){return s>>>=0,s===0?32:31-($l(s)/Iu|0)|0}var ta=64,na=4194304;function Gs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ti(s,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,E=s.pingedLanes,C=c&268435455;if(C!==0){var L=C&~g;L!==0?f=Gs(L):(E&=C,E!==0&&(f=Gs(E)))}else C=c&~g,C!==0?f=Gs(C):E!==0&&(f=Gs(E));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,E=i&-i,g>=E||g===16&&(E&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)c=31-ln(i),g=1<<c,f|=s[c],i&=~g;return f}function Zf(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fs(s,i){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,E=s.pendingLanes;0<E;){var C=31-ln(E),L=1<<C,z=g[C];z===-1?((L&c)===0||(L&f)!==0)&&(g[C]=Zf(L,i)):z<=i&&(s.expiredLanes|=L),E&=~L}}function bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ni(){var s=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),s}function Ks(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function Qs(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-ln(i),s[i]=c}function ot(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-ln(c),E=1<<g;i[g]=0,f[g]=-1,s[g]=-1,c&=~E}}function Ys(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var f=31-ln(c),g=1<<f;g&i|s[f]&i&&(s[f]|=i),c&=~g}}var Ye=0;function Xs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var bu,ra,Au,Ru,Pu,zl=!1,Ur=[],Wt=null,fr=null,pr=null,Js=new Map,qn=new Map,$r=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(s,i){switch(s){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Js.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(i.pointerId)}}function mn(s,i,c,f,g,E){return s===null||s.nativeEvent!==E?(s={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:E,targetContainers:[g]},i!==null&&(i=rc(i),i!==null&&ra(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function tp(s,i,c,f,g){switch(i){case"focusin":return Wt=mn(Wt,s,i,c,f,g),!0;case"dragenter":return fr=mn(fr,s,i,c,f,g),!0;case"mouseover":return pr=mn(pr,s,i,c,f,g),!0;case"pointerover":var E=g.pointerId;return Js.set(E,mn(Js.get(E)||null,s,i,c,f,g)),!0;case"gotpointercapture":return E=g.pointerId,qn.set(E,mn(qn.get(E)||null,s,i,c,f,g)),!0}return!1}function Nu(s){var i=ai(s.target);if(i!==null){var c=dr(i);if(c!==null){if(i=c.tag,i===13){if(i=Jo(c),i!==null){s.blockedOn=i,Pu(s.priority,function(){Au(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ps(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=sa(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Ko=f,c.target.dispatchEvent(f),Ko=null}else return i=rc(c),i!==null&&ra(i),s.blockedOn=c,!1;i.shift()}return!0}function ri(s,i,c){ps(s)&&c.delete(i)}function Du(){zl=!1,Wt!==null&&ps(Wt)&&(Wt=null),fr!==null&&ps(fr)&&(fr=null),pr!==null&&ps(pr)&&(pr=null),Js.forEach(ri),qn.forEach(ri)}function mr(s,i){s.blockedOn===i&&(s.blockedOn=null,zl||(zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Du)))}function gr(s){function i(g){return mr(g,s)}if(0<Ur.length){mr(Ur[0],s);for(var c=1;c<Ur.length;c++){var f=Ur[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Wt!==null&&mr(Wt,s),fr!==null&&mr(fr,s),pr!==null&&mr(pr,s),Js.forEach(i),qn.forEach(i),c=0;c<$r.length;c++)f=$r[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<$r.length&&(c=$r[0],c.blockedOn===null);)Nu(c),c.blockedOn===null&&$r.shift()}var ms=$.ReactCurrentBatchConfig,Zs=!0;function dt(s,i,c,f){var g=Ye,E=ms.transition;ms.transition=null;try{Ye=1,Bl(s,i,c,f)}finally{Ye=g,ms.transition=E}}function np(s,i,c,f){var g=Ye,E=ms.transition;ms.transition=null;try{Ye=4,Bl(s,i,c,f)}finally{Ye=g,ms.transition=E}}function Bl(s,i,c,f){if(Zs){var g=sa(s,i,c,f);if(g===null)fp(s,i,f,si,c),ku(s,f);else if(tp(g,s,i,c,f))f.stopPropagation();else if(ku(s,f),i&4&&-1<ep.indexOf(s)){for(;g!==null;){var E=rc(g);if(E!==null&&bu(E),E=sa(s,i,c,f),E===null&&fp(s,i,f,si,c),E===g)break;g=E}g!==null&&f.stopPropagation()}else fp(s,i,f,null,c)}}var si=null;function sa(s,i,c,f){if(si=null,s=Gi(f),s=ai(s),s!==null)if(i=dr(s),i===null)s=null;else if(c=i.tag,c===13){if(s=Jo(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return si=s,null}function Wl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eu()){case Zo:return 1;case qs:return 4;case Hn:case Ul:return 16;case Su:return 536870912;default:return 16}default:return 16}}var An=null,oa=null,gn=null;function Hl(){if(gn)return gn;var s,i=oa,c=i.length,f,g="value"in An?An.value:An.textContent,E=g.length;for(s=0;s<c&&i[s]===g[s];s++);var C=c-s;for(f=1;f<=C&&i[c-f]===g[E-f];f++);return gn=g.slice(s,1<f?1-f:void 0)}function ia(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function zr(){return!0}function ql(){return!1}function Ht(s){function i(c,f,g,E,C){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=E,this.target=C,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(c=s[L],this[L]=c?c(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?zr:ql,this.isPropagationStopped=ql,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),i}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Ht(vr),Br=re({},vr,{view:0,detail:0}),rp=Ht(Br),la,gs,eo,oi=re({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==eo&&(eo&&s.type==="mousemove"?(la=s.screenX-eo.screenX,gs=s.screenY-eo.screenY):gs=la=0,eo=s),la)},movementY:function(s){return"movementY"in s?s.movementY:gs}}),ca=Ht(oi),Gl=re({},oi,{dataTransfer:0}),Mu=Ht(Gl),ua=re({},Br,{relatedTarget:0}),da=Ht(ua),Ou=re({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),vs=Ht(Ou),ju=re({},vr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Lu=Ht(ju),Vu=re({},vr,{data:0}),Kl=Ht(Vu),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Fu[s])?!!i[s]:!1}function Wr(){return Uu}var d=re({},Br,{key:function(s){if(s.key){var i=ha[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(s){return s.type==="keypress"?ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=Ht(d),S=re({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Ht(S),G=re({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),J=Ht(G),ce=re({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=Ht(ce),kt=re({},oi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=Ht(kt),Lt=[9,13,27,32],Tt=u&&"CompositionEvent"in window,Gn=null;u&&"documentMode"in document&&(Gn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Gn,ii=u&&(!Tt||Gn&&8<Gn&&11>=Gn),fa=" ",qy=!1;function Gy(s,i){switch(s){case"keyup":return Lt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var pa=!1;function HR(s,i){switch(s){case"compositionend":return Ky(i);case"keypress":return i.which!==32?null:(qy=!0,fa);case"textInput":return s=i.data,s===fa&&qy?null:s;default:return null}}function qR(s,i){if(pa)return s==="compositionend"||!Tt&&Gy(s,i)?(s=Hl(),gn=oa=An=null,pa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ii&&i.locale!=="ko"?null:i.data;default:return null}}var GR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!GR[s.type]:i==="textarea"}function Yy(s,i,c,f){Fr(f),i=Hu(i,"onChange"),0<i.length&&(c=new aa("onChange","change",null,c,f),s.push({event:c,listeners:i}))}var Ql=null,Yl=null;function KR(s){pw(s,0)}function $u(s){var i=wa(s);if(Be(i))return s}function QR(s,i){if(s==="change")return i}var Xy=!1;if(u){var sp;if(u){var op="oninput"in document;if(!op){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),op=typeof Jy.oninput=="function"}sp=op}else sp=!1;Xy=sp&&(!document.documentMode||9<document.documentMode)}function Zy(){Ql&&(Ql.detachEvent("onpropertychange",ew),Yl=Ql=null)}function ew(s){if(s.propertyName==="value"&&$u(Yl)){var i=[];Yy(i,Yl,s,Gi(s)),jl(KR,i)}}function YR(s,i,c){s==="focusin"?(Zy(),Ql=i,Yl=c,Ql.attachEvent("onpropertychange",ew)):s==="focusout"&&Zy()}function XR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $u(Yl)}function JR(s,i){if(s==="click")return $u(i)}function ZR(s,i){if(s==="input"||s==="change")return $u(i)}function e1(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var yr=typeof Object.is=="function"?Object.is:e1;function Xl(s,i){if(yr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(i,g)||!yr(s[g],i[g]))return!1}return!0}function tw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nw(s,i){var c=tw(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=i&&f>=i)return{node:c,offset:i-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=tw(c)}}function rw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?rw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function sw(){for(var s=window,i=vt();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=vt(s.document)}return i}function ip(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function t1(s){var i=sw(),c=s.focusedElem,f=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&rw(c.ownerDocument.documentElement,c)){if(f!==null&&ip(c)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,E=Math.min(f.start,g);f=f.end===void 0?E:Math.min(f.end,g),!s.extend&&E>f&&(g=f,f=E,E=g),g=nw(c,E);var C=nw(c,f);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),s.removeAllRanges(),E>f?(s.addRange(i),s.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var n1=u&&"documentMode"in document&&11>=document.documentMode,ma=null,ap=null,Jl=null,lp=!1;function ow(s,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;lp||ma==null||ma!==vt(f)||(f=ma,"selectionStart"in f&&ip(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Jl&&Xl(Jl,f)||(Jl=f,f=Hu(ap,"onSelect"),0<f.length&&(i=new aa("onSelect","select",null,i,c),s.push({event:i,listeners:f}),i.target=ma)))}function zu(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var ga={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},cp={},iw={};u&&(iw=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Bu(s){if(cp[s])return cp[s];if(!ga[s])return s;var i=ga[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in iw)return cp[s]=i[c];return s}var aw=Bu("animationend"),lw=Bu("animationiteration"),cw=Bu("animationstart"),uw=Bu("transitionend"),dw=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(s,i){dw.set(s,i),a(i,[s])}for(var up=0;up<hw.length;up++){var dp=hw[up],r1=dp.toLowerCase(),s1=dp[0].toUpperCase()+dp.slice(1);to(r1,"on"+s1)}to(aw,"onAnimationEnd"),to(lw,"onAnimationIteration"),to(cw,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(uw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function fw(s,i,c){var f=s.type||"unknown-event";s.currentTarget=c,wu(f,i,void 0,s),s.currentTarget=null}function pw(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var E=void 0;if(i)for(var C=f.length-1;0<=C;C--){var L=f[C],z=L.instance,X=L.currentTarget;if(L=L.listener,z!==E&&g.isPropagationStopped())break e;fw(g,L,X),E=z}else for(C=0;C<f.length;C++){if(L=f[C],z=L.instance,X=L.currentTarget,L=L.listener,z!==E&&g.isPropagationStopped())break e;fw(g,L,X),E=z}}}if(ur)throw s=Ll,ur=!1,Ll=null,s}function lt(s,i){var c=i[wp];c===void 0&&(c=i[wp]=new Set);var f=s+"__bubble";c.has(f)||(mw(i,s,2,!1),c.add(f))}function hp(s,i,c){var f=0;i&&(f|=4),mw(c,s,f,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function ec(s){if(!s[Wu]){s[Wu]=!0,r.forEach(function(c){c!=="selectionchange"&&(o1.has(c)||hp(c,!1,s),hp(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,hp("selectionchange",!1,i))}}function mw(s,i,c,f){switch(Wl(i)){case 1:var g=dt;break;case 4:g=np;break;default:g=Bl}c=g.bind(null,i,c,s),g=void 0,!Yi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(i,c,{capture:!0,passive:g}):s.addEventListener(i,c,!0):g!==void 0?s.addEventListener(i,c,{passive:g}):s.addEventListener(i,c,!1)}function fp(s,i,c,f,g){var E=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var L=f.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(C===4)for(C=f.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;C=C.return}for(;L!==null;){if(C=ai(L),C===null)return;if(z=C.tag,z===5||z===6){f=E=C;continue e}L=L.parentNode}}f=f.return}jl(function(){var X=E,ie=Gi(c),ae=[];e:{var se=dw.get(s);if(se!==void 0){var de=aa,we=s;switch(s){case"keypress":if(ia(c)===0)break e;case"keydown":case"keyup":de=w;break;case"focusin":we="focus",de=da;break;case"focusout":we="blur",de=da;break;case"beforeblur":case"afterblur":de=da;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=J;break;case aw:case lw:case cw:de=vs;break;case uw:de=st;break;case"scroll":de=rp;break;case"wheel":de=Je;break;case"copy":case"cut":case"paste":de=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=k}var Se=(i&4)!==0,Et=!Se&&s==="scroll",K=Se?se!==null?se+"Capture":null:se;Se=[];for(var H=X,Q;H!==null;){Q=H;var le=Q.stateNode;if(Q.tag===5&&le!==null&&(Q=le,K!==null&&(le=xt(H,K),le!=null&&Se.push(tc(H,le,Q)))),Et)break;H=H.return}0<Se.length&&(se=new de(se,we,null,c,ie),ae.push({event:se,listeners:Se}))}}if((i&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",se&&c!==Ko&&(we=c.relatedTarget||c.fromElement)&&(ai(we)||we[ys]))break e;if((de||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,de?(we=c.relatedTarget||c.toElement,de=X,we=we?ai(we):null,we!==null&&(Et=dr(we),we!==Et||we.tag!==5&&we.tag!==6)&&(we=null)):(de=null,we=X),de!==we)){if(Se=ca,le="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Se=k,le="onPointerLeave",K="onPointerEnter",H="pointer"),Et=de==null?se:wa(de),Q=we==null?se:wa(we),se=new Se(le,H+"leave",de,c,ie),se.target=Et,se.relatedTarget=Q,le=null,ai(ie)===X&&(Se=new Se(K,H+"enter",we,c,ie),Se.target=Q,Se.relatedTarget=Et,le=Se),Et=le,de&&we)t:{for(Se=de,K=we,H=0,Q=Se;Q;Q=va(Q))H++;for(Q=0,le=K;le;le=va(le))Q++;for(;0<H-Q;)Se=va(Se),H--;for(;0<Q-H;)K=va(K),Q--;for(;H--;){if(Se===K||K!==null&&Se===K.alternate)break t;Se=va(Se),K=va(K)}Se=null}else Se=null;de!==null&&gw(ae,se,de,Se,!1),we!==null&&Et!==null&&gw(ae,Et,we,Se,!0)}}e:{if(se=X?wa(X):window,de=se.nodeName&&se.nodeName.toLowerCase(),de==="select"||de==="input"&&se.type==="file")var Ie=QR;else if(Qy(se))if(Xy)Ie=ZR;else{Ie=XR;var ke=YR}else(de=se.nodeName)&&de.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ie=JR);if(Ie&&(Ie=Ie(s,X))){Yy(ae,Ie,c,ie);break e}ke&&ke(s,se,X),s==="focusout"&&(ke=se._wrapperState)&&ke.controlled&&se.type==="number"&&lr(se,"number",se.value)}switch(ke=X?wa(X):window,s){case"focusin":(Qy(ke)||ke.contentEditable==="true")&&(ma=ke,ap=X,Jl=null);break;case"focusout":Jl=ap=ma=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,ow(ae,c,ie);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":ow(ae,c,ie)}var Ne;if(Tt)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else pa?Gy(s,c)&&(Le="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(ii&&c.locale!=="ko"&&(pa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&pa&&(Ne=Hl()):(An=ie,oa="value"in An?An.value:An.textContent,pa=!0)),ke=Hu(X,Le),0<ke.length&&(Le=new Kl(Le,s,null,c,ie),ae.push({event:Le,listeners:ke}),Ne?Le.data=Ne:(Ne=Ky(c),Ne!==null&&(Le.data=Ne)))),(Ne=Rn?HR(s,c):qR(s,c))&&(X=Hu(X,"onBeforeInput"),0<X.length&&(ie=new Kl("onBeforeInput","beforeinput",null,c,ie),ae.push({event:ie,listeners:X}),ie.data=Ne))}pw(ae,i)})}function tc(s,i,c){return{instance:s,listener:i,currentTarget:c}}function Hu(s,i){for(var c=i+"Capture",f=[];s!==null;){var g=s,E=g.stateNode;g.tag===5&&E!==null&&(g=E,E=xt(s,c),E!=null&&f.unshift(tc(s,E,g)),E=xt(s,i),E!=null&&f.push(tc(s,E,g))),s=s.return}return f}function va(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function gw(s,i,c,f,g){for(var E=i._reactName,C=[];c!==null&&c!==f;){var L=c,z=L.alternate,X=L.stateNode;if(z!==null&&z===f)break;L.tag===5&&X!==null&&(L=X,g?(z=xt(c,E),z!=null&&C.unshift(tc(c,z,L))):g||(z=xt(c,E),z!=null&&C.push(tc(c,z,L)))),c=c.return}C.length!==0&&s.push({event:i,listeners:C})}var i1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function vw(s){return(typeof s=="string"?s:""+s).replace(i1,`
`).replace(a1,"")}function qu(s,i,c){if(i=vw(i),vw(s)!==i&&c)throw Error(n(425))}function Gu(){}var pp=null,mp=null;function gp(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vp=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,yw=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof yw<"u"?function(s){return yw.resolve(null).then(s).catch(u1)}:vp;function u1(s){setTimeout(function(){throw s})}function yp(s,i){var c=i,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),gr(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);gr(i)}function no(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function ww(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var ya=Math.random().toString(36).slice(2),Hr="__reactFiber$"+ya,nc="__reactProps$"+ya,ys="__reactContainer$"+ya,wp="__reactEvents$"+ya,d1="__reactListeners$"+ya,h1="__reactHandles$"+ya;function ai(s){var i=s[Hr];if(i)return i;for(var c=s.parentNode;c;){if(i=c[ys]||c[Hr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=ww(s);s!==null;){if(c=s[Hr])return c;s=ww(s)}return i}s=c,c=s.parentNode}return null}function rc(s){return s=s[Hr]||s[ys],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function wa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ku(s){return s[nc]||null}var _p=[],_a=-1;function ro(s){return{current:s}}function ct(s){0>_a||(s.current=_p[_a],_p[_a]=null,_a--)}function at(s,i){_a++,_p[_a]=s.current,s.current=i}var so={},Xt=ro(so),vn=ro(!1),li=so;function xa(s,i){var c=s.type.contextTypes;if(!c)return so;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},E;for(E in c)g[E]=i[E];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=g),g}function yn(s){return s=s.childContextTypes,s!=null}function Qu(){ct(vn),ct(Xt)}function _w(s,i,c){if(Xt.current!==so)throw Error(n(168));at(Xt,i),at(vn,c)}function xw(s,i,c){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(n(108,oe(s)||"Unknown",g));return re({},c,f)}function Yu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||so,li=Xt.current,at(Xt,s),at(vn,vn.current),!0}function Ew(s,i,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=xw(s,i,li),f.__reactInternalMemoizedMergedChildContext=s,ct(vn),ct(Xt),at(Xt,s)):ct(vn),at(vn,c)}var ws=null,Xu=!1,xp=!1;function Sw(s){ws===null?ws=[s]:ws.push(s)}function f1(s){Xu=!0,Sw(s)}function oo(){if(!xp&&ws!==null){xp=!0;var s=0,i=Ye;try{var c=ws;for(Ye=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}ws=null,Xu=!1}catch(g){throw ws!==null&&(ws=ws.slice(s+1)),ea(Zo,oo),g}finally{Ye=i,xp=!1}}return null}var Ea=[],Sa=0,Ju=null,Zu=0,Kn=[],Qn=0,ci=null,_s=1,xs="";function ui(s,i){Ea[Sa++]=Zu,Ea[Sa++]=Ju,Ju=s,Zu=i}function Tw(s,i,c){Kn[Qn++]=_s,Kn[Qn++]=xs,Kn[Qn++]=ci,ci=s;var f=_s;s=xs;var g=32-ln(f)-1;f&=~(1<<g),c+=1;var E=32-ln(i)+g;if(30<E){var C=g-g%5;E=(f&(1<<C)-1).toString(32),f>>=C,g-=C,_s=1<<32-ln(i)+g|c<<g|f,xs=E+s}else _s=1<<E|c<<g|f,xs=s}function Ep(s){s.return!==null&&(ui(s,1),Tw(s,1,0))}function Sp(s){for(;s===Ju;)Ju=Ea[--Sa],Ea[Sa]=null,Zu=Ea[--Sa],Ea[Sa]=null;for(;s===ci;)ci=Kn[--Qn],Kn[Qn]=null,xs=Kn[--Qn],Kn[Qn]=null,_s=Kn[--Qn],Kn[Qn]=null}var Pn=null,kn=null,ht=!1,wr=null;function Iw(s,i){var c=Zn(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function Cw(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Pn=s,kn=no(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Pn=s,kn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=ci!==null?{id:_s,overflow:xs}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Zn(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,Pn=s,kn=null,!0):!1;default:return!1}}function Tp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ip(s){if(ht){var i=kn;if(i){var c=i;if(!Cw(s,i)){if(Tp(s))throw Error(n(418));i=no(c.nextSibling);var f=Pn;i&&Cw(s,i)?Iw(f,c):(s.flags=s.flags&-4097|2,ht=!1,Pn=s)}}else{if(Tp(s))throw Error(n(418));s.flags=s.flags&-4097|2,ht=!1,Pn=s}}}function bw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Pn=s}function ed(s){if(s!==Pn)return!1;if(!ht)return bw(s),ht=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!gp(s.type,s.memoizedProps)),i&&(i=kn)){if(Tp(s))throw Aw(),Error(n(418));for(;i;)Iw(s,i),i=no(i.nextSibling)}if(bw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){kn=no(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}kn=null}}else kn=Pn?no(s.stateNode.nextSibling):null;return!0}function Aw(){for(var s=kn;s;)s=no(s.nextSibling)}function Ta(){kn=Pn=null,ht=!1}function Cp(s){wr===null?wr=[s]:wr.push(s)}var p1=$.ReactCurrentBatchConfig;function sc(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var g=f,E=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===E?i.ref:(i=function(C){var L=g.refs;C===null?delete L[E]:L[E]=C},i._stringRef=E,i)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function td(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Rw(s){var i=s._init;return i(s._payload)}function Pw(s){function i(K,H){if(s){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function c(K,H){if(!s)return null;for(;H!==null;)i(K,H),H=H.sibling;return null}function f(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function g(K,H){return K=po(K,H),K.index=0,K.sibling=null,K}function E(K,H,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=2,H):Q):(K.flags|=2,H)):(K.flags|=1048576,H)}function C(K){return s&&K.alternate===null&&(K.flags|=2),K}function L(K,H,Q,le){return H===null||H.tag!==6?(H=vm(Q,K.mode,le),H.return=K,H):(H=g(H,Q),H.return=K,H)}function z(K,H,Q,le){var Ie=Q.type;return Ie===N?ie(K,H,Q.props.children,le,Q.key):H!==null&&(H.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===he&&Rw(Ie)===H.type)?(le=g(H,Q.props),le.ref=sc(K,H,Q),le.return=K,le):(le=Id(Q.type,Q.key,Q.props,null,K.mode,le),le.ref=sc(K,H,Q),le.return=K,le)}function X(K,H,Q,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=ym(Q,K.mode,le),H.return=K,H):(H=g(H,Q.children||[]),H.return=K,H)}function ie(K,H,Q,le,Ie){return H===null||H.tag!==7?(H=yi(Q,K.mode,le,Ie),H.return=K,H):(H=g(H,Q),H.return=K,H)}function ae(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=vm(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case W:return Q=Id(H.type,H.key,H.props,null,K.mode,Q),Q.ref=sc(K,null,H),Q.return=K,Q;case Y:return H=ym(H,K.mode,Q),H.return=K,H;case he:var le=H._init;return ae(K,le(H._payload),Q)}if(cs(H)||ee(H))return H=yi(H,K.mode,Q,null),H.return=K,H;td(K,H)}return null}function se(K,H,Q,le){var Ie=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ie!==null?null:L(K,H,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===Ie?z(K,H,Q,le):null;case Y:return Q.key===Ie?X(K,H,Q,le):null;case he:return Ie=Q._init,se(K,H,Ie(Q._payload),le)}if(cs(Q)||ee(Q))return Ie!==null?null:ie(K,H,Q,le,null);td(K,Q)}return null}function de(K,H,Q,le,Ie){if(typeof le=="string"&&le!==""||typeof le=="number")return K=K.get(Q)||null,L(H,K,""+le,Ie);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case W:return K=K.get(le.key===null?Q:le.key)||null,z(H,K,le,Ie);case Y:return K=K.get(le.key===null?Q:le.key)||null,X(H,K,le,Ie);case he:var ke=le._init;return de(K,H,Q,ke(le._payload),Ie)}if(cs(le)||ee(le))return K=K.get(Q)||null,ie(H,K,le,Ie,null);td(H,le)}return null}function we(K,H,Q,le){for(var Ie=null,ke=null,Ne=H,Le=H=0,Ut=null;Ne!==null&&Le<Q.length;Le++){Ne.index>Le?(Ut=Ne,Ne=null):Ut=Ne.sibling;var tt=se(K,Ne,Q[Le],le);if(tt===null){Ne===null&&(Ne=Ut);break}s&&Ne&&tt.alternate===null&&i(K,Ne),H=E(tt,H,Le),ke===null?Ie=tt:ke.sibling=tt,ke=tt,Ne=Ut}if(Le===Q.length)return c(K,Ne),ht&&ui(K,Le),Ie;if(Ne===null){for(;Le<Q.length;Le++)Ne=ae(K,Q[Le],le),Ne!==null&&(H=E(Ne,H,Le),ke===null?Ie=Ne:ke.sibling=Ne,ke=Ne);return ht&&ui(K,Le),Ie}for(Ne=f(K,Ne);Le<Q.length;Le++)Ut=de(Ne,K,Le,Q[Le],le),Ut!==null&&(s&&Ut.alternate!==null&&Ne.delete(Ut.key===null?Le:Ut.key),H=E(Ut,H,Le),ke===null?Ie=Ut:ke.sibling=Ut,ke=Ut);return s&&Ne.forEach(function(mo){return i(K,mo)}),ht&&ui(K,Le),Ie}function Se(K,H,Q,le){var Ie=ee(Q);if(typeof Ie!="function")throw Error(n(150));if(Q=Ie.call(Q),Q==null)throw Error(n(151));for(var ke=Ie=null,Ne=H,Le=H=0,Ut=null,tt=Q.next();Ne!==null&&!tt.done;Le++,tt=Q.next()){Ne.index>Le?(Ut=Ne,Ne=null):Ut=Ne.sibling;var mo=se(K,Ne,tt.value,le);if(mo===null){Ne===null&&(Ne=Ut);break}s&&Ne&&mo.alternate===null&&i(K,Ne),H=E(mo,H,Le),ke===null?Ie=mo:ke.sibling=mo,ke=mo,Ne=Ut}if(tt.done)return c(K,Ne),ht&&ui(K,Le),Ie;if(Ne===null){for(;!tt.done;Le++,tt=Q.next())tt=ae(K,tt.value,le),tt!==null&&(H=E(tt,H,Le),ke===null?Ie=tt:ke.sibling=tt,ke=tt);return ht&&ui(K,Le),Ie}for(Ne=f(K,Ne);!tt.done;Le++,tt=Q.next())tt=de(Ne,K,Le,tt.value,le),tt!==null&&(s&&tt.alternate!==null&&Ne.delete(tt.key===null?Le:tt.key),H=E(tt,H,Le),ke===null?Ie=tt:ke.sibling=tt,ke=tt);return s&&Ne.forEach(function(G1){return i(K,G1)}),ht&&ui(K,Le),Ie}function Et(K,H,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===N&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var Ie=Q.key,ke=H;ke!==null;){if(ke.key===Ie){if(Ie=Q.type,Ie===N){if(ke.tag===7){c(K,ke.sibling),H=g(ke,Q.props.children),H.return=K,K=H;break e}}else if(ke.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===he&&Rw(Ie)===ke.type){c(K,ke.sibling),H=g(ke,Q.props),H.ref=sc(K,ke,Q),H.return=K,K=H;break e}c(K,ke);break}else i(K,ke);ke=ke.sibling}Q.type===N?(H=yi(Q.props.children,K.mode,le,Q.key),H.return=K,K=H):(le=Id(Q.type,Q.key,Q.props,null,K.mode,le),le.ref=sc(K,H,Q),le.return=K,K=le)}return C(K);case Y:e:{for(ke=Q.key;H!==null;){if(H.key===ke)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){c(K,H.sibling),H=g(H,Q.children||[]),H.return=K,K=H;break e}else{c(K,H);break}else i(K,H);H=H.sibling}H=ym(Q,K.mode,le),H.return=K,K=H}return C(K);case he:return ke=Q._init,Et(K,H,ke(Q._payload),le)}if(cs(Q))return we(K,H,Q,le);if(ee(Q))return Se(K,H,Q,le);td(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(c(K,H.sibling),H=g(H,Q),H.return=K,K=H):(c(K,H),H=vm(Q,K.mode,le),H.return=K,K=H),C(K)):c(K,H)}return Et}var Ia=Pw(!0),kw=Pw(!1),nd=ro(null),rd=null,Ca=null,bp=null;function Ap(){bp=Ca=rd=null}function Rp(s){var i=nd.current;ct(nd),s._currentValue=i}function Pp(s,i,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===c)break;s=s.return}}function ba(s,i){rd=s,bp=Ca=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(wn=!0),s.firstContext=null)}function Yn(s){var i=s._currentValue;if(bp!==s)if(s={context:s,memoizedValue:i,next:null},Ca===null){if(rd===null)throw Error(n(308));Ca=s,rd.dependencies={lanes:0,firstContext:s}}else Ca=Ca.next=s;return i}var di=null;function kp(s){di===null?di=[s]:di.push(s)}function Nw(s,i,c,f){var g=i.interleaved;return g===null?(c.next=c,kp(i)):(c.next=g.next,g.next=c),i.interleaved=c,Es(s,f)}function Es(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var io=!1;function Np(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dw(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ss(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function ao(s,i,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(et&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,Es(s,c)}return g=f.interleaved,g===null?(i.next=i,kp(f)):(i.next=g.next,g.next=i),f.interleaved=i,Es(s,c)}function sd(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,Ys(s,c)}}function Mw(s,i){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?g=E=C:E=E.next=C,c=c.next}while(c!==null);E===null?g=E=i:E=E.next=i}else g=E=i;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function od(s,i,c,f){var g=s.updateQueue;io=!1;var E=g.firstBaseUpdate,C=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var z=L,X=z.next;z.next=null,C===null?E=X:C.next=X,C=z;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==C&&(L===null?ie.firstBaseUpdate=X:L.next=X,ie.lastBaseUpdate=z))}if(E!==null){var ae=g.baseState;C=0,ie=X=z=null,L=E;do{var se=L.lane,de=L.eventTime;if((f&se)===se){ie!==null&&(ie=ie.next={eventTime:de,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var we=s,Se=L;switch(se=i,de=c,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){ae=we.call(de,ae,se);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,se=typeof we=="function"?we.call(de,ae,se):we,se==null)break e;ae=re({},ae,se);break e;case 2:io=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[L]:se.push(L))}else de={eventTime:de,lane:se,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(X=ie=de,z=ae):ie=ie.next=de,C|=se;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;se=L,L=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(ie===null&&(z=ae),g.baseState=z,g.firstBaseUpdate=X,g.lastBaseUpdate=ie,i=g.shared.interleaved,i!==null){g=i;do C|=g.lane,g=g.next;while(g!==i)}else E===null&&(g.shared.lanes=0);pi|=C,s.lanes=C,s.memoizedState=ae}}function Ow(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var oc={},qr=ro(oc),ic=ro(oc),ac=ro(oc);function hi(s){if(s===oc)throw Error(n(174));return s}function Dp(s,i){switch(at(ac,i),at(ic,s),at(qr,oc),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Pt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Pt(i,s)}ct(qr),at(qr,i)}function Aa(){ct(qr),ct(ic),ct(ac)}function jw(s){hi(ac.current);var i=hi(qr.current),c=Pt(i,s.type);i!==c&&(at(ic,s),at(qr,c))}function Mp(s){ic.current===s&&(ct(qr),ct(ic))}var pt=ro(0);function id(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Op=[];function jp(){for(var s=0;s<Op.length;s++)Op[s]._workInProgressVersionPrimary=null;Op.length=0}var ad=$.ReactCurrentDispatcher,Lp=$.ReactCurrentBatchConfig,fi=0,mt=null,Nt=null,Vt=null,ld=!1,lc=!1,cc=0,m1=0;function Jt(){throw Error(n(321))}function Vp(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!yr(s[c],i[c]))return!1;return!0}function Fp(s,i,c,f,g,E){if(fi=E,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ad.current=s===null||s.memoizedState===null?w1:_1,s=c(f,g),lc){E=0;do{if(lc=!1,cc=0,25<=E)throw Error(n(301));E+=1,Vt=Nt=null,i.updateQueue=null,ad.current=x1,s=c(f,g)}while(lc)}if(ad.current=dd,i=Nt!==null&&Nt.next!==null,fi=0,Vt=Nt=mt=null,ld=!1,i)throw Error(n(300));return s}function Up(){var s=cc!==0;return cc=0,s}function Gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?mt.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Xn(){if(Nt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var i=Vt===null?mt.memoizedState:Vt.next;if(i!==null)Vt=i,Nt=s;else{if(s===null)throw Error(n(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Vt===null?mt.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function uc(s,i){return typeof i=="function"?i(s):i}function $p(s){var i=Xn(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=Nt,g=f.baseQueue,E=c.pending;if(E!==null){if(g!==null){var C=g.next;g.next=E.next,E.next=C}f.baseQueue=g=E,c.pending=null}if(g!==null){E=g.next,f=f.baseState;var L=C=null,z=null,X=E;do{var ie=X.lane;if((fi&ie)===ie)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:s(f,X.action);else{var ae={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(L=z=ae,C=f):z=z.next=ae,mt.lanes|=ie,pi|=ie}X=X.next}while(X!==null&&X!==E);z===null?C=f:z.next=L,yr(f,i.memoizedState)||(wn=!0),i.memoizedState=f,i.baseState=C,i.baseQueue=z,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do E=g.lane,mt.lanes|=E,pi|=E,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function zp(s){var i=Xn(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,E=i.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do E=s(E,C.action),C=C.next;while(C!==g);yr(E,i.memoizedState)||(wn=!0),i.memoizedState=E,i.baseQueue===null&&(i.baseState=E),c.lastRenderedState=E}return[E,f]}function Lw(){}function Vw(s,i){var c=mt,f=Xn(),g=i(),E=!yr(f.memoizedState,g);if(E&&(f.memoizedState=g,wn=!0),f=f.queue,Bp($w.bind(null,c,f,s),[s]),f.getSnapshot!==i||E||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,dc(9,Uw.bind(null,c,f,g,i),void 0,null),Ft===null)throw Error(n(349));(fi&30)!==0||Fw(c,i,g)}return g}function Fw(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function Uw(s,i,c,f){i.value=c,i.getSnapshot=f,zw(i)&&Bw(s)}function $w(s,i,c){return c(function(){zw(i)&&Bw(s)})}function zw(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!yr(s,c)}catch{return!0}}function Bw(s){var i=Es(s,1);i!==null&&Sr(i,s,1,-1)}function Ww(s){var i=Gr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:s},i.queue=s,s=s.dispatch=y1.bind(null,mt,s),[i.memoizedState,s]}function dc(s,i,c,f){return s={tag:s,create:i,destroy:c,deps:f,next:null},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,i.lastEffect=s)),s}function Hw(){return Xn().memoizedState}function cd(s,i,c,f){var g=Gr();mt.flags|=s,g.memoizedState=dc(1|i,c,void 0,f===void 0?null:f)}function ud(s,i,c,f){var g=Xn();f=f===void 0?null:f;var E=void 0;if(Nt!==null){var C=Nt.memoizedState;if(E=C.destroy,f!==null&&Vp(f,C.deps)){g.memoizedState=dc(i,c,E,f);return}}mt.flags|=s,g.memoizedState=dc(1|i,c,E,f)}function qw(s,i){return cd(8390656,8,s,i)}function Bp(s,i){return ud(2048,8,s,i)}function Gw(s,i){return ud(4,2,s,i)}function Kw(s,i){return ud(4,4,s,i)}function Qw(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Yw(s,i,c){return c=c!=null?c.concat([s]):null,ud(4,4,Qw.bind(null,i,s),c)}function Wp(){}function Xw(s,i){var c=Xn();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Vp(i,f[1])?f[0]:(c.memoizedState=[s,i],s)}function Jw(s,i){var c=Xn();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Vp(i,f[1])?f[0]:(s=s(),c.memoizedState=[s,i],s)}function Zw(s,i,c){return(fi&21)===0?(s.baseState&&(s.baseState=!1,wn=!0),s.memoizedState=c):(yr(c,i)||(c=ni(),mt.lanes|=c,pi|=c,s.baseState=!0),i)}function g1(s,i){var c=Ye;Ye=c!==0&&4>c?c:4,s(!0);var f=Lp.transition;Lp.transition={};try{s(!1),i()}finally{Ye=c,Lp.transition=f}}function e_(){return Xn().memoizedState}function v1(s,i,c){var f=ho(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},t_(s))n_(i,c);else if(c=Nw(s,i,c,f),c!==null){var g=dn();Sr(c,s,f,g),r_(c,i,f)}}function y1(s,i,c){var f=ho(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(t_(s))n_(i,g);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=i.lastRenderedReducer,E!==null))try{var C=i.lastRenderedState,L=E(C,c);if(g.hasEagerState=!0,g.eagerState=L,yr(L,C)){var z=i.interleaved;z===null?(g.next=g,kp(i)):(g.next=z.next,z.next=g),i.interleaved=g;return}}catch{}finally{}c=Nw(s,i,g,f),c!==null&&(g=dn(),Sr(c,s,f,g),r_(c,i,f))}}function t_(s){var i=s.alternate;return s===mt||i!==null&&i===mt}function n_(s,i){lc=ld=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function r_(s,i,c){if((c&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,Ys(s,c)}}var dd={readContext:Yn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},w1={readContext:Yn,useCallback:function(s,i){return Gr().memoizedState=[s,i===void 0?null:i],s},useContext:Yn,useEffect:qw,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,cd(4194308,4,Qw.bind(null,i,s),c)},useLayoutEffect:function(s,i){return cd(4194308,4,s,i)},useInsertionEffect:function(s,i){return cd(4,2,s,i)},useMemo:function(s,i){var c=Gr();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var f=Gr();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=v1.bind(null,mt,s),[f.memoizedState,s]},useRef:function(s){var i=Gr();return s={current:s},i.memoizedState=s},useState:Ww,useDebugValue:Wp,useDeferredValue:function(s){return Gr().memoizedState=s},useTransition:function(){var s=Ww(!1),i=s[0];return s=g1.bind(null,s[1]),Gr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var f=mt,g=Gr();if(ht){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),Ft===null)throw Error(n(349));(fi&30)!==0||Fw(f,i,c)}g.memoizedState=c;var E={value:c,getSnapshot:i};return g.queue=E,qw($w.bind(null,f,E,s),[s]),f.flags|=2048,dc(9,Uw.bind(null,f,E,c,i),void 0,null),c},useId:function(){var s=Gr(),i=Ft.identifierPrefix;if(ht){var c=xs,f=_s;c=(f&~(1<<32-ln(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=cc++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=m1++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},_1={readContext:Yn,useCallback:Xw,useContext:Yn,useEffect:Bp,useImperativeHandle:Yw,useInsertionEffect:Gw,useLayoutEffect:Kw,useMemo:Jw,useReducer:$p,useRef:Hw,useState:function(){return $p(uc)},useDebugValue:Wp,useDeferredValue:function(s){var i=Xn();return Zw(i,Nt.memoizedState,s)},useTransition:function(){var s=$p(uc)[0],i=Xn().memoizedState;return[s,i]},useMutableSource:Lw,useSyncExternalStore:Vw,useId:e_,unstable_isNewReconciler:!1},x1={readContext:Yn,useCallback:Xw,useContext:Yn,useEffect:Bp,useImperativeHandle:Yw,useInsertionEffect:Gw,useLayoutEffect:Kw,useMemo:Jw,useReducer:zp,useRef:Hw,useState:function(){return zp(uc)},useDebugValue:Wp,useDeferredValue:function(s){var i=Xn();return Nt===null?i.memoizedState=s:Zw(i,Nt.memoizedState,s)},useTransition:function(){var s=zp(uc)[0],i=Xn().memoizedState;return[s,i]},useMutableSource:Lw,useSyncExternalStore:Vw,useId:e_,unstable_isNewReconciler:!1};function _r(s,i){if(s&&s.defaultProps){i=re({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function Hp(s,i,c,f){i=s.memoizedState,c=c(f,i),c=c==null?i:re({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var hd={isMounted:function(s){return(s=s._reactInternals)?dr(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var f=dn(),g=ho(s),E=Ss(f,g);E.payload=i,c!=null&&(E.callback=c),i=ao(s,E,g),i!==null&&(Sr(i,s,g,f),sd(i,s,g))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var f=dn(),g=ho(s),E=Ss(f,g);E.tag=1,E.payload=i,c!=null&&(E.callback=c),i=ao(s,E,g),i!==null&&(Sr(i,s,g,f),sd(i,s,g))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=dn(),f=ho(s),g=Ss(c,f);g.tag=2,i!=null&&(g.callback=i),i=ao(s,g,f),i!==null&&(Sr(i,s,f,c),sd(i,s,f))}};function s_(s,i,c,f,g,E,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,E,C):i.prototype&&i.prototype.isPureReactComponent?!Xl(c,f)||!Xl(g,E):!0}function o_(s,i,c){var f=!1,g=so,E=i.contextType;return typeof E=="object"&&E!==null?E=Yn(E):(g=yn(i)?li:Xt.current,f=i.contextTypes,E=(f=f!=null)?xa(s,g):so),i=new i(c,E),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=hd,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=E),i}function i_(s,i,c,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==s&&hd.enqueueReplaceState(i,i.state,null)}function qp(s,i,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Np(s);var E=i.contextType;typeof E=="object"&&E!==null?g.context=Yn(E):(E=yn(i)?li:Xt.current,g.context=xa(s,E)),g.state=s.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(Hp(s,i,E,c),g.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&hd.enqueueReplaceState(g,g.state,null),od(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ra(s,i){try{var c="",f=i;do c+=Re(f),f=f.return;while(f);var g=c}catch(E){g=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:i,stack:g,digest:null}}function Gp(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function Kp(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var E1=typeof WeakMap=="function"?WeakMap:Map;function a_(s,i,c){c=Ss(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){wd||(wd=!0,cm=f),Kp(s,i)},c}function l_(s,i,c){c=Ss(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;c.payload=function(){return f(g)},c.callback=function(){Kp(s,i)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Kp(s,i),typeof f!="function"&&(co===null?co=new Set([this]):co.add(this));var C=i.stack;this.componentDidCatch(i.value,{componentStack:C!==null?C:""})}),c}function c_(s,i,c){var f=s.pingCache;if(f===null){f=s.pingCache=new E1;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(c)||(g.add(c),s=j1.bind(null,s,i,c),i.then(s,s))}function u_(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function d_(s,i,c,f,g){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Ss(-1,1),i.tag=2,ao(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var S1=$.ReactCurrentOwner,wn=!1;function un(s,i,c,f){i.child=s===null?kw(i,null,c,f):Ia(i,s.child,c,f)}function h_(s,i,c,f,g){c=c.render;var E=i.ref;return ba(i,g),f=Fp(s,i,c,f,E,g),c=Up(),s!==null&&!wn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Ts(s,i,g)):(ht&&c&&Ep(i),i.flags|=1,un(s,i,f,g),i.child)}function f_(s,i,c,f,g){if(s===null){var E=c.type;return typeof E=="function"&&!gm(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=E,p_(s,i,E,f,g)):(s=Id(c.type,null,f,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(E=s.child,(s.lanes&g)===0){var C=E.memoizedProps;if(c=c.compare,c=c!==null?c:Xl,c(C,f)&&s.ref===i.ref)return Ts(s,i,g)}return i.flags|=1,s=po(E,f),s.ref=i.ref,s.return=i,i.child=s}function p_(s,i,c,f,g){if(s!==null){var E=s.memoizedProps;if(Xl(E,f)&&s.ref===i.ref)if(wn=!1,i.pendingProps=f=E,(s.lanes&g)!==0)(s.flags&131072)!==0&&(wn=!0);else return i.lanes=s.lanes,Ts(s,i,g)}return Qp(s,i,c,f,g)}function m_(s,i,c){var f=i.pendingProps,g=f.children,E=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(ka,Nn),Nn|=c;else{if((c&1073741824)===0)return s=E!==null?E.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,at(ka,Nn),Nn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=E!==null?E.baseLanes:c,at(ka,Nn),Nn|=f}else E!==null?(f=E.baseLanes|c,i.memoizedState=null):f=c,at(ka,Nn),Nn|=f;return un(s,i,g,c),i.child}function g_(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Qp(s,i,c,f,g){var E=yn(c)?li:Xt.current;return E=xa(i,E),ba(i,g),c=Fp(s,i,c,f,E,g),f=Up(),s!==null&&!wn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Ts(s,i,g)):(ht&&f&&Ep(i),i.flags|=1,un(s,i,c,g),i.child)}function v_(s,i,c,f,g){if(yn(c)){var E=!0;Yu(i)}else E=!1;if(ba(i,g),i.stateNode===null)pd(s,i),o_(i,c,f),qp(i,c,f,g),f=!0;else if(s===null){var C=i.stateNode,L=i.memoizedProps;C.props=L;var z=C.context,X=c.contextType;typeof X=="object"&&X!==null?X=Yn(X):(X=yn(c)?li:Xt.current,X=xa(i,X));var ie=c.getDerivedStateFromProps,ae=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function";ae||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L!==f||z!==X)&&i_(i,C,f,X),io=!1;var se=i.memoizedState;C.state=se,od(i,f,C,g),z=i.memoizedState,L!==f||se!==z||vn.current||io?(typeof ie=="function"&&(Hp(i,c,ie,f),z=i.memoizedState),(L=io||s_(i,c,L,f,se,z,X))?(ae||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(i.flags|=4194308)):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=z),C.props=f,C.state=z,C.context=X,f=L):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{C=i.stateNode,Dw(s,i),L=i.memoizedProps,X=i.type===i.elementType?L:_r(i.type,L),C.props=X,ae=i.pendingProps,se=C.context,z=c.contextType,typeof z=="object"&&z!==null?z=Yn(z):(z=yn(c)?li:Xt.current,z=xa(i,z));var de=c.getDerivedStateFromProps;(ie=typeof de=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L!==ae||se!==z)&&i_(i,C,f,z),io=!1,se=i.memoizedState,C.state=se,od(i,f,C,g);var we=i.memoizedState;L!==ae||se!==we||vn.current||io?(typeof de=="function"&&(Hp(i,c,de,f),we=i.memoizedState),(X=io||s_(i,c,X,f,se,we,z)||!1)?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,we,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,we,z)),typeof C.componentDidUpdate=="function"&&(i.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof C.componentDidUpdate!="function"||L===s.memoizedProps&&se===s.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&se===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=we),C.props=f,C.state=we,C.context=z,f=X):(typeof C.componentDidUpdate!="function"||L===s.memoizedProps&&se===s.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&se===s.memoizedState||(i.flags|=1024),f=!1)}return Yp(s,i,c,f,E,g)}function Yp(s,i,c,f,g,E){g_(s,i);var C=(i.flags&128)!==0;if(!f&&!C)return g&&Ew(i,c,!1),Ts(s,i,E);f=i.stateNode,S1.current=i;var L=C&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&C?(i.child=Ia(i,s.child,null,E),i.child=Ia(i,null,L,E)):un(s,i,L,E),i.memoizedState=f.state,g&&Ew(i,c,!0),i.child}function y_(s){var i=s.stateNode;i.pendingContext?_w(s,i.pendingContext,i.pendingContext!==i.context):i.context&&_w(s,i.context,!1),Dp(s,i.containerInfo)}function w_(s,i,c,f,g){return Ta(),Cp(g),i.flags|=256,un(s,i,c,f),i.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Jp(s){return{baseLanes:s,cachePool:null,transitions:null}}function __(s,i,c){var f=i.pendingProps,g=pt.current,E=!1,C=(i.flags&128)!==0,L;if((L=C)||(L=s!==null&&s.memoizedState===null?!1:(g&2)!==0),L?(E=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),at(pt,g&1),s===null)return Ip(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(C=f.children,s=f.fallback,E?(f=i.mode,E=i.child,C={mode:"hidden",children:C},(f&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=C):E=Cd(C,f,0,null),s=yi(s,f,c,null),E.return=i,s.return=i,E.sibling=s,i.child=E,i.child.memoizedState=Jp(c),i.memoizedState=Xp,s):Zp(i,C));if(g=s.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return T1(s,i,C,f,L,g,c);if(E){E=f.fallback,C=i.mode,g=s.child,L=g.sibling;var z={mode:"hidden",children:f.children};return(C&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=z,i.deletions=null):(f=po(g,z),f.subtreeFlags=g.subtreeFlags&14680064),L!==null?E=po(L,E):(E=yi(E,C,c,null),E.flags|=2),E.return=i,f.return=i,f.sibling=E,i.child=f,f=E,E=i.child,C=s.child.memoizedState,C=C===null?Jp(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},E.memoizedState=C,E.childLanes=s.childLanes&~c,i.memoizedState=Xp,f}return E=s.child,s=E.sibling,f=po(E,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=f,i.memoizedState=null,f}function Zp(s,i){return i=Cd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function fd(s,i,c,f){return f!==null&&Cp(f),Ia(i,s.child,null,c),s=Zp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function T1(s,i,c,f,g,E,C){if(c)return i.flags&256?(i.flags&=-257,f=Gp(Error(n(422))),fd(s,i,C,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(E=f.fallback,g=i.mode,f=Cd({mode:"visible",children:f.children},g,0,null),E=yi(E,g,C,null),E.flags|=2,f.return=i,E.return=i,f.sibling=E,i.child=f,(i.mode&1)!==0&&Ia(i,s.child,null,C),i.child.memoizedState=Jp(C),i.memoizedState=Xp,E);if((i.mode&1)===0)return fd(s,i,C,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var L=f.dgst;return f=L,E=Error(n(419)),f=Gp(E,f,void 0),fd(s,i,C,f)}if(L=(C&s.childLanes)!==0,wn||L){if(f=Ft,f!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|C))!==0?0:g,g!==0&&g!==E.retryLane&&(E.retryLane=g,Es(s,g),Sr(f,s,g,-1))}return mm(),f=Gp(Error(n(421))),fd(s,i,C,f)}return g.data==="$?"?(i.flags|=128,i.child=s.child,i=L1.bind(null,s),g._reactRetry=i,null):(s=E.treeContext,kn=no(g.nextSibling),Pn=i,ht=!0,wr=null,s!==null&&(Kn[Qn++]=_s,Kn[Qn++]=xs,Kn[Qn++]=ci,_s=s.id,xs=s.overflow,ci=i),i=Zp(i,f.children),i.flags|=4096,i)}function x_(s,i,c){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),Pp(s.return,i,c)}function em(s,i,c,f,g){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=c,E.tailMode=g)}function E_(s,i,c){var f=i.pendingProps,g=f.revealOrder,E=f.tail;if(un(s,i,f.children,c),f=pt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&x_(s,c,i);else if(s.tag===19)x_(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(at(pt,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(c=i.child,g=null;c!==null;)s=c.alternate,s!==null&&id(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),em(i,!1,g,c,E);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&id(s)===null){i.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}em(i,!0,c,null,E);break;case"together":em(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function pd(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Ts(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),pi|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,c=po(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=po(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function I1(s,i,c){switch(i.tag){case 3:y_(i),Ta();break;case 5:jw(i);break;case 1:yn(i.type)&&Yu(i);break;case 4:Dp(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;at(nd,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(at(pt,pt.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?__(s,i,c):(at(pt,pt.current&1),s=Ts(s,i,c),s!==null?s.sibling:null);at(pt,pt.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(s.flags&128)!==0){if(f)return E_(s,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(pt,pt.current),f)break;return null;case 22:case 23:return i.lanes=0,m_(s,i,c)}return Ts(s,i,c)}var S_,tm,T_,I_;S_=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},tm=function(){},T_=function(s,i,c,f){var g=s.memoizedProps;if(g!==f){s=i.stateNode,hi(qr.current);var E=null;switch(c){case"input":g=jt(s,g),f=jt(s,f),E=[];break;case"select":g=re({},g,{value:void 0}),f=re({},f,{value:void 0}),E=[];break;case"textarea":g=Cl(s,g),f=Cl(s,f),E=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Gu)}Nl(c,f);var C;c=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var L=g[X];for(C in L)L.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?E||(E=[]):(E=E||[]).push(X,null));for(X in f){var z=f[X];if(L=g!=null?g[X]:void 0,f.hasOwnProperty(X)&&z!==L&&(z!=null||L!=null))if(X==="style")if(L){for(C in L)!L.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in z)z.hasOwnProperty(C)&&L[C]!==z[C]&&(c||(c={}),c[C]=z[C])}else c||(E||(E=[]),E.push(X,c)),c=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(E=E||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(E=E||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&lt("scroll",s),E||L===z||(E=[])):(E=E||[]).push(X,z))}c&&(E=E||[]).push("style",c);var X=E;(i.updateQueue=X)&&(i.flags|=4)}},I_=function(s,i,c,f){c!==f&&(i.flags|=4)};function hc(s,i){if(!ht)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Zt(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(i)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,i}function C1(s,i,c){var f=i.pendingProps;switch(Sp(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(i),null;case 1:return yn(i.type)&&Qu(),Zt(i),null;case 3:return f=i.stateNode,Aa(),ct(vn),ct(Xt),jp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(ed(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wr!==null&&(hm(wr),wr=null))),tm(s,i),Zt(i),null;case 5:Mp(i);var g=hi(ac.current);if(c=i.type,s!==null&&i.stateNode!=null)T_(s,i,c,f,g),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}if(s=hi(qr.current),ed(i)){f=i.stateNode,c=i.type;var E=i.memoizedProps;switch(f[Hr]=i,f[nc]=E,s=(i.mode&1)!==0,c){case"dialog":lt("cancel",f),lt("close",f);break;case"iframe":case"object":case"embed":lt("load",f);break;case"video":case"audio":for(g=0;g<Zl.length;g++)lt(Zl[g],f);break;case"source":lt("error",f);break;case"img":case"image":case"link":lt("error",f),lt("load",f);break;case"details":lt("toggle",f);break;case"input":Bn(f,E),lt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!E.multiple},lt("invalid",f);break;case"textarea":Hi(f,E),lt("invalid",f)}Nl(c,E),g=null;for(var C in E)if(E.hasOwnProperty(C)){var L=E[C];C==="children"?typeof L=="string"?f.textContent!==L&&(E.suppressHydrationWarning!==!0&&qu(f.textContent,L,s),g=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(E.suppressHydrationWarning!==!0&&qu(f.textContent,L,s),g=["children",""+L]):o.hasOwnProperty(C)&&L!=null&&C==="onScroll"&&lt("scroll",f)}switch(c){case"input":$e(f),Wi(f,E,!0);break;case"textarea":$e(f),bl(f);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(f.onclick=Gu)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(c,{is:f.is}):(s=C.createElement(c),c==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,c),s[Hr]=i,s[nc]=f,S_(s,i,!1,!1),i.stateNode=s;e:{switch(C=Dl(c,f),c){case"dialog":lt("cancel",s),lt("close",s),g=f;break;case"iframe":case"object":case"embed":lt("load",s),g=f;break;case"video":case"audio":for(g=0;g<Zl.length;g++)lt(Zl[g],s);g=f;break;case"source":lt("error",s),g=f;break;case"img":case"image":case"link":lt("error",s),lt("load",s),g=f;break;case"details":lt("toggle",s),g=f;break;case"input":Bn(s,f),g=jt(s,f),lt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=re({},f,{value:void 0}),lt("invalid",s);break;case"textarea":Hi(s,f),g=Cl(s,f),lt("invalid",s);break;default:g=f}Nl(c,g),L=g;for(E in L)if(L.hasOwnProperty(E)){var z=L[E];E==="style"?Pl(s,z):E==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Al(s,z)):E==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&Hs(s,z):typeof z=="number"&&Hs(s,""+z):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?z!=null&&E==="onScroll"&&lt("scroll",s):z!=null&&V(s,E,z,C))}switch(c){case"input":$e(s),Wi(s,f,!1);break;case"textarea":$e(s),bl(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ee(f.value));break;case"select":s.multiple=!!f.multiple,E=f.value,E!=null?us(s,!!f.multiple,E,!1):f.defaultValue!=null&&us(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Gu)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Zt(i),null;case 6:if(s&&i.stateNode!=null)I_(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(c=hi(ac.current),hi(qr.current),ed(i)){if(f=i.stateNode,c=i.memoizedProps,f[Hr]=i,(E=f.nodeValue!==c)&&(s=Pn,s!==null))switch(s.tag){case 3:qu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&qu(f.nodeValue,c,(s.mode&1)!==0)}E&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Hr]=i,i.stateNode=f}return Zt(i),null;case 13:if(ct(pt),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&kn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Aw(),Ta(),i.flags|=98560,E=!1;else if(E=ed(i),f!==null&&f.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=i.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Hr]=i}else Ta(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),E=!1}else wr!==null&&(hm(wr),wr=null),E=!0;if(!E)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(pt.current&1)!==0?Dt===0&&(Dt=3):mm())),i.updateQueue!==null&&(i.flags|=4),Zt(i),null);case 4:return Aa(),tm(s,i),s===null&&ec(i.stateNode.containerInfo),Zt(i),null;case 10:return Rp(i.type._context),Zt(i),null;case 17:return yn(i.type)&&Qu(),Zt(i),null;case 19:if(ct(pt),E=i.memoizedState,E===null)return Zt(i),null;if(f=(i.flags&128)!==0,C=E.rendering,C===null)if(f)hc(E,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(C=id(s),C!==null){for(i.flags|=128,hc(E,!1),f=C.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)E=c,s=f,E.flags&=14680066,C=E.alternate,C===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=C.childLanes,E.lanes=C.lanes,E.child=C.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=C.memoizedProps,E.memoizedState=C.memoizedState,E.updateQueue=C.updateQueue,E.type=C.type,s=C.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return at(pt,pt.current&1|2),i.child}s=s.sibling}E.tail!==null&&it()>Na&&(i.flags|=128,f=!0,hc(E,!1),i.lanes=4194304)}else{if(!f)if(s=id(C),s!==null){if(i.flags|=128,f=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),hc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!C.alternate&&!ht)return Zt(i),null}else 2*it()-E.renderingStartTime>Na&&c!==1073741824&&(i.flags|=128,f=!0,hc(E,!1),i.lanes=4194304);E.isBackwards?(C.sibling=i.child,i.child=C):(c=E.last,c!==null?c.sibling=C:i.child=C,E.last=C)}return E.tail!==null?(i=E.tail,E.rendering=i,E.tail=i.sibling,E.renderingStartTime=it(),i.sibling=null,c=pt.current,at(pt,f?c&1|2:c&1),i):(Zt(i),null);case 22:case 23:return pm(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Nn&1073741824)!==0&&(Zt(i),i.subtreeFlags&6&&(i.flags|=8192)):Zt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function b1(s,i){switch(Sp(i),i.tag){case 1:return yn(i.type)&&Qu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Aa(),ct(vn),ct(Xt),jp(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Mp(i),null;case 13:if(ct(pt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ta()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ct(pt),null;case 4:return Aa(),null;case 10:return Rp(i.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var md=!1,en=!1,A1=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Pa(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){yt(s,i,f)}else c.current=null}function nm(s,i,c){try{c()}catch(f){yt(s,i,f)}}var C_=!1;function R1(s,i){if(pp=Zs,s=sw(),ip(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var C=0,L=-1,z=-1,X=0,ie=0,ae=s,se=null;t:for(;;){for(var de;ae!==c||g!==0&&ae.nodeType!==3||(L=C+g),ae!==E||f!==0&&ae.nodeType!==3||(z=C+f),ae.nodeType===3&&(C+=ae.nodeValue.length),(de=ae.firstChild)!==null;)se=ae,ae=de;for(;;){if(ae===s)break t;if(se===c&&++X===g&&(L=C),se===E&&++ie===f&&(z=C),(de=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=de}c=L===-1||z===-1?null:{start:L,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(mp={focusedElem:s,selectionRange:c},Zs=!1,ye=i;ye!==null;)if(i=ye,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ye=s;else for(;ye!==null;){i=ye;try{var we=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,Et=we.memoizedState,K=i.stateNode,H=K.getSnapshotBeforeUpdate(i.elementType===i.type?Se:_r(i.type,Se),Et);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){yt(i,i.return,le)}if(s=i.sibling,s!==null){s.return=i.return,ye=s;break}ye=i.return}return we=C_,C_=!1,we}function fc(s,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var E=g.destroy;g.destroy=void 0,E!==void 0&&nm(i,c,E)}g=g.next}while(g!==f)}}function gd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function rm(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function b_(s){var i=s.alternate;i!==null&&(s.alternate=null,b_(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Hr],delete i[nc],delete i[wp],delete i[d1],delete i[h1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function A_(s){return s.tag===5||s.tag===3||s.tag===4}function R_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||A_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sm(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Gu));else if(f!==4&&(s=s.child,s!==null))for(sm(s,i,c),s=s.sibling;s!==null;)sm(s,i,c),s=s.sibling}function om(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(om(s,i,c),s=s.sibling;s!==null;)om(s,i,c),s=s.sibling}var qt=null,xr=!1;function lo(s,i,c){for(c=c.child;c!==null;)P_(s,i,c),c=c.sibling}function P_(s,i,c){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ei,c)}catch{}switch(c.tag){case 5:en||Pa(c,i);case 6:var f=qt,g=xr;qt=null,lo(s,i,c),qt=f,xr=g,qt!==null&&(xr?(s=qt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):qt.removeChild(c.stateNode));break;case 18:qt!==null&&(xr?(s=qt,c=c.stateNode,s.nodeType===8?yp(s.parentNode,c):s.nodeType===1&&yp(s,c),gr(s)):yp(qt,c.stateNode));break;case 4:f=qt,g=xr,qt=c.stateNode.containerInfo,xr=!0,lo(s,i,c),qt=f,xr=g;break;case 0:case 11:case 14:case 15:if(!en&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var E=g,C=E.destroy;E=E.tag,C!==void 0&&((E&2)!==0||(E&4)!==0)&&nm(c,i,C),g=g.next}while(g!==f)}lo(s,i,c);break;case 1:if(!en&&(Pa(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){yt(c,i,L)}lo(s,i,c);break;case 21:lo(s,i,c);break;case 22:c.mode&1?(en=(f=en)||c.memoizedState!==null,lo(s,i,c),en=f):lo(s,i,c);break;default:lo(s,i,c)}}function k_(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new A1),i.forEach(function(f){var g=V1.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Er(s,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var E=s,C=i,L=C;e:for(;L!==null;){switch(L.tag){case 5:qt=L.stateNode,xr=!1;break e;case 3:qt=L.stateNode.containerInfo,xr=!0;break e;case 4:qt=L.stateNode.containerInfo,xr=!0;break e}L=L.return}if(qt===null)throw Error(n(160));P_(E,C,g),qt=null,xr=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(X){yt(g,i,X)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)N_(i,s),i=i.sibling}function N_(s,i){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Er(i,s),Kr(s),f&4){try{fc(3,s,s.return),gd(3,s)}catch(Se){yt(s,s.return,Se)}try{fc(5,s,s.return)}catch(Se){yt(s,s.return,Se)}}break;case 1:Er(i,s),Kr(s),f&512&&c!==null&&Pa(c,c.return);break;case 5:if(Er(i,s),Kr(s),f&512&&c!==null&&Pa(c,c.return),s.flags&32){var g=s.stateNode;try{Hs(g,"")}catch(Se){yt(s,s.return,Se)}}if(f&4&&(g=s.stateNode,g!=null)){var E=s.memoizedProps,C=c!==null?c.memoizedProps:E,L=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{L==="input"&&E.type==="radio"&&E.name!=null&&ir(g,E),Dl(L,C);var X=Dl(L,E);for(C=0;C<z.length;C+=2){var ie=z[C],ae=z[C+1];ie==="style"?Pl(g,ae):ie==="dangerouslySetInnerHTML"?Al(g,ae):ie==="children"?Hs(g,ae):V(g,ie,ae,X)}switch(L){case"input":ar(g,E);break;case"textarea":qi(g,E);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!E.multiple;var de=E.value;de!=null?us(g,!!E.multiple,de,!1):se!==!!E.multiple&&(E.defaultValue!=null?us(g,!!E.multiple,E.defaultValue,!0):us(g,!!E.multiple,E.multiple?[]:"",!1))}g[nc]=E}catch(Se){yt(s,s.return,Se)}}break;case 6:if(Er(i,s),Kr(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,E=s.memoizedProps;try{g.nodeValue=E}catch(Se){yt(s,s.return,Se)}}break;case 3:if(Er(i,s),Kr(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{gr(i.containerInfo)}catch(Se){yt(s,s.return,Se)}break;case 4:Er(i,s),Kr(s);break;case 13:Er(i,s),Kr(s),g=s.child,g.flags&8192&&(E=g.memoizedState!==null,g.stateNode.isHidden=E,!E||g.alternate!==null&&g.alternate.memoizedState!==null||(lm=it())),f&4&&k_(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(en=(X=en)||ie,Er(i,s),en=X):Er(i,s),Kr(s),f&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ie&&(s.mode&1)!==0)for(ye=s,ie=s.child;ie!==null;){for(ae=ye=ie;ye!==null;){switch(se=ye,de=se.child,se.tag){case 0:case 11:case 14:case 15:fc(4,se,se.return);break;case 1:Pa(se,se.return);var we=se.stateNode;if(typeof we.componentWillUnmount=="function"){f=se,c=se.return;try{i=f,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(Se){yt(f,c,Se)}}break;case 5:Pa(se,se.return);break;case 22:if(se.memoizedState!==null){O_(ae);continue}}de!==null?(de.return=se,ye=de):O_(ae)}ie=ie.sibling}e:for(ie=null,ae=s;;){if(ae.tag===5){if(ie===null){ie=ae;try{g=ae.stateNode,X?(E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(L=ae.stateNode,z=ae.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=Rl("display",C))}catch(Se){yt(s,s.return,Se)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=X?"":ae.memoizedProps}catch(Se){yt(s,s.return,Se)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Er(i,s),Kr(s),f&4&&k_(s);break;case 21:break;default:Er(i,s),Kr(s)}}function Kr(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(A_(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Hs(g,""),f.flags&=-33);var E=R_(s);om(s,E,g);break;case 3:case 4:var C=f.stateNode.containerInfo,L=R_(s);sm(s,L,C);break;default:throw Error(n(161))}}catch(z){yt(s,s.return,z)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function P1(s,i,c){ye=s,D_(s)}function D_(s,i,c){for(var f=(s.mode&1)!==0;ye!==null;){var g=ye,E=g.child;if(g.tag===22&&f){var C=g.memoizedState!==null||md;if(!C){var L=g.alternate,z=L!==null&&L.memoizedState!==null||en;L=md;var X=en;if(md=C,(en=z)&&!X)for(ye=g;ye!==null;)C=ye,z=C.child,C.tag===22&&C.memoizedState!==null?j_(g):z!==null?(z.return=C,ye=z):j_(g);for(;E!==null;)ye=E,D_(E),E=E.sibling;ye=g,md=L,en=X}M_(s)}else(g.subtreeFlags&8772)!==0&&E!==null?(E.return=g,ye=E):M_(s)}}function M_(s){for(;ye!==null;){var i=ye;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:en||gd(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!en)if(c===null)f.componentDidMount();else{var g=i.elementType===i.type?c.memoizedProps:_r(i.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var E=i.updateQueue;E!==null&&Ow(i,E,f);break;case 3:var C=i.updateQueue;if(C!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Ow(i,C,c)}break;case 5:var L=i.stateNode;if(c===null&&i.flags&4){c=L;var z=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var X=i.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&gr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}en||i.flags&512&&rm(i)}catch(se){yt(i,i.return,se)}}if(i===s){ye=null;break}if(c=i.sibling,c!==null){c.return=i.return,ye=c;break}ye=i.return}}function O_(s){for(;ye!==null;){var i=ye;if(i===s){ye=null;break}var c=i.sibling;if(c!==null){c.return=i.return,ye=c;break}ye=i.return}}function j_(s){for(;ye!==null;){var i=ye;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{gd(4,i)}catch(z){yt(i,c,z)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(z){yt(i,g,z)}}var E=i.return;try{rm(i)}catch(z){yt(i,E,z)}break;case 5:var C=i.return;try{rm(i)}catch(z){yt(i,C,z)}}}catch(z){yt(i,i.return,z)}if(i===s){ye=null;break}var L=i.sibling;if(L!==null){L.return=i.return,ye=L;break}ye=i.return}}var k1=Math.ceil,vd=$.ReactCurrentDispatcher,im=$.ReactCurrentOwner,Jn=$.ReactCurrentBatchConfig,et=0,Ft=null,It=null,Gt=0,Nn=0,ka=ro(0),Dt=0,pc=null,pi=0,yd=0,am=0,mc=null,_n=null,lm=0,Na=1/0,Is=null,wd=!1,cm=null,co=null,_d=!1,uo=null,xd=0,gc=0,um=null,Ed=-1,Sd=0;function dn(){return(et&6)!==0?it():Ed!==-1?Ed:Ed=it()}function ho(s){return(s.mode&1)===0?1:(et&2)!==0&&Gt!==0?Gt&-Gt:p1.transition!==null?(Sd===0&&(Sd=ni()),Sd):(s=Ye,s!==0||(s=window.event,s=s===void 0?16:Wl(s.type)),s)}function Sr(s,i,c,f){if(50<gc)throw gc=0,um=null,Error(n(185));Qs(s,c,f),((et&2)===0||s!==Ft)&&(s===Ft&&((et&2)===0&&(yd|=c),Dt===4&&fo(s,Gt)),xn(s,f),c===1&&et===0&&(i.mode&1)===0&&(Na=it()+500,Xu&&oo()))}function xn(s,i){var c=s.callbackNode;fs(s,i);var f=ti(s,s===Ft?Gt:0);if(f===0)c!==null&&Fl(c),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(c!=null&&Fl(c),i===1)s.tag===0?f1(V_.bind(null,s)):Sw(V_.bind(null,s)),c1(function(){(et&6)===0&&oo()}),c=null;else{switch(Xs(f)){case 1:c=Zo;break;case 4:c=qs;break;case 16:c=Hn;break;case 536870912:c=Su;break;default:c=Hn}c=q_(c,L_.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function L_(s,i){if(Ed=-1,Sd=0,(et&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Da()&&s.callbackNode!==c)return null;var f=ti(s,s===Ft?Gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=Td(s,f);else{i=f;var g=et;et|=2;var E=U_();(Ft!==s||Gt!==i)&&(Is=null,Na=it()+500,gi(s,i));do try{M1();break}catch(L){F_(s,L)}while(!0);Ap(),vd.current=E,et=g,It!==null?i=0:(Ft=null,Gt=0,i=Dt)}if(i!==0){if(i===2&&(g=bn(s),g!==0&&(f=g,i=dm(s,g))),i===1)throw c=pc,gi(s,0),fo(s,f),xn(s,it()),c;if(i===6)fo(s,f);else{if(g=s.current.alternate,(f&30)===0&&!N1(g)&&(i=Td(s,f),i===2&&(E=bn(s),E!==0&&(f=E,i=dm(s,E))),i===1))throw c=pc,gi(s,0),fo(s,f),xn(s,it()),c;switch(s.finishedWork=g,s.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:vi(s,_n,Is);break;case 3:if(fo(s,f),(f&130023424)===f&&(i=lm+500-it(),10<i)){if(ti(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){dn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=vp(vi.bind(null,s,_n,Is),i);break}vi(s,_n,Is);break;case 4:if(fo(s,f),(f&4194240)===f)break;for(i=s.eventTimes,g=-1;0<f;){var C=31-ln(f);E=1<<C,C=i[C],C>g&&(g=C),f&=~E}if(f=g,f=it()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*k1(f/1960))-f,10<f){s.timeoutHandle=vp(vi.bind(null,s,_n,Is),f);break}vi(s,_n,Is);break;case 5:vi(s,_n,Is);break;default:throw Error(n(329))}}}return xn(s,it()),s.callbackNode===c?L_.bind(null,s):null}function dm(s,i){var c=mc;return s.current.memoizedState.isDehydrated&&(gi(s,i).flags|=256),s=Td(s,i),s!==2&&(i=_n,_n=c,i!==null&&hm(i)),s}function hm(s){_n===null?_n=s:_n.push.apply(_n,s)}function N1(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],E=g.getSnapshot;g=g.value;try{if(!yr(E(),g))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fo(s,i){for(i&=~am,i&=~yd,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-ln(i),f=1<<c;s[c]=-1,i&=~f}}function V_(s){if((et&6)!==0)throw Error(n(327));Da();var i=ti(s,0);if((i&1)===0)return xn(s,it()),null;var c=Td(s,i);if(s.tag!==0&&c===2){var f=bn(s);f!==0&&(i=f,c=dm(s,f))}if(c===1)throw c=pc,gi(s,0),fo(s,i),xn(s,it()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,vi(s,_n,Is),xn(s,it()),null}function fm(s,i){var c=et;et|=1;try{return s(i)}finally{et=c,et===0&&(Na=it()+500,Xu&&oo())}}function mi(s){uo!==null&&uo.tag===0&&(et&6)===0&&Da();var i=et;et|=1;var c=Jn.transition,f=Ye;try{if(Jn.transition=null,Ye=1,s)return s()}finally{Ye=f,Jn.transition=c,et=i,(et&6)===0&&oo()}}function pm(){Nn=ka.current,ct(ka)}function gi(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,l1(c)),It!==null)for(c=It.return;c!==null;){var f=c;switch(Sp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Qu();break;case 3:Aa(),ct(vn),ct(Xt),jp();break;case 5:Mp(f);break;case 4:Aa();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:Rp(f.type._context);break;case 22:case 23:pm()}c=c.return}if(Ft=s,It=s=po(s.current,null),Gt=Nn=i,Dt=0,pc=null,am=yd=pi=0,_n=mc=null,di!==null){for(i=0;i<di.length;i++)if(c=di[i],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,E=c.pending;if(E!==null){var C=E.next;E.next=g,f.next=C}c.pending=f}di=null}return s}function F_(s,i){do{var c=It;try{if(Ap(),ad.current=dd,ld){for(var f=mt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}ld=!1}if(fi=0,Vt=Nt=mt=null,lc=!1,cc=0,im.current=null,c===null||c.return===null){Dt=1,pc=i,It=null;break}e:{var E=s,C=c.return,L=c,z=i;if(i=Gt,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,ie=L,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var de=u_(C);if(de!==null){de.flags&=-257,d_(de,C,L,E,i),de.mode&1&&c_(E,X,i),i=de,z=X;var we=i.updateQueue;if(we===null){var Se=new Set;Se.add(z),i.updateQueue=Se}else we.add(z);break e}else{if((i&1)===0){c_(E,X,i),mm();break e}z=Error(n(426))}}else if(ht&&L.mode&1){var Et=u_(C);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),d_(Et,C,L,E,i),Cp(Ra(z,L));break e}}E=z=Ra(z,L),Dt!==4&&(Dt=2),mc===null?mc=[E]:mc.push(E),E=C;do{switch(E.tag){case 3:E.flags|=65536,i&=-i,E.lanes|=i;var K=a_(E,z,i);Mw(E,K);break e;case 1:L=z;var H=E.type,Q=E.stateNode;if((E.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(co===null||!co.has(Q)))){E.flags|=65536,i&=-i,E.lanes|=i;var le=l_(E,L,i);Mw(E,le);break e}}E=E.return}while(E!==null)}z_(c)}catch(Ie){i=Ie,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function U_(){var s=vd.current;return vd.current=dd,s===null?dd:s}function mm(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||(pi&268435455)===0&&(yd&268435455)===0||fo(Ft,Gt)}function Td(s,i){var c=et;et|=2;var f=U_();(Ft!==s||Gt!==i)&&(Is=null,gi(s,i));do try{D1();break}catch(g){F_(s,g)}while(!0);if(Ap(),et=c,vd.current=f,It!==null)throw Error(n(261));return Ft=null,Gt=0,Dt}function D1(){for(;It!==null;)$_(It)}function M1(){for(;It!==null&&!xu();)$_(It)}function $_(s){var i=H_(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,i===null?z_(s):It=i,im.current=null}function z_(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=C1(c,i,Nn),c!==null){It=c;return}}else{if(c=b1(c,i),c!==null){c.flags&=32767,It=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,It=null;return}}if(i=i.sibling,i!==null){It=i;return}It=i=s}while(i!==null);Dt===0&&(Dt=5)}function vi(s,i,c){var f=Ye,g=Jn.transition;try{Jn.transition=null,Ye=1,O1(s,i,c,f)}finally{Jn.transition=g,Ye=f}return null}function O1(s,i,c,f){do Da();while(uo!==null);if((et&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(ot(s,E),s===Ft&&(It=Ft=null,Gt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||_d||(_d=!0,q_(Hn,function(){return Da(),null})),E=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||E){E=Jn.transition,Jn.transition=null;var C=Ye;Ye=1;var L=et;et|=4,im.current=null,R1(s,c),N_(c,s),t1(mp),Zs=!!pp,mp=pp=null,s.current=c,P1(c),Jf(),et=L,Ye=C,Jn.transition=E}else s.current=c;if(_d&&(_d=!1,uo=s,xd=g),E=s.pendingLanes,E===0&&(co=null),Tu(c.stateNode),xn(s,it()),i!==null)for(f=s.onRecoverableError,c=0;c<i.length;c++)g=i[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(wd)throw wd=!1,s=cm,cm=null,s;return(xd&1)!==0&&s.tag!==0&&Da(),E=s.pendingLanes,(E&1)!==0?s===um?gc++:(gc=0,um=s):gc=0,oo(),null}function Da(){if(uo!==null){var s=Xs(xd),i=Jn.transition,c=Ye;try{if(Jn.transition=null,Ye=16>s?16:s,uo===null)var f=!1;else{if(s=uo,uo=null,xd=0,(et&6)!==0)throw Error(n(331));var g=et;for(et|=4,ye=s.current;ye!==null;){var E=ye,C=E.child;if((ye.flags&16)!==0){var L=E.deletions;if(L!==null){for(var z=0;z<L.length;z++){var X=L[z];for(ye=X;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:fc(8,ie,E)}var ae=ie.child;if(ae!==null)ae.return=ie,ye=ae;else for(;ye!==null;){ie=ye;var se=ie.sibling,de=ie.return;if(b_(ie),ie===X){ye=null;break}if(se!==null){se.return=de,ye=se;break}ye=de}}}var we=E.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var Et=Se.sibling;Se.sibling=null,Se=Et}while(Se!==null)}}ye=E}}if((E.subtreeFlags&2064)!==0&&C!==null)C.return=E,ye=C;else e:for(;ye!==null;){if(E=ye,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:fc(9,E,E.return)}var K=E.sibling;if(K!==null){K.return=E.return,ye=K;break e}ye=E.return}}var H=s.current;for(ye=H;ye!==null;){C=ye;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,ye=Q;else e:for(C=H;ye!==null;){if(L=ye,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:gd(9,L)}}catch(Ie){yt(L,L.return,Ie)}if(L===C){ye=null;break e}var le=L.sibling;if(le!==null){le.return=L.return,ye=le;break e}ye=L.return}}if(et=g,oo(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ei,s)}catch{}f=!0}return f}finally{Ye=c,Jn.transition=i}}return!1}function B_(s,i,c){i=Ra(c,i),i=a_(s,i,1),s=ao(s,i,1),i=dn(),s!==null&&(Qs(s,1,i),xn(s,i))}function yt(s,i,c){if(s.tag===3)B_(s,s,c);else for(;i!==null;){if(i.tag===3){B_(i,s,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(co===null||!co.has(f))){s=Ra(c,s),s=l_(i,s,1),i=ao(i,s,1),s=dn(),i!==null&&(Qs(i,1,s),xn(i,s));break}}i=i.return}}function j1(s,i,c){var f=s.pingCache;f!==null&&f.delete(i),i=dn(),s.pingedLanes|=s.suspendedLanes&c,Ft===s&&(Gt&c)===c&&(Dt===4||Dt===3&&(Gt&130023424)===Gt&&500>it()-lm?gi(s,0):am|=c),xn(s,i)}function W_(s,i){i===0&&((s.mode&1)===0?i=1:(i=na,na<<=1,(na&130023424)===0&&(na=4194304)));var c=dn();s=Es(s,i),s!==null&&(Qs(s,i,c),xn(s,c))}function L1(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),W_(s,c)}function V1(s,i){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),W_(s,c)}var H_;H_=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||vn.current)wn=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return wn=!1,I1(s,i,c);wn=(s.flags&131072)!==0}else wn=!1,ht&&(i.flags&1048576)!==0&&Tw(i,Zu,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;pd(s,i),s=i.pendingProps;var g=xa(i,Xt.current);ba(i,c),g=Fp(null,i,f,s,g,c);var E=Up();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,yn(f)?(E=!0,Yu(i)):E=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Np(i),g.updater=hd,i.stateNode=g,g._reactInternals=i,qp(i,f,s,c),i=Yp(null,i,f,!0,E,c)):(i.tag=0,ht&&E&&Ep(i),un(null,i,g,c),i=i.child),i;case 16:f=i.elementType;e:{switch(pd(s,i),s=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=U1(f),s=_r(f,s),g){case 0:i=Qp(null,i,f,s,c);break e;case 1:i=v_(null,i,f,s,c);break e;case 11:i=h_(null,i,f,s,c);break e;case 14:i=f_(null,i,f,_r(f.type,s),c);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:_r(f,g),Qp(s,i,f,g,c);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:_r(f,g),v_(s,i,f,g,c);case 3:e:{if(y_(i),s===null)throw Error(n(387));f=i.pendingProps,E=i.memoizedState,g=E.element,Dw(s,i),od(i,f,null,c);var C=i.memoizedState;if(f=C.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},i.updateQueue.baseState=E,i.memoizedState=E,i.flags&256){g=Ra(Error(n(423)),i),i=w_(s,i,f,c,g);break e}else if(f!==g){g=Ra(Error(n(424)),i),i=w_(s,i,f,c,g);break e}else for(kn=no(i.stateNode.containerInfo.firstChild),Pn=i,ht=!0,wr=null,c=kw(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ta(),f===g){i=Ts(s,i,c);break e}un(s,i,f,c)}i=i.child}return i;case 5:return jw(i),s===null&&Ip(i),f=i.type,g=i.pendingProps,E=s!==null?s.memoizedProps:null,C=g.children,gp(f,g)?C=null:E!==null&&gp(f,E)&&(i.flags|=32),g_(s,i),un(s,i,C,c),i.child;case 6:return s===null&&Ip(i),null;case 13:return __(s,i,c);case 4:return Dp(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Ia(i,null,f,c):un(s,i,f,c),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:_r(f,g),h_(s,i,f,g,c);case 7:return un(s,i,i.pendingProps,c),i.child;case 8:return un(s,i,i.pendingProps.children,c),i.child;case 12:return un(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,E=i.memoizedProps,C=g.value,at(nd,f._currentValue),f._currentValue=C,E!==null)if(yr(E.value,C)){if(E.children===g.children&&!vn.current){i=Ts(s,i,c);break e}}else for(E=i.child,E!==null&&(E.return=i);E!==null;){var L=E.dependencies;if(L!==null){C=E.child;for(var z=L.firstContext;z!==null;){if(z.context===f){if(E.tag===1){z=Ss(-1,c&-c),z.tag=2;var X=E.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),X.pending=z}}E.lanes|=c,z=E.alternate,z!==null&&(z.lanes|=c),Pp(E.return,c,i),L.lanes|=c;break}z=z.next}}else if(E.tag===10)C=E.type===i.type?null:E.child;else if(E.tag===18){if(C=E.return,C===null)throw Error(n(341));C.lanes|=c,L=C.alternate,L!==null&&(L.lanes|=c),Pp(C,c,i),C=E.sibling}else C=E.child;if(C!==null)C.return=E;else for(C=E;C!==null;){if(C===i){C=null;break}if(E=C.sibling,E!==null){E.return=C.return,C=E;break}C=C.return}E=C}un(s,i,g.children,c),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,ba(i,c),g=Yn(g),f=f(g),i.flags|=1,un(s,i,f,c),i.child;case 14:return f=i.type,g=_r(f,i.pendingProps),g=_r(f.type,g),f_(s,i,f,g,c);case 15:return p_(s,i,i.type,i.pendingProps,c);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:_r(f,g),pd(s,i),i.tag=1,yn(f)?(s=!0,Yu(i)):s=!1,ba(i,c),o_(i,f,g),qp(i,f,g,c),Yp(null,i,f,!0,s,c);case 19:return E_(s,i,c);case 22:return m_(s,i,c)}throw Error(n(156,i.tag))};function q_(s,i){return ea(s,i)}function F1(s,i,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,i,c,f){return new F1(s,i,c,f)}function gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function U1(s){if(typeof s=="function")return gm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===be)return 14}return 2}function po(s,i){var c=s.alternate;return c===null?(c=Zn(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Id(s,i,c,f,g,E){var C=2;if(f=s,typeof s=="function")gm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case N:return yi(c.children,g,E,i);case A:C=8,g|=8;break;case P:return s=Zn(12,c,i,g|2),s.elementType=P,s.lanes=E,s;case O:return s=Zn(13,c,i,g),s.elementType=O,s.lanes=E,s;case Te:return s=Zn(19,c,i,g),s.elementType=Te,s.lanes=E,s;case me:return Cd(c,g,E,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:C=10;break e;case j:C=9;break e;case F:C=11;break e;case be:C=14;break e;case he:C=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Zn(C,c,i,g),i.elementType=s,i.type=f,i.lanes=E,i}function yi(s,i,c,f){return s=Zn(7,s,f,i),s.lanes=c,s}function Cd(s,i,c,f){return s=Zn(22,s,f,i),s.elementType=me,s.lanes=c,s.stateNode={isHidden:!1},s}function vm(s,i,c){return s=Zn(6,s,null,i),s.lanes=c,s}function ym(s,i,c){return i=Zn(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function $1(s,i,c,f,g){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ks(0),this.expirationTimes=Ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function wm(s,i,c,f,g,E,C,L,z){return s=new $1(s,i,c,L,z),i===1?(i=1,E===!0&&(i|=8)):i=0,E=Zn(3,null,null,i),s.current=E,E.stateNode=s,E.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(E),s}function z1(s,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:f==null?null:""+f,children:s,containerInfo:i,implementation:c}}function G_(s){if(!s)return so;s=s._reactInternals;e:{if(dr(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(yn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(yn(c))return xw(s,c,i)}return i}function K_(s,i,c,f,g,E,C,L,z){return s=wm(c,f,!0,s,g,E,C,L,z),s.context=G_(null),c=s.current,f=dn(),g=ho(c),E=Ss(f,g),E.callback=i??null,ao(c,E,g),s.current.lanes=g,Qs(s,g,f),xn(s,f),s}function bd(s,i,c,f){var g=i.current,E=dn(),C=ho(g);return c=G_(c),i.context===null?i.context=c:i.pendingContext=c,i=Ss(E,C),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=ao(g,i,C),s!==null&&(Sr(s,g,C,E),sd(s,g,C)),C}function Ad(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Q_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function _m(s,i){Q_(s,i),(s=s.alternate)&&Q_(s,i)}function B1(){return null}var Y_=typeof reportError=="function"?reportError:function(s){console.error(s)};function xm(s){this._internalRoot=s}Rd.prototype.render=xm.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));bd(s,i,null,null)},Rd.prototype.unmount=xm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;mi(function(){bd(null,s,null,null)}),i[ys]=null}};function Rd(s){this._internalRoot=s}Rd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Ru();s={blockedOn:null,target:s,priority:i};for(var c=0;c<$r.length&&i!==0&&i<$r[c].priority;c++);$r.splice(c,0,s),c===0&&Nu(s)}};function Em(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Pd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function X_(){}function W1(s,i,c,f,g){if(g){if(typeof f=="function"){var E=f;f=function(){var X=Ad(C);E.call(X)}}var C=K_(i,f,s,0,null,!1,!1,"",X_);return s._reactRootContainer=C,s[ys]=C.current,ec(s.nodeType===8?s.parentNode:s),mi(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var L=f;f=function(){var X=Ad(z);L.call(X)}}var z=wm(s,0,!1,null,null,!1,!1,"",X_);return s._reactRootContainer=z,s[ys]=z.current,ec(s.nodeType===8?s.parentNode:s),mi(function(){bd(i,z,c,f)}),z}function kd(s,i,c,f,g){var E=c._reactRootContainer;if(E){var C=E;if(typeof g=="function"){var L=g;g=function(){var z=Ad(C);L.call(z)}}bd(i,C,s,g)}else C=W1(c,i,s,g,f);return Ad(C)}bu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Gs(i.pendingLanes);c!==0&&(Ys(i,c|1),xn(i,it()),(et&6)===0&&(Na=it()+500,oo()))}break;case 13:mi(function(){var f=Es(s,1);if(f!==null){var g=dn();Sr(f,s,1,g)}}),_m(s,1)}},ra=function(s){if(s.tag===13){var i=Es(s,134217728);if(i!==null){var c=dn();Sr(i,s,134217728,c)}_m(s,134217728)}},Au=function(s){if(s.tag===13){var i=ho(s),c=Es(s,i);if(c!==null){var f=dn();Sr(c,s,i,f)}_m(s,i)}},Ru=function(){return Ye},Pu=function(s,i){var c=Ye;try{return Ye=s,i()}finally{Ye=c}},Ki=function(s,i,c){switch(i){case"input":if(ar(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==s&&f.form===s.form){var g=Ku(f);if(!g)throw Error(n(90));Be(f),ar(f,g)}}}break;case"textarea":qi(s,c);break;case"select":i=c.value,i!=null&&us(s,!!c.multiple,i,!1)}},Qo=fm,Ol=mi;var H1={usingClientEntryPoint:!1,Events:[rc,wa,Ku,Fr,Ml,fm]},vc={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q1={bundleType:vc.bundleType,version:vc.version,rendererPackageName:vc.rendererPackageName,rendererConfig:vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Vl(s),s===null?null:s.stateNode},findFiberByHostInstance:vc.findFiberByHostInstance||B1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ei=Nd.inject(q1),Cn=Nd}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1,En.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(i))throw Error(n(200));return z1(s,i,null,c)},En.createRoot=function(s,i){if(!Em(s))throw Error(n(299));var c=!1,f="",g=Y_;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=wm(s,1,!1,null,null,c,!1,f,g),s[ys]=i.current,ec(s.nodeType===8?s.parentNode:s),new xm(i)},En.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Vl(i),s=s===null?null:s.stateNode,s},En.flushSync=function(s){return mi(s)},En.hydrate=function(s,i,c){if(!Pd(i))throw Error(n(200));return kd(null,s,i,!0,c)},En.hydrateRoot=function(s,i,c){if(!Em(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,E="",C=Y_;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),i=K_(i,null,s,1,c??null,g,!1,E,C),s[ys]=i.current,ec(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,g]:i.mutableSourceEagerHydrationData.push(c,g);return new Rd(i)},En.render=function(s,i,c){if(!Pd(i))throw Error(n(200));return kd(null,s,i,!1,c)},En.unmountComponentAtNode=function(s){if(!Pd(s))throw Error(n(40));return s._reactRootContainer?(mi(function(){kd(null,null,s,!1,function(){s._reactRootContainer=null,s[ys]=null})}),!0):!1},En.unstable_batchedUpdates=fm,En.unstable_renderSubtreeIntoContainer=function(s,i,c,f){if(!Pd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return kd(s,i,c,!1,f)},En.version="18.3.1-next-f1338f8080-20240426",En}var i0;function VE(){if(i0)return Im.exports;i0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=nP(),Im.exports}var a0;function rP(){if(a0)return Dd;a0=1;var t=VE();return Dd.createRoot=t.createRoot,Dd.hydrateRoot=t.hydrateRoot,Dd}var sP=rP();const Zd={userPreferences:{theme:"light",measeurementSystem:"metric",notificationsEnabled:!0},ui:{sidebarOpen:!1,activeDashboardTab:"home"},dashboardData:{needsRefresh:!1,lastUpdated:null}},oP={isAuthenticated:!1,isLoading:!0,user:null,error:null,login:async()=>{throw new Error("login not implemented")},loginWithGoogle:async()=>{throw new Error("loginWithGoogle not implemented")},signup:async()=>{throw new Error("signup not implemented")},logout:async()=>{throw new Error("logout not implemented")},editUser:async()=>{throw new Error("editUser not implemented")},deleteUser:async()=>{throw new Error("deleteUser not implemented")}},FE=_.createContext(oP),iP=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},aP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],l=t[n++],u=t[n++],h=((o&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|l&63)}}return e.join("")},$E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],l=o+1<t.length,u=l?t[o+1]:0,h=o+2<t.length,m=h?t[o+2]:0,v=a>>2,y=(a&3)<<4|u>>4;let x=(u&15)<<2|m>>6,T=m&63;h||(T=64,l||(x=64)),r.push(n[v],n[y],n[x],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],u=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||u==null||m==null||y==null)throw new lP;const x=a<<2|u>>4;if(r.push(x),m!==64){const T=u<<4&240|m>>2;if(r.push(T),y!==64){const b=m<<6&192|y;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cP=function(t){const e=UE(t);return $E.encodeByteArray(e,!0)},mh=function(t){return cP(t).replace(/\./g,"")},zE=function(t){try{return $E.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=()=>uP().__FIREBASE_DEFAULTS__,hP=()=>{if(typeof process>"u"||typeof l0>"u")return;const t=l0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zE(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return iP()||dP()||hP()||fP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BE=t=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pP=t=>{const e=BE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WE=()=>{var t;return(t=Xh())===null||t===void 0?void 0:t.config},HE=t=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mh(JSON.stringify(n)),mh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function yP(){var t;const e=(t=Xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _P(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xP(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EP(){return!yP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GE(){try{return typeof indexedDB=="object"}catch{return!1}}function KE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function SP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TP,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oi.prototype.create)}}class Oi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],l=a?IP(a,r):"Error",u=`${this.serviceName}: ${l} (${o}).`;return new Dr(o,u,r)}}function IP(t,e){return t.replace(CP,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const CP=/\{\$([^}]+)}/g;function bP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],l=e[o];if(c0(a)&&c0(l)){if(!Ro(a,l))return!1}else if(a!==l)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function c0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Sc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AP(t,e){const n=new RP(t,e);return n.subscribe.bind(n)}class RP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PP(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=1e3,NP=2,DP=4*60*60*1e3,MP=.5;function u0(t,e=kP,n=NP){const r=e*Math.pow(n,t),o=Math.round(MP*r*(Math.random()-.5)*2);return Math.min(DP,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LP(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const l=this.instances.get(o);return l&&e(l,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jP(t){return t===_i?void 0:t}function LP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const FP={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},UP=Ke.INFO,$P={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},zP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=$P[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jh{constructor(e){this.name=e,this._logLevel=UP,this._logHandler=zP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const BP=(t,e)=>e.some(n=>t instanceof n);let d0,h0;function WP(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HP(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,ag=new WeakMap,YE=new WeakMap,Rm=new WeakMap,ev=new WeakMap;function qP(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Io(t.result)),o()},l=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,t)}).catch(()=>{}),ev.set(e,t),e}function GP(t){if(ag.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),o()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});ag.set(t,e)}let lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ag.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KP(t){lg=t(lg)}function QP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pm(this),e,...n);return YE.set(r,e.sort?e.sort():[e]),Io(r)}:HP().includes(t)?function(...e){return t.apply(Pm(this),e),Io(QE.get(this))}:function(...e){return Io(t.apply(Pm(this),e))}}function YP(t){return typeof t=="function"?QP(t):(t instanceof IDBTransaction&&GP(t),BP(t,WP())?new Proxy(t,lg):t)}function Io(t){if(t instanceof IDBRequest)return qP(t);if(Rm.has(t))return Rm.get(t);const e=YP(t);return e!==t&&(Rm.set(t,e),ev.set(e,t)),e}const Pm=t=>ev.get(t);function XE(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const l=indexedDB.open(t,e),u=Io(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Io(l.result),h.oldVersion,h.newVersion,Io(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const XP=["get","getKey","getAll","getAllKeys","count"],JP=["put","add","delete","clear"],km=new Map;function f0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=JP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||XP.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,o?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),o&&h.done]))[0]};return km.set(e,a),a}KP(t=>({...t,get:(e,n,r)=>f0(e,n)||t.get(e,n,r),has:(e,n)=>!!f0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ek(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ek(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cg="@firebase/app",p0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Jh("@firebase/app"),tk="@firebase/app-compat",nk="@firebase/analytics-compat",rk="@firebase/analytics",sk="@firebase/app-check-compat",ok="@firebase/app-check",ik="@firebase/auth",ak="@firebase/auth-compat",lk="@firebase/database",ck="@firebase/data-connect",uk="@firebase/database-compat",dk="@firebase/functions",hk="@firebase/functions-compat",fk="@firebase/installations",pk="@firebase/installations-compat",mk="@firebase/messaging",gk="@firebase/messaging-compat",vk="@firebase/performance",yk="@firebase/performance-compat",wk="@firebase/remote-config",_k="@firebase/remote-config-compat",xk="@firebase/storage",Ek="@firebase/storage-compat",Sk="@firebase/firestore",Tk="@firebase/vertexai",Ik="@firebase/firestore-compat",Ck="firebase",bk="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="[DEFAULT]",Ak={[cg]:"fire-core",[tk]:"fire-core-compat",[rk]:"fire-analytics",[nk]:"fire-analytics-compat",[ok]:"fire-app-check",[sk]:"fire-app-check-compat",[ik]:"fire-auth",[ak]:"fire-auth-compat",[lk]:"fire-rtdb",[ck]:"fire-data-connect",[uk]:"fire-rtdb-compat",[dk]:"fire-fn",[hk]:"fire-fn-compat",[fk]:"fire-iid",[pk]:"fire-iid-compat",[mk]:"fire-fcm",[gk]:"fire-fcm-compat",[vk]:"fire-perf",[yk]:"fire-perf-compat",[wk]:"fire-rc",[_k]:"fire-rc-compat",[xk]:"fire-gcs",[Ek]:"fire-gcs-compat",[Sk]:"fire-fst",[Ik]:"fire-fst-compat",[Tk]:"fire-vertex","fire-js":"fire-js",[Ck]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,Rk=new Map,dg=new Map;function m0(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rs(t){const e=t.name;if(dg.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,t);for(const n of gh.values())m0(n,t);for(const n of Rk.values())m0(n,t);return!0}function ji(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Oi("app","Firebase",Pk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=bk;function JE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ug,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Co.create("bad-app-name",{appName:String(o)});if(n||(n=WE()),!n)throw Co.create("no-options");const a=gh.get(o);if(a){if(Ro(n,a.options)&&Ro(r,a.config))return a;throw Co.create("duplicate-app",{appName:o})}const l=new VP(o);for(const h of dg.values())l.addComponent(h);const u=new kk(n,r,l);return gh.set(o,u),u}function tv(t=ug){const e=gh.get(t);if(!e&&t===ug&&WE())return JE();if(!e)throw Co.create("no-app",{appName:t});return e}function tr(t,e,n){var r;let o=(r=Ak[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${o}" with version "${e}":`];a&&u.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(u.join(" "));return}rs(new br(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebase-heartbeat-database",Dk=1,Uc="firebase-heartbeat-store";let Nm=null;function ZE(){return Nm||(Nm=XE(Nk,Dk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),Nm}async function Mk(t){try{const n=(await ZE()).transaction(Uc),r=await n.objectStore(Uc).get(eS(t));return await n.done,r}catch(e){if(e instanceof Dr)Os.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function g0(t,e){try{const r=(await ZE()).transaction(Uc,"readwrite");await r.objectStore(Uc).put(e,eS(t)),await r.done}catch(n){if(n instanceof Dr)Os.warn(n.message);else{const r=Co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function eS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=1024,jk=30;class Lk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>jk){const l=Uk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v0(),{heartbeatsToSend:r,unsentEntries:o}=Vk(this._heartbeatsCache.heartbeats),a=mh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Os.warn(n),""}}}function v0(){return new Date().toISOString().substring(0,10)}function Vk(t,e=Ok){const n=[];let r=t.slice();for(const o of t){const a=n.find(l=>l.agent===o.agent);if(a){if(a.dates.push(o.date),y0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Fk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GE()?KE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function y0(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}function Uk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){rs(new br("platform-logger",e=>new ZP(e),"PRIVATE")),rs(new br("heartbeat",e=>new Lk(e),"PRIVATE")),tr(cg,p0,t),tr(cg,p0,"esm2017"),tr("fire-js","")}$k("");var Xr=function(){return Xr=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xr.apply(this,arguments)};function tu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function zk(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bk=tS,nS=new Oi("auth","Firebase",tS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Jh("@firebase/auth");function Wk(t,...e){vh.logLevel<=Ke.WARN&&vh.warn(`Auth (${cl}): ${t}`,...e)}function eh(t,...e){vh.logLevel<=Ke.ERROR&&vh.error(`Auth (${cl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw rv(t,...e)}function Cr(t,...e){return rv(t,...e)}function nv(t,e,n){const r=Object.assign(Object.assign({},Bk()),{[e]:n});return new Oi("auth","Firebase",r).create(e,{appName:t.name})}function Ps(t){return nv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hk(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sr(t,"argument-error"),nv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nS.create(t,...e)}function Me(t,e,...n){if(!t)throw rv(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw eh(e),new Error(e)}function js(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qk(){return w0()==="http:"||w0()==="https:"}function w0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qk()||qE()||"connection"in navigator)?navigator.onLine:!0}function Kk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=vP()||_P()}get(){return Gk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xk=new nu(3e4,6e4);function Vo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zs(t,e,n,r,o={}){return sS(t,o,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=eu(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return wP()||(m.referrerPolicy="no-referrer"),rS.fetch()(await oS(t,t.config.apiHost,n,u),m)})}async function sS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qk),e);try{const o=new Zk(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Md(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Md(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Md(t,"user-disabled",l);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw nv(t,v,m);sr(t,v)}}catch(o){if(o instanceof Dr)throw o;sr(t,"network-request-failed",{message:String(o)})}}async function ru(t,e,n,r,o={}){const a=await zs(t,e,n,r,o);return"mfaPendingCredential"in a&&sr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function oS(t,e,n,r){const o=`${e}${n}?${r}`,a=t,l=a.config.emulator?sv(t.config,o):`${t.config.apiScheme}://${o}`;return Yk.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Jk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),Xk.get())})}}function Md(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Cr(t,e,r);return o.customData._tokenResponse=n,o}function _0(t){return t!==void 0&&t.enterprise!==void 0}class eN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tN(t,e){return zs(t,"GET","/v2/recaptchaConfig",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e){return zs(t,"POST","/v1/accounts:delete",e)}async function yh(t,e){return zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rN(t,e=!1){const n=_t(t),r=await n.getIdToken(e),o=Zh(r);Me(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:Pc(Dm(o.auth_time)),issuedAtTime:Pc(Dm(o.iat)),expirationTime:Pc(Dm(o.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Dm(t){return Number(t)*1e3}function Zh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function x0(t){const e=Zh(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&sN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Ja(t,yh(n,{idToken:r}));Me(o==null?void 0:o.users.length,n,"internal-error");const a=o.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?iS(a.providerUserInfo):[],u=aN(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),v=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new fg(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(t,y)}async function iN(t){const e=_t(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aN(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function iS(t){return t.map(e=>{var{providerId:n}=e,r=tu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){const n=await sS(t,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,l=await oS(t,o,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",rS.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cN(t,e){return zs(t,"POST","/v2/accounts:revokeToken",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=x0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await lN(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,l=new Wa;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),o&&(Me(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),a&&(Me(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,a=tu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rN(this,e)}reload(){return iN(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await Ja(this,nN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,a,l,u,h,m,v;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,b=(l=n.photoURL)!==null&&l!==void 0?l:void 0,I=(u=n.tenantId)!==null&&u!==void 0?u:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,D=(m=n.createdAt)!==null&&m!==void 0?m:void 0,U=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:V,emailVerified:$,isAnonymous:W,providerData:Y,stsTokenManager:N}=n;Me(V&&N,e,"internal-error");const A=Wa.fromJSON(this.name,N);Me(typeof V=="string",e,"internal-error"),go(y,e.name),go(x,e.name),Me(typeof $=="boolean",e,"internal-error"),Me(typeof W=="boolean",e,"internal-error"),go(T,e.name),go(b,e.name),go(I,e.name),go(R,e.name),go(D,e.name),go(U,e.name);const P=new Ir({uid:V,auth:e,email:x,emailVerified:$,displayName:y,isAnonymous:W,photoURL:b,phoneNumber:T,tenantId:I,stsTokenManager:A,createdAt:D,lastLoginAt:U});return Y&&Array.isArray(Y)&&(P.providerData=Y.map(M=>Object.assign({},M))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,n,r=!1){const o=new Wa;o.updateFromServerResponse(n);const a=new Ir({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Me(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?iS(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),u=new Wa;u.updateFromIdToken(r);const h=new Ir({uid:o.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function Rs(t){js(t instanceof Function,"Expected a class definition");let e=E0.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aS.type="NONE";const S0=aS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t,e,n){return`firebase:${t}:${e}:${n}`}class Ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,a),this.fullPersistenceKey=th("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?Ir._fromGetAccountInfoResponse(this.auth,n,e):null}return Ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ha(Rs(S0),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Rs(S0);const l=th(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const v=await m._get(l);if(v){let y;if(typeof v=="string"){const x=await yh(e,{idToken:v}).catch(()=>{});if(!x)break;y=await Ir._fromGetAccountInfoResponse(e,x,v)}else y=Ir._fromJSON(e,v);m!==a&&(u=y),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ha(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Ha(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fS(e))return"Blackberry";if(pS(e))return"Webos";if(cS(e))return"Safari";if((e.includes("chrome/")||uS(e))&&!e.includes("edge/"))return"Chrome";if(hS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lS(t=on()){return/firefox\//i.test(t)}function cS(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uS(t=on()){return/crios\//i.test(t)}function dS(t=on()){return/iemobile/i.test(t)}function hS(t=on()){return/android/i.test(t)}function fS(t=on()){return/blackberry/i.test(t)}function pS(t=on()){return/webos/i.test(t)}function ov(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uN(t=on()){var e;return ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dN(){return xP()&&document.documentMode===10}function mS(t=on()){return ov(t)||hS(t)||pS(t)||fS(t)||/windows phone/i.test(t)||dS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e=[]){let n;switch(t){case"Browser":n=T0(on());break;case"Worker":n=`${T0(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e={}){return zs(t,"GET","/v2/passwordPolicy",Vo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=6;class mN{constructor(e){var n,r,o,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:pN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(l){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Ps(this));const n=e?_t(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fN(this),n=new mN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,o);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Wk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fo(t){return _t(t)}class I0{constructor(e){this.auth=e,this.observer=null,this.addObserver=AP(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vN(t){ef=t}function vS(t){return ef.loadJS(t)}function yN(){return ef.recaptchaEnterpriseScript}function wN(){return ef.gapiScript}function _N(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xN{constructor(){this.enterprise=new EN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SN="recaptcha-enterprise",yS="NO_RECAPTCHA";class TN{constructor(e){this.type=SN,this.auth=Fo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{tN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new eN(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(h=>{u(h)})})}function o(a,l,u){const h=window.grecaptcha;_0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(yS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&_0(window.grecaptcha))o(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=yN();h.length!==0&&(h+=u),vS(h).then(()=>{o(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function C0(t,e,n,r=!1,o=!1){const a=new TN(t);let l;if(o)l=yS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function pg(t,e,n,r,o){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await C0(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await C0(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e){const n=ji(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(Ro(a,e??{}))return o;sr(o,"already-initialized")}return n.initialize({options:e})}function CN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bN(t,e,n){const r=Fo(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=wS(e),{host:l,port:u}=AN(e),h=u===null?"":`:${u}`,m={url:`${a}//${l}${h}/`},v=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Ro(m,r.config.emulator)&&Ro(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,RN()}function wS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AN(t){const e=wS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:b0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:b0(l)}}}function b0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function PN(t,e){return zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e){return ru(t,"POST","/v1/accounts:signInWithPassword",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",Vo(t,e))}async function DN(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends iv{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $c(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $c(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,n,"signInWithPassword",kN);case"emailLink":return NN(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,r,"signUpPassword",PN);case"emailLink":return DN(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e){return ru(t,"POST","/v1/accounts:signInWithIdp",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="http://localhost";class Ti extends iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,a=tu(n,["providerId","signInMethod"]);if(!r||!o)return null;const l=new Ti(r,o);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return qa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qa(e,n)}buildRequest(){const e={requestUri:MN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jN(t){const e=Ec(Sc(t)).link,n=e?Ec(Sc(e)).deep_link_id:null,r=Ec(Sc(t)).deep_link_id;return(r?Ec(Sc(r)).link:null)||r||n||e||t}class av{constructor(e){var n,r,o,a,l,u;const h=Ec(Sc(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,v=(r=h.oobCode)!==null&&r!==void 0?r:null,y=ON((o=h.mode)!==null&&o!==void 0?o:null);Me(m&&v&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=v,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=jN(e);try{return new av(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,n){return $c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=av.parseLink(n);return Me(r,"argument-error"),$c._fromEmailAndCode(e,r.code,r.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends lv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends su{constructor(){super("facebook.com")}static credential(e){return Ti._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ti._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends su{constructor(){super("github.com")}static credential(e){return Ti._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends su{constructor(){super("twitter.com")}static credential(e,n){return Ti._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return So.credential(n,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e){return ru(t,"POST","/v1/accounts:signUp",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await Ir._fromIdTokenResponse(e,r,o),l=A0(r);return new Ii({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=A0(r);return new Ii({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function A0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Dr{constructor(e,n,r,o){var a;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new _h(e,n,r,o)}}function _S(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(t,a,e,r):a})}async function VN(t,e,n=!1){const r=await Ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(Ps(r));const o="reauthenticate";try{const a=await Ja(t,_S(r,o,e,t),n);Me(a.idToken,r,"internal-error");const l=Zh(a.idToken);Me(l,r,"internal-error");const{sub:u}=l;return Me(t.uid===u,r,"user-mismatch"),Ii._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(t,e,n=!1){if(On(t.app))return Promise.reject(Ps(t));const r="signIn",o=await _S(t,r,e),a=await Ii._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}async function UN(t,e){return xS(Fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(t){const e=Fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $N(t,e,n){if(On(t.app))return Promise.reject(Ps(t));const r=Fo(t),l=await pg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ES(t),h}),u=await Ii._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function zN(t,e,n){return On(t.app)?Promise.reject(Ps(t)):UN(_t(t),ul.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ES(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t,e){return zs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Ja(r,BN(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){var e,n;if(!t)return null;const{providerId:r}=t,o=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},a=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const l=(n=(e=Zh(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new Ga(a,u)}}if(!r)return null;switch(r){case"facebook.com":return new HN(a,o);case"github.com":return new qN(a,o);case"google.com":return new GN(a,o);case"twitter.com":return new KN(a,o,t.screenName||null);case"custom":case"anonymous":return new Ga(a,null);default:return new Ga(a,r,o)}}class Ga{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class SS extends Ga{constructor(e,n,r,o){super(e,n,r),this.username=o}}class HN extends Ga{constructor(e,n){super(e,"facebook.com",n)}}class qN extends SS{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class GN extends Ga{constructor(e,n){super(e,"google.com",n)}}class KN extends SS{constructor(e,n,r){super(e,"twitter.com",n,r)}}function QN(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:WN(n)}function YN(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function XN(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function JN(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function ZN(t){return _t(t).signOut()}async function e2(t){return _t(t).delete()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=1e3,n2=10;class IS extends TS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);dN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,n2):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IS.type="LOCAL";const r2=IS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends TS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CS.type="SESSION";const bS=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,l=this.handlersMap[o];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const u=Array.from(l).map(async m=>m(n.origin,a)),h=await s2(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const m=uv("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:o,onMessage(y){const x=y;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function i2(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function a2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function c2(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebaseLocalStorageDb",u2=1,Eh="firebaseLocalStorage",PS="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(t,e){return t.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function d2(){const t=indexedDB.deleteDatabase(RS);return new ou(t).toPromise()}function mg(){const t=indexedDB.open(RS,u2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eh,{keyPath:PS})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await d2(),e(await mg()))})})}async function R0(t,e,n){const r=nf(t,!0).put({[PS]:e,value:n});return new ou(r).toPromise()}async function h2(t,e){const n=nf(t,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function P0(t,e){const n=nf(t,!0).delete(e);return new ou(n).toPromise()}const f2=800,p2=3;class kS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>p2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(c2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await a2(),!this.activeServiceWorker)return;this.sender=new o2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await R0(e,xh,"1"),await P0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>h2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=nf(o,!1).getAll();return new ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kS.type="LOCAL";const m2=kS;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){return e?Rs(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g2(t){return xS(t.auth,new dv(t),t.bypassAuthState)}function v2(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),FN(n,new dv(t),t.bypassAuthState)}async function y2(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),VN(n,new dv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return v2;default:sr(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new nu(2e3,1e4);async function _2(t,e,n){if(On(t.app))return Promise.reject(Cr(t,"operation-not-supported-in-this-environment"));const r=Fo(t);Hk(t,e,lv);const o=NS(r,n);return new xi(r,"signInViaPopup",e,o).executeNotNull()}class xi extends DS{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,xi.currentPopupAction&&xi.currentPopupAction.cancel(),xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w2.get())};e()}}xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="pendingRedirect",nh=new Map;class E2 extends DS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await S2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S2(t,e){const n=C2(e),r=I2(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function T2(t,e){nh.set(t._key(),e)}function I2(t){return Rs(t._redirectPersistence)}function C2(t){return th(x2,t.config.apiKey,t.name)}async function b2(t,e,n=!1){if(On(t.app))return Promise.reject(Ps(t));const r=Fo(t),o=NS(r,e),l=await new E2(r,o,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=10*60*1e3;class R2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MS(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A2&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(e))}saveEventToCache(e){this.cachedEventUids.add(k0(e)),this.lastProcessedEventTime=Date.now()}}function k0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e={}){return zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D2=/^https?/;async function M2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await k2(t);for(const n of e)try{if(O2(n))return}catch{}sr(t,"unauthorized-domain")}function O2(t){const e=hg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!D2.test(n))return!1;if(N2.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new nu(3e4,6e4);function N0(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L2(t){return new Promise((e,n)=>{var r,o,a;function l(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),n(Cr(t,"network-request-failed"))},timeout:j2.get()})}if(!((o=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Jr().gapi)===null||a===void 0)&&a.load)l();else{const u=_N("iframefcb");return Jr()[u]=()=>{gapi.load?l():n(Cr(t,"network-request-failed"))},vS(`${wN()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw rh=null,e})}let rh=null;function V2(t){return rh=rh||L2(t),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new nu(5e3,15e3),U2="__/auth/iframe",$2="emulator/auth/iframe",z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W2(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sv(e,$2):`https://${t.config.authDomain}/${U2}`,r={apiKey:e.apiKey,appName:t.name,v:cl},o=B2.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${eu(r).slice(1)}`}async function H2(t){const e=await V2(t),n=Jr().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:W2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const l=Cr(t,"network-request-failed"),u=Jr().setTimeout(()=>{a(l)},F2.get());function h(){Jr().clearTimeout(u),o(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,K2=600,Q2="_blank",Y2="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X2(t,e,n,r=G2,o=K2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},q2),{width:r.toString(),height:o.toString(),top:a,left:l}),m=on().toLowerCase();n&&(u=uS(m)?Q2:n),lS(m)&&(e=e||Y2,h.scrollbars="yes");const v=Object.entries(h).reduce((x,[T,b])=>`${x}${T}=${b},`,"");if(uN(m)&&u!=="_self")return J2(e||"",u),new D0(null);const y=window.open(e||"",u,v);Me(y,t,"popup-blocked");try{y.focus()}catch{}return new D0(y)}function J2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="__/auth/handler",eD="emulator/auth/handler",tD=encodeURIComponent("fac");async function M0(t,e,n,r,o,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cl,eventId:o};if(e instanceof lv){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",bP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))l[v]=y}if(e instanceof su){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(l.scopes=v.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const v of Object.keys(u))u[v]===void 0&&delete u[v];const h=await t._getAppCheckToken(),m=h?`#${tD}=${encodeURIComponent(h)}`:"";return`${nD(t)}?${eu(u).slice(1)}${m}`}function nD({config:t}){return t.emulator?sv(t,eD):`https://${t.authDomain}/${Z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class rD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bS,this._completeRedirectFn=b2,this._overrideRedirectResult=T2}async _openPopup(e,n,r,o){var a;js((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await M0(e,n,r,hg(),o);return X2(e,l,uv())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await M0(e,n,r,hg(),o);return i2(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(js(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H2(e),r=new R2(e);return n.register("authEvent",o=>(Me(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},o=>{var a;const l=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Mm];l!==void 0&&n(!!l),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mS()||cS()||ov()}}const sD=rD;var O0="@firebase/auth",j0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aD(t){rs(new br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(t)},m=new gN(r,o,a,h);return CN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rs(new br("auth-internal",e=>{const n=Fo(e.getProvider("auth").getImmediate());return(r=>new oD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(O0,j0,iD(t)),tr(O0,j0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=5*60,cD=HE("authIdTokenMaxAge")||lD;let L0=null;const uD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cD)return;const o=n==null?void 0:n.token;L0!==o&&(L0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dD(t=tv()){const e=ji(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IN(t,{popupRedirectResolver:sD,persistence:[m2,r2,bS]}),r=HE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=uD(a.toString());XN(n,l,()=>l(n.currentUser)),YN(n,u=>l(u))}}const o=BE("auth");return o&&bN(n,`http://${o}`),n}function hD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=Cr("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",hD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aD("Browser");const OS="@firebase/installations",hv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=1e4,LS=`w:${hv}`,VS="FIS_v2",fD="https://firebaseinstallations.googleapis.com/v1",pD=60*60*1e3,mD="installations",gD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ci=new Oi(mD,gD,vD);function FS(t){return t instanceof Dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US({projectId:t}){return`${fD}/projects/${t}/installations`}function $S(t){return{token:t.token,requestStatus:2,expiresIn:wD(t.expiresIn),creationTime:Date.now()}}async function zS(t,e){const r=(await e.json()).error;return Ci.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yD(t,{refreshToken:e}){const n=BS(t);return n.append("Authorization",_D(e)),n}async function WS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wD(t){return Number(t.replace("s","000"))}function _D(t){return`${VS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=US(t),o=BS(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const l={fid:n,authVersion:VS,appId:t.appId,sdkVersion:LS},u={method:"POST",headers:o,body:JSON.stringify(l)},h=await WS(()=>fetch(r,u));if(h.ok){const m=await h.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:$S(m.authToken)}}else throw await zS("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=/^[cdef][\w-]{21}$/,gg="";function TD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ID(t);return SD.test(n)?n:gg}catch{return gg}}function ID(t){return ED(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=new Map;function GS(t,e){const n=rf(t);KS(n,e),CD(n,e)}function KS(t,e){const n=qS.get(t);if(n)for(const r of n)r(e)}function CD(t,e){const n=bD();n&&n.postMessage({key:t,fid:e}),AD()}let Ei=null;function bD(){return!Ei&&"BroadcastChannel"in self&&(Ei=new BroadcastChannel("[Firebase] FID Change"),Ei.onmessage=t=>{KS(t.data.key,t.data.fid)}),Ei}function AD(){qS.size===0&&Ei&&(Ei.close(),Ei=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebase-installations-database",PD=1,bi="firebase-installations-store";let Om=null;function fv(){return Om||(Om=XE(RD,PD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bi)}}})),Om}async function Sh(t,e){const n=rf(t),o=(await fv()).transaction(bi,"readwrite"),a=o.objectStore(bi),l=await a.get(n);return await a.put(e,n),await o.done,(!l||l.fid!==e.fid)&&GS(t,e.fid),e}async function QS(t){const e=rf(t),r=(await fv()).transaction(bi,"readwrite");await r.objectStore(bi).delete(e),await r.done}async function sf(t,e){const n=rf(t),o=(await fv()).transaction(bi,"readwrite"),a=o.objectStore(bi),l=await a.get(n),u=e(l);return u===void 0?await a.delete(n):await a.put(u,n),await o.done,u&&(!l||l.fid!==u.fid)&&GS(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(t){let e;const n=await sf(t.appConfig,r=>{const o=kD(r),a=ND(t,o);return e=a.registrationPromise,a.installationEntry});return n.fid===gg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kD(t){const e=t||{fid:TD(),registrationStatus:0};return YS(e)}function ND(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ci.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MD(t)}:{installationEntry:e}}async function DD(t,e){try{const n=await xD(t,e);return Sh(t.appConfig,n)}catch(n){throw FS(n)&&n.customData.serverCode===409?await QS(t.appConfig):await Sh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function MD(t){let e=await V0(t.appConfig);for(;e.registrationStatus===1;)await HS(100),e=await V0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await pv(t);return r||n}return e}function V0(t){return sf(t,e=>{if(!e)throw Ci.create("installation-not-found");return YS(e)})}function YS(t){return OD(t)?{fid:t.fid,registrationStatus:0}:t}function OD(t){return t.registrationStatus===1&&t.registrationTime+jS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD({appConfig:t,heartbeatServiceProvider:e},n){const r=LD(t,n),o=yD(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const l={installation:{sdkVersion:LS,appId:t.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},h=await WS(()=>fetch(r,u));if(h.ok){const m=await h.json();return $S(m)}else throw await zS("Generate Auth Token",h)}function LD(t,{fid:e}){return`${US(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(t,e=!1){let n;const r=await sf(t.appConfig,a=>{if(!XS(a))throw Ci.create("not-registered");const l=a.authToken;if(!e&&UD(l))return a;if(l.requestStatus===1)return n=VD(t,e),a;{if(!navigator.onLine)throw Ci.create("app-offline");const u=zD(a);return n=FD(t,u),u}});return n?await n:r.authToken}async function VD(t,e){let n=await F0(t.appConfig);for(;n.authToken.requestStatus===1;)await HS(100),n=await F0(t.appConfig);const r=n.authToken;return r.requestStatus===0?mv(t,e):r}function F0(t){return sf(t,e=>{if(!XS(e))throw Ci.create("not-registered");const n=e.authToken;return BD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function FD(t,e){try{const n=await jD(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Sh(t.appConfig,r),n}catch(n){if(FS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QS(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sh(t.appConfig,r)}throw n}}function XS(t){return t!==void 0&&t.registrationStatus===2}function UD(t){return t.requestStatus===2&&!$D(t)}function $D(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pD}function zD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function BD(t){return t.requestStatus===1&&t.requestTime+jS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t){const e=t,{installationEntry:n,registrationPromise:r}=await pv(e);return r?r.catch(console.error):mv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e=!1){const n=t;return await qD(n),(await mv(n,e)).token}async function qD(t){const{registrationPromise:e}=await pv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){if(!t||!t.options)throw jm("App Configuration");if(!t.name)throw jm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function jm(t){return Ci.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="installations",KD="installations-internal",QD=t=>{const e=t.getProvider("app").getImmediate(),n=GD(e),r=ji(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},YD=t=>{const e=t.getProvider("app").getImmediate(),n=ji(e,JS).getImmediate();return{getId:()=>WD(n),getToken:o=>HD(n,o)}};function XD(){rs(new br(JS,QD,"PUBLIC")),rs(new br(KD,YD,"PRIVATE"))}XD();tr(OS,hv);tr(OS,hv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="analytics",JD="firebase_id",ZD="origin",eM=60*1e3,tM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Jh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new Oi("analytics","Analytics",nM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){if(!t.startsWith(gv)){const e=Vn.create("invalid-gtag-resource",{gtagURL:t});return In.warn(e.message),""}return t}function ZS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sM(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oM(t,e){const n=sM("firebase-js-sdk-policy",{createScriptURL:rM}),r=document.createElement("script"),o=`${gv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function iM(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function aM(t,e,n,r,o,a){const l=r[o];try{if(l)await e[l];else{const h=(await ZS(n)).find(m=>m.measurementId===o);h&&await e[h.appId]}}catch(u){In.error(u)}t("config",o,a)}async function lM(t,e,n,r,o){try{let a=[];if(o&&o.send_to){let l=o.send_to;Array.isArray(l)||(l=[l]);const u=await ZS(n);for(const h of l){const m=u.find(y=>y.measurementId===h),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,o||{})}catch(a){In.error(a)}}function cM(t,e,n,r){async function o(a,...l){try{if(a==="event"){const[u,h]=l;await lM(t,e,n,u,h)}else if(a==="config"){const[u,h]=l;await aM(t,e,n,r,u,h)}else if(a==="consent"){const[u,h]=l;t("consent",u,h)}else if(a==="get"){const[u,h,m]=l;t("get",u,h,m)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){In.error(u)}}return o}function uM(t,e,n,r,o){let a=function(...l){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=cM(a,t,e,n),{gtagCore:a,wrappedGtag:window[o]}}function dM(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(gv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=30,fM=1e3;class pM{constructor(e={},n=fM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eT=new pM;function mM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function gM(t){var e;const{appId:n,apiKey:r}=t,o={method:"GET",headers:mM(r)},a=tM.replace("{app-id}",n),l=await fetch(a,o);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function vM(t,e=eT,n){const{appId:r,apiKey:o,measurementId:a}=t.options;if(!r)throw Vn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw Vn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new _M;return setTimeout(async()=>{u.abort()},eM),tT({appId:r,apiKey:o,measurementId:a},l,u,e)}async function tT(t,{throttleEndTimeMillis:e,backoffCount:n},r,o=eT){var a;const{appId:l,measurementId:u}=t;try{await yM(r,e)}catch(h){if(u)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await gM(t);return o.deleteThrottleMetadata(l),h}catch(h){const m=h;if(!wM(m)){if(o.deleteThrottleMetadata(l),u)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:u};throw h}const v=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?u0(n,o.intervalMillis,hM):u0(n,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+v,backoffCount:n+1};return o.setThrottleMetadata(l,y),In.debug(`Calling attemptFetch again in ${v} millis`),tT(t,y,r,o)}}function yM(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(a),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wM(t){if(!(t instanceof Dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _M{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xM(t,e,n,r,o){if(o&&o.global){t("event",n,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(){if(GE())try{await KE()}catch(t){return In.warn(Vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return In.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SM(t,e,n,r,o,a,l){var u;const h=vM(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>In.error(T)),e.push(h);const m=EM().then(T=>{if(T)return r.getId()}),[v,y]=await Promise.all([h,m]);dM(a)||oM(a,v.measurementId),o("js",new Date);const x=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return x[ZD]="firebase",x.update=!0,y!=null&&(x[JD]=y),o("config",v.measurementId,x),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.app=e}_delete(){return delete kc[this.app.options.appId],Promise.resolve()}}let kc={},U0=[];const $0={};let Lm="dataLayer",IM="gtag",z0,nT,B0=!1;function CM(){const t=[];if(qE()&&t.push("This is a browser extension environment."),SP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Vn.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function bM(t,e,n){CM();const r=t.options.appId;if(!r)throw Vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(kc[r]!=null)throw Vn.create("already-exists",{id:r});if(!B0){iM(Lm);const{wrappedGtag:a,gtagCore:l}=uM(kc,U0,$0,Lm,IM);nT=a,z0=l,B0=!0}return kc[r]=SM(t,U0,$0,e,z0,Lm,n),new TM(t)}function AM(t=tv()){t=_t(t);const e=ji(t,Th);return e.isInitialized()?e.getImmediate():RM(t)}function RM(t,e={}){const n=ji(t,Th);if(n.isInitialized()){const o=n.getImmediate();if(Ro(e,n.getOptions()))return o;throw Vn.create("already-initialized")}return n.initialize({options:e})}function PM(t,e,n,r){t=_t(t),xM(nT,kc[t.app.options.appId],e,n,r).catch(o=>In.error(o))}const W0="@firebase/analytics",H0="0.10.12";function kM(){rs(new br(Th,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return bM(r,o,n)},"PUBLIC")),rs(new br("analytics-internal",t,"PRIVATE")),tr(W0,H0),tr(W0,H0,"esm2017");function t(e){try{const n=e.getProvider(Th).getImmediate();return{logEvent:(r,o,a)=>PM(n,r,o,a)}}catch(n){throw Vn.create("interop-component-reg-failed",{reason:n})}}}kM();var q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,rT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function P(){}P.prototype=A.prototype,N.D=A.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(M,j,F){for(var O=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)O[Te-2]=arguments[Te];return A.prototype[j].apply(M,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,P){P||(P=0);var M=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)M[j]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(j=0;16>j;++j)M[j]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=N.g[0],P=N.g[1],j=N.g[2];var F=N.g[3],O=A+(F^P&(j^F))+M[0]+3614090360&4294967295;A=P+(O<<7&4294967295|O>>>25),O=F+(j^A&(P^j))+M[1]+3905402710&4294967295,F=A+(O<<12&4294967295|O>>>20),O=j+(P^F&(A^P))+M[2]+606105819&4294967295,j=F+(O<<17&4294967295|O>>>15),O=P+(A^j&(F^A))+M[3]+3250441966&4294967295,P=j+(O<<22&4294967295|O>>>10),O=A+(F^P&(j^F))+M[4]+4118548399&4294967295,A=P+(O<<7&4294967295|O>>>25),O=F+(j^A&(P^j))+M[5]+1200080426&4294967295,F=A+(O<<12&4294967295|O>>>20),O=j+(P^F&(A^P))+M[6]+2821735955&4294967295,j=F+(O<<17&4294967295|O>>>15),O=P+(A^j&(F^A))+M[7]+4249261313&4294967295,P=j+(O<<22&4294967295|O>>>10),O=A+(F^P&(j^F))+M[8]+1770035416&4294967295,A=P+(O<<7&4294967295|O>>>25),O=F+(j^A&(P^j))+M[9]+2336552879&4294967295,F=A+(O<<12&4294967295|O>>>20),O=j+(P^F&(A^P))+M[10]+4294925233&4294967295,j=F+(O<<17&4294967295|O>>>15),O=P+(A^j&(F^A))+M[11]+2304563134&4294967295,P=j+(O<<22&4294967295|O>>>10),O=A+(F^P&(j^F))+M[12]+1804603682&4294967295,A=P+(O<<7&4294967295|O>>>25),O=F+(j^A&(P^j))+M[13]+4254626195&4294967295,F=A+(O<<12&4294967295|O>>>20),O=j+(P^F&(A^P))+M[14]+2792965006&4294967295,j=F+(O<<17&4294967295|O>>>15),O=P+(A^j&(F^A))+M[15]+1236535329&4294967295,P=j+(O<<22&4294967295|O>>>10),O=A+(j^F&(P^j))+M[1]+4129170786&4294967295,A=P+(O<<5&4294967295|O>>>27),O=F+(P^j&(A^P))+M[6]+3225465664&4294967295,F=A+(O<<9&4294967295|O>>>23),O=j+(A^P&(F^A))+M[11]+643717713&4294967295,j=F+(O<<14&4294967295|O>>>18),O=P+(F^A&(j^F))+M[0]+3921069994&4294967295,P=j+(O<<20&4294967295|O>>>12),O=A+(j^F&(P^j))+M[5]+3593408605&4294967295,A=P+(O<<5&4294967295|O>>>27),O=F+(P^j&(A^P))+M[10]+38016083&4294967295,F=A+(O<<9&4294967295|O>>>23),O=j+(A^P&(F^A))+M[15]+3634488961&4294967295,j=F+(O<<14&4294967295|O>>>18),O=P+(F^A&(j^F))+M[4]+3889429448&4294967295,P=j+(O<<20&4294967295|O>>>12),O=A+(j^F&(P^j))+M[9]+568446438&4294967295,A=P+(O<<5&4294967295|O>>>27),O=F+(P^j&(A^P))+M[14]+3275163606&4294967295,F=A+(O<<9&4294967295|O>>>23),O=j+(A^P&(F^A))+M[3]+4107603335&4294967295,j=F+(O<<14&4294967295|O>>>18),O=P+(F^A&(j^F))+M[8]+1163531501&4294967295,P=j+(O<<20&4294967295|O>>>12),O=A+(j^F&(P^j))+M[13]+2850285829&4294967295,A=P+(O<<5&4294967295|O>>>27),O=F+(P^j&(A^P))+M[2]+4243563512&4294967295,F=A+(O<<9&4294967295|O>>>23),O=j+(A^P&(F^A))+M[7]+1735328473&4294967295,j=F+(O<<14&4294967295|O>>>18),O=P+(F^A&(j^F))+M[12]+2368359562&4294967295,P=j+(O<<20&4294967295|O>>>12),O=A+(P^j^F)+M[5]+4294588738&4294967295,A=P+(O<<4&4294967295|O>>>28),O=F+(A^P^j)+M[8]+2272392833&4294967295,F=A+(O<<11&4294967295|O>>>21),O=j+(F^A^P)+M[11]+1839030562&4294967295,j=F+(O<<16&4294967295|O>>>16),O=P+(j^F^A)+M[14]+4259657740&4294967295,P=j+(O<<23&4294967295|O>>>9),O=A+(P^j^F)+M[1]+2763975236&4294967295,A=P+(O<<4&4294967295|O>>>28),O=F+(A^P^j)+M[4]+1272893353&4294967295,F=A+(O<<11&4294967295|O>>>21),O=j+(F^A^P)+M[7]+4139469664&4294967295,j=F+(O<<16&4294967295|O>>>16),O=P+(j^F^A)+M[10]+3200236656&4294967295,P=j+(O<<23&4294967295|O>>>9),O=A+(P^j^F)+M[13]+681279174&4294967295,A=P+(O<<4&4294967295|O>>>28),O=F+(A^P^j)+M[0]+3936430074&4294967295,F=A+(O<<11&4294967295|O>>>21),O=j+(F^A^P)+M[3]+3572445317&4294967295,j=F+(O<<16&4294967295|O>>>16),O=P+(j^F^A)+M[6]+76029189&4294967295,P=j+(O<<23&4294967295|O>>>9),O=A+(P^j^F)+M[9]+3654602809&4294967295,A=P+(O<<4&4294967295|O>>>28),O=F+(A^P^j)+M[12]+3873151461&4294967295,F=A+(O<<11&4294967295|O>>>21),O=j+(F^A^P)+M[15]+530742520&4294967295,j=F+(O<<16&4294967295|O>>>16),O=P+(j^F^A)+M[2]+3299628645&4294967295,P=j+(O<<23&4294967295|O>>>9),O=A+(j^(P|~F))+M[0]+4096336452&4294967295,A=P+(O<<6&4294967295|O>>>26),O=F+(P^(A|~j))+M[7]+1126891415&4294967295,F=A+(O<<10&4294967295|O>>>22),O=j+(A^(F|~P))+M[14]+2878612391&4294967295,j=F+(O<<15&4294967295|O>>>17),O=P+(F^(j|~A))+M[5]+4237533241&4294967295,P=j+(O<<21&4294967295|O>>>11),O=A+(j^(P|~F))+M[12]+1700485571&4294967295,A=P+(O<<6&4294967295|O>>>26),O=F+(P^(A|~j))+M[3]+2399980690&4294967295,F=A+(O<<10&4294967295|O>>>22),O=j+(A^(F|~P))+M[10]+4293915773&4294967295,j=F+(O<<15&4294967295|O>>>17),O=P+(F^(j|~A))+M[1]+2240044497&4294967295,P=j+(O<<21&4294967295|O>>>11),O=A+(j^(P|~F))+M[8]+1873313359&4294967295,A=P+(O<<6&4294967295|O>>>26),O=F+(P^(A|~j))+M[15]+4264355552&4294967295,F=A+(O<<10&4294967295|O>>>22),O=j+(A^(F|~P))+M[6]+2734768916&4294967295,j=F+(O<<15&4294967295|O>>>17),O=P+(F^(j|~A))+M[13]+1309151649&4294967295,P=j+(O<<21&4294967295|O>>>11),O=A+(j^(P|~F))+M[4]+4149444226&4294967295,A=P+(O<<6&4294967295|O>>>26),O=F+(P^(A|~j))+M[11]+3174756917&4294967295,F=A+(O<<10&4294967295|O>>>22),O=j+(A^(F|~P))+M[2]+718787259&4294967295,j=F+(O<<15&4294967295|O>>>17),O=P+(F^(j|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var P=A-this.blockSize,M=this.B,j=this.h,F=0;F<A;){if(j==0)for(;F<=P;)o(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<A;)if(M[j++]=N.charCodeAt(F++),j==this.blockSize){o(this,M),j=0;break}}else for(;F<A;)if(M[j++]=N[F++],j==this.blockSize){o(this,M),j=0;break}}this.h=j,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var P=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=P&255,P/=256;for(this.u(N),N=Array(16),A=P=0;4>A;++A)for(var M=0;32>M;M+=8)N[P++]=this.g[A]>>>M&255;return N};function a(N,A){var P=u;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=A(N)}function l(N,A){this.h=A;for(var P=[],M=!0,j=N.length-1;0<=j;j--){var F=N[j]|0;M&&F==A||(P[j]=F,M=!1)}this.g=P}var u={};function h(N){return-128<=N&&128>N?a(N,function(A){return new l([A|0],0>A?-1:0)}):new l([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return y;if(0>N)return R(m(-N));for(var A=[],P=1,M=0;N>=P;M++)A[M]=N/P|0,P*=4294967296;return new l(A,0)}function v(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return R(v(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(A,8)),M=y,j=0;j<N.length;j+=8){var F=Math.min(8,N.length-j),O=parseInt(N.substring(j,j+F),A);8>F?(F=m(Math.pow(A,F)),M=M.j(F).add(m(O))):(M=M.j(P),M=M.add(m(O)))}return M}var y=h(0),x=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(I(this))return-R(this).m();for(var N=0,A=1,P=0;P<this.g.length;P++){var M=this.i(P);N+=(0<=M?M:4294967296+M)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(I(this))return"-"+R(this).toString(N);for(var A=m(Math.pow(N,6)),P=this,M="";;){var j=$(P,A).g;P=D(P,j.j(A));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(N);if(P=j,b(P))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function I(N){return N.h==-1}t.l=function(N){return N=D(this,N),I(N)?-1:b(N)?0:1};function R(N){for(var A=N.g.length,P=[],M=0;M<A;M++)P[M]=~N.g[M];return new l(P,~N.h).add(x)}t.abs=function(){return I(this)?R(this):this},t.add=function(N){for(var A=Math.max(this.g.length,N.g.length),P=[],M=0,j=0;j<=A;j++){var F=M+(this.i(j)&65535)+(N.i(j)&65535),O=(F>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);M=O>>>16,F&=65535,O&=65535,P[j]=O<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function D(N,A){return N.add(R(A))}t.j=function(N){if(b(this)||b(N))return y;if(I(this))return I(N)?R(this).j(R(N)):R(R(this).j(N));if(I(N))return R(this.j(R(N)));if(0>this.l(T)&&0>N.l(T))return m(this.m()*N.m());for(var A=this.g.length+N.g.length,P=[],M=0;M<2*A;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<N.g.length;j++){var F=this.i(M)>>>16,O=this.i(M)&65535,Te=N.i(j)>>>16,be=N.i(j)&65535;P[2*M+2*j]+=O*be,U(P,2*M+2*j),P[2*M+2*j+1]+=F*be,U(P,2*M+2*j+1),P[2*M+2*j+1]+=O*Te,U(P,2*M+2*j+1),P[2*M+2*j+2]+=F*Te,U(P,2*M+2*j+2)}for(M=0;M<A;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=A;M<2*A;M++)P[M]=0;return new l(P,0)};function U(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function V(N,A){this.g=N,this.h=A}function $(N,A){if(b(A))throw Error("division by zero");if(b(N))return new V(y,y);if(I(N))return A=$(R(N),A),new V(R(A.g),R(A.h));if(I(A))return A=$(N,R(A)),new V(R(A.g),A.h);if(30<N.g.length){if(I(N)||I(A))throw Error("slowDivide_ only works with positive integers.");for(var P=x,M=A;0>=M.l(N);)P=W(P),M=W(M);var j=Y(P,1),F=Y(M,1);for(M=Y(M,2),P=Y(P,2);!b(M);){var O=F.add(M);0>=O.l(N)&&(j=j.add(P),F=O),M=Y(M,1),P=Y(P,1)}return A=D(N,j.j(A)),new V(j,A)}for(j=y;0<=N.l(A);){for(P=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=m(P),O=F.j(A);I(O)||0<O.l(N);)P-=M,F=m(P),O=F.j(A);b(F)&&(F=x),j=j.add(F),N=D(N,O)}return new V(j,N)}t.A=function(N){return $(this,N).h},t.and=function(N){for(var A=Math.max(this.g.length,N.g.length),P=[],M=0;M<A;M++)P[M]=this.i(M)&N.i(M);return new l(P,this.h&N.h)},t.or=function(N){for(var A=Math.max(this.g.length,N.g.length),P=[],M=0;M<A;M++)P[M]=this.i(M)|N.i(M);return new l(P,this.h|N.h)},t.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),P=[],M=0;M<A;M++)P[M]=this.i(M)^N.i(M);return new l(P,this.h^N.h)};function W(N){for(var A=N.g.length+1,P=[],M=0;M<A;M++)P[M]=N.i(M)<<1|N.i(M-1)>>>31;return new l(P,N.h)}function Y(N,A){var P=A>>5;A%=32;for(var M=N.g.length-P,j=[],F=0;F<M;F++)j[F]=0<A?N.i(F+P)>>>A|N.i(F+P+1)<<32-A:N.i(F+P);return new l(j,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=v,bo=l}).apply(typeof q0<"u"?q0:typeof self<"u"?self:typeof window<"u"?window:{});var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sT,Tc,oT,sh,vg,iT,aT,lT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,S){return d==Array.prototype||d==Object.prototype||(d[w]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Od=="object"&&Od];for(var w=0;w<d.length;++w){var S=d[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function o(d,w){if(w)e:{var S=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var G=d[k];if(!(G in S))break e;S=S[G]}d=d[d.length-1],k=S[d],w=w(k),w!=k&&w!=null&&e(S,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var S=0,k=!1,G={next:function(){if(!k&&S<d.length){var J=S++;return{value:w(J,d[J]),done:!1}}return k=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(d){return d||function(){return a(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function m(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function v(d,w,S){return d.call.apply(d.bind,arguments)}function y(d,w,S){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,k),d.apply(w,G)}}return function(){return d.apply(w,arguments)}}function x(d,w,S){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:y,x.apply(null,arguments)}function T(d,w){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function b(d,w){function S(){}S.prototype=w.prototype,d.aa=w.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(k,G,J){for(var ce=Array(arguments.length-2),st=2;st<arguments.length;st++)ce[st-2]=arguments[st];return w.prototype[G].apply(k,ce)}}function I(d){const w=d.length;if(0<w){const S=Array(w);for(let k=0;k<w;k++)S[k]=d[k];return S}return[]}function R(d,w){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(h(k)){const G=d.length||0,J=k.length||0;d.length=G+J;for(let ce=0;ce<J;ce++)d[G+ce]=k[ce]}else d.push(k)}}class D{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function U(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var W=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Y(d,w,S){for(const k in d)w.call(S,d[k],k,d)}function N(d,w){for(const S in d)w.call(void 0,d[S],S,d)}function A(d){const w={};for(const S in d)w[S]=d[S];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,w){let S,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(S in k)d[S]=k[S];for(let J=0;J<P.length;J++)S=P[J],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function j(d){var w=1;d=d.split(":");const S=[];for(;0<w&&d.length;)S.push(d.shift()),w--;return d.length&&S.push(d.join(":")),S}function F(d){u.setTimeout(()=>{throw d},0)}function O(){var d=ee;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Te{constructor(){this.h=this.g=null}add(w,S){const k=be.get();k.set(w,S),this.h?this.h.next=k:this.g=k,this.h=k}}var be=new D(()=>new he,d=>d.reset());class he{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let me,q=!1,ee=new Te,re=()=>{const d=u.Promise.resolve(void 0);me=()=>{d.then(B)}};var B=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(S){F(S)}var w=be;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}q=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};u.addEventListener("test",S,w),u.removeEventListener("test",S,w)}catch{}return d}();function Re(d,w){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(W){e:{try{$(w.nodeName);var G=!0;break e}catch{}G=!1}G||(w=null)}}else S=="mouseover"?w=d.fromElement:S=="mouseout"&&(w=d.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}b(Re,ue);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ce(d,w,S,k,G){this.listener=d,this.proxy=null,this.src=w,this.type=S,this.capture=!!k,this.ha=G,this.key=++Ee,this.da=this.fa=!1}function Pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function $e(d){this.src=d,this.g={},this.h=0}$e.prototype.add=function(d,w,S,k,G){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var ce=vt(d,w,k,G);return-1<ce?(w=d[ce],S||(w.fa=!1)):(w=new Ce(w,this.src,J,!!k,G),w.fa=S,d.push(w)),w};function Be(d,w){var S=w.type;if(S in d.g){var k=d.g[S],G=Array.prototype.indexOf.call(k,w,void 0),J;(J=0<=G)&&Array.prototype.splice.call(k,G,1),J&&(Pe(w),d.g[S].length==0&&(delete d.g[S],d.h--))}}function vt(d,w,S,k){for(var G=0;G<d.length;++G){var J=d[G];if(!J.da&&J.listener==w&&J.capture==!!S&&J.ha==k)return G}return-1}var jt="closure_lm_"+(1e6*Math.random()|0),Bn={};function ir(d,w,S,k,G){if(Array.isArray(w)){for(var J=0;J<w.length;J++)ir(d,w[J],S,k,G);return null}return S=bl(S),d&&d[oe]?d.K(w,S,m(k)?!!k.capture:!1,G):ar(d,w,S,!1,k,G)}function ar(d,w,S,k,G,J){if(!w)throw Error("Invalid event type");var ce=m(G)?!!G.capture:!!G,st=Hi(d);if(st||(d[jt]=st=new $e(d)),S=st.add(w,S,k,ce,J),S.proxy)return S;if(k=Wi(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)ve||(G=ce),G===void 0&&(G=!1),d.addEventListener(w.toString(),k,G);else if(d.attachEvent)d.attachEvent(us(w.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Wi(){function d(S){return w.call(d.src,d.listener,S)}const w=Cl;return d}function lr(d,w,S,k,G){if(Array.isArray(w))for(var J=0;J<w.length;J++)lr(d,w[J],S,k,G);else k=m(k)?!!k.capture:!!k,S=bl(S),d&&d[oe]?(d=d.i,w=String(w).toString(),w in d.g&&(J=d.g[w],S=vt(J,S,k,G),-1<S&&(Pe(J[S]),Array.prototype.splice.call(J,S,1),J.length==0&&(delete d.g[w],d.h--)))):d&&(d=Hi(d))&&(w=d.g[w.toString()],d=-1,w&&(d=vt(w,S,k,G)),(S=-1<d?w[d]:null)&&cs(S))}function cs(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[oe])Be(w.i,d);else{var S=d.type,k=d.proxy;w.removeEventListener?w.removeEventListener(S,k,d.capture):w.detachEvent?w.detachEvent(us(S),k):w.addListener&&w.removeListener&&w.removeListener(k),(S=Hi(w))?(Be(S,d),S.h==0&&(S.src=null,w[jt]=null)):Pe(d)}}}function us(d){return d in Bn?Bn[d]:Bn[d]="on"+d}function Cl(d,w){if(d.da)d=!0;else{w=new Re(w,this);var S=d.listener,k=d.ha||d.src;d.fa&&cs(d),d=S.call(k,w)}return d}function Hi(d){return d=d[jt],d instanceof $e?d:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function bl(d){return typeof d=="function"?d:(d[qi]||(d[qi]=function(w){return d.handleEvent(w)}),d[qi])}function Rt(){Z.call(this),this.i=new $e(this),this.M=this,this.F=null}b(Rt,Z),Rt.prototype[oe]=!0,Rt.prototype.removeEventListener=function(d,w,S,k){lr(this,d,w,S,k)};function Pt(d,w){var S,k=d.F;if(k)for(S=[];k;k=k.F)S.push(k);if(d=d.M,k=w.type||w,typeof w=="string")w=new ue(w,d);else if(w instanceof ue)w.target=w.target||d;else{var G=w;w=new ue(k,d),M(w,G)}if(G=!0,S)for(var J=S.length-1;0<=J;J--){var ce=w.g=S[J];G=ds(ce,k,!0,w)&&G}if(ce=w.g=d,G=ds(ce,k,!0,w)&&G,G=ds(ce,k,!1,w)&&G,S)for(J=0;J<S.length;J++)ce=w.g=S[J],G=ds(ce,k,!1,w)&&G}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var S=d.g[w],k=0;k<S.length;k++)Pe(S[k]);delete d.g[w],d.h--}}this.F=null},Rt.prototype.K=function(d,w,S,k){return this.i.add(String(d),w,!1,S,k)},Rt.prototype.L=function(d,w,S,k){return this.i.add(String(d),w,!0,S,k)};function ds(d,w,S,k){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var G=!0,J=0;J<w.length;++J){var ce=w[J];if(ce&&!ce.da&&ce.capture==S){var st=ce.listener,kt=ce.ha||ce.src;ce.fa&&Be(d.i,ce),G=st.call(kt,k)!==!1&&G}}return G&&!k.defaultPrevented}function Al(d,w,S){if(typeof d=="function")S&&(d=x(d,S));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(d,w||0)}function Hs(d){d.g=Al(()=>{d.g=null,d.i&&(d.i=!1,Hs(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class qo extends Z{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Go(d){Z.call(this),this.h=d,this.g={}}b(Go,Z);var Rl=[];function Pl(d){Y(d.g,function(w,S){this.g.hasOwnProperty(S)&&cs(w)},d),d.g={}}Go.prototype.N=function(){Go.aa.N.call(this),Pl(this)},Go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kl=u.JSON.stringify,Nl=u.JSON.parse,Dl=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ko(){}Ko.prototype.h=null;function Gi(d){return d.h||(d.h=d.i())}function Ki(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){ue.call(this,"d")}b(Vr,ue);function Qi(){ue.call(this,"c")}b(Qi,ue);var Fr={},Ml=null;function Qo(){return Ml=Ml||new Rt}Fr.La="serverreachability";function Ol(d){ue.call(this,Fr.La,d)}b(Ol,ue);function hs(d){const w=Qo();Pt(w,new Ol(w))}Fr.STAT_EVENT="statevent";function jl(d,w){ue.call(this,Fr.STAT_EVENT,d),this.stat=w}b(jl,ue);function xt(d){const w=Qo();Pt(w,new jl(w,d))}Fr.Ma="timingevent";function Yi(d,w){ue.call(this,Fr.Ma,d),this.size=w}b(Yi,ue);function cr(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},w)}function Yo(){this.g=!0}Yo.prototype.xa=function(){this.g=!1};function Xo(d,w,S,k,G,J){d.info(function(){if(d.g)if(J)for(var ce="",st=J.split("&"),kt=0;kt<st.length;kt++){var Je=st[kt].split("=");if(1<Je.length){var Lt=Je[0];Je=Je[1];var Tt=Lt.split("_");ce=2<=Tt.length&&Tt[1]=="type"?ce+(Lt+"="+Je+"&"):ce+(Lt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+w+`
`+S+`
`+ce})}function Xi(d,w,S,k,G,J,ce){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+w+`
`+S+`
`+J+" "+ce})}function ur(d,w,S,k){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Xf(d,S)+(k?" "+k:"")})}function Ll(d,w){d.info(function(){return"TIMEOUT: "+w})}Yo.prototype.info=function(){};function Xf(d,w){if(!d.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var k=S[d];if(!(2>k.length)){var G=k[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return kl(S)}catch{return w}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function Jo(){}b(Jo,Ko),Jo.prototype.g=function(){return new XMLHttpRequest},Jo.prototype.i=function(){return{}},dr=new Jo;function hr(d,w,S,k){this.j=d,this.i=w,this.l=S,this.R=k||1,this.U=new Go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _u}function _u(){this.i=null,this.g="",this.h=!1}var Vl={},Zi={};function ea(d,w,S){d.L=1,d.v=Ys(bn(w)),d.m=S,d.P=!0,Fl(d,null)}function Fl(d,w){d.F=Date.now(),it(d),d.A=bn(d.v);var S=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Js(S.i,"t",k),d.C=0,S=d.j.J,d.h=new _u,d.g=Vu(d.j,S?w:null,!d.m),0<d.O&&(d.M=new qo(x(d.Y,d,d.g),d.O)),w=d.U,S=d.g,k=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Rl[0]=G.toString()),G=Rl);for(var J=0;J<G.length;J++){var ce=ir(S,G[J],k||w.handleEvent,!1,w.h||w);if(!ce)break;w.g[ce.key]=ce}w=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),hs(),Xo(d.i,d.u,d.A,d.l,d.R,d.m)}hr.prototype.ca=function(d){d=d.target;const w=this.M;w&&gn(d)==3?w.j():this.Y(d)},hr.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=gn(this.g);var w=this.g.Ba();const Gn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Hl(this.g)))){this.J||Tt!=4||w==7||(w==8||0>=Gn?hs(3):hs(2)),Zo(this);var S=this.g.Z();this.X=S;t:if(xu(this)){var k=Hl(this.g);d="";var G=k.length,J=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),qs(this);var ce="";break t}this.h.i=new u.TextDecoder}for(w=0;w<G;w++)this.h.h=!0,d+=this.h.i.decode(k[w],{stream:!(J&&w==G-1)});k.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=S==200,Xi(this.i,this.u,this.A,this.l,this.R,Tt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var st,kt=this.g;if((st=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(st)){var Je=st;break t}}Je=null}if(S=Je)ur(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ul(this,S);else{this.o=!1,this.s=3,xt(12),Hn(this),qs(this);break e}}if(this.P){S=!0;let Rn;for(;!this.J&&this.C<ce.length;)if(Rn=Jf(this,ce),Rn==Zi){Tt==4&&(this.s=4,xt(14),S=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Vl){this.s=4,xt(15),ur(this.i,this.l,ce,"[Invalid Chunk]"),S=!1;break}else ur(this.i,this.l,Rn,null),Ul(this,Rn);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ce.length!=0||this.h.h||(this.s=1,xt(16),S=!1),this.o=this.o&&S,!S)ur(this.i,this.l,ce,"[Invalid Chunked Response]"),Hn(this),qs(this);else if(0<ce.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Gl(Lt),Lt.M=!0,xt(11))}}else ur(this.i,this.l,ce,null),Ul(this,ce);Tt==4&&Hn(this),this.o&&!this.J&&(Tt==4?da(this.j,this):(this.o=!1,it(this)))}else ia(this.g),S==400&&0<ce.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Hn(this),qs(this)}}}catch{}finally{}};function xu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Jf(d,w){var S=d.C,k=w.indexOf(`
`,S);return k==-1?Zi:(S=Number(w.substring(S,k)),isNaN(S)?Vl:(k+=1,k+S>w.length?Zi:(w=w.slice(k,k+S),d.C=k+S,w)))}hr.prototype.cancel=function(){this.J=!0,Hn(this)};function it(d){d.S=Date.now()+d.I,Eu(d,d.I)}function Eu(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=cr(x(d.ba,d),w)}function Zo(d){d.B&&(u.clearTimeout(d.B),d.B=null)}hr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ll(this.i,this.A),this.L!=2&&(hs(),xt(17)),Hn(this),this.s=2,qs(this)):Eu(this,this.S-d)};function qs(d){d.j.G==0||d.J||da(d.j,d)}function Hn(d){Zo(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Pl(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Ul(d,w){try{var S=d.j;if(S.G!=0&&(S.g==d||ln(S.h,d))){if(!d.K&&ln(S.h,d)&&S.G==3){try{var k=S.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)ua(S),vr(S);else break e;ca(S),xt(18)}}else S.za=G[1],0<S.za-S.T&&37500>G[2]&&S.F&&S.v==0&&!S.C&&(S.C=cr(x(S.Za,S),6e3));if(1>=Tu(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else vs(S,11)}else if((d.K||S.g==d)&&ua(S),!U(w))for(G=S.Da.g.parse(w),w=0;w<G.length;w++){let Je=G[w];if(S.T=Je[0],Je=Je[1],S.G==2)if(Je[0]=="c"){S.K=Je[1],S.ia=Je[2];const Lt=Je[3];Lt!=null&&(S.la=Lt,S.j.info("VER="+S.la));const Tt=Je[4];Tt!=null&&(S.Aa=Tt,S.j.info("SVER="+S.Aa));const Gn=Je[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(k=1.5*Gn,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const Rn=d.g;if(Rn){const ii=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var J=k.h;J.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&($l(J,J.h),J.h=null))}if(k.D){const fa=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(k.ya=fa,ot(k.I,k.D,fa))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var ce=d;if(k.qa=Lu(k,k.J?k.ia:null,k.W),ce.K){Iu(k.h,ce);var st=ce,kt=k.L;kt&&(st.I=kt),st.B&&(Zo(st),it(st)),k.g=ce}else oi(k);0<S.i.length&&Br(S)}else Je[0]!="stop"&&Je[0]!="close"||vs(S,7);else S.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?vs(S,7):Ht(S):Je[0]!="noop"&&S.l&&S.l.ta(Je),S.v=0)}}hs(4)}catch{}}var Su=class{constructor(d,w){this.g=d,this.map=w}};function ei(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Tu(d){return d.h?1:d.g?d.g.size:0}function ln(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function $l(d,w){d.g?d.g.add(w):d.h=w}function Iu(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}ei.prototype.cancel=function(){if(this.i=Cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Cu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const S of d.g.values())w=w.concat(S.D);return w}return I(d.i)}function ta(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var w=[],S=d.length,k=0;k<S;k++)w.push(d[k]);return w}w=[],S=0;for(k in d)w[S++]=d[k];return w}function na(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var w=[];d=d.length;for(var S=0;S<d;S++)w.push(S);return w}w=[],S=0;for(const k in d)w[S++]=k;return w}}}function Gs(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var S=na(d),k=ta(d),G=k.length,J=0;J<G;J++)w.call(void 0,k[J],S&&S[J],d)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zf(d,w){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var k=d[S].indexOf("="),G=null;if(0<=k){var J=d[S].substring(0,k);G=d[S].substring(k+1)}else J=d[S];w(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function fs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof fs){this.h=d.h,ni(this,d.j),this.o=d.o,this.g=d.g,Ks(this,d.s),this.l=d.l;var w=d.i,S=new Ur;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),Qs(this,S),this.m=d.m}else d&&(w=String(d).match(ti))?(this.h=!1,ni(this,w[1]||"",!0),this.o=Ye(w[2]||""),this.g=Ye(w[3]||"",!0),Ks(this,w[4]),this.l=Ye(w[5]||"",!0),Qs(this,w[6]||"",!0),this.m=Ye(w[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}fs.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Xs(w,ra,!0),":");var S=this.g;return(S||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Xs(w,ra,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Xs(S,S.charAt(0)=="/"?Ru:Au,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Xs(S,zl)),d.join("")};function bn(d){return new fs(d)}function ni(d,w,S){d.j=S?Ye(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Ks(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Qs(d,w,S){w instanceof Ur?(d.i=w,$r(d.i,d.h)):(S||(w=Xs(w,Pu)),d.i=new Ur(w,d.h))}function ot(d,w,S){d.i.set(w,S)}function Ys(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ye(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xs(d,w,S){return typeof d=="string"?(d=encodeURI(d).replace(w,bu),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function bu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ra=/[#\/\?@]/g,Au=/[#\?:]/g,Ru=/[#\?]/g,Pu=/[#\?@]/g,zl=/#/g;function Ur(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Wt(d){d.g||(d.g=new Map,d.h=0,d.i&&Zf(d.i,function(w,S){d.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}t=Ur.prototype,t.add=function(d,w){Wt(this),this.i=null,d=qn(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(w),this.h+=1,this};function fr(d,w){Wt(d),w=qn(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function pr(d,w){return Wt(d),w=qn(d,w),d.g.has(w)}t.forEach=function(d,w){Wt(this),this.g.forEach(function(S,k){S.forEach(function(G){d.call(w,G,k,this)},this)},this)},t.na=function(){Wt(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let k=0;k<w.length;k++){const G=d[k];for(let J=0;J<G.length;J++)S.push(w[k])}return S},t.V=function(d){Wt(this);let w=[];if(typeof d=="string")pr(this,d)&&(w=w.concat(this.g.get(qn(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)w=w.concat(d[S])}return w},t.set=function(d,w){return Wt(this),this.i=null,d=qn(this,d),pr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Js(d,w,S){fr(d,w),0<S.length&&(d.i=null,d.g.set(qn(d,w),I(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var k=w[S];const J=encodeURIComponent(String(k)),ce=this.V(k);for(k=0;k<ce.length;k++){var G=J;ce[k]!==""&&(G+="="+encodeURIComponent(String(ce[k]))),d.push(G)}}return this.i=d.join("&")};function qn(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function $r(d,w){w&&!d.j&&(Wt(d),d.i=null,d.g.forEach(function(S,k){var G=k.toLowerCase();k!=G&&(fr(this,k),Js(this,G,S))},d)),d.j=w}function ep(d,w){const S=new Yo;if(u.Image){const k=new Image;k.onload=T(mn,S,"TestLoadImage: loaded",!0,w,k),k.onerror=T(mn,S,"TestLoadImage: error",!1,w,k),k.onabort=T(mn,S,"TestLoadImage: abort",!1,w,k),k.ontimeout=T(mn,S,"TestLoadImage: timeout",!1,w,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else w(!1)}function ku(d,w){const S=new Yo,k=new AbortController,G=setTimeout(()=>{k.abort(),mn(S,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:k.signal}).then(J=>{clearTimeout(G),J.ok?mn(S,"TestPingServer: ok",!0,w):mn(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),mn(S,"TestPingServer: error",!1,w)})}function mn(d,w,S,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(S)}catch{}}function tp(){this.g=new Dl}function Nu(d,w,S){const k=S||"";try{Gs(d,function(G,J){let ce=G;m(G)&&(ce=kl(G)),w.push(k+J+"="+encodeURIComponent(ce))})}catch(G){throw w.push(k+"type="+encodeURIComponent("_badmap")),G}}function ps(d){this.l=d.Ub||null,this.j=d.eb||!1}b(ps,Ko),ps.prototype.g=function(){return new ri(this.l,this.j)},ps.prototype.i=function(d){return function(){return d}}({});function ri(d,w){Rt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ri,Rt),t=ri.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,gr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Du(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Du(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?mr(this):gr(this),this.readyState==3&&Du(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,mr(this))},t.Qa=function(d){this.g&&(this.response=d,mr(this))},t.ga=function(){this.g&&mr(this)};function mr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,gr(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=w.next();return d.join(`\r
`)};function gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ms(d){let w="";return Y(d,function(S,k){w+=k,w+=":",w+=S,w+=`\r
`}),w}function Zs(d,w,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=ms(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):ot(d,w,S))}function dt(d){Rt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(dt,Rt);var np=/^https?$/i,Bl=["POST","PUT"];t=dt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?Gi(this.o):Gi(dr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(J){si(this,J);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)S.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())S.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),G=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Bl,w,void 0))||k||G||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of S)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){si(this,J)}};function si(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,sa(d),An(d)}function sa(d){d.A||(d.A=!0,Pt(d,"complete"),Pt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Pt(this,"complete"),Pt(this,"abort"),An(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),An(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wl(this):this.bb())},t.bb=function(){Wl(this)};function Wl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||gn(d)!=4||d.Z()!=2)){if(d.u&&gn(d)==4)Al(d.Ea,0,d);else if(Pt(d,"readystatechange"),gn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var k;if(k=ce===0){var G=String(d.D).match(ti)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),k=!np.test(G?G.toLowerCase():"")}S=k}if(S)Pt(d,"complete"),Pt(d,"success");else{d.m=6;try{var J=2<gn(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",sa(d)}}finally{An(d)}}}}function An(d,w){if(d.g){oa(d);const S=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||Pt(d,"ready");try{S.onreadystatechange=k}catch{}}}function oa(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function gn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Nl(w)}};function Hl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ia(d){const w={};d=(d.g&&2<=gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(U(d[k]))continue;var S=j(d[k]);const G=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=w[G]||[];w[G]=J,J.push(S)}N(w,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(d,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||w}function ql(d){this.Aa=0,this.i=[],this.j=new Yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,d),this.cb=zr("retryDelaySeedMs",1e4,d),this.Wa=zr("forwardChannelMaxRetries",2,d),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(d&&d.concurrentRequestLimit),this.Da=new tp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ql.prototype,t.la=8,t.G=1,t.connect=function(d,w,S,k){xt(0),this.W=d,this.H=w||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=Lu(this,null,this.W),Br(this)};function Ht(d){if(aa(d),d.G==3){var w=d.U++,S=bn(d.I);if(ot(S,"SID",d.K),ot(S,"RID",w),ot(S,"TYPE","terminate"),gs(d,S),w=new hr(d,d.j,w),w.L=2,w.v=Ys(bn(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=w.v,S=!0),S||(w.g=Vu(w.j,null),w.g.ea(w.v)),w.F=Date.now(),it(w)}ju(d)}function vr(d){d.g&&(Gl(d),d.g.cancel(),d.g=null)}function aa(d){vr(d),d.u&&(u.clearTimeout(d.u),d.u=null),ua(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Br(d){if(!Cn(d.h)&&!d.s){d.s=!0;var w=d.Ga;me||re(),q||(me(),q=!0),ee.add(w,d),d.B=0}}function rp(d,w){return Tu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=cr(x(d.Ga,d,w),Ou(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new hr(this,this.j,d);let J=this.o;if(this.S&&(J?(J=A(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=eo(this,G,w),S=bn(this.I),ot(S,"RID",d),ot(S,"CVER",22),this.D&&ot(S,"X-HTTP-Session-Id",this.D),gs(this,S),J&&(this.O?w="headers="+encodeURIComponent(String(ms(J)))+"&"+w:this.m&&Zs(S,this.m,J)),$l(this.h,G),this.Ua&&ot(S,"TYPE","init"),this.P?(ot(S,"$req",w),ot(S,"SID","null"),G.T=!0,ea(G,S,null)):ea(G,S,w),this.G=2}}else this.G==3&&(d?la(this,d):this.i.length==0||Cn(this.h)||la(this))};function la(d,w){var S;w?S=w.l:S=d.U++;const k=bn(d.I);ot(k,"SID",d.K),ot(k,"RID",S),ot(k,"AID",d.T),gs(d,k),d.m&&d.o&&Zs(k,d.m,d.o),S=new hr(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),w&&(d.i=w.D.concat(d.i)),w=eo(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$l(d.h,S),ea(S,k,w)}function gs(d,w){d.H&&Y(d.H,function(S,k){ot(w,k,S)}),d.l&&Gs({},function(S,k){ot(w,k,S)})}function eo(d,w,S){S=Math.min(d.i.length,S);var k=d.l?x(d.l.Na,d.l,d):null;e:{var G=d.i;let J=-1;for(;;){const ce=["count="+S];J==-1?0<S?(J=G[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let st=!0;for(let kt=0;kt<S;kt++){let Je=G[kt].g;const Lt=G[kt].map;if(Je-=J,0>Je)J=Math.max(0,G[kt].g-100),st=!1;else try{Nu(Lt,ce,"req"+Je+"_")}catch{k&&k(Lt)}}if(st){k=ce.join("&");break e}}}return d=d.i.splice(0,S),w.D=d,k}function oi(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;me||re(),q||(me(),q=!0),ee.add(w,d),d.v=0}}function ca(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=cr(x(d.Fa,d),Ou(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=cr(x(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),vr(this),Mu(this))};function Gl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Mu(d){d.g=new hr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=bn(d.qa);ot(w,"RID","rpc"),ot(w,"SID",d.K),ot(w,"AID",d.T),ot(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(w,"TO",d.ja),ot(w,"TYPE","xmlhttp"),gs(d,w),d.m&&d.o&&Zs(w,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=Ys(bn(w)),S.m=null,S.P=!0,Fl(S,d)}t.Za=function(){this.C!=null&&(this.C=null,vr(this),ca(this),xt(19))};function ua(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function da(d,w){var S=null;if(d.g==w){ua(d),Gl(d),d.g=null;var k=2}else if(ln(d.h,w))S=w.D,Iu(d.h,w),k=1;else return;if(d.G!=0){if(w.o)if(k==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var G=d.B;k=Qo(),Pt(k,new Yi(k,S)),Br(d)}else oi(d);else if(G=w.s,G==3||G==0&&0<w.X||!(k==1&&rp(d,w)||k==2&&ca(d)))switch(S&&0<S.length&&(w=d.h,w.i=w.i.concat(S)),G){case 1:vs(d,5);break;case 4:vs(d,10);break;case 3:vs(d,6);break;default:vs(d,2)}}}function Ou(d,w){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*w}function vs(d,w){if(d.j.info("Error code "+w),w==2){var S=x(d.fb,d),k=d.Xa;const G=!k;k=new fs(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ni(k,"https"),Ys(k),G?ep(k.toString(),S):ku(k.toString(),S)}else xt(2);d.G=0,d.l&&d.l.sa(w),ju(d),aa(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function ju(d){if(d.G=0,d.ka=[],d.l){const w=Cu(d.h);(w.length!=0||d.i.length!=0)&&(R(d.ka,w),R(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Lu(d,w,S){var k=S instanceof fs?bn(S):new fs(S);if(k.g!="")w&&(k.g=w+"."+k.g),Ks(k,k.s);else{var G=u.location;k=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;var J=new fs(null);k&&ni(J,k),w&&(J.g=w),G&&Ks(J,G),S&&(J.l=S),k=J}return S=d.D,w=d.ya,S&&w&&ot(k,S,w),ot(k,"VER",d.la),gs(d,k),k}function Vu(d,w,S){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new dt(new ps({eb:S})):new dt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kl(){}t=Kl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ha(){}ha.prototype.g=function(d,w){return new cn(d,w)};function cn(d,w){Rt.call(this),this.g=new ql(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!U(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Wr(this)}b(cn,Rt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ht(this.g)},cn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=kl(d),d=S);w.i.push(new Su(w.Ya++,d)),w.G==3&&Br(w)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,cn.aa.N.call(this)};function Fu(d){Vr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const S in w){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}b(Fu,Vr);function Uu(){Qi.call(this),this.status=1}b(Uu,Qi);function Wr(d){this.g=d}b(Wr,Kl),Wr.prototype.ua=function(){Pt(this.g,"a")},Wr.prototype.ta=function(d){Pt(this.g,new Fu(d))},Wr.prototype.sa=function(d){Pt(this.g,new Uu)},Wr.prototype.ra=function(){Pt(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,lT=function(){return new ha},aT=function(){return Qo()},iT=Fr,vg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,sh=Ji,wu.COMPLETE="complete",oT=wu,Ki.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Tc=Ki,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,sT=dt}).apply(typeof Od<"u"?Od:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",K0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Jh("@firebase/firestore");function Va(){return Ai.logLevel}function pe(t,...e){if(Ai.logLevel<=Ke.DEBUG){const n=e.map(vv);Ai.debug(`Firestore (${dl}): ${t}`,...n)}}function Ls(t,...e){if(Ai.logLevel<=Ke.ERROR){const n=e.map(vv);Ai.error(`Firestore (${dl}): ${t}`,...n)}}function Za(t,...e){if(Ai.logLevel<=Ke.WARN){const n=e.map(vv);Ai.warn(`Firestore (${dl}): ${t}`,...n)}}function vv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cT(t,r,n)}function cT(t,e,n){let r=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ls(r),new Error(r)}function rt(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||cT(e,o,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class DM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MM{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const o=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ks,e.enqueueRetryable(()=>o(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},u=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ks)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new uT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class OM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=VM(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function yg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),o=e.codePointAt(n);if(r!==o){if(r<128&&o<128)return He(r,o);{const a=dT(),l=FM(a.encode(Y0(t,n)),a.encode(Y0(e,n)));return l!==0?l:He(r,o)}}n+=r>65535?2:1}return He(t.length,e.length)}function Y0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function FM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return He(t[n],e[n]);return He(t.length,e.length)}function el(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-62135596800,J0=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*J0);return new nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new nt(0,0))}static max(){return new Fe(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__name__";class Qr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=Qr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return He(e.length,n.length)}static compareSegments(e,n){const r=Qr.isNumericId(e),o=Qr.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):yg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class ut extends Qr{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const UM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Qr{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return UM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new Qt([Z0])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;o<e.length;){const u=e[o];if(u==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else u==="`"?(l=!l,o++):u!=="."||l?(r+=u,o++):(a(),o++)}if(a(),l)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ut.fromString(e))}static fromName(e){return new Ae(ut.fromString(e).popFirst(5))}static empty(){return new Ae(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function $M(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Po(o,Ae.empty(),e)}function zM(t){return new Po(t.readTime,t.key,zc)}class Po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Po(Fe.min(),Ae.empty(),zc)}static max(){return new Po(Fe.max(),Ae.empty(),zc)}}function BM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==WM)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let o=0,a=0,l=!1;e.forEach(u=>{++o,u.next(()=>{++a,l&&a===o&&n()},h=>r(h))}),l=!0,a===o&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(o=>o?ne.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,a)=>{r.push(n.call(this,o,a))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,o)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next(v=>{l[m]=v,++u,u===a&&r(l)},v=>o(v))}})}static doWhile(e,n){return new ne((r,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):r()};a()})}}function qM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}of.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-1;function af(t){return t==null}function Ih(t){return t===0&&1/t==-1/0}function GM(t){return typeof t=="number"&&Number.isInteger(t)&&!Ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="";function KM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ex(e)),e=QM(t.get(n),e);return ex(e)}function QM(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case fT:n+="";break;default:n+=a}}return n}function ex(t){return t+fT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=o??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new Kt(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nx(this.data.getIterator())}getIteratorFrom(e){return new nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class nx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Ot(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mT("Invalid base64 string: "+a):a}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let a="";for(let l=0;l<o.length;++l)a+=String.fromCharCode(o[l]);return a}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=YM.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",vT="__type__",yT="__previous_value__",wT="__local_write_time__";function wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vT])===null||n===void 0?void 0:n.stringValue)===gT}function lf(t){const e=t.mapValue.fields[yT];return wv(e)?lf(e):e}function Bc(t){const e=ko(t.mapValue.fields[wT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,o,a,l,u,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m}}const Ch="(default)";class Wc{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__type__",JM="__max__",Ld={mapValue:{}},xT="__vector__",bh="value";function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:eO(t)?9007199254740991:ZM(t)?10:11:Oe(28295,{value:t})}function ss(t,e){if(t===e)return!0;const n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const l=ko(o.timestampValue),u=ko(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return No(o.bytesValue).isEqual(No(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return St(o.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return St(o.integerValue)===St(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const l=St(o.doubleValue),u=St(a.doubleValue);return l===u?Ih(l)===Ih(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return function(o,a){const l=o.mapValue.fields||{},u=a.mapValue.fields||{};if(tx(l)!==tx(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!ss(l[h],u[h])))return!1;return!0}(t,e);default:return Oe(52216,{left:t})}}function Hc(t,e){return(t.values||[]).find(n=>ss(n,e))!==void 0}function tl(t,e){if(t===e)return 0;const n=Do(t),r=Do(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=St(a.integerValue||a.doubleValue),h=St(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return rx(t.timestampValue,e.timestampValue);case 4:return rx(Bc(t),Bc(e));case 5:return yg(t.stringValue,e.stringValue);case 6:return function(a,l){const u=No(a),h=No(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let m=0;m<u.length&&m<h.length;m++){const v=He(u[m],h[m]);if(v!==0)return v}return He(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=He(St(a.latitude),St(l.latitude));return u!==0?u:He(St(a.longitude),St(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sx(t.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,m,v;const y=a.fields||{},x=l.fields||{},T=(u=y[bh])===null||u===void 0?void 0:u.arrayValue,b=(h=x[bh])===null||h===void 0?void 0:h.arrayValue,I=He(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0);return I!==0?I:sx(T,b)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Ld.mapValue&&l===Ld.mapValue)return 0;if(a===Ld.mapValue)return 1;if(l===Ld.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),m=l.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let y=0;y<h.length&&y<v.length;++y){const x=yg(h[y],v[y]);if(x!==0)return x;const T=tl(u[h[y]],m[v[y]]);if(T!==0)return T}return He(h.length,v.length)}(t.mapValue,e.mapValue);default:throw Oe(23264,{Pe:n})}}function rx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ko(t),r=ko(e),o=He(n.seconds,r.seconds);return o!==0?o:He(n.nanos,r.nanos)}function sx(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=tl(n[o],r[o]);if(a)return a}return He(n.length,r.length)}function nl(t){return wg(t)}function wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return No(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=wg(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const l of r)a?a=!1:o+=",",o+=`${l}:${wg(n.fields[l])}`;return o+"}"}(t.mapValue):Oe(61005,{value:t})}function oh(t){switch(Do(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(t);return e?16+oh(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+oh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let o=0;return Uo(r.fields,(a,l)=>{o+=a.length+oh(l)}),o}(t.mapValue);default:throw Oe(13486,{value:t})}}function ox(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _g(t){return!!t&&"integerValue"in t}function _v(t){return!!t&&"arrayValue"in t}function ix(t){return!!t&&"nullValue"in t}function ax(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function ZM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_T])===null||n===void 0?void 0:n.stringValue)===xT}function Nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=Qt.emptyPath(),r={},o=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,o),r={},o=[],n=u.popLast()}l?r[u.lastSegment()]=Nc(l):o.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Tn(Nc(this.value))}}function ET(t){const e=[];return Uo(t.fields,(n,r)=>{const o=new Qt([n]);if(ih(r)){const a=ET(r.mapValue).fields;if(a.length===0)e.push(o);else for(const l of a)e.push(o.child(l))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,o,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new rn(e,0,Fe.min(),Fe.min(),Fe.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,o){return new rn(e,1,n,Fe.min(),r,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Fe.min(),Fe.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Fe.min(),Fe.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function lx(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],l=t.position[o];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),n.key):r=tl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function cx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function tO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class bt extends ST{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rO(e,n,r):n==="array-contains"?new iO(e,r):n==="in"?new aO(e,r):n==="not-in"?new lO(e,r):n==="array-contains-any"?new cO(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sO(e,r):new oO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends ST{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ar(e,n)}matches(e){return TT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function TT(t){return t.op==="and"}function IT(t){return nO(t)&&TT(t)}function nO(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function xg(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(IT(t))return t.filters.map(e=>xg(e)).join(",");{const e=t.filters.map(n=>xg(n)).join(",");return`${t.op}(${e})`}}function CT(t,e){return t instanceof bt?function(r,o){return o instanceof bt&&r.op===o.op&&r.field.isEqual(o.field)&&ss(r.value,o.value)}(t,e):t instanceof Ar?function(r,o){return o instanceof Ar&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,l,u)=>a&&CT(l,o.filters[u]),!0):!1}(t,e):void Oe(19439)}function bT(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(bT).join(" ,")+"}"}(t):"Filter"}class rO extends bt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class sO extends bt{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oO extends bt{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class iO extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _v(n)&&Hc(n.arrayValue,this.value)}}class aO extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class lO extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hc(this.value.arrayValue,n)}}class cO extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n=null,r=[],o=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function ux(t,e=null,n=[],r=[],o=null,a=null,l=null){return new uO(t,e,n,r,o,a,l)}function xv(t){const e=Ue(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nl(r)).join(",")),e.Ie=n}return e.Ie}function Ev(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cx(t.startAt,e.startAt)&&cx(t.endAt,e.endAt)}function Eg(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n=null,r=[],o=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function dO(t,e,n,r,o,a,l,u){return new pl(t,e,n,r,o,a,l,u)}function Sv(t){return new pl(t)}function dx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RT(t){return t.collectionGroup!==null}function Dc(t){const e=Ue(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ot(Qt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new qc(a,r))}),n.has(Qt.keyField().canonicalString())||e.Ee.push(new qc(Qt.keyField(),r))}return e.Ee}function Zr(t){const e=Ue(t);return e.de||(e.de=hO(e,Dc(t))),e.de}function hO(t,e){if(t.limitType==="F")return ux(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new qc(o.field,a)});const n=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;return ux(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sg(t,e){const n=t.filters.concat([e]);return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rh(t,e,n){return new pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return Ev(Zr(t),Zr(e))&&t.limitType===e.limitType}function PT(t){return`${xv(Zr(t))}|lt:${t.limitType}`}function Fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>bT(o)).join(", ")}]`),af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>nl(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>nl(o)).join(",")),`Target(${r})`}(Zr(t))}; limitType=${t.limitType})`}function uf(t,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,o){for(const a of Dc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(l,u,h){const m=lx(l,u,h);return l.inclusive?m<=0:m<0}(r.startAt,Dc(r),o)||r.endAt&&!function(l,u,h){const m=lx(l,u,h);return l.inclusive?m>=0:m>0}(r.endAt,Dc(r),o))}(t,e)}function fO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kT(t){return(e,n)=>{let r=!1;for(const o of Dc(t)){const a=pO(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function pO(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(a,l,u){const h=l.data.field(a),m=u.data.field(a);return h!==null&&m!==null?tl(h,m):Oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new gt(Ae.comparator);function Vs(){return mO}const NT=new gt(Ae.comparator);function Ic(...t){let e=NT;for(const n of t)e=e.insert(n.key,n);return e}function DT(t){let e=NT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return Mc()}function MT(){return Mc()}function Mc(){return new Li(t=>t.toString(),(t,e)=>t.isEqual(e))}const gO=new gt(Ae.comparator),vO=new Ot(Ae.comparator);function Qe(...t){let e=vO;for(const n of t)e=e.add(n);return e}const yO=new Ot(He);function wO(){return yO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function OT(t){return{integerValue:""+t}}function _O(t,e){return GM(e)?OT(e):Tv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function xO(t,e,n){return t instanceof Ph?function(o,a){const l={fields:{[vT]:{stringValue:gT},[wT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&wv(a)&&(a=lf(a)),a&&(l.fields[yT]=a),{mapValue:l}}(n,e):t instanceof Gc?LT(t,e):t instanceof Kc?VT(t,e):function(o,a){const l=jT(o,a),u=hx(l)+hx(o.Re);return _g(l)&&_g(o.Re)?OT(u):Tv(o.serializer,u)}(t,e)}function EO(t,e,n){return t instanceof Gc?LT(t,e):t instanceof Kc?VT(t,e):n}function jT(t,e){return t instanceof kh?function(r){return _g(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ph extends df{}class Gc extends df{constructor(e){super(),this.elements=e}}function LT(t,e){const n=FT(e);for(const r of t.elements)n.some(o=>ss(o,r))||n.push(r);return{arrayValue:{values:n}}}class Kc extends df{constructor(e){super(),this.elements=e}}function VT(t,e){let n=FT(e);for(const r of t.elements)n=n.filter(o=>!ss(o,r));return{arrayValue:{values:n}}}class kh extends df{constructor(e,n){super(),this.serializer=e,this.Re=n}}function hx(t){return St(t.integerValue||t.doubleValue)}function FT(t){return _v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SO(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Gc&&o instanceof Gc||r instanceof Kc&&o instanceof Kc?el(r.elements,o.elements,ss):r instanceof kh&&o instanceof kh?ss(r.Re,o.Re):r instanceof Ph&&o instanceof Ph}(t.transform,e.transform)}class TO{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hf{}function UT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iv(t.key,nr.none()):new iu(t.key,t.data,nr.none());{const n=t.data,r=Tn.empty();let o=new Ot(Qt.comparator);for(let a of e.fields)if(!o.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),o=o.add(a)}return new $o(t.key,r,new Ln(o.toArray()),nr.none())}}function IO(t,e,n){t instanceof iu?function(o,a,l){const u=o.value.clone(),h=px(o.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof $o?function(o,a,l){if(!ah(o.precondition,a))return void a.convertToUnknownDocument(l.version);const u=px(o.fieldTransforms,a,l.transformResults),h=a.data;h.setAll($T(o)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(o,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Oc(t,e,n,r){return t instanceof iu?function(a,l,u,h){if(!ah(a.precondition,l))return u;const m=a.value.clone(),v=mx(a.fieldTransforms,h,l);return m.setAll(v),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof $o?function(a,l,u,h){if(!ah(a.precondition,l))return u;const m=mx(a.fieldTransforms,h,l),v=l.data;return v.setAll($T(a)),v.setAll(m),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,u){return ah(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function CO(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=jT(r.transform,o||null);a!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,a))}return n||null}function fx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&el(r,o,(a,l)=>SO(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends hf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $o extends hf{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function $T(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function px(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let o=0;o<n.length;o++){const a=t[o],l=a.transform,u=e.data.field(a.field);r.set(a.field,EO(l,u,n[o]))}return r}function mx(t,e,n){const r=new Map;for(const o of t){const a=o.transform,l=n.data.field(o.field);r.set(o.field,xO(a,l,e))}return r}class Iv extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bO extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&IO(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MT();return this.mutations.forEach(o=>{const a=e.get(o.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(o.key)?null:u;const h=UT(l,u);h!==null&&r.set(o.key,h),l.isValidDocument()||l.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,r)=>fx(n,r))&&el(this.baseMutations,e.baseMutations,(n,r)=>fx(n,r))}}class Cv{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){rt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return gO}();const a=e.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new Cv(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RO=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ze;function kO(t){switch(t){case te.OK:return Oe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function zT(t){if(t===void 0)return Ls("GRPC error has no .code"),te.UNKNOWN;switch(t){case Ct.OK:return te.OK;case Ct.CANCELLED:return te.CANCELLED;case Ct.UNKNOWN:return te.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return te.INTERNAL;case Ct.UNAVAILABLE:return te.UNAVAILABLE;case Ct.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ct.NOT_FOUND:return te.NOT_FOUND;case Ct.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ct.ABORTED:return te.ABORTED;case Ct.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ct.DATA_LOSS:return te.DATA_LOSS;default:return Oe(39323,{code:t})}}(Ze=Ct||(Ct={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new bo([4294967295,4294967295],0);function gx(t){const e=dT().encode(t),n=new rT;return n.update(e),new Uint8Array(n.digest())}function vx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bo([n,r],0),new bo([o,a],0)]}class bv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cc(`Invalid padding: ${n}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=bo.fromNumber(this.pe)}we(e,n,r){let o=e.add(n.multiply(bo.fromNumber(r)));return o.compare(NO)===1&&(o=new bo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=gx(e),[r,o]=vx(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,o,a);if(!this.be(l))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new bv(a,o,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=gx(e),[r,o]=vx(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,o,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(Fe.min(),o,new gt(He),Vs(),Qe())}}class au{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new au(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r,o){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=o}}class BT{constructor(e,n){this.targetId=e,this.Ce=n}}class WT{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class yx{constructor(){this.Fe=0,this.Me=wx(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Qe(),n=Qe(),r=Qe();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Oe(38017,{changeType:a})}}),new au(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=wx()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class DO{constructor(e){this.ze=e,this.je=new Map,this.He=Vs(),this.Je=Vd(),this.Ye=Vd(),this.Ze=new gt(He)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,r=e.Ce.count,o=this._t(n);if(o){const a=o.target;if(Eg(a))if(r===0){const l=new Ae(a.path);this.tt(n,l,rn.newNoDocument(l,Fe.min()))}else rt(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let l,u;try{l=No(r).toUint8Array()}catch(h){if(h instanceof mT)return Za("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new bv(l,o,a)}catch(h){return Za(h instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let o=0;return r.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,a,null),o++)}),o}It(e){const n=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&Eg(u.target)){const h=new Ae(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,rn.newNoDocument(h,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let r=Qe();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const m=this._t(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const o=new ff(e,n,this.Ze,this.He,r);return this.He=Vs(),this.Je=Vd(),this.Ye=Vd(),this.Ze=new gt(He),o}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new yx,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ot(He),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ot(He),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yx),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Vd(){return new gt(Ae.comparator)}function wx(){return new gt(Ae.comparator)}const MO={asc:"ASCENDING",desc:"DESCENDING"},OO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class LO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||af(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VO(t,e){return Nh(t,e.toTimestamp())}function es(t){return rt(!!t,49232),Fe.fromTimestamp(function(n){const r=ko(n);return new nt(r.seconds,r.nanos)}(t))}function Av(t,e){return Ig(t,e).canonicalString()}function Ig(t,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qT(t){const e=ut.fromString(t);return rt(XT(e),10190,{key:e.toString()}),e}function Cg(t,e){return Av(t.databaseId,e.path)}function Vm(t,e){const n=qT(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(KT(n))}function GT(t,e){return Av(t.databaseId,e)}function FO(t){const e=qT(t);return e.length===4?ut.emptyPath():KT(e)}function bg(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KT(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _x(t,e,n){return{name:Cg(t,e),fields:n.value.mapValue.fields}}function UO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(rt(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const v=m.code===void 0?te.UNKNOWN:zT(m.code);return new fe(v,m.message||"")}(l);n=new WT(r,o,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Vm(t,r.document.name),a=es(r.document.updateTime),l=r.document.createTime?es(r.document.createTime):Fe.min(),u=new Tn({mapValue:{fields:r.document.fields}}),h=rn.newFoundDocument(o,a,l,u),m=r.targetIds||[],v=r.removedTargetIds||[];n=new lh(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Vm(t,r.document),a=r.readTime?es(r.readTime):Fe.min(),l=rn.newNoDocument(o,a),u=r.removedTargetIds||[];n=new lh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Vm(t,r.document),a=r.removedTargetIds||[];n=new lh([],a,o,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,l=new PO(o,a),u=r.targetId;n=new BT(u,l)}}return n}function $O(t,e){let n;if(e instanceof iu)n={update:_x(t,e.key,e.value)};else if(e instanceof Iv)n={delete:Cg(t,e.key)};else if(e instanceof $o)n={update:_x(t,e.key,e.data),updateMask:YO(e.fieldMask)};else{if(!(e instanceof bO))return Oe(16599,{ft:e.type});n={verify:Cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Ph)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Gc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Kc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof kh)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Oe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:VO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)}(t,e.precondition)),n}function zO(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map(n=>function(o,a){let l=o.updateTime?es(o.updateTime):es(a);return l.isEqual(Fe.min())&&(l=es(a)),new TO(l,o.transformResults||[])}(n,e))):[]}function BO(t,e){return{documents:[GT(t,e.path)]}}function WO(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GT(t,o);const a=function(m){if(m.length!==0)return YT(Ar.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(v=>function(x){return{field:Ua(x.field),direction:GO(x.dir)}}(v))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Tg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:o}}function HO(t){let e=FO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){rt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(y){const x=QT(y);return x instanceof Ar&&IT(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(x=>function(b){return new qc($a(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(x))}(n.orderBy));let u=null;n.limit&&(u=function(y){let x;return x=typeof y=="object"?y.value:y,af(x)?null:x}(n.limit));let h=null;n.startAt&&(h=function(y){const x=!!y.before,T=y.values||[];return new Ah(T,x)}(n.startAt));let m=null;return n.endAt&&(m=function(y){const x=!y.before,T=y.values||[];return new Ah(T,x)}(n.endAt)),dO(e,o,l,a,u,"F",h,m)}function qO(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$a(n.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=$a(n.unaryFilter.field);return bt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return bt.create($a(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>QT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(n.compositeFilter.op))}(t):Oe(30097,{filter:t})}function GO(t){return MO[t]}function KO(t){return OO[t]}function QO(t){return jO[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function $a(t){return Qt.fromServerFormat(t.fieldPath)}function YT(t){return t instanceof bt?function(n){if(n.op==="=="){if(ax(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(ix(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ax(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(ix(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:KO(n.op),value:n.value}}}(t):t instanceof Ar?function(n){const r=n.getFilters().map(o=>YT(o));return r.length===1?r[0]:{compositeFilter:{op:QO(n.op),filters:r}}}(t):Oe(54877,{filter:t})}function YO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r,o,a=Fe.min(),l=Fe.min(),u=Yt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new To(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.wt=e}}function JO(t){const e=HO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.yn=new ej}addToCollectionParentIndex(e,n){return this.yn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Po.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class ej{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ot(ut.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ot(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(JT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new rl(0)}static ir(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="LruGarbageCollector",tj=1048576;function Sx([t,e],[n,r]){const o=He(t,n);return o===0?He(e,r):o}class nj{constructor(e){this.cr=e,this.buffer=new Ot(Sx),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Sx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(Ex,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?pe(Ex,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Ir(3e5)})}}class sj{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(of.le);const r=new nj(n);return this.Er.forEachTarget(e,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(xx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xx):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,o,a,l,u,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,l=Date.now(),this.nthSequenceNumber(e,o))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),Va()<=Ke.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-v}ms
	Determined least recently used ${o} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y})))}}function oj(t,e){return new sj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.changes=new Li(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Oc(r.mutation,o,Ln.empty(),nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const o=Si();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(a=>{let l=Ic();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const o=[];return r.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,o){let a=Vs();const l=Mc(),u=function(){return Mc()}();return n.forEach((h,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof $o)?a=a.insert(m.key,m):v!==void 0?(l.set(m.key,v.mutation.getFieldMask()),Oc(v.mutation,m,v.mutation.getFieldMask(),nt.now())):l.set(m.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>l.set(m,v)),n.forEach((m,v)=>{var y;return u.set(m,new aj(v,(y=l.get(m))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Mc();let o=new gt((l,u)=>l-u),a=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let v=r.get(h)||Ln.empty();v=u.applyToLocalView(m,v),r.set(h,v);const y=(o.get(u.batchId)||Qe()).add(h);o=o.insert(u.batchId,y)})}).next(()=>{const l=[],u=o.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,v=h.value,y=MT();v.forEach(x=>{if(!a.has(x)){const T=UT(n.get(x),r.get(x));T!==null&&y.set(x,T),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ne.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):ne.resolve(Si());let u=zc,h=a;return l.next(m=>ne.forEach(m,(v,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{h=h.insert(v,x)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Qe())).next(v=>({batchId:u,changes:DT(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let o=Ic();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let l=Ic();return this.indexManager.getCollectionParents(e,a).next(u=>ne.forEach(u,h=>{const m=function(y,x){return new pl(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((y,x)=>{l=l.insert(y,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o))).next(l=>{a.forEach((h,m)=>{const v=m.getKey();l.get(v)===null&&(l=l.insert(v,rn.newInvalidDocument(v)))});let u=Ic();return l.forEach((h,m)=>{const v=a.get(h);v!==void 0&&Oc(v.mutation,m,Ln.empty(),nt.now()),uf(n,m)&&(u=u.insert(h,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:es(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:JO(o.bundledQuery),readTime:es(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.overlays=new gt(Ae.comparator),this.Or=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Si();return ne.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,a)=>{this.St(e,n,a)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const o=Si(),a=n.length+1,l=new Ae(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new gt((m,v)=>m-v);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Si(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const u=Si(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>u.set(m,v)),!(u.size()>=o)););return ne.resolve(u)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const l=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new RO(n,r));let a=this.Or.get(n);a===void 0&&(a=Qe(),this.Or.set(n,a)),this.Or.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.Nr=new Ot(zt.Br),this.Lr=new Ot(zt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new zt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Ae(new ut([])),r=new zt(n,e),o=new zt(n,e+1),a=[];return this.Lr.forEachInRange([r,o],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Ae(new ut([])),r=new zt(n,e),o=new zt(n,e+1);let a=Qe();return this.Lr.forEachInRange([r,o],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new zt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Ae.comparator(e.key,n.key)||He(e.Gr,n.Gr)}static kr(e,n){return He(e.Gr,n.Gr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ot(zt.Br)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new AO(a,n,r,o);this.mutationQueue.push(l);for(const u of o)this.zr=this.zr.add(new zt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,n){return ne.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Hr(r),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?yv:this.Jn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,o],l=>{const u=this.jr(l.Gr);a.push(u)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(He);return n.forEach(o=>{const a=new zt(o,0),l=new zt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],u=>{r=r.add(u.Gr)})}),ne.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const l=new zt(new Ae(a),0);let u=new Ot(He);return this.zr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(u=u.add(h.Gr)),!0)},l),ne.resolve(this.Jr(u))}Jr(e){const n=[];return e.forEach(r=>{const o=this.jr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){rt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ne.forEach(n.mutations,o=>{const a=new zt(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new zt(n,0),o=this.zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.Zr=e,this.docs=function(){return new gt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,l=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Vs();return n.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():rn.newInvalidDocument(o))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=Vs();const l=n.path,u=new Ae(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||BM(zM(v),r)<=0||(o.has(v.key)||uf(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Oe(9500)}Xr(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pj(this)}getSize(e){return ne.resolve(this.size)}}class pj extends ij{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.persistence=e,this.ei=new Li(n=>xv(n),Ev),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Rv,this.targetCount=0,this.ri=rl.rr()}forEachTarget(e,n){return this.ei.forEach((r,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),ne.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.ar(n),ne.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),o++)}),ne.waitFor(a).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(l=>{a.push(o.markPotentiallyOrphaned(e,l))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.ii={},this.overlays={},this.si=new of(0),this.oi=!1,this.oi=!0,this._i=new dj,this.referenceDelegate=e(this),this.ai=new mj(this),this.indexManager=new ZO,this.remoteDocumentCache=function(o){return new fj(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new XO(n),this.ci=new cj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new hj(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const o=new gj(this.si.next());return this.referenceDelegate.li(),r(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,n){return ne.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class gj extends HM{constructor(e){super(),this.currentSequenceNumber=e}}class Pv{constructor(e){this.persistence=e,this.Ti=new Rv,this.Ii=null}static Ei(e){return new Pv(e)}get di(){if(this.Ii)return this.Ii;throw Oe(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,r=>{const o=Ae.fromPath(r);return this.Ai(e,o).next(a=>{a||n.removeEntry(o,Fe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return ne.or([()=>ne.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Dh{constructor(e,n){this.persistence=e,this.Ri=new Li(r=>KM(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=oj(this,n)}static Ei(e,n){return new Dh(e,n)}li(){}hi(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return ne.forEach(this.Ri,(r,o)=>this.gr(e,r,o).next(a=>a?ne.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,l=>this.gr(e,l,n).next(u=>{u||(r++,a.removeEntry(l,Fe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),ne.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}gr(e,n,r){return ne.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=o}static Ps(e,n){let r=Qe(),o=Qe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new kv(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return EP()?8:qM(on())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.Rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,n,o,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new vj;return this.fs(e,n,l).next(u=>{if(a.result=u,this.Is)return this.gs(e,n,l,u.size)})}).next(()=>a.result)}gs(e,n,r,o){return r.documentReadCount<this.Es?(Va()<=Ke.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ne.resolve()):(Va()<=Ke.DEBUG&&pe("QueryEngine","Query:",Fa(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Va()<=Ke.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):ne.resolve())}Rs(e,n){if(dx(n))return ne.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Rh(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Qe(...a);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.ps(n,u);return this.ys(n,m,l,h.readTime)?this.Rs(e,Rh(n,null,"F")):this.ws(e,m,n,h)}))})))}Vs(e,n,r,o){return dx(n)||o.isEqual(Fe.min())?ne.resolve(null):this.As.getDocuments(e,r).next(a=>{const l=this.ps(n,a);return this.ys(n,l,r,o)?ne.resolve(null):(Va()<=Ke.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.ws(e,l,n,$M(o,zc)).next(u=>u))})}ps(e,n){let r=new Ot(kT(e));return n.forEach((o,a)=>{uf(e,a)&&(r=r.add(a))}),r}ys(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,n,r){return Va()<=Ke.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.As.getDocumentsMatchingQuery(e,n,Po.min(),r)}ws(e,n,r,o){return this.As.getDocumentsMatchingQuery(e,r,o).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LocalStore",wj=3e8;class _j{constructor(e,n,r,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new gt(He),this.Ds=new Li(a=>xv(a),Ev),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lj(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function xj(t,e,n,r){return new _j(t,e,n,r)}async function eI(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let h=Qe();for(const m of o){l.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return n.localDocuments.getDocuments(r,h).next(m=>({Ms:m,removedBatchIds:l,addedBatchIds:u}))})})}function Ej(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(u,h,m,v){const y=m.batch,x=y.keys();let T=ne.resolve();return x.forEach(b=>{T=T.next(()=>v.getEntry(h,b)).next(I=>{const R=m.docVersions.get(b);rt(R!==null,48541),I.version.compareTo(R)<0&&(y.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),v.addEntry(I)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Qe();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function tI(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Sj(t,e){const n=Ue(t),r=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const u=[];e.targetChanges.forEach((v,y)=>{const x=o.get(y);if(!x)return;u.push(n.ai.removeMatchingKeys(a,v.removedDocuments,y).next(()=>n.ai.addMatchingKeys(a,v.addedDocuments,y)));let T=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Yt.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),o=o.insert(y,T),function(I,R,D){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=wj?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(x,T,v)&&u.push(n.ai.updateTargetData(a,T))});let h=Vs(),m=Qe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),u.push(Tj(a,l,e.documentUpdates).next(v=>{h=v.xs,m=v.Os})),!r.isEqual(Fe.min())){const v=n.ai.getLastRemoteSnapshotVersion(a).next(y=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(v)}return ne.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(n.Ss=o,a))}function Tj(t,e,n){let r=Qe(),o=Qe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Vs();return n.forEach((u,h)=>{const m=a.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(u)),h.isNoDocument()&&h.version.isEqual(Fe.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):pe(Nv,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),{xs:l,Os:o}})}function Ij(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cj(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.ai.getTargetData(r,e).next(a=>a?(o=a,ne.resolve(o)):n.ai.allocateTargetId(r).next(l=>(o=new To(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Ag(t,e,n){const r=Ue(t),o=r.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,o))}catch(l){if(!fl(l))throw l;pe(Nv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(o.target)}function Tx(t,e,n){const r=Ue(t);let o=Fe.min(),a=Qe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,m,v){const y=Ue(h),x=y.Ds.get(v);return x!==void 0?ne.resolve(y.Ss.get(x)):y.ai.getTargetData(m,v)}(r,l,Zr(e)).next(u=>{if(u)return o=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,n?o:Fe.min(),n?a:Qe())).next(u=>(bj(r,fO(e),u),{documents:u,Ns:a})))}function bj(t,e,n){let r=t.vs.get(e)||Fe.min();n.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.vs.set(e,r)}class Ix{constructor(){this.activeTargetIds=wO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aj{constructor(){this.So=new Ix,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ix,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="ConnectivityMonitor";class bx{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(Cx,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(Cx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=null;function Rg(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",Pj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kj{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(e,n,r,o,a){const l=Rg(),u=this.$o(e,n.toUriEncodedString());pe(Fm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,o,a),this.Ko(e,u,h,r).then(m=>(pe(Fm,`Received RPC '${e}' ${l}: `,m),m),m=>{throw Za(Fm,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m})}Wo(e,n,r,o,a,l){return this.Qo(e,n,r,o,a)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}$o(e,n){const r=Pj[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class Dj extends kj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,o){const a=Rg();return new Promise((l,u)=>{const h=new sT;h.setWithCredentials(!0),h.listenOnce(oT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case sh.NO_ERROR:const v=h.getResponseJson();pe(tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),l(v);break;case sh.TIMEOUT:pe(tn,`RPC '${e}' ${a} timed out`),u(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const y=h.getStatus();if(pe(tn,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x==null?void 0:x.error;if(T&&T.status&&T.message){const b=function(R){const D=R.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN}(T.status);u(new fe(b,T.message))}else u(new fe(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new fe(te.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{s_:e,streamId:a,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{pe(tn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);pe(tn,`RPC '${e}' ${a} sending request:`,o),h.send(n,"POST",m,r,15)})}a_(e,n,r){const o=Rg(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lT(),u=aT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const v=a.join("");pe(tn,`Creating RPC '${e}' stream ${o}: ${v}`,h);const y=l.createWebChannel(v,h);let x=!1,T=!1;const b=new Nj({Go:R=>{T?pe(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(x||(pe(tn,`Opening RPC '${e}' stream ${o} transport.`),y.open(),x=!0),pe(tn,`RPC '${e}' stream ${o} sending:`,R),y.send(R))},zo:()=>y.close()}),I=(R,D,U)=>{R.listen(D,V=>{try{U(V)}catch($){setTimeout(()=>{throw $},0)}})};return I(y,Tc.EventType.OPEN,()=>{T||(pe(tn,`RPC '${e}' stream ${o} transport opened.`),b.t_())}),I(y,Tc.EventType.CLOSE,()=>{T||(T=!0,pe(tn,`RPC '${e}' stream ${o} transport closed`),b.r_())}),I(y,Tc.EventType.ERROR,R=>{T||(T=!0,Za(tn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),b.r_(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),I(y,Tc.EventType.MESSAGE,R=>{var D;if(!T){const U=R.data[0];rt(!!U,16349);const V=U,$=(V==null?void 0:V.error)||((D=V[0])===null||D===void 0?void 0:D.error);if($){pe(tn,`RPC '${e}' stream ${o} received error:`,$);const W=$.status;let Y=function(P){const M=Ct[P];if(M!==void 0)return zT(M)}(W),N=$.message;Y===void 0&&(Y=te.INTERNAL,N="Unknown error status: "+W+" with message "+$.message),T=!0,b.r_(new fe(Y,N)),y.close()}else pe(tn,`RPC '${e}' stream ${o} received:`,U),b.i_(U)}}),I(u,iT.STAT_EVENT,R=>{R.stat===vg.PROXY?pe(tn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===vg.NOPROXY&&pe(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function Um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){return new LO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-r);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="PersistentStream";class rI{constructor(e,n,r,o,a,l,u,h){this.bi=e,this.R_=r,this.V_=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new nI(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===n&&this.B_(r,o)},r=>{e(()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(Ax,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(pe(Ax,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mj extends rI{constructor(e,n,r,o,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,l),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=UO(this.serializer,e),r=function(a){if(!("targetChange"in a))return Fe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?es(l.readTime):Fe.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=bg(this.serializer),n.addTarget=function(a,l){let u;const h=l.target;if(u=Eg(h)?{documents:BO(a,h)}:{query:WO(a,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=HT(a,l.resumeToken);const m=Tg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=Nh(a,l.snapshotVersion.toTimestamp());const m=Tg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const r=qO(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.F_(n)}}class Oj extends rI{constructor(e,n,r,o,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=zO(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=bg(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$O(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{}class Lj extends jj{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,Ig(n,r),o,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(te.UNKNOWN,a.toString())})}Wo(e,n,r,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,Ig(n,r),o,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(te.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Vj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ls(n),this.ea=!1):pe("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="RemoteStore";class Fj{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{r.enqueueAndForget(async()=>{Vi(this)&&(pe(Ri,"Restarting streams for network reachability change."),await async function(h){const m=Ue(h);m.aa.add(4),await lu(m),m.la.set("Unknown"),m.aa.delete(4),await mf(m)}(this))})}),this.la=new Vj(r,o)}}async function mf(t){if(Vi(t))for(const e of t.ua)await e(!0)}async function lu(t){for(const e of t.ua)await e(!1)}function sI(t,e){const n=Ue(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),jv(n)?Ov(n):ml(n).b_()&&Mv(n,e))}function Dv(t,e){const n=Ue(t),r=ml(n);n._a.delete(e),r.b_()&&oI(n,e),n._a.size===0&&(r.b_()?r.v_():Vi(n)&&n.la.set("Unknown"))}function Mv(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ml(t).U_(e)}function oI(t,e){t.ha.Ke(e),ml(t).K_(e)}function Ov(t){t.ha=new DO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ml(t).start(),t.la.ta()}function jv(t){return Vi(t)&&!ml(t).w_()&&t._a.size>0}function Vi(t){return Ue(t).aa.size===0}function iI(t){t.ha=void 0}async function Uj(t){t.la.set("Online")}async function $j(t){t._a.forEach((e,n)=>{Mv(t,e)})}async function zj(t,e){iI(t),jv(t)?(t.la.ia(e),Ov(t)):t.la.set("Unknown")}async function Bj(t,e,n){if(t.la.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(o,a){const l=a.cause;for(const u of a.targetIds)o._a.has(u)&&(await o.remoteSyncer.rejectListen(u,l),o._a.delete(u),o.ha.removeTarget(u))}(t,e)}catch(r){pe(Ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mh(t,r)}else if(e instanceof lh?t.ha.Xe(e):e instanceof BT?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Fe.min()))try{const r=await tI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const u=a.ha.It(l);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a._a.get(m);v&&a._a.set(m,v.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,m)=>{const v=a._a.get(h);if(!v)return;a._a.set(h,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),oI(a,h);const y=new To(v.target,h,m,v.sequenceNumber);Mv(a,y)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){pe(Ri,"Failed to raise snapshot:",r),await Mh(t,r)}}async function Mh(t,e,n){if(!fl(e))throw e;t.aa.add(1),await lu(t),t.la.set("Offline"),n||(n=()=>tI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe(Ri,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await mf(t)})}function aI(t,e){return e().catch(n=>Mh(t,n,e))}async function gf(t){const e=Ue(t),n=Mo(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:yv;for(;Wj(e);)try{const o=await Ij(e.localStore,r);if(o===null){e.oa.length===0&&n.v_();break}r=o.batchId,Hj(e,o)}catch(o){await Mh(e,o)}lI(e)&&cI(e)}function Wj(t){return Vi(t)&&t.oa.length<10}function Hj(t,e){t.oa.push(e);const n=Mo(t);n.b_()&&n.W_&&n.G_(e.mutations)}function lI(t){return Vi(t)&&!Mo(t).w_()&&t.oa.length>0}function cI(t){Mo(t).start()}async function qj(t){Mo(t).H_()}async function Gj(t){const e=Mo(t);for(const n of t.oa)e.G_(n.mutations)}async function Kj(t,e,n){const r=t.oa.shift(),o=Cv.from(r,e,n);await aI(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await gf(t)}async function Qj(t,e){e&&Mo(t).W_&&await async function(r,o){if(function(l){return kO(l)&&l!==te.ABORTED}(o.code)){const a=r.oa.shift();Mo(r).D_(),await aI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await gf(r)}}(t,e),lI(t)&&cI(t)}async function Rx(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),pe(Ri,"RemoteStore received new credentials");const r=Vi(n);n.aa.add(3),await lu(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await mf(n)}async function Yj(t,e){const n=Ue(t);e?(n.aa.delete(2),await mf(n)):e||(n.aa.add(2),await lu(n),n.la.set("Unknown"))}function ml(t){return t.Pa||(t.Pa=function(n,r,o){const a=Ue(n);return a.Y_(),new Mj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{jo:Uj.bind(null,t),Jo:$j.bind(null,t),Zo:zj.bind(null,t),Q_:Bj.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),jv(t)?Ov(t):t.la.set("Unknown")):(await t.Pa.stop(),iI(t))})),t.Pa}function Mo(t){return t.Ta||(t.Ta=function(n,r,o){const a=Ue(n);return a.Y_(),new Oj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:qj.bind(null,t),Zo:Qj.bind(null,t),z_:Gj.bind(null,t),j_:Kj.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await gf(t)):(await t.Ta.stop(),t.oa.length>0&&(pe(Ri,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const l=Date.now()+r,u=new Lv(e,n,l,o,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vv(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),fl(t))return new fe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Ic(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Ia=new gt(Ae.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Oe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,o,a,l,u,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new sl(e,n,Ka.emptySet(n),l,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Jj{constructor(){this.queries=kx(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const o=Ue(n),a=o.queries;o.queries=kx(),a.forEach((l,u)=>{for(const h of u.Ra)h.onError(r)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function kx(){return new Li(t=>PT(t),cf)}async function uI(t,e){const n=Ue(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.Va()&&e.ma()&&(r=2):(a=new Xj,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(o,!0);break;case 1:a.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(l){const u=Vv(l,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(u)}n.queries.set(o,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&Fv(n)}async function dI(t,e){const n=Ue(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zj(t,e){const n=Ue(t);let r=!1;for(const o of e){const a=o.query,l=n.queries.get(a);if(l){for(const u of l.Ra)u.pa(o)&&(r=!0);l.Aa=o}}r&&Fv(n)}function eL(t,e,n){const r=Ue(t),o=r.queries.get(e);if(o)for(const a of o.Ra)a.onError(n);r.queries.delete(e)}function Fv(t){t.fa.forEach(e=>{e.next()})}var Pg,Nx;(Nx=Pg||(Pg={})).ya="default",Nx.Cache="cache";class hI{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.key=e}}class pI{constructor(e){this.key=e}}class tL{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Qe(),this.mutatedKeys=Qe(),this.Ua=kT(e),this.Ka=new Ka(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new Px,o=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,l=o,u=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,y)=>{const x=o.get(v),T=uf(this.query,y)?y:null,b=!!x&&this.mutatedKeys.has(x.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;x&&T?x.data.isEqual(T.data)?b!==I&&(r.track({type:3,doc:T}),R=!0):this.ja(x,T)||(r.track({type:2,doc:T}),R=!0,(h&&this.Ua(T,h)>0||m&&this.Ua(T,m)<0)&&(u=!0)):!x&&T?(r.track({type:0,doc:T}),R=!0):x&&!T&&(r.track({type:1,doc:x}),R=!0,(h||m)&&(u=!0)),R&&(T?(l=l.add(T),a=I?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const v=this.query.limitType==="F"?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{Ka:l,za:r,ys:u,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((v,y)=>function(T,b){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:R})}};return I(T)-I(b)}(v.type,y.type)||this.Ua(v.doc,y.doc)),this.Ha(r),o=o!=null&&o;const u=n&&!o?this.Ja():[],h=this.$a.size===0&&this.current&&!o?1:0,m=h!==this.Qa;return this.Qa=h,l.length!==0||m?{snapshot:new sl(this.query,e.Ka,a,l,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Px,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Qe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new pI(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new fI(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Qe();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return sl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Uv="SyncEngine";class nL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rL{constructor(e){this.key=e,this.tu=!1}}class sL{constructor(e,n,r,o,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Li(u=>PT(u),cf),this.iu=new Map,this.su=new Set,this.ou=new gt(Ae.comparator),this._u=new Map,this.au=new Rv,this.uu={},this.cu=new Map,this.lu=rl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function oL(t,e,n=!0){const r=_I(t);let o;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await mI(r,e,n,!0),o}async function iL(t,e){const n=_I(t);await mI(n,e,!0,!1)}async function mI(t,e,n,r){const o=await Cj(t.localStore,Zr(e)),a=o.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await aL(t,e,a,l==="current",o.resumeToken)),t.isPrimaryClient&&n&&sI(t.remoteStore,o),u}async function aL(t,e,n,r,o){t.Pu=(y,x,T)=>async function(I,R,D,U){let V=R.view.Ga(D);V.ys&&(V=await Tx(I.localStore,R.query,!1).then(({documents:N})=>R.view.Ga(N,V)));const $=U&&U.targetChanges.get(R.targetId),W=U&&U.targetMismatches.get(R.targetId)!=null,Y=R.view.applyChanges(V,I.isPrimaryClient,$,W);return Mx(I,R.targetId,Y.Ya),Y.snapshot}(t,y,x,T);const a=await Tx(t.localStore,e,!0),l=new tL(e,a.Ns),u=l.Ga(a.documents),h=au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),m=l.applyChanges(u,t.isPrimaryClient,h);Mx(t,n,m.Ya);const v=new nL(e,n,l);return t.ru.set(e,v),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),m.snapshot}async function lL(t,e,n){const r=Ue(t),o=r.ru.get(e),a=r.iu.get(o.targetId);if(a.length>1)return r.iu.set(o.targetId,a.filter(l=>!cf(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ag(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Dv(r.remoteStore,o.targetId),kg(r,o.targetId)}).catch(hl)):(kg(r,o.targetId),await Ag(r.localStore,o.targetId,!0))}async function cL(t,e){const n=Ue(t),r=n.ru.get(e),o=n.iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dv(n.remoteStore,r.targetId))}async function uL(t,e,n){const r=vL(t);try{const o=await function(l,u){const h=Ue(l),m=nt.now(),v=u.reduce((T,b)=>T.add(b.key),Qe());let y,x;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=Vs(),I=Qe();return h.Cs.getEntries(T,v).next(R=>{b=R,b.forEach((D,U)=>{U.isValidDocument()||(I=I.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,b)).next(R=>{y=R;const D=[];for(const U of u){const V=CO(U,y.get(U.key).overlayedDocument);V!=null&&D.push(new $o(U.key,V,ET(V.value.mapValue),nr.exists(!0)))}return h.mutationQueue.addMutationBatch(T,m,D,u)}).next(R=>{x=R;const D=R.applyToLocalDocumentSet(y,I);return h.documentOverlayCache.saveOverlays(T,R.batchId,D)})}).then(()=>({batchId:x.batchId,changes:DT(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,u,h){let m=l.uu[l.currentUser.toKey()];m||(m=new gt(He)),m=m.insert(u,h),l.uu[l.currentUser.toKey()]=m}(r,o.batchId,n),await cu(r,o.changes),await gf(r.remoteStore)}catch(o){const a=Vv(o,"Failed to persist write");n.reject(a)}}async function gI(t,e){const n=Ue(t);try{const r=await Sj(n.localStore,e);e.targetChanges.forEach((o,a)=>{const l=n._u.get(a);l&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?l.tu=!0:o.modifiedDocuments.size>0?rt(l.tu,14607):o.removedDocuments.size>0&&(rt(l.tu,42227),l.tu=!1))}),await cu(n,r,e)}catch(r){await hl(r)}}function Dx(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.ru.forEach((a,l)=>{const u=l.view.ga(e);u.snapshot&&o.push(u.snapshot)}),function(l,u){const h=Ue(l);h.onlineState=u;let m=!1;h.queries.forEach((v,y)=>{for(const x of y.Ra)x.ga(u)&&(m=!0)}),m&&Fv(h)}(r.eventManager,e),o.length&&r.nu.Q_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dL(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r._u.get(e),a=o&&o.key;if(a){let l=new gt(Ae.comparator);l=l.insert(a,rn.newNoDocument(a,Fe.min()));const u=Qe().add(a),h=new ff(Fe.min(),new Map,new gt(He),l,u);await gI(r,h),r.ou=r.ou.remove(a),r._u.delete(e),$v(r)}else await Ag(r.localStore,e,!1).then(()=>kg(r,e,n)).catch(hl)}async function hL(t,e){const n=Ue(t),r=e.batch.batchId;try{const o=await Ej(n.localStore,e);yI(n,r,null),vI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,o)}catch(o){await hl(o)}}async function fL(t,e,n){const r=Ue(t);try{const o=await function(l,u){const h=Ue(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,u).next(y=>(rt(y!==null,37113),v=y.keys(),h.mutationQueue.removeMutationBatch(m,y))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);yI(r,e,n),vI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cu(r,o)}catch(o){await hl(o)}}function vI(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function yI(t,e,n){const r=Ue(t);let o=r.uu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.uu[r.currentUser.toKey()]=o}}function kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||wI(t,r)})}function wI(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Dv(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),$v(t))}function Mx(t,e,n){for(const r of n)r instanceof fI?(t.au.addReference(r.key,e),pL(t,r)):r instanceof pI?(pe(Uv,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||wI(t,r.key)):Oe(19791,{Iu:r})}function pL(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(pe(Uv,"New document in limbo: "+n),t.su.add(r),$v(t))}function $v(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Ae(ut.fromString(e)),r=t.lu.next();t._u.set(r,new rL(n)),t.ou=t.ou.insert(n,r),sI(t.remoteStore,new To(Zr(Sv(n.path)),r,"TargetPurposeLimboResolution",of.le))}}async function cu(t,e,n){const r=Ue(t),o=[],a=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,h)=>{l.push(r.Pu(h,e,n).then(m=>{var v;if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:(v=n==null?void 0:n.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(m){o.push(m);const y=kv.Ps(h.targetId,m);a.push(y)}}))}),await Promise.all(l),r.nu.Q_(o),await async function(h,m){const v=Ue(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ne.forEach(m,x=>ne.forEach(x.ls,T=>v.persistence.referenceDelegate.addReference(y,x.targetId,T)).next(()=>ne.forEach(x.hs,T=>v.persistence.referenceDelegate.removeReference(y,x.targetId,T)))))}catch(y){if(!fl(y))throw y;pe(Nv,"Failed to update sequence numbers: "+y)}for(const y of m){const x=y.targetId;if(!y.fromCache){const T=v.Ss.get(x),b=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(b);v.Ss=v.Ss.insert(x,I)}}}(r.localStore,a))}async function mL(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){pe(Uv,"User change. New user:",e.toKey());const r=await eI(n.localStore,e);n.currentUser=e,function(a,l){a.cu.forEach(u=>{u.forEach(h=>{h.reject(new fe(te.CANCELLED,l))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(n,r.Ms)}}function gL(t,e){const n=Ue(t),r=n._u.get(e);if(r&&r.tu)return Qe().add(r.key);{let o=Qe();const a=n.iu.get(e);if(!a)return o;for(const l of a){const u=n.ru.get(l);o=o.unionWith(u.view.Wa)}return o}}function _I(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dL.bind(null,e),e.nu.Q_=Zj.bind(null,e.eventManager),e.nu.Tu=eL.bind(null,e.eventManager),e}function vL(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fL.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return xj(this.persistence,new yj,e.initialUser,this.serializer)}Ru(e){return new ZT(Pv.Ei,this.serializer)}Au(e){return new Aj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class yL extends Oh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){rt(this.persistence.referenceDelegate instanceof Dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rj(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new ZT(r=>Dh.Ei(r,n),this.serializer)}}class Ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mL.bind(null,this.syncEngine),await Yj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jj}()}createDatastore(e){const n=pf(e.databaseInfo.databaseId),r=function(a){return new Dj(a)}(e.databaseInfo);return function(a,l,u,h){return new Lj(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,a,l,u){return new Fj(r,o,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Dx(this.syncEngine,n,0),function(){return bx.C()?new bx:new Rj}())}createSyncEngine(e,n){return function(o,a,l,u,h,m,v){const y=new sL(o,a,l,u,h,m);return v&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Ue(o);pe(Ri,"RemoteStore shutting down."),a.aa.add(5),await lu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ng.provider={build:()=>new Ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="FirestoreClient";class wL{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=hT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{pe(Oo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe(Oo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $m(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Oo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await eI(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ox(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _L(t);pe(Oo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Rx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>Rx(e.remoteStore,o)),t._onlineComponents=e}async function _L(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Oo,"Using user provided OfflineComponentProvider");try{await $m(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await $m(t,new Oh)}}else pe(Oo,"Using default OfflineComponentProvider"),await $m(t,new yL(void 0));return t._offlineComponents}async function EI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Oo,"Using user provided OnlineComponentProvider"),await Ox(t,t._uninitializedComponentsProvider._online)):(pe(Oo,"Using default OnlineComponentProvider"),await Ox(t,new Ng))),t._onlineComponents}function xL(t){return EI(t).then(e=>e.syncEngine)}async function SI(t){const e=await EI(t),n=e.eventManager;return n.onListen=oL.bind(null,e.syncEngine),n.onUnlisten=lL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cL.bind(null,e.syncEngine),n}function EL(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,m){const v=new xI({next:x=>{v.yu(),l.enqueueAndForget(()=>dI(a,y));const T=x.docs.has(u);!T&&x.fromCache?m.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&h&&h.source==="server"?m.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),y=new hI(Sv(u.path),v,{includeMetadataChanges:!0,Fa:!0});return uI(a,y)}(await SI(t),t.asyncQueue,e,n,r)),r.promise}function SL(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,m){const v=new xI({next:x=>{v.yu(),l.enqueueAndForget(()=>dI(a,y)),x.fromCache&&h.source==="server"?m.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),y=new hI(u,v,{includeMetadataChanges:!0,Fa:!0});return uI(a,y)}(await SI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TL(t,e,n,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lx(t){if(!Ae.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vx(t){if(Ae.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vf(t);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function IL(t,e){if(e<=0)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firestore.googleapis.com",Fx=!0;class Ux{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CI,this.ssl=Fx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Fx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tj)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ux({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ux(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NM;switch(r.type){case"firstParty":return new jM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jx.get(n);r&&(pe("ComponentProvider","Removing Datastore"),jx.delete(n),r.terminate())}(this),Promise.resolve()}}function CL(t,e,n,r={}){var o;const a=(t=Rr(t,yf))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;a.host!==CI&&a.host!==u&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:r});if(!Ro(h,l)&&(t._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=nn.MOCK_USER;else{m=gP(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(y)}t._authCredentials=new DM(new uT(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Ao extends zo{constructor(e,n,r){super(e,n,Sv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Ae(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function Ud(t,e,...n){if(t=_t(t),II("collection","path",e),t instanceof yf){const r=ut.fromString(e,...n);return Vx(r),new Ao(t,null,r)}{if(!(t instanceof hn||t instanceof Ao))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return Vx(r),new Ao(t.firestore,null,r)}}function jc(t,e,...n){if(t=_t(t),arguments.length===1&&(e=hT.newId()),II("doc","path",e),t instanceof yf){const r=ut.fromString(e,...n);return Lx(r),new hn(t,null,new Ae(r))}{if(!(t instanceof hn||t instanceof Ao))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return Lx(r),new hn(t.firestore,t instanceof Ao?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="AsyncQueue";class zx{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new nI(this,"async_queue_retry"),this.ju=()=>{const r=Um();r&&pe($x,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ks;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!fl(e))throw e;pe($x,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ls("INTERNAL UNHANDLED ERROR: ",Bx(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Lv.createAndSchedule(this,e,n,r,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&Oe(47125,{ec:Bx(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Bx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Fi extends yf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new zx,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zx(e),this._firestoreClient=void 0,await e}}}function bL(t,e){const n=typeof t=="object"?t:tv(),r=typeof t=="string"?t:Ch,o=ji(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=pP("firestore");a&&CL(o,...a)}return o}function zv(t){if(t._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AL(t),t._firestoreClient}function AL(t){var e,n,r;const o=t._freezeSettings(),a=function(u,h,m,v){return new XM(u,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,TI(v.experimentalLongPollingOptions),v.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new wL(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(Yt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ol(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=/^__.*__$/;class PL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $o(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class bI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{oc:t})}}class qv{constructor(e,n,r,o,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new qv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:r,cc:!1});return o.lc(e),o}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:r,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return jh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(AI(this.oc)&&RL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class kL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pf(e)}dc(e,n,r,o=!1){return new qv({oc:e,methodName:n,Ec:r,path:Qt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _f(t){const e=t._freezeSettings(),n=pf(t._databaseId);return new kL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RI(t,e,n,r,o,a={}){const l=t.dc(a.merge||a.mergeFields?2:0,e,n,o);Gv("Data must be an object, but it was:",l,r);const u=PI(r,l);let h,m;if(a.merge)h=new Ln(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const v=[];for(const y of a.mergeFields){const x=Dg(e,y,n);if(!l.contains(x))throw new fe(te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);NI(v,x)||v.push(x)}h=new Ln(v),m=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,m=l.fieldTransforms;return new PL(new Tn(u),h,m)}class xf extends Bv{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}function NL(t,e,n,r){const o=t.dc(1,e,n);Gv("Data must be an object, but it was:",o,r);const a=[],l=Tn.empty();Uo(r,(h,m)=>{const v=Kv(e,h,n);m=_t(m);const y=o.hc(v);if(m instanceof xf)a.push(v);else{const x=uu(m,y);x!=null&&(a.push(v),l.set(v,x))}});const u=new Ln(a);return new bI(l,u,o.fieldTransforms)}function DL(t,e,n,r,o,a){const l=t.dc(1,e,n),u=[Dg(e,r,n)],h=[o];if(a.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(Dg(e,a[x])),h.push(a[x+1]);const m=[],v=Tn.empty();for(let x=u.length-1;x>=0;--x)if(!NI(m,u[x])){const T=u[x];let b=h[x];b=_t(b);const I=l.hc(T);if(b instanceof xf)m.push(T);else{const R=uu(b,I);R!=null&&(m.push(T),v.set(T,R))}}const y=new Ln(m);return new bI(v,y,l.fieldTransforms)}function ML(t,e,n,r=!1){return uu(n,t.dc(r?4:3,e))}function uu(t,e){if(kI(t=_t(t)))return Gv("Unsupported field value:",e,t),PI(t,e);if(t instanceof Bv)return function(r,o){if(!AI(o.oc))throw o.Tc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,o){const a=[];let l=0;for(const u of r){let h=uu(u,o.Pc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,o){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _O(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=nt.fromDate(r);return{timestampValue:Nh(o.serializer,a)}}if(r instanceof nt){const a=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,a)}}if(r instanceof Wv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ol)return{bytesValue:HT(o.serializer,r._byteString)};if(r instanceof hn){const a=o.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw o.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Av(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Hv)return function(l,u){return{mapValue:{fields:{[_T]:{stringValue:xT},[bh]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw u.Tc("VectorValues must only contain numeric values.");return Tv(u.serializer,m)})}}}}}}(r,o);throw o.Tc(`Unsupported field value: ${vf(r)}`)}(t,e)}function PI(t,e){const n={};return pT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,o)=>{const a=uu(o,e.uc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function kI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Wv||t instanceof ol||t instanceof hn||t instanceof Bv||t instanceof Hv)}function Gv(t,e,n){if(!kI(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=vf(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Dg(t,e,n){if((e=_t(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Kv(t,e);throw jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const OL=new RegExp("[~\\*/\\[\\]]");function Kv(t,e,n){if(e.search(OL)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jh(t,e,n,r,o){const a=r&&!r.isEmpty(),l=o!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${o}`),h+=")"),new fe(te.INVALID_ARGUMENT,u+t+h)}function NI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ef("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jL extends DI{data(){return super.data()}}function Ef(t,e){return typeof e=="string"?Kv(t,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qv{}class Yv extends Qv{}function $d(t,e,...n){let r=[];e instanceof Qv&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof Xv).length,u=a.filter(h=>h instanceof Sf).length;if(l>1||l>0&&u>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class Sf extends Yv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sf(e,n,r)}_apply(e){const n=this._parse(e);return MI(e._query,n),new zo(e.firestore,e.converter,Sg(e._query,n))}_parse(e){const n=_f(e.firestore);return function(a,l,u,h,m,v,y){let x;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){qx(y,v);const b=[];for(const I of y)b.push(Hx(h,a,I));x={arrayValue:{values:b}}}else x=Hx(h,a,y)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||qx(y,v),x=ML(u,l,y,v==="in"||v==="not-in");return bt.create(m,v,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zm(t,e,n){const r=e,o=Ef("where",t);return Sf._create(o,r,n)}class Xv extends Qv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,a){let l=o;const u=a.getFlattenedFilters();for(const h of u)MI(l,h),l=Sg(l,h)}(e._query,n),new zo(e.firestore,e.converter,Sg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jv extends Yv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jv(e,n)}_apply(e){const n=function(o,a,l){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qc(a,l)}(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,function(o,a){const l=o.explicitOrderBy.concat([a]);return new pl(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function zd(t,e="asc"){const n=e,r=Ef("orderBy",t);return Jv._create(r,n)}class Zv extends Yv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Zv(e,n,r)}_apply(e){return new zo(e.firestore,e.converter,Rh(e._query,this._limit,this._limitType))}}function Wx(t){return IL("limit",t),Zv._create("limit",t,"F")}function Hx(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!Ae.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ox(t,new Ae(r))}if(n instanceof hn)return ox(t,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(n)}.`)}function qx(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MI(t,e){const n=function(o,a){for(const l of o)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VL{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(o,a)=>{r[o]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,o;const a=(o=(r=(n=e.fields)===null||n===void 0?void 0:n[bh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(l=>St(l.doubleValue));return new Hv(a)}convertGeoPoint(e){return new Wv(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=ko(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);rt(XT(r),9688,{name:e});const o=new Wc(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return o.isEqual(n)||Ls(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jI extends DI{constructor(e,n,r,o,a,l){super(e,n,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ef("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ch extends jI{data(e={}){return super.data(e)}}class FL{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new bc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ch(this._firestore,this._userDataWriter,r.key,r,new bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(u=>{const h=new ch(o._firestore,o._userDataWriter,u.doc.key,u.doc,new bc(o._snapshot.mutatedKeys.has(u.doc.key),o._snapshot.fromCache),o.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new ch(o._firestore,o._userDataWriter,u.doc.key,u.doc,new bc(o._snapshot.mutatedKeys.has(u.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),v=l.indexOf(u.doc.key)),{type:UL(u.type),doc:h,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){t=Rr(t,hn);const e=Rr(t.firestore,Fi);return EL(zv(e),t._key).then(n=>HL(e,t,n))}class VI extends VL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Bm(t){t=Rr(t,zo);const e=Rr(t.firestore,Fi),n=zv(e),r=new VI(e);return LL(t._query),SL(n,t._query).then(o=>new FL(e,r,t,o))}function $L(t,e,n){t=Rr(t,hn);const r=Rr(t.firestore,Fi),o=OI(t.converter,e);return Tf(r,[RI(_f(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,nr.none())])}function zL(t,e,n,...r){t=Rr(t,hn);const o=Rr(t.firestore,Fi),a=_f(o);let l;return l=typeof(e=_t(e))=="string"||e instanceof wf?DL(a,"updateDoc",t._key,e,n,r):NL(a,"updateDoc",t._key,e),Tf(o,[l.toMutation(t._key,nr.exists(!0))])}function BL(t){return Tf(Rr(t.firestore,Fi),[new Iv(t._key,nr.none())])}function WL(t,e){const n=Rr(t.firestore,Fi),r=jc(t),o=OI(t.converter,e);return Tf(n,[RI(_f(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function Tf(t,e){return function(r,o){const a=new ks;return r.asyncQueue.enqueueAndForget(async()=>uL(await xL(r),o,a)),a.promise}(zv(t),e)}function HL(t,e,n){const r=n.docs.get(e._key),o=new VI(t);return new jI(t,o,e._key,r,new bc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){dl=o})(cl),rs(new br("firestore",(r,{instanceIdentifier:o,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Fi(new MM(r.getProvider("auth-internal")),new LM(l,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(m.options.projectId,v)}(l,o),l);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),tr(G0,K0,e),tr(G0,K0,"esm2017")})();var qL="firebase",GL="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(qL,GL,"app");const KL={apiKey:"AIzaSyC-DVPD-4CjDQ0nYOjg5y2hMOy1zjx6VeU",authDomain:"grindmode-5d2bb.firebaseapp.com",projectId:"grindmode-5d2bb",storageBucket:"grindmode-5d2bb.firebasestorage.app",messagingSenderId:"1096214127157",appId:"1:1096214127157:web:7b82fd19693d933f3f877c",measurementId:"G-XJN3G8434B"},ey=JE(KL);AM(ey);const yo=bL(ey),sn=dD(ey),wo=()=>{const t=sn.currentUser;if(!t||!t.uid)throw new Error("User not authenticated");return t.uid},QL=async t=>{try{const e=wo(),n=jc(yo,"users",e),r=nt.now();if((await LI(n)).exists())return;await $L(n,{...t,createdAt:r,updatedAt:r})}catch(e){console.error("Error creating user profile:",e)}},FI={USER_NOT_AUTHENTICATED:"User is not authenticated"},YL=async(t,e,n)=>{await $N(sn,t,e),sn.currentUser&&(await cv(sn.currentUser,{displayName:n}),await UI(n))},XL=async(t,e)=>{await zN(sn,t,e)},JL=async()=>{const t=new bs,e=await _2(sn,t),n=QN(e);n!=null&&n.isNewUser&&sn.currentUser&&(await cv(sn.currentUser,{displayName:sn.currentUser.displayName}),await UI(sn.currentUser.displayName||""))},ZL=async()=>{await ZN(sn)},e4=async t=>{if(!sn.currentUser)throw new Error(FI.USER_NOT_AUTHENTICATED);await cv(sn.currentUser,t)},t4=async()=>{if(!sn.currentUser)throw new Error(FI.USER_NOT_AUTHENTICATED);await e2(sn.currentUser)},n4=t=>({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,createdAt:t.metadata.creationTime}),r4=t=>JN(sn,e=>{t(e?{status:"authenticated",user:n4(e)}:{status:"unauthenticated"})}),UI=async t=>{await QL({displayName:t,goals:[{dailyCalories:0,dailyProtein:0,weeklyWorkouts:0}]})},s4=({children:t})=>{const[e,n]=_.useState({status:"loading"}),[r,o]=_.useState(null);_.useEffect(()=>{const x=r4(T=>{n(T)});return()=>x()},[]);const a=async(x,T)=>{o(null);try{await XL(x,T)}catch(b){throw o(b),b}},l=async()=>{o(null);try{await JL()}catch(x){throw o(x),x}},u=async(x,T,b)=>{o(null);try{await YL(x,T,b)}catch(I){throw o(I),I}},h=async()=>{o(null);try{await ZL()}catch(x){throw o(x),x}},m=async()=>{o(null);try{if(e.status!=="authenticated")throw new Error("User not authenticated");await t4()}catch(x){throw o(x),x}},v=async(x,T,b)=>{o(null);try{if(e.status!=="authenticated")throw new Error("User not authenticated");await e4({displayName:x,password:T,email:b})}catch(I){throw o(I),I}},y={isAuthenticated:e.status==="authenticated",isLoading:e.status==="loading",user:e.status==="authenticated"?e.user:null,error:r,login:a,loginWithGoogle:l,signup:u,logout:h,editUser:v,deleteUser:m};return p.jsx(FE.Provider,{value:y,children:t})};var wc={},Gx;function o4(){if(Gx)return wc;Gx=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.parse=l,wc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,T){const b=new a,I=x.length;if(I<2)return b;const R=(T==null?void 0:T.decode)||v;let D=0;do{const U=x.indexOf("=",D);if(U===-1)break;const V=x.indexOf(";",D),$=V===-1?I:V;if(U>$){D=x.lastIndexOf(";",U-1)+1;continue}const W=u(x,D,U),Y=h(x,U,W),N=x.slice(W,Y);if(b[N]===void 0){let A=u(x,U+1,$),P=h(x,$,A);const M=R(x.slice(A,P));b[N]=M}D=$+1}while(D<I);return b}function u(x,T,b){do{const I=x.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<b);return b}function h(x,T,b){for(;T>b;){const I=x.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return b}function m(x,T,b){const I=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const R=I(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let D=x+"="+R;if(!b)return D;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);D+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);D+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);D+="; Path="+b.path}if(b.expires){if(!y(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);D+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(D+="; HttpOnly"),b.secure&&(D+="; Secure"),b.partitioned&&(D+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return D}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return o.call(x)==="[object Date]"}return wc}o4();var Kx="popstate";function i4(t={}){function e(r,o){let{pathname:a,search:l,hash:u}=r.location;return Mg("",{pathname:a,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Qc(o)}return l4(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a4(){return Math.random().toString(36).substring(2,10)}function Qx(t,e){return{usr:t.state,key:t.key,idx:e}}function Mg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||r||a4()}}function Qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function l4(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,u="POP",h=null,m=v();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function v(){return(l.state||{idx:null}).idx}function y(){u="POP";let R=v(),D=R==null?null:R-m;m=R,h&&h({action:u,location:I.location,delta:D})}function x(R,D){u="PUSH";let U=Mg(I.location,R,D);m=v()+1;let V=Qx(U,m),$=I.createHref(U);try{l.pushState(V,"",$)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign($)}a&&h&&h({action:u,location:I.location,delta:1})}function T(R,D){u="REPLACE";let U=Mg(I.location,R,D);m=v();let V=Qx(U,m),$=I.createHref(U);l.replaceState(V,"",$),a&&h&&h({action:u,location:I.location,delta:0})}function b(R){let D=o.location.origin!=="null"?o.location.origin:o.location.href,U=typeof R=="string"?R:Qc(R);return U=U.replace(/ $/,"%20"),ft(D,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,D)}let I={get action(){return u},get location(){return t(o,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Kx,y),h=R,()=>{o.removeEventListener(Kx,y),h=null}},createHref(R){return e(o,R)},createURL:b,encodeLocation(R){let D=b(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:T,go(R){return l.go(R)}};return I}function $I(t,e,n="/"){return c4(t,e,n,!1)}function c4(t,e,n,r){let o=typeof e=="string"?gl(e):e,a=Fs(o.pathname||"/",n);if(a==null)return null;let l=zI(t);u4(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=x4(a);u=w4(l[h],m,r)}return u}function zI(t,e=[],n=[],r=""){let o=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ft(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=Ns([r,h.relativePath]),v=n.concat(h);a.children&&a.children.length>0&&(ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),zI(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:v4(m,a.index),routesMeta:v})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))o(a,l);else for(let h of BI(a.path))o(a,l,h)}),e}function BI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=BI(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),o&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function u4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:y4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var d4=/^:[\w-]+$/,h4=3,f4=2,p4=1,m4=10,g4=-2,Yx=t=>t==="*";function v4(t,e){let n=t.split("/"),r=n.length;return n.some(Yx)&&(r+=g4),e&&(r+=f4),n.filter(o=>!Yx(o)).reduce((o,a)=>o+(d4.test(a)?h4:a===""?p4:m4),r)}function y4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function w4(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],m=u===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",y=Lh({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),x=h.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=Lh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),l.push({params:o,pathname:Ns([a,y.pathname]),pathnameBase:I4(Ns([a,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(a=Ns([a,y.pathnameBase]))}return l}function Lh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_4(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:y},x)=>{if(v==="*"){let b=u[x]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const T=u[x];return y&&!T?m[v]=void 0:m[v]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function _4(t,e=!1,n=!0){Pr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function x4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E4(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?gl(t):t;return{pathname:n?n.startsWith("/")?n:S4(n,e):e,search:C4(r),hash:b4(o)}}function S4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Wm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ty(t){let e=T4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ny(t,e,n,r=!1){let o;typeof t=="string"?o=gl(t):(o={...t},ft(!o.pathname||!o.pathname.includes("?"),Wm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Wm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Wm("#","search","hash",o)));let a=t===""||o.pathname==="",l=a?"/":o.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;o.pathname=x.join("/")}u=y>=0?e[y]:"/"}let h=E4(o,u),m=l&&l!=="/"&&l.endsWith("/"),v=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var Ns=t=>t.join("/").replace(/\/\/+/g,"/"),I4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var WI=["POST","PUT","PATCH","DELETE"];new Set(WI);var R4=["GET",...WI];new Set(R4);var vl=_.createContext(null);vl.displayName="DataRouter";var If=_.createContext(null);If.displayName="DataRouterState";var HI=_.createContext({isTransitioning:!1});HI.displayName="ViewTransition";var P4=_.createContext(new Map);P4.displayName="Fetchers";var k4=_.createContext(null);k4.displayName="Await";var Mr=_.createContext(null);Mr.displayName="Navigation";var du=_.createContext(null);du.displayName="Location";var Or=_.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var ry=_.createContext(null);ry.displayName="RouteError";function N4(t,{relative:e}={}){ft(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Mr),{hash:o,pathname:a,search:l}=hu(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Ns([n,a])),r.createHref({pathname:u,search:l,hash:o})}function yl(){return _.useContext(du)!=null}function Bs(){return ft(yl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(du).location}var qI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GI(t){_.useContext(Mr).static||_.useLayoutEffect(t)}function Ui(){let{isDataRoute:t}=_.useContext(Or);return t?G4():D4()}function D4(){ft(yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(vl),{basename:e,navigator:n}=_.useContext(Mr),{matches:r}=_.useContext(Or),{pathname:o}=Bs(),a=JSON.stringify(ty(r)),l=_.useRef(!1);return GI(()=>{l.current=!0}),_.useCallback((h,m={})=>{if(Pr(l.current,qI),!l.current)return;if(typeof h=="number"){n.go(h);return}let v=ny(h,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ns([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,a,o,t])}var M4=_.createContext(null);function O4(t){let e=_.useContext(Or).outlet;return e&&_.createElement(M4.Provider,{value:t},e)}function hu(t,{relative:e}={}){let{matches:n}=_.useContext(Or),{pathname:r}=Bs(),o=JSON.stringify(ty(n));return _.useMemo(()=>ny(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function j4(t,e){return KI(t,e)}function KI(t,e,n,r){var U;ft(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=_.useContext(Mr),{matches:l}=_.useContext(Or),u=l[l.length-1],h=u?u.params:{},m=u?u.pathname:"/",v=u?u.pathnameBase:"/",y=u&&u.route;{let V=y&&y.path||"";QI(m,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let x=Bs(),T;if(e){let V=typeof e=="string"?gl(e):e;ft(v==="/"||((U=V.pathname)==null?void 0:U.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=x;let b=T.pathname||"/",I=b;if(v!=="/"){let V=v.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(V.length).join("/")}let R=!a&&n&&n.matches&&n.matches.length>0?n.matches:$I(t,{pathname:I});Pr(y||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Pr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=$4(R&&R.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Ns([v,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:Ns([v,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,n,r);return e&&D?_.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function L4(){let t=q4(),e=A4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:o},n):null,l)}var V4=_.createElement(L4,null),F4=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(Or.Provider,{value:this.props.routeContext},_.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U4({routeContext:t,match:e,children:n}){let r=_.useContext(vl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Or.Provider,{value:t},n)}function $4(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);ft(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:v,errors:y}=n,x=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let y,x=!1,T=null,b=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,T=m.route.errorElement||V4,l&&(u<0&&v===0?(QI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):u===v&&(x=!0,b=m.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,v+1)),R=()=>{let D;return y?D=T:x?D=b:m.route.Component?D=_.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=h,_.createElement(U4,{match:m,routeContext:{outlet:h,matches:I,isDataRoute:n!=null},children:D})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?_.createElement(F4,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}function sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z4(t){let e=_.useContext(vl);return ft(e,sy(t)),e}function B4(t){let e=_.useContext(If);return ft(e,sy(t)),e}function W4(t){let e=_.useContext(Or);return ft(e,sy(t)),e}function oy(t){let e=W4(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function H4(){return oy("useRouteId")}function q4(){var r;let t=_.useContext(ry),e=B4("useRouteError"),n=oy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function G4(){let{router:t}=z4("useNavigate"),e=oy("useNavigate"),n=_.useRef(!1);return GI(()=>{n.current=!0}),_.useCallback(async(o,a={})=>{Pr(n.current,qI),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var Xx={};function QI(t,e,n){!e&&!Xx[t]&&(Xx[t]=!0,Pr(!1,n))}_.memo(K4);function K4({routes:t,future:e,state:n}){return KI(t,void 0,n,e)}function za({to:t,replace:e,state:n,relative:r}){ft(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=_.useContext(Mr);Pr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(Or),{pathname:l}=Bs(),u=Ui(),h=ny(t,ty(a),l,r==="path"),m=JSON.stringify(h);return _.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:r})},[u,m,r,e,n]),null}function iy(t){return O4(t.context)}function Dn(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q4({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){ft(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);typeof n=="string"&&(n=gl(n));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:x="default"}=n,T=_.useMemo(()=>{let b=Fs(h,l);return b==null?null:{location:{pathname:b,search:m,hash:v,state:y,key:x},navigationType:r}},[l,h,m,v,y,x,r]);return Pr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:_.createElement(Mr.Provider,{value:u},_.createElement(du.Provider,{children:e,value:T}))}function Y4({children:t,location:e}){return j4(Og(t),e)}function Og(t,e=[]){let n=[];return _.Children.forEach(t,(r,o)=>{if(!_.isValidElement(r))return;let a=[...e,o];if(r.type===_.Fragment){n.push.apply(n,Og(r.props.children,a));return}ft(r.type===Dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Og(r.props.children,a)),n.push(l)}),n}var uh="get",dh="application/x-www-form-urlencoded";function Cf(t){return t!=null&&typeof t.tagName=="string"}function X4(t){return Cf(t)&&t.tagName.toLowerCase()==="button"}function J4(t){return Cf(t)&&t.tagName.toLowerCase()==="form"}function Z4(t){return Cf(t)&&t.tagName.toLowerCase()==="input"}function eV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tV(t,e){return t.button===0&&(!e||e==="_self")&&!eV(t)}var Bd=null;function nV(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var rV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(t){return t!=null&&!rV.has(t)?(Pr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):t}function sV(t,e){let n,r,o,a,l;if(J4(t)){let u=t.getAttribute("action");r=u?Fs(u,e):null,n=t.getAttribute("method")||uh,o=Hm(t.getAttribute("enctype"))||dh,a=new FormData(t)}else if(X4(t)||Z4(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Fs(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||uh,o=Hm(t.getAttribute("formenctype"))||Hm(u.getAttribute("enctype"))||dh,a=new FormData(u,t),!nV()){let{name:m,type:v,value:y}=t;if(v==="image"){let x=m?`${m}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else m&&a.append(m,y)}}else{if(Cf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,r=null,o=dh,l=t}return a&&o==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:l}}function ay(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aV(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await oV(a,n);return l.links?l.links():[]}return[]}));return dV(r.flat(1).filter(iV).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jx(t,e,n,r,o,a){let l=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,u=(h,m)=>{var v;return n[m].pathname!==h.pathname||((v=n[m].route.path)==null?void 0:v.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>l(h,m)||u(h,m)):a==="data"?e.filter((h,m)=>{var y;let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(l(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function lV(t,e,{includeHydrateFallback:n}={}){return cV(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function cV(t){return[...new Set(t)]}function uV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dV(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(uV(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}var hV=new Set([100,101,204,205]);function fV(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Fs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function YI(){let t=_.useContext(vl);return ay(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pV(){let t=_.useContext(If);return ay(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ly=_.createContext(void 0);ly.displayName="FrameworkContext";function XI(){let t=_.useContext(ly);return ay(t,"You must render this element inside a <HydratedRouter> element"),t}function mV(t,e){let n=_.useContext(ly),[r,o]=_.useState(!1),[a,l]=_.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,x=_.useRef(null);_.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let I=D=>{D.forEach(U=>{l(U.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[t]),_.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{o(!0)},b=()=>{o(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:_c(u,T),onBlur:_c(h,b),onMouseEnter:_c(m,T),onMouseLeave:_c(v,b),onTouchStart:_c(y,T)}]:[!1,x,{}]}function _c(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function gV({page:t,...e}){let{router:n}=YI(),r=_.useMemo(()=>$I(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(yV,{page:t,matches:r,...e}):null}function vV(t){let{manifest:e,routeModules:n}=XI(),[r,o]=_.useState([]);return _.useEffect(()=>{let a=!1;return aV(t,e,n).then(l=>{a||o(l)}),()=>{a=!0}},[t,e,n]),r}function yV({page:t,matches:e,...n}){let r=Bs(),{manifest:o,routeModules:a}=XI(),{basename:l}=YI(),{loaderData:u,matches:h}=pV(),m=_.useMemo(()=>Jx(t,e,h,o,r,"data"),[t,e,h,o,r]),v=_.useMemo(()=>Jx(t,e,h,o,r,"assets"),[t,e,h,o,r]),y=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,I=!1;if(e.forEach(D=>{var V;let U=o.routes[D.route.id];!U||!U.hasLoader||(!m.some($=>$.route.id===D.route.id)&&D.route.id in u&&((V=a[D.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?I=!0:b.add(D.route.id))}),b.size===0)return[];let R=fV(t,l);return I&&b.size>0&&R.searchParams.set("_routes",e.filter(D=>b.has(D.route.id)).map(D=>D.route.id).join(",")),[R.pathname+R.search]},[l,u,r,o,m,e,t,a]),x=_.useMemo(()=>lV(v,o),[v,o]),T=vV(v);return _.createElement(_.Fragment,null,y.map(b=>_.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),x.map(b=>_.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),T.map(({key:b,link:I})=>_.createElement("link",{key:b,...I})))}function wV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JI&&(window.__reactRouterVersion="7.5.2")}catch{}function _V({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=i4({window:n,v5Compat:!0}));let o=r.current,[a,l]=_.useState({action:o.action,location:o.location}),u=_.useCallback(h=>{_.startTransition(()=>l(h))},[l]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.createElement(Q4,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var ZI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ds=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:l,state:u,target:h,to:m,preventScrollReset:v,viewTransition:y,...x},T){let{basename:b}=_.useContext(Mr),I=typeof m=="string"&&ZI.test(m),R,D=!1;if(typeof m=="string"&&I&&(R=m,JI))try{let P=new URL(window.location.href),M=m.startsWith("//")?new URL(P.protocol+m):new URL(m),j=Fs(M.pathname,b);M.origin===P.origin&&j!=null?m=j+M.search+M.hash:D=!0}catch{Pr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=N4(m,{relative:o}),[V,$,W]=mV(r,x),Y=SV(m,{replace:l,state:u,target:h,preventScrollReset:v,relative:o,viewTransition:y});function N(P){e&&e(P),P.defaultPrevented||Y(P)}let A=_.createElement("a",{...x,...W,href:R||U,onClick:D||a?e:N,ref:wV(T,$),target:h,"data-discover":!I&&n==="render"?"true":void 0});return V&&!I?_.createElement(_.Fragment,null,A,_.createElement(gV,{page:U})):A});Ds.displayName="Link";var eC=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:u,children:h,...m},v){let y=hu(l,{relative:m.relative}),x=Bs(),T=_.useContext(If),{navigator:b,basename:I}=_.useContext(Mr),R=T!=null&&AV(y)&&u===!0,D=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,U=x.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(U=U.toLowerCase(),V=V?V.toLowerCase():null,D=D.toLowerCase()),V&&I&&(V=Fs(V,I)||V);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let W=U===D||!o&&U.startsWith(D)&&U.charAt($)==="/",Y=V!=null&&(V===D||!o&&V.startsWith(D)&&V.charAt(D.length)==="/"),N={isActive:W,isPending:Y,isTransitioning:R},A=W?e:void 0,P;typeof r=="function"?P=r(N):P=[r,W?"active":null,Y?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(N):a;return _.createElement(Ds,{...m,"aria-current":A,className:P,ref:v,style:M,to:l,viewTransition:u},typeof h=="function"?h(N):h)});eC.displayName="NavLink";var xV=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:l=uh,action:u,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...x},T)=>{let b=CV(),I=bV(u,{relative:m}),R=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&ZI.test(u),U=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,W=($==null?void 0:$.getAttribute("formmethod"))||l;b($||V.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:y})};return _.createElement("form",{ref:T,method:R,action:I,onSubmit:r?h:U,...x,"data-discover":!D&&t==="render"?"true":void 0})});xV.displayName="Form";function EV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(t){let e=_.useContext(vl);return ft(e,EV(t)),e}function SV(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:l}={}){let u=Ui(),h=Bs(),m=hu(t,{relative:a});return _.useCallback(v=>{if(tV(v,e)){v.preventDefault();let y=n!==void 0?n:Qc(h)===Qc(m);u(t,{replace:y,state:r,preventScrollReset:o,relative:a,viewTransition:l})}},[h,u,m,n,r,e,t,o,a,l])}var TV=0,IV=()=>`__${String(++TV)}__`;function CV(){let{router:t}=tC("useSubmit"),{basename:e}=_.useContext(Mr),n=H4();return _.useCallback(async(r,o={})=>{let{action:a,method:l,encType:u,formData:h,body:m}=sV(r,e);if(o.navigate===!1){let v=o.fetcherKey||IV();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function bV(t,{relative:e}={}){let{basename:n}=_.useContext(Mr),r=_.useContext(Or);ft(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...hu(t||".",{relative:e})},l=Bs();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(v=>v==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let v=u.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ns([n,a.pathname])),Qc(a)}function AV(t,e={}){let n=_.useContext(HI);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tC("useViewTransitionState"),o=hu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lh(o.pathname,l)!=null||Lh(o.pathname,a)!=null}new TextEncoder;[...hV];var fu=VE();const RV=jE(fu),PV=()=>p.jsx("footer",{className:"py-4 text-center",children:p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," GrindMode"]})}),Bo=()=>{const t=_.useContext(FE);if(!t)throw new Error("useAuth must be used within an AuthProvider");return{...t}};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zx=t=>{const e=NV(t);return e.charAt(0).toUpperCase()+e.slice(1)},nC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),DV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:l,...u},h)=>_.createElement("svg",{ref:h,...MV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nC("lucide",o),...!a&&!DV(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,v])=>_.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=_.forwardRef(({className:r,...o},a)=>_.createElement(OV,{ref:a,iconNode:e,className:nC(`lucide-${kV(Zx(t))}`,`lucide-${t}`,r),...o}));return n.displayName=Zx(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],LV=Ge("arrow-left",jV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],FV=Ge("bell",VV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$V=Ge("calendar",UV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],BV=Ge("chart-no-axes-column-increasing",zV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rC=Ge("check",WV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bf=Ge("chevron-down",HV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sC=Ge("chevron-left",qV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oC=Ge("chevron-right",GV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iC=Ge("chevron-up",KV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lc=Ge("circle-alert",QV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Af=Ge("circle-plus",YV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],JV=Ge("clock",XV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],eF=Ge("dumbbell",ZV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],nF=Ge("layout-dashboard",tF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wl=Ge("loader-circle",rF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oF=Ge("lock",sF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],aC=Ge("log-out",iF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],lC=Ge("mail",aF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],cF=Ge("moon",lF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cC=Ge("pen",uF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hF=Ge("plus",dF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],pF=Ge("ruler",fF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gF=Ge("save",mF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yF=Ge("search",vF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_F=Ge("settings",wF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],EF=Ge("shield",xF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],TF=Ge("sliders-vertical",SF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jg=Ge("square-pen",IF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],bF=Ge("sun",CF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],RF=Ge("target",AF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],uC=Ge("trash-2",PF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],NF=Ge("trash",kF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dC=Ge("triangle-alert",DF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OF=Ge("user-cog",MF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hC=Ge("user",jF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],fC=Ge("utensils-crossed",LF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],pC=Ge("utensils",VF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cy=Ge("x",FF);function mC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=mC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gC(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=mC(t))&&(r&&(r+=" "),r+=e);return r}const eE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tE=gC,uy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return tE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=e,l=Object.keys(o).map(m=>{const v=n==null?void 0:n[m],y=a==null?void 0:a[m];if(v===null)return null;const x=eE(v)||eE(y);return o[m][x]}),u=n&&Object.entries(n).reduce((m,v)=>{let[y,x]=v;return x===void 0||(m[y]=x),m},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,v)=>{let{class:y,className:x,...T}=v;return Object.entries(T).every(b=>{let[I,R]=b;return Array.isArray(R)?R.includes({...a,...u}[I]):{...a,...u}[I]===R})?[...m,y,x]:m},[]);return tE(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},dy="-",UF=t=>{const e=zF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(dy);return u[0]===""&&u.length!==1&&u.shift(),vC(u,e)||$F(l)},getConflictingClassGroupIds:(l,u)=>{const h=n[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},vC=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?vC(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(dy);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},nE=/^\[(.+)\]$/,$F=t=>{if(nE.test(t)){const e=nE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zF=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const o in n)Lg(n[o],r,o,e);return r},Lg=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:rE(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(BF(o)){Lg(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,l])=>{Lg(l,rE(e,a),n,r)})})},rE=(t,e)=>{let n=t;return e.split(dy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},BF=t=>t.isThemeGetter,WF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return o(a,l),l},set(a,l){n.has(a)?n.set(a,l):o(a,l)}}},Vg="!",Fg=":",HF=Fg.length,qF=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const a=[];let l=0,u=0,h=0,m;for(let b=0;b<o.length;b++){let I=o[b];if(l===0&&u===0){if(I===Fg){a.push(o.slice(h,b)),h=b+HF;continue}if(I==="/"){m=b;continue}}I==="["?l++:I==="]"?l--:I==="("?u++:I===")"&&u--}const v=a.length===0?o:o.substring(h),y=GF(v),x=y!==v,T=m&&m>h?m-h:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:T}};if(e){const o=e+Fg,a=r;r=l=>l.startsWith(o)?a(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=a=>n({className:a,parseClassName:o})}return r},GF=t=>t.endsWith(Vg)?t.substring(0,t.length-1):t.startsWith(Vg)?t.substring(1):t,KF=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(o.push(...a.sort(),l),a=[]):a.push(l)}),o.push(...a.sort()),o}},QF=t=>({cache:WF(t.cacheSize),parseClassName:qF(t),sortModifiers:KF(t),...UF(t)}),YF=/\s+/,XF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,l=[],u=t.trim().split(YF);let h="";for(let m=u.length-1;m>=0;m-=1){const v=u[m],{isExternal:y,modifiers:x,hasImportantModifier:T,baseClassName:b,maybePostfixModifierPosition:I}=n(v);if(y){h=v+(h.length>0?" "+h:h);continue}let R=!!I,D=r(R?b.substring(0,I):b);if(!D){if(!R){h=v+(h.length>0?" "+h:h);continue}if(D=r(b),!D){h=v+(h.length>0?" "+h:h);continue}R=!1}const U=a(x).join(":"),V=T?U+Vg:U,$=V+D;if(l.includes($))continue;l.push($);const W=o(D,R);for(let Y=0;Y<W.length;++Y){const N=W[Y];l.push(V+N)}h=v+(h.length>0?" "+h:h)}return h};function JF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yC(e))&&(r&&(r+=" "),r+=n);return r}const yC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yC(t[r]))&&(n&&(n+=" "),n+=e);return n};function ZF(t,...e){let n,r,o,a=l;function l(h){const m=e.reduce((v,y)=>y(v),t());return n=QF(m),r=n.cache.get,o=n.cache.set,a=u,u(h)}function u(h){const m=r(h);if(m)return m;const v=XF(h,n);return o(h,v),v}return function(){return a(JF.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_C=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eU=/^\d+\/\d+$/,tU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ma=t=>eU.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),vo=t=>!!t&&Number.isInteger(Number(t)),qm=t=>t.endsWith("%")&&We(t.slice(0,-1)),Cs=t=>tU.test(t),iU=()=>!0,aU=t=>nU.test(t)&&!rU.test(t),xC=()=>!1,lU=t=>sU.test(t),cU=t=>oU.test(t),uU=t=>!_e(t)&&!xe(t),dU=t=>_l(t,TC,xC),_e=t=>wC.test(t),wi=t=>_l(t,IC,aU),Gm=t=>_l(t,gU,We),sE=t=>_l(t,EC,xC),hU=t=>_l(t,SC,cU),Wd=t=>_l(t,CC,lU),xe=t=>_C.test(t),xc=t=>xl(t,IC),fU=t=>xl(t,vU),oE=t=>xl(t,EC),pU=t=>xl(t,TC),mU=t=>xl(t,SC),Hd=t=>xl(t,CC,!0),_l=(t,e,n)=>{const r=wC.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},xl=(t,e,n=!1)=>{const r=_C.exec(t);return r?r[1]?e(r[1]):n:!1},EC=t=>t==="position"||t==="percentage",SC=t=>t==="image"||t==="url",TC=t=>t==="length"||t==="size"||t==="bg-size",IC=t=>t==="length",gU=t=>t==="number",vU=t=>t==="family-name",CC=t=>t==="shadow",yU=()=>{const t=Mt("color"),e=Mt("font"),n=Mt("text"),r=Mt("font-weight"),o=Mt("tracking"),a=Mt("leading"),l=Mt("breakpoint"),u=Mt("container"),h=Mt("spacing"),m=Mt("radius"),v=Mt("shadow"),y=Mt("inset-shadow"),x=Mt("text-shadow"),T=Mt("drop-shadow"),b=Mt("blur"),I=Mt("perspective"),R=Mt("aspect"),D=Mt("ease"),U=Mt("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...$(),xe,_e],Y=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[xe,_e,h],P=()=>[Ma,"full","auto",...A()],M=()=>[vo,"none","subgrid",xe,_e],j=()=>["auto",{span:["full",vo,xe,_e]},vo,xe,_e],F=()=>[vo,"auto",xe,_e],O=()=>["auto","min","max","fr",xe,_e],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...A()],me=()=>[Ma,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],q=()=>[t,xe,_e],ee=()=>[...$(),oE,sE,{position:[xe,_e]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",pU,dU,{size:[xe,_e]}],Z=()=>[qm,xc,wi],ue=()=>["","none","full",m,xe,_e],ve=()=>["",We,xc,wi],Re=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[We,qm,oE,sE],Ee=()=>["","none",b,xe,_e],Ce=()=>["none",We,xe,_e],Pe=()=>["none",We,xe,_e],$e=()=>[We,xe,_e],Be=()=>[Ma,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Cs],breakpoint:[Cs],color:[iU],container:[Cs],"drop-shadow":[Cs],ease:["in","out","in-out"],font:[uU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Cs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Cs],shadow:[Cs],spacing:["px",We],text:[Cs],"text-shadow":[Cs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ma,_e,xe,R]}],container:["container"],columns:[{columns:[We,_e,xe,u]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[vo,"auto",xe,_e]}],basis:[{basis:[Ma,"full","auto",u,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,Ma,"auto","initial","none",_e]}],grow:[{grow:["",We,xe,_e]}],shrink:[{shrink:["",We,xe,_e]}],order:[{order:[vo,"first","last","none",xe,_e]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[u,"screen",...me()]}],"min-w":[{"min-w":[u,"screen","none",...me()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...me()]}],h:[{h:["screen",...me()]}],"min-h":[{"min-h":["screen","none",...me()]}],"max-h":[{"max-h":["screen",...me()]}],"font-size":[{text:["base",n,xc,wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,Gm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qm,_e]}],"font-family":[{font:[fU,_e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,xe,_e]}],"line-clamp":[{"line-clamp":[We,"none",xe,Gm]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",xe,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",xe,wi]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[We,"auto",xe,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vo,xe,_e],radial:["",xe,_e],conic:[vo,xe,_e]},mU,hU]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,xe,_e]}],"outline-w":[{outline:["",We,xc,wi]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",v,Hd,Wd]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",y,Hd,Wd]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[We,wi]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",x,Hd,Wd]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[We,xe,_e]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[xe,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,_e]}],filter:[{filter:["","none",xe,_e]}],blur:[{blur:Ee()}],brightness:[{brightness:[We,xe,_e]}],contrast:[{contrast:[We,xe,_e]}],"drop-shadow":[{"drop-shadow":["","none",T,Hd,Wd]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",We,xe,_e]}],"hue-rotate":[{"hue-rotate":[We,xe,_e]}],invert:[{invert:["",We,xe,_e]}],saturate:[{saturate:[We,xe,_e]}],sepia:[{sepia:["",We,xe,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,_e]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[We,xe,_e]}],"backdrop-contrast":[{"backdrop-contrast":[We,xe,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,xe,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,xe,_e]}],"backdrop-invert":[{"backdrop-invert":["",We,xe,_e]}],"backdrop-opacity":[{"backdrop-opacity":[We,xe,_e]}],"backdrop-saturate":[{"backdrop-saturate":[We,xe,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",We,xe,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",xe,_e]}],ease:[{ease:["linear","initial",D,xe,_e]}],delay:[{delay:[We,xe,_e]}],animate:[{animate:["none",U,xe,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,xe,_e]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[xe,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,_e]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[We,xc,wi,Gm]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wU=ZF(yU);function je(...t){return wU(gC(t))}const _U=uy("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function hy({className:t,variant:e,...n}){return p.jsx("div",{"data-slot":"alert",role:"alert",className:je(_U({variant:e}),t),...n})}function fy({className:t,...e}){return p.jsx("div",{"data-slot":"alert-description",className:je("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function xU(t,e){const n=_.createContext(e),r=a=>{const{children:l,...u}=a,h=_.useMemo(()=>u,Object.values(u));return p.jsx(n.Provider,{value:h,children:l})};r.displayName=t+"Provider";function o(a){const l=_.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,o]}function jr(t,e=[]){let n=[];function r(a,l){const u=_.createContext(l),h=n.length;n=[...n,l];const m=y=>{var D;const{scope:x,children:T,...b}=y,I=((D=x==null?void 0:x[t])==null?void 0:D[h])||u,R=_.useMemo(()=>b,Object.values(b));return p.jsx(I.Provider,{value:R,children:T})};m.displayName=a+"Provider";function v(y,x){var I;const T=((I=x==null?void 0:x[t])==null?void 0:I[h])||u,b=_.useContext(T);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[m,v]}const o=()=>{const a=n.map(l=>_.createContext(l));return function(u){const h=(u==null?void 0:u[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return o.scopeName=t,[r,EU(o,...e)]}function EU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=r.reduce((u,{useScope:h,scopeName:m})=>{const y=h(a)[`__scope${m}`];return{...u,...y}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Bt(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var At=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{};function iE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rf(...t){return e=>{let n=!1;const r=t.map(o=>{const a=iE(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():iE(t[o],null)}}}}function Xe(...t){return _.useCallback(Rf(...t),t)}function Pi(t){const e=SU(t),n=_.forwardRef((r,o)=>{const{children:a,...l}=r,u=_.Children.toArray(a),h=u.find(IU);if(h){const m=h.props.children,v=u.map(y=>y===h?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:y);return p.jsx(e,{...l,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return p.jsx(e,{...l,ref:o,children:a})});return n.displayName=`${t}.Slot`,n}var bC=Pi("Slot");function SU(t){const e=_.forwardRef((n,r)=>{const{children:o,...a}=n;if(_.isValidElement(o)){const l=bU(o),u=CU(a,o.props);return o.type!==_.Fragment&&(u.ref=r?Rf(r,l):l),_.cloneElement(o,u)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AC=Symbol("radix.slottable");function TU(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=AC,e}function IU(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AC}function CU(t,e){const n={...e};for(const r in e){const o=t[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...u)=>{a(...u),o(...u)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function bU(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var AU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=AU.reduce((t,e)=>{const n=Pi(`Primitive.${e}`),r=_.forwardRef((o,a)=>{const{asChild:l,...u}=o,h=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function RC(t,e){t&&fu.flushSync(()=>t.dispatchEvent(e))}var Km={exports:{}},Qm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function RU(){if(aE)return Qm;aE=1;var t=Yh();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(y,x){var T=x(),b=r({inst:{value:T,getSnapshot:x}}),I=b[0].inst,R=b[1];return a(function(){I.value=T,I.getSnapshot=x,h(I)&&R({inst:I})},[y,T,x]),o(function(){return h(I)&&R({inst:I}),y(function(){h(I)&&R({inst:I})})},[y]),l(T),T}function h(y){var x=y.getSnapshot;y=y.value;try{var T=x();return!n(y,T)}catch{return!0}}function m(y,x){return x()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Qm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,Qm}var lE;function PU(){return lE||(lE=1,Km.exports=RU()),Km.exports}var kU=PU();function NU(){return kU.useSyncExternalStore(DU,()=>!0,()=>!1)}function DU(){return()=>{}}var py="Avatar",[MU,ZB]=jr(py),[OU,PC]=MU(py),kC=_.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[o,a]=_.useState("idle");return p.jsx(OU,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:p.jsx(Ve.span,{...r,ref:e})})});kC.displayName=py;var NC="AvatarImage",DC=_.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...a}=t,l=PC(NC,n),u=jU(r,a),h=Bt(m=>{o(m),l.onImageLoadingStatusChange(m)});return At(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?p.jsx(Ve.img,{...a,ref:e,src:r}):null});DC.displayName=NC;var MC="AvatarFallback",OC=_.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...o}=t,a=PC(MC,n),[l,u]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(h)}},[r]),l&&a.imageLoadingStatus!=="loaded"?p.jsx(Ve.span,{...o,ref:e}):null});OC.displayName=MC;function cE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function jU(t,{referrerPolicy:e,crossOrigin:n}){const r=NU(),o=_.useRef(null),a=r?(o.current||(o.current=new window.Image),o.current):null,[l,u]=_.useState(()=>cE(a,t));return At(()=>{u(cE(a,t))},[a,t]),At(()=>{const h=y=>()=>{u(y)};if(!a)return;const m=h("loaded"),v=h("error");return a.addEventListener("load",m),a.addEventListener("error",v),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",m),a.removeEventListener("error",v)}},[a,n,e]),l}var LU=kC,VU=DC,FU=OC;function jC({className:t,...e}){return p.jsx(LU,{"data-slot":"avatar",className:je("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function LC({className:t,...e}){return p.jsx(VU,{"data-slot":"avatar-image",className:je("aspect-square size-full",t),...e})}function UU({className:t,...e}){return p.jsx(FU,{"data-slot":"avatar-fallback",className:je("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}const $U=uy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function my({className:t,variant:e,asChild:n=!1,...r}){const o=n?bC:"span";return p.jsx(o,{"data-slot":"badge",className:je($U({variant:e}),t),...r})}const gy=uy("inline-flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ze=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},a)=>{const l=r?bC:"button";return p.jsx(l,{className:je(gy({variant:e,size:n,className:t})),ref:a,...o})});ze.displayName="Button";function zU(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function BU(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function uE(t){const e=zU(t);return e.setHours(0,0,0,0),e}function WU(t){return BU(t,Date.now())}function HU(t,e){const n=uE(t),r=uE(e);return+n==+r}function qU(t){return HU(t,WU(t))}var Vc=function(){return Vc=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vc.apply(this,arguments)};var GU=_.createContext(void 0);function KU(){var t=_.useContext(GU);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}_.createContext(void 0);_.forwardRef(function(t,e){var n=KU(),r=n.classNames,o=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var l=a.join(" "),u=Vc(Vc({},o.button_reset),o.button);return t.style&&Object.assign(u,t.style),p.jsx("button",Vc({},t,{ref:e,type:"button",className:l,style:u}))});_.createContext(void 0);_.createContext(void 0);var os;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(os||(os={}));os.Selected;os.Disabled;os.Hidden;os.Today;os.RangeEnd;os.RangeMiddle;os.RangeStart;os.Outside;_.createContext(void 0);_.createContext(void 0);_.createContext(void 0);const an=_.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:je("rounded-xl border bg-card text-card-foreground shadow",t),...e}));an.displayName="Card";const Un=_.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Un.displayName="CardHeader";const $n=_.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:je("font-semibold leading-none tracking-tight",t),...e}));$n.displayName="CardTitle";const Pf=_.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Pf.displayName="CardDescription";const fn=_.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));fn.displayName="CardContent";const El=_.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));El.displayName="CardFooter";function ge(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}var QU=LE[" useInsertionEffect ".trim().toString()]||At;function il({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,a,l]=YU({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:o;{const v=_.useRef(t!==void 0);_.useEffect(()=>{const y=v.current;y!==u&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,r])}const m=_.useCallback(v=>{var y;if(u){const x=XU(v)?v(t):v;x!==t&&((y=l.current)==null||y.call(l,x))}else a(v)},[u,t,a,l]);return[h,m]}function YU({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),o=_.useRef(n),a=_.useRef(e);return QU(()=>{a.current=e},[e]),_.useEffect(()=>{var l;o.current!==n&&((l=a.current)==null||l.call(a,n),o.current=n)},[n,o]),[n,r,a]}function XU(t){return typeof t=="function"}function vy(t){const e=t+"CollectionProvider",[n,r]=jr(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:R,children:D}=I,U=wt.useRef(null),V=wt.useRef(new Map).current;return p.jsx(o,{scope:R,itemMap:V,collectionRef:U,children:D})};l.displayName=e;const u=t+"CollectionSlot",h=Pi(u),m=wt.forwardRef((I,R)=>{const{scope:D,children:U}=I,V=a(u,D),$=Xe(R,V.collectionRef);return p.jsx(h,{ref:$,children:U})});m.displayName=u;const v=t+"CollectionItemSlot",y="data-radix-collection-item",x=Pi(v),T=wt.forwardRef((I,R)=>{const{scope:D,children:U,...V}=I,$=wt.useRef(null),W=Xe(R,$),Y=a(v,D);return wt.useEffect(()=>(Y.itemMap.set($,{ref:$,...V}),()=>void Y.itemMap.delete($))),p.jsx(x,{[y]:"",ref:W,children:U})});T.displayName=v;function b(I){const R=a(t+"CollectionConsumer",I);return wt.useCallback(()=>{const U=R.collectionRef.current;if(!U)return[];const V=Array.from(U.querySelectorAll(`[${y}]`));return Array.from(R.itemMap.values()).sort((Y,N)=>V.indexOf(Y.ref.current)-V.indexOf(N.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:m,ItemSlot:T},b,r]}var JU=_.createContext(void 0);function pu(t){const e=_.useContext(JU);return t||e||"ltr"}function ZU(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t);_.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var e3="DismissableLayer",Ug="dismissableLayer.update",t3="dismissableLayer.pointerDownOutside",n3="dismissableLayer.focusOutside",dE,VC=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kf=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=t,m=_.useContext(VC),[v,y]=_.useState(null),x=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=_.useState({}),b=Xe(e,N=>y(N)),I=Array.from(m.layers),[R]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),D=I.indexOf(R),U=v?I.indexOf(v):-1,V=m.layersWithOutsidePointerEventsDisabled.size>0,$=U>=D,W=o3(N=>{const A=N.target,P=[...m.branches].some(M=>M.contains(A));!$||P||(o==null||o(N),l==null||l(N),N.defaultPrevented||u==null||u())},x),Y=i3(N=>{const A=N.target;[...m.branches].some(M=>M.contains(A))||(a==null||a(N),l==null||l(N),N.defaultPrevented||u==null||u())},x);return ZU(N=>{U===m.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&u&&(N.preventDefault(),u()))},x),_.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(dE=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),hE(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=dE)}},[v,x,n,m]),_.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),hE())},[v,m]),_.useEffect(()=>{const N=()=>T({});return document.addEventListener(Ug,N),()=>document.removeEventListener(Ug,N)},[]),p.jsx(Ve.div,{...h,ref:b,style:{pointerEvents:V?$?"auto":"none":void 0,...t.style},onFocusCapture:ge(t.onFocusCapture,Y.onFocusCapture),onBlurCapture:ge(t.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:ge(t.onPointerDownCapture,W.onPointerDownCapture)})});kf.displayName=e3;var r3="DismissableLayerBranch",s3=_.forwardRef((t,e)=>{const n=_.useContext(VC),r=_.useRef(null),o=Xe(e,r);return _.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),p.jsx(Ve.div,{...t,ref:o})});s3.displayName=r3;function o3(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=_.useRef(!1),o=_.useRef(()=>{});return _.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let h=function(){FC(t3,n,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function i3(t,e=globalThis==null?void 0:globalThis.document){const n=Bt(t),r=_.useRef(!1);return _.useEffect(()=>{const o=a=>{a.target&&!r.current&&FC(n3,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hE(){const t=new CustomEvent(Ug);document.dispatchEvent(t)}function FC(t,e,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?RC(o,a):o.dispatchEvent(a)}var Ym=0;function yy(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fE()),document.body.insertAdjacentElement("beforeend",t[1]??fE()),Ym++,()=>{Ym===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ym--}},[])}function fE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xm="focusScope.autoFocusOnMount",Jm="focusScope.autoFocusOnUnmount",pE={bubbles:!1,cancelable:!0},a3="FocusScope",Nf=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=t,[u,h]=_.useState(null),m=Bt(o),v=Bt(a),y=_.useRef(null),x=Xe(e,I=>h(I)),T=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let I=function(V){if(T.paused||!u)return;const $=V.target;u.contains($)?y.current=$:_o(y.current,{select:!0})},R=function(V){if(T.paused||!u)return;const $=V.relatedTarget;$!==null&&(u.contains($)||_o(y.current,{select:!0}))},D=function(V){if(document.activeElement===document.body)for(const W of V)W.removedNodes.length>0&&_o(u)};document.addEventListener("focusin",I),document.addEventListener("focusout",R);const U=new MutationObserver(D);return u&&U.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",R),U.disconnect()}}},[r,u,T.paused]),_.useEffect(()=>{if(u){gE.add(T);const I=document.activeElement;if(!u.contains(I)){const D=new CustomEvent(Xm,pE);u.addEventListener(Xm,m),u.dispatchEvent(D),D.defaultPrevented||(l3(f3(UC(u)),{select:!0}),document.activeElement===I&&_o(u))}return()=>{u.removeEventListener(Xm,m),setTimeout(()=>{const D=new CustomEvent(Jm,pE);u.addEventListener(Jm,v),u.dispatchEvent(D),D.defaultPrevented||_o(I??document.body,{select:!0}),u.removeEventListener(Jm,v),gE.remove(T)},0)}}},[u,m,v,T]);const b=_.useCallback(I=>{if(!n&&!r||T.paused)return;const R=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,D=document.activeElement;if(R&&D){const U=I.currentTarget,[V,$]=c3(U);V&&$?!I.shiftKey&&D===$?(I.preventDefault(),n&&_o(V,{select:!0})):I.shiftKey&&D===V&&(I.preventDefault(),n&&_o($,{select:!0})):D===U&&I.preventDefault()}},[n,r,T.paused]);return p.jsx(Ve.div,{tabIndex:-1,...l,ref:x,onKeyDown:b})});Nf.displayName=a3;function l3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_o(r,{select:e}),document.activeElement!==n)return}function c3(t){const e=UC(t),n=mE(e,t),r=mE(e.reverse(),t);return[n,r]}function UC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mE(t,e){for(const n of t)if(!u3(n,{upTo:e}))return n}function u3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function d3(t){return t instanceof HTMLInputElement&&"select"in t}function _o(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&d3(t)&&e&&t.select()}}var gE=h3();function h3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=vE(t,e),t.unshift(e)},remove(e){var n;t=vE(t,e),(n=t[0])==null||n.resume()}}}function vE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function f3(t){return t.filter(e=>e.tagName!=="A")}var p3=LE[" useId ".trim().toString()]||(()=>{}),m3=0;function ts(t){const[e,n]=_.useState(p3());return At(()=>{n(r=>r??String(m3++))},[t]),t||(e?`radix-${e}`:"")}const g3=["top","right","bottom","left"],jo=Math.min,Mn=Math.max,Vh=Math.round,qd=Math.floor,ns=t=>({x:t,y:t}),v3={left:"right",right:"left",bottom:"top",top:"bottom"},y3={start:"end",end:"start"};function $g(t,e,n){return Mn(t,jo(e,n))}function Us(t,e){return typeof t=="function"?t(e):t}function $s(t){return t.split("-")[0]}function Sl(t){return t.split("-")[1]}function wy(t){return t==="x"?"y":"x"}function _y(t){return t==="y"?"height":"width"}function Ms(t){return["top","bottom"].includes($s(t))?"y":"x"}function xy(t){return wy(Ms(t))}function w3(t,e,n){n===void 0&&(n=!1);const r=Sl(t),o=xy(t),a=_y(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Fh(l)),[l,Fh(l)]}function _3(t){const e=Fh(t);return[zg(t),e,zg(e)]}function zg(t){return t.replace(/start|end/g,e=>y3[e])}function x3(t,e,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?a:l;default:return[]}}function E3(t,e,n,r){const o=Sl(t);let a=x3($s(t),n==="start",r);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(zg)))),a}function Fh(t){return t.replace(/left|right|bottom|top/g,e=>v3[e])}function S3(t){return{top:0,right:0,bottom:0,left:0,...t}}function $C(t){return typeof t!="number"?S3(t):{top:t,right:t,bottom:t,left:t}}function Uh(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function yE(t,e,n){let{reference:r,floating:o}=t;const a=Ms(e),l=xy(e),u=_y(l),h=$s(e),m=a==="y",v=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,x=r[u]/2-o[u]/2;let T;switch(h){case"top":T={x:v,y:r.y-o.height};break;case"bottom":T={x:v,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y};break;case"left":T={x:r.x-o.width,y};break;default:T={x:r.x,y:r.y}}switch(Sl(e)){case"start":T[l]-=x*(n&&m?-1:1);break;case"end":T[l]+=x*(n&&m?-1:1);break}return T}const T3=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:v,y}=yE(m,r,h),x=r,T={},b=0;for(let I=0;I<u.length;I++){const{name:R,fn:D}=u[I],{x:U,y:V,data:$,reset:W}=await D({x:v,y,initialPlacement:r,placement:x,strategy:o,middlewareData:T,rects:m,platform:l,elements:{reference:t,floating:e}});v=U??v,y=V??y,T={...T,[R]:{...T[R],...$}},W&&b<=50&&(b++,typeof W=="object"&&(W.placement&&(x=W.placement),W.rects&&(m=W.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):W.rects),{x:v,y}=yE(m,x,h)),I=-1)}return{x:v,y,placement:x,strategy:o,middlewareData:T}};async function Yc(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:l,elements:u,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:x=!1,padding:T=0}=Us(e,t),b=$C(T),R=u[x?y==="floating"?"reference":"floating":y],D=Uh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:m,rootBoundary:v,strategy:h})),U=y==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),$=await(a.isElement==null?void 0:a.isElement(V))?await(a.getScale==null?void 0:a.getScale(V))||{x:1,y:1}:{x:1,y:1},W=Uh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:V,strategy:h}):U);return{top:(D.top-W.top+b.top)/$.y,bottom:(W.bottom-D.bottom+b.bottom)/$.y,left:(D.left-W.left+b.left)/$.x,right:(W.right-D.right+b.right)/$.x}}const I3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:a,platform:l,elements:u,middlewareData:h}=e,{element:m,padding:v=0}=Us(t,e)||{};if(m==null)return{};const y=$C(v),x={x:n,y:r},T=xy(o),b=_y(T),I=await l.getDimensions(m),R=T==="y",D=R?"top":"left",U=R?"bottom":"right",V=R?"clientHeight":"clientWidth",$=a.reference[b]+a.reference[T]-x[T]-a.floating[b],W=x[T]-a.reference[T],Y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let N=Y?Y[V]:0;(!N||!await(l.isElement==null?void 0:l.isElement(Y)))&&(N=u.floating[V]||a.floating[b]);const A=$/2-W/2,P=N/2-I[b]/2-1,M=jo(y[D],P),j=jo(y[U],P),F=M,O=N-I[b]-j,Te=N/2-I[b]/2+A,be=$g(F,Te,O),he=!h.arrow&&Sl(o)!=null&&Te!==be&&a.reference[b]/2-(Te<F?M:j)-I[b]/2<0,me=he?Te<F?Te-F:Te-O:0;return{[T]:x[T]+me,data:{[T]:be,centerOffset:Te-be-me,...he&&{alignmentOffset:me}},reset:he}}}),C3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:m}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:I=!0,...R}=Us(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const D=$s(o),U=Ms(u),V=$s(u)===u,$=await(h.isRTL==null?void 0:h.isRTL(m.floating)),W=x||(V||!I?[Fh(u)]:_3(u)),Y=b!=="none";!x&&Y&&W.push(...E3(u,I,b,$));const N=[u,...W],A=await Yc(e,R),P=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&P.push(A[D]),y){const be=w3(o,l,$);P.push(A[be[0]],A[be[1]])}if(M=[...M,{placement:o,overflows:P}],!P.every(be=>be<=0)){var j,F;const be=(((j=a.flip)==null?void 0:j.index)||0)+1,he=N[be];if(he){var O;const q=y==="alignment"?U!==Ms(he):!1,ee=((O=M[0])==null?void 0:O.overflows[0])>0;if(!q||ee)return{data:{index:be,overflows:M},reset:{placement:he}}}let me=(F=M.filter(q=>q.overflows[0]<=0).sort((q,ee)=>q.overflows[1]-ee.overflows[1])[0])==null?void 0:F.placement;if(!me)switch(T){case"bestFit":{var Te;const q=(Te=M.filter(ee=>{if(Y){const re=Ms(ee.placement);return re===U||re==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(re=>re>0).reduce((re,B)=>re+B,0)]).sort((ee,re)=>ee[1]-re[1])[0])==null?void 0:Te[0];q&&(me=q);break}case"initialPlacement":me=u;break}if(o!==me)return{reset:{placement:me}}}return{}}}};function wE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _E(t){return g3.some(e=>t[e]>=0)}const b3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=Us(t,e);switch(r){case"referenceHidden":{const a=await Yc(e,{...o,elementContext:"reference"}),l=wE(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:_E(l)}}}case"escaped":{const a=await Yc(e,{...o,altBoundary:!0}),l=wE(a,n.floating);return{data:{escapedOffsets:l,escaped:_E(l)}}}default:return{}}}}};async function A3(t,e){const{placement:n,platform:r,elements:o}=t,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=$s(n),u=Sl(n),h=Ms(n)==="y",m=["left","top"].includes(l)?-1:1,v=a&&h?-1:1,y=Us(e,t);let{mainAxis:x,crossAxis:T,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof b=="number"&&(T=u==="end"?b*-1:b),h?{x:T*v,y:x*m}:{x:x*m,y:T*v}}const R3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:a,placement:l,middlewareData:u}=e,h=await A3(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:l}}}}},P3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:D,y:U}=R;return{x:D,y:U}}},...h}=Us(t,e),m={x:n,y:r},v=await Yc(e,h),y=Ms($s(o)),x=wy(y);let T=m[x],b=m[y];if(a){const R=x==="y"?"top":"left",D=x==="y"?"bottom":"right",U=T+v[R],V=T-v[D];T=$g(U,T,V)}if(l){const R=y==="y"?"top":"left",D=y==="y"?"bottom":"right",U=b+v[R],V=b-v[D];b=$g(U,b,V)}const I=u.fn({...e,[x]:T,[y]:b});return{...I,data:{x:I.x-n,y:I.y-r,enabled:{[x]:a,[y]:l}}}}}},k3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:m=!0}=Us(t,e),v={x:n,y:r},y=Ms(o),x=wy(y);let T=v[x],b=v[y];const I=Us(u,e),R=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(h){const V=x==="y"?"height":"width",$=a.reference[x]-a.floating[V]+R.mainAxis,W=a.reference[x]+a.reference[V]-R.mainAxis;T<$?T=$:T>W&&(T=W)}if(m){var D,U;const V=x==="y"?"width":"height",$=["top","left"].includes($s(o)),W=a.reference[y]-a.floating[V]+($&&((D=l.offset)==null?void 0:D[y])||0)+($?0:R.crossAxis),Y=a.reference[y]+a.reference[V]+($?0:((U=l.offset)==null?void 0:U[y])||0)-($?R.crossAxis:0);b<W?b=W:b>Y&&(b=Y)}return{[x]:T,[y]:b}}}},N3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:a,platform:l,elements:u}=e,{apply:h=()=>{},...m}=Us(t,e),v=await Yc(e,m),y=$s(o),x=Sl(o),T=Ms(o)==="y",{width:b,height:I}=a.floating;let R,D;y==="top"||y==="bottom"?(R=y,D=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=y,R=x==="end"?"top":"bottom");const U=I-v.top-v.bottom,V=b-v.left-v.right,$=jo(I-v[R],U),W=jo(b-v[D],V),Y=!e.middlewareData.shift;let N=$,A=W;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=V),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=U),Y&&!x){const M=Mn(v.left,0),j=Mn(v.right,0),F=Mn(v.top,0),O=Mn(v.bottom,0);T?A=b-2*(M!==0||j!==0?M+j:Mn(v.left,v.right)):N=I-2*(F!==0||O!==0?F+O:Mn(v.top,v.bottom))}await h({...e,availableWidth:A,availableHeight:N});const P=await l.getDimensions(u.floating);return b!==P.width||I!==P.height?{reset:{rects:!0}}:{}}}};function Df(){return typeof window<"u"}function Tl(t){return zC(t)?(t.nodeName||"").toLowerCase():"#document"}function Fn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function as(t){var e;return(e=(zC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zC(t){return Df()?t instanceof Node||t instanceof Fn(t).Node:!1}function kr(t){return Df()?t instanceof Element||t instanceof Fn(t).Element:!1}function is(t){return Df()?t instanceof HTMLElement||t instanceof Fn(t).HTMLElement:!1}function xE(t){return!Df()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fn(t).ShadowRoot}function mu(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function D3(t){return["table","td","th"].includes(Tl(t))}function Mf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ey(t){const e=Sy(),n=kr(t)?Nr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function M3(t){let e=Lo(t);for(;is(e)&&!al(e);){if(Ey(e))return e;if(Mf(e))return null;e=Lo(e)}return null}function Sy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function al(t){return["html","body","#document"].includes(Tl(t))}function Nr(t){return Fn(t).getComputedStyle(t)}function Of(t){return kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(Tl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xE(t)&&t.host||as(t);return xE(e)?e.host:e}function BC(t){const e=Lo(t);return al(e)?t.ownerDocument?t.ownerDocument.body:t.body:is(e)&&mu(e)?e:BC(e)}function Xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=BC(t),a=o===((r=t.ownerDocument)==null?void 0:r.body),l=Fn(o);if(a){const u=Bg(l);return e.concat(l,l.visualViewport||[],mu(o)?o:[],u&&n?Xc(u):[])}return e.concat(o,Xc(o,[],n))}function Bg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WC(t){const e=Nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=is(t),a=o?t.offsetWidth:n,l=o?t.offsetHeight:r,u=Vh(n)!==a||Vh(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function Ty(t){return kr(t)?t:t.contextElement}function Qa(t){const e=Ty(t);if(!is(e))return ns(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:a}=WC(e);let l=(a?Vh(n.width):n.width)/r,u=(a?Vh(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const O3=ns(0);function HC(t){const e=Fn(t);return!Sy()||!e.visualViewport?O3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function j3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Fn(t)?!1:e}function ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=Ty(t);let l=ns(1);e&&(r?kr(r)&&(l=Qa(r)):l=Qa(t));const u=j3(a,n,r)?HC(a):ns(0);let h=(o.left+u.x)/l.x,m=(o.top+u.y)/l.y,v=o.width/l.x,y=o.height/l.y;if(a){const x=Fn(a),T=r&&kr(r)?Fn(r):r;let b=x,I=Bg(b);for(;I&&r&&T!==b;){const R=Qa(I),D=I.getBoundingClientRect(),U=Nr(I),V=D.left+(I.clientLeft+parseFloat(U.paddingLeft))*R.x,$=D.top+(I.clientTop+parseFloat(U.paddingTop))*R.y;h*=R.x,m*=R.y,v*=R.x,y*=R.y,h+=V,m+=$,b=Fn(I),I=Bg(b)}}return Uh({width:v,height:y,x:h,y:m})}function Iy(t,e){const n=Of(t).scrollLeft;return e?e.left+n:ki(as(t)).left+n}function qC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:Iy(t,r)),a=r.top+e.scrollTop;return{x:o,y:a}}function L3(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const a=o==="fixed",l=as(r),u=e?Mf(e.floating):!1;if(r===l||u&&a)return n;let h={scrollLeft:0,scrollTop:0},m=ns(1);const v=ns(0),y=is(r);if((y||!y&&!a)&&((Tl(r)!=="body"||mu(l))&&(h=Of(r)),is(r))){const T=ki(r);m=Qa(r),v.x=T.x+r.clientLeft,v.y=T.y+r.clientTop}const x=l&&!y&&!a?qC(l,h,!0):ns(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+v.x+x.x,y:n.y*m.y-h.scrollTop*m.y+v.y+x.y}}function V3(t){return Array.from(t.getClientRects())}function F3(t){const e=as(t),n=Of(t),r=t.ownerDocument.body,o=Mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Iy(t);const u=-n.scrollTop;return Nr(r).direction==="rtl"&&(l+=Mn(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:l,y:u}}function U3(t,e){const n=Fn(t),r=as(t),o=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,h=0;if(o){a=o.width,l=o.height;const m=Sy();(!m||m&&e==="fixed")&&(u=o.offsetLeft,h=o.offsetTop)}return{width:a,height:l,x:u,y:h}}function $3(t,e){const n=ki(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,a=is(t)?Qa(t):ns(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,h=o*a.x,m=r*a.y;return{width:l,height:u,x:h,y:m}}function EE(t,e,n){let r;if(e==="viewport")r=U3(t,n);else if(e==="document")r=F3(as(t));else if(kr(e))r=$3(e,n);else{const o=HC(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Uh(r)}function GC(t,e){const n=Lo(t);return n===e||!kr(n)||al(n)?!1:Nr(n).position==="fixed"||GC(n,e)}function z3(t,e){const n=e.get(t);if(n)return n;let r=Xc(t,[],!1).filter(u=>kr(u)&&Tl(u)!=="body"),o=null;const a=Nr(t).position==="fixed";let l=a?Lo(t):t;for(;kr(l)&&!al(l);){const u=Nr(l),h=Ey(l);!h&&u.position==="fixed"&&(o=null),(a?!h&&!o:!h&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||mu(l)&&!h&&GC(t,l))?r=r.filter(v=>v!==l):o=u,l=Lo(l)}return e.set(t,r),r}function B3(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const l=[...n==="clippingAncestors"?Mf(e)?[]:z3(e,this._c):[].concat(n),r],u=l[0],h=l.reduce((m,v)=>{const y=EE(e,v,o);return m.top=Mn(y.top,m.top),m.right=jo(y.right,m.right),m.bottom=jo(y.bottom,m.bottom),m.left=Mn(y.left,m.left),m},EE(e,u,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function W3(t){const{width:e,height:n}=WC(t);return{width:e,height:n}}function H3(t,e,n){const r=is(e),o=as(e),a=n==="fixed",l=ki(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=ns(0);function m(){h.x=Iy(o)}if(r||!r&&!a)if((Tl(e)!=="body"||mu(o))&&(u=Of(e)),r){const T=ki(e,!0,a,e);h.x=T.x+e.clientLeft,h.y=T.y+e.clientTop}else o&&m();a&&!r&&o&&m();const v=o&&!r&&!a?qC(o,u):ns(0),y=l.left+u.scrollLeft-h.x-v.x,x=l.top+u.scrollTop-h.y-v.y;return{x:y,y:x,width:l.width,height:l.height}}function Zm(t){return Nr(t).position==="static"}function SE(t,e){if(!is(t)||Nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return as(t)===n&&(n=n.ownerDocument.body),n}function KC(t,e){const n=Fn(t);if(Mf(t))return n;if(!is(t)){let o=Lo(t);for(;o&&!al(o);){if(kr(o)&&!Zm(o))return o;o=Lo(o)}return n}let r=SE(t,e);for(;r&&D3(r)&&Zm(r);)r=SE(r,e);return r&&al(r)&&Zm(r)&&!Ey(r)?n:r||M3(t)||n}const q3=async function(t){const e=this.getOffsetParent||KC,n=this.getDimensions,r=await n(t.floating);return{reference:H3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function G3(t){return Nr(t).direction==="rtl"}const K3={convertOffsetParentRelativeRectToViewportRelativeRect:L3,getDocumentElement:as,getClippingRect:B3,getOffsetParent:KC,getElementRects:q3,getClientRects:V3,getDimensions:W3,getScale:Qa,isElement:kr,isRTL:G3};function QC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Q3(t,e){let n=null,r;const o=as(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const m=t.getBoundingClientRect(),{left:v,top:y,width:x,height:T}=m;if(u||e(),!x||!T)return;const b=qd(y),I=qd(o.clientWidth-(v+x)),R=qd(o.clientHeight-(y+T)),D=qd(v),V={rootMargin:-b+"px "+-I+"px "+-R+"px "+-D+"px",threshold:Mn(0,jo(1,h))||1};let $=!0;function W(Y){const N=Y[0].intersectionRatio;if(N!==h){if(!$)return l();N?l(!1,N):r=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!QC(m,t.getBoundingClientRect())&&l(),$=!1}try{n=new IntersectionObserver(W,{...V,root:o.ownerDocument})}catch{n=new IntersectionObserver(W,V)}n.observe(t)}return l(!0),a}function Y3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=Ty(t),v=o||a?[...m?Xc(m):[],...Xc(e)]:[];v.forEach(D=>{o&&D.addEventListener("scroll",n,{passive:!0}),a&&D.addEventListener("resize",n)});const y=m&&u?Q3(m,n):null;let x=-1,T=null;l&&(T=new ResizeObserver(D=>{let[U]=D;U&&U.target===m&&T&&(T.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var V;(V=T)==null||V.observe(e)})),n()}),m&&!h&&T.observe(m),T.observe(e));let b,I=h?ki(t):null;h&&R();function R(){const D=ki(t);I&&!QC(I,D)&&n(),I=D,b=requestAnimationFrame(R)}return n(),()=>{var D;v.forEach(U=>{o&&U.removeEventListener("scroll",n),a&&U.removeEventListener("resize",n)}),y==null||y(),(D=T)==null||D.disconnect(),T=null,h&&cancelAnimationFrame(b)}}const X3=R3,J3=P3,Z3=C3,e9=N3,t9=b3,TE=I3,n9=k3,r9=(t,e,n)=>{const r=new Map,o={platform:K3,...n},a={...o.platform,_c:r};return T3(t,e,{...o,platform:a})};var hh=typeof document<"u"?_.useLayoutEffect:_.useEffect;function $h(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$h(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&t.$$typeof)&&!$h(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function YC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IE(t,e){const n=YC(t);return Math.round(e*n)/n}function eg(t){const e=_.useRef(t);return hh(()=>{e.current=t}),e}function s9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:m}=t,[v,y]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,T]=_.useState(r);$h(x,r)||T(r);const[b,I]=_.useState(null),[R,D]=_.useState(null),U=_.useCallback(q=>{q!==Y.current&&(Y.current=q,I(q))},[]),V=_.useCallback(q=>{q!==N.current&&(N.current=q,D(q))},[]),$=a||b,W=l||R,Y=_.useRef(null),N=_.useRef(null),A=_.useRef(v),P=h!=null,M=eg(h),j=eg(o),F=eg(m),O=_.useCallback(()=>{if(!Y.current||!N.current)return;const q={placement:e,strategy:n,middleware:x};j.current&&(q.platform=j.current),r9(Y.current,N.current,q).then(ee=>{const re={...ee,isPositioned:F.current!==!1};Te.current&&!$h(A.current,re)&&(A.current=re,fu.flushSync(()=>{y(re)}))})},[x,e,n,j,F]);hh(()=>{m===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,y(q=>({...q,isPositioned:!1})))},[m]);const Te=_.useRef(!1);hh(()=>(Te.current=!0,()=>{Te.current=!1}),[]),hh(()=>{if($&&(Y.current=$),W&&(N.current=W),$&&W){if(M.current)return M.current($,W,O);O()}},[$,W,O,M,P]);const be=_.useMemo(()=>({reference:Y,floating:N,setReference:U,setFloating:V}),[U,V]),he=_.useMemo(()=>({reference:$,floating:W}),[$,W]),me=_.useMemo(()=>{const q={position:n,left:0,top:0};if(!he.floating)return q;const ee=IE(he.floating,v.x),re=IE(he.floating,v.y);return u?{...q,transform:"translate("+ee+"px, "+re+"px)",...YC(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:re}},[n,u,he.floating,v.x,v.y]);return _.useMemo(()=>({...v,update:O,refs:be,elements:he,floatingStyles:me}),[v,O,be,he,me])}const o9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?TE({element:r.current,padding:o}).fn(n):{}:r?TE({element:r,padding:o}).fn(n):{}}}},i9=(t,e)=>({...X3(t),options:[t,e]}),a9=(t,e)=>({...J3(t),options:[t,e]}),l9=(t,e)=>({...n9(t),options:[t,e]}),c9=(t,e)=>({...Z3(t),options:[t,e]}),u9=(t,e)=>({...e9(t),options:[t,e]}),d9=(t,e)=>({...t9(t),options:[t,e]}),h9=(t,e)=>({...o9(t),options:[t,e]});var f9="Arrow",XC=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...a}=t;return p.jsx(Ve.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});XC.displayName=f9;var p9=XC;function m9(t){const[e,n]=_.useState(void 0);return At(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,m=Array.isArray(h)?h[0]:h;l=m.inlineSize,u=m.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Cy="Popper",[JC,jf]=jr(Cy),[g9,ZC]=JC(Cy),eb=t=>{const{__scopePopper:e,children:n}=t,[r,o]=_.useState(null);return p.jsx(g9,{scope:e,anchor:r,onAnchorChange:o,children:n})};eb.displayName=Cy;var tb="PopperAnchor",nb=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,a=ZC(tb,n),l=_.useRef(null),u=Xe(e,l);return _.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:p.jsx(Ve.div,{...o,ref:u})});nb.displayName=tb;var by="PopperContent",[v9,y9]=JC(by),rb=_.forwardRef((t,e)=>{var oe,Ee,Ce,Pe,$e,Be;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:T="optimized",onPlaced:b,...I}=t,R=ZC(by,n),[D,U]=_.useState(null),V=Xe(e,vt=>U(vt)),[$,W]=_.useState(null),Y=m9($),N=(Y==null?void 0:Y.width)??0,A=(Y==null?void 0:Y.height)??0,P=r+(a!=="center"?"-"+a:""),M=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},j=Array.isArray(m)?m:[m],F=j.length>0,O={padding:M,boundary:j.filter(_9),altBoundary:F},{refs:Te,floatingStyles:be,placement:he,isPositioned:me,middlewareData:q}=s9({strategy:"fixed",placement:P,whileElementsMounted:(...vt)=>Y3(...vt,{animationFrame:T==="always"}),elements:{reference:R.anchor},middleware:[i9({mainAxis:o+A,alignmentAxis:l}),h&&a9({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?l9():void 0,...O}),h&&c9({...O}),u9({...O,apply:({elements:vt,rects:jt,availableWidth:Bn,availableHeight:ir})=>{const{width:ar,height:Wi}=jt.reference,lr=vt.floating.style;lr.setProperty("--radix-popper-available-width",`${Bn}px`),lr.setProperty("--radix-popper-available-height",`${ir}px`),lr.setProperty("--radix-popper-anchor-width",`${ar}px`),lr.setProperty("--radix-popper-anchor-height",`${Wi}px`)}}),$&&h9({element:$,padding:u}),x9({arrowWidth:N,arrowHeight:A}),x&&d9({strategy:"referenceHidden",...O})]}),[ee,re]=ib(he),B=Bt(b);At(()=>{me&&(B==null||B())},[me,B]);const Z=(oe=q.arrow)==null?void 0:oe.x,ue=(Ee=q.arrow)==null?void 0:Ee.y,ve=((Ce=q.arrow)==null?void 0:Ce.centerOffset)!==0,[Re,De]=_.useState();return At(()=>{D&&De(window.getComputedStyle(D).zIndex)},[D]),p.jsx("div",{ref:Te.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:me?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(Pe=q.transformOrigin)==null?void 0:Pe.x,($e=q.transformOrigin)==null?void 0:$e.y].join(" "),...((Be=q.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(v9,{scope:n,placedSide:ee,onArrowChange:W,arrowX:Z,arrowY:ue,shouldHideArrow:ve,children:p.jsx(Ve.div,{"data-side":ee,"data-align":re,...I,ref:V,style:{...I.style,animation:me?void 0:"none"}})})})});rb.displayName=by;var sb="PopperArrow",w9={top:"bottom",right:"left",bottom:"top",left:"right"},ob=_.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,a=y9(sb,r),l=w9[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(p9,{...o,ref:n,style:{...o.style,display:"block"}})})});ob.displayName=sb;function _9(t){return t!==null}var x9=t=>({name:"transformOrigin",options:t,fn(e){var R,D,U;const{placement:n,rects:r,middlewareData:o}=e,l=((R=o.arrow)==null?void 0:R.centerOffset)!==0,u=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[m,v]=ib(n),y={start:"0%",center:"50%",end:"100%"}[v],x=(((D=o.arrow)==null?void 0:D.x)??0)+u/2,T=(((U=o.arrow)==null?void 0:U.y)??0)+h/2;let b="",I="";return m==="bottom"?(b=l?y:`${x}px`,I=`${-h}px`):m==="top"?(b=l?y:`${x}px`,I=`${r.floating.height+h}px`):m==="right"?(b=`${-h}px`,I=l?y:`${T}px`):m==="left"&&(b=`${r.floating.width+h}px`,I=l?y:`${T}px`),{data:{x:b,y:I}}}});function ib(t){const[e,n="center"]=t.split("-");return[e,n]}var ab=eb,lb=nb,cb=rb,ub=ob,E9="Portal",Lf=_.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[o,a]=_.useState(!1);At(()=>a(!0),[]);const l=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?RV.createPortal(p.jsx(Ve.div,{...r,ref:e}),l):null});Lf.displayName=E9;function S9(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var zn=t=>{const{present:e,children:n}=t,r=T9(e),o=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),a=Xe(r.ref,I9(o));return typeof n=="function"||r.isPresent?_.cloneElement(o,{ref:a}):null};zn.displayName="Presence";function T9(t){const[e,n]=_.useState(),r=_.useRef(null),o=_.useRef(t),a=_.useRef("none"),l=t?"mounted":"unmounted",[u,h]=S9(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=Gd(r.current);a.current=u==="mounted"?m:"none"},[u]),At(()=>{const m=r.current,v=o.current;if(v!==t){const x=a.current,T=Gd(m);t?h("MOUNT"):T==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(v&&x!==T?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),At(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,y=T=>{const I=Gd(r.current).includes(T.animationName);if(T.target===e&&I&&(h("ANIMATION_END"),!o.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},x=T=>{T.target===e&&(a.current=Gd(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:_.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function Gd(t){return(t==null?void 0:t.animationName)||"none"}function I9(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tg="rovingFocusGroup.onEntryFocus",C9={bubbles:!1,cancelable:!0},gu="RovingFocusGroup",[Wg,db,b9]=vy(gu),[A9,Vf]=jr(gu,[b9]),[R9,P9]=A9(gu),hb=_.forwardRef((t,e)=>p.jsx(Wg.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Wg.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(k9,{...t,ref:e})})}));hb.displayName=gu;var k9=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...y}=t,x=_.useRef(null),T=Xe(e,x),b=pu(a),[I,R]=il({prop:l,defaultProp:u??null,onChange:h,caller:gu}),[D,U]=_.useState(!1),V=Bt(m),$=db(n),W=_.useRef(!1),[Y,N]=_.useState(0);return _.useEffect(()=>{const A=x.current;if(A)return A.addEventListener(tg,V),()=>A.removeEventListener(tg,V)},[V]),p.jsx(R9,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:I,onItemFocus:_.useCallback(A=>R(A),[R]),onItemShiftTab:_.useCallback(()=>U(!0),[]),onFocusableItemAdd:_.useCallback(()=>N(A=>A+1),[]),onFocusableItemRemove:_.useCallback(()=>N(A=>A-1),[]),children:p.jsx(Ve.div,{tabIndex:D||Y===0?-1:0,"data-orientation":r,...y,ref:T,style:{outline:"none",...t.style},onMouseDown:ge(t.onMouseDown,()=>{W.current=!0}),onFocus:ge(t.onFocus,A=>{const P=!W.current;if(A.target===A.currentTarget&&P&&!D){const M=new CustomEvent(tg,C9);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const j=$().filter(he=>he.focusable),F=j.find(he=>he.active),O=j.find(he=>he.id===I),be=[F,O,...j].filter(Boolean).map(he=>he.ref.current);mb(be,v)}}W.current=!1}),onBlur:ge(t.onBlur,()=>U(!1))})})}),fb="RovingFocusGroupItem",pb=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,children:l,...u}=t,h=ts(),m=a||h,v=P9(fb,n),y=v.currentTabStopId===m,x=db(n),{onFocusableItemAdd:T,onFocusableItemRemove:b,currentTabStopId:I}=v;return _.useEffect(()=>{if(r)return T(),()=>b()},[r,T,b]),p.jsx(Wg.ItemSlot,{scope:n,id:m,focusable:r,active:o,children:p.jsx(Ve.span,{tabIndex:y?0:-1,"data-orientation":v.orientation,...u,ref:e,onMouseDown:ge(t.onMouseDown,R=>{r?v.onItemFocus(m):R.preventDefault()}),onFocus:ge(t.onFocus,()=>v.onItemFocus(m)),onKeyDown:ge(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){v.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const D=M9(R,v.orientation,v.dir);if(D!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let V=x().filter($=>$.focusable).map($=>$.ref.current);if(D==="last")V.reverse();else if(D==="prev"||D==="next"){D==="prev"&&V.reverse();const $=V.indexOf(R.currentTarget);V=v.loop?O9(V,$+1):V.slice($+1)}setTimeout(()=>mb(V))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:I!=null}):l})})});pb.displayName=fb;var N9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function M9(t,e,n){const r=D9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N9[r]}function mb(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function O9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gb=hb,vb=pb,j9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Oa=new WeakMap,Kd=new WeakMap,Qd={},ng=0,yb=function(t){return t&&(t.host||yb(t.parentNode))},L9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=yb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},V9=function(t,e,n,r){var o=L9(e,Array.isArray(t)?t:[t]);Qd[n]||(Qd[n]=new WeakMap);var a=Qd[n],l=[],u=new Set,h=new Set(o),m=function(y){!y||u.has(y)||(u.add(y),m(y.parentNode))};o.forEach(m);var v=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(x){if(u.has(x))v(x);else try{var T=x.getAttribute(r),b=T!==null&&T!=="false",I=(Oa.get(x)||0)+1,R=(a.get(x)||0)+1;Oa.set(x,I),a.set(x,R),l.push(x),I===1&&b&&Kd.set(x,!0),R===1&&x.setAttribute(n,"true"),b||x.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",x,D)}})};return v(e),u.clear(),ng++,function(){l.forEach(function(y){var x=Oa.get(y)-1,T=a.get(y)-1;Oa.set(y,x),a.set(y,T),x||(Kd.has(y)||y.removeAttribute(r),Kd.delete(y)),T||y.removeAttribute(n)}),ng--,ng||(Oa=new WeakMap,Oa=new WeakMap,Kd=new WeakMap,Qd={})}},Ay=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=j9(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),V9(r,o,n,"aria-hidden")):function(){return null}},fh="right-scroll-bar-position",ph="width-before-scroll-bar",F9="with-scroll-bars-hidden",U9="--removed-body-scroll-bar-size";function rg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $9(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var z9=typeof window<"u"?_.useLayoutEffect:_.useEffect,CE=new WeakMap;function B9(t,e){var n=$9(null,function(r){return t.forEach(function(o){return rg(o,r)})});return z9(function(){var r=CE.get(n);if(r){var o=new Set(r),a=new Set(t),l=n.current;o.forEach(function(u){a.has(u)||rg(u,null)}),a.forEach(function(u){o.has(u)||rg(u,l)})}CE.set(n,t)},[t]),n}function W9(t){return t}function H9(t,e){e===void 0&&(e=W9);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var h=function(){var v=l;l=[],v.forEach(a)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(v){l.push(v),m()},filter:function(v){return l=l.filter(v),n}}}};return o}function q9(t){t===void 0&&(t={});var e=H9(null);return e.options=Xr({async:!0,ssr:!1},t),e}var wb=function(t){var e=t.sideCar,n=tu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Xr({},n))};wb.isSideCarExport=!0;function G9(t,e){return t.useMedium(e),wb}var _b=q9(),sg=function(){},Ff=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:sg,onWheelCapture:sg,onTouchMoveCapture:sg}),o=r[0],a=r[1],l=t.forwardProps,u=t.children,h=t.className,m=t.removeScrollBar,v=t.enabled,y=t.shards,x=t.sideCar,T=t.noIsolation,b=t.inert,I=t.allowPinchZoom,R=t.as,D=R===void 0?"div":R,U=t.gapMode,V=tu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=x,W=B9([n,e]),Y=Xr(Xr({},V),o);return _.createElement(_.Fragment,null,v&&_.createElement($,{sideCar:_b,removeScrollBar:m,shards:y,noIsolation:T,inert:b,setCallbacks:a,allowPinchZoom:!!I,lockRef:n,gapMode:U}),l?_.cloneElement(_.Children.only(u),Xr(Xr({},Y),{ref:W})):_.createElement(D,Xr({},Y,{className:h,ref:W}),u))});Ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ff.classNames={fullWidth:ph,zeroRight:fh};var K9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=K9();return e&&t.setAttribute("nonce",e),t}function Y9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function X9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var J9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Q9())&&(Y9(e,n),X9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z9=function(){var t=J9();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xb=function(){var t=Z9(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},e5={left:0,top:0,right:0,gap:0},og=function(t){return parseInt(t||"",10)||0},t5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[og(n),og(r),og(o)]},n5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e5;var e=t5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},r5=xb(),Ya="data-scroll-locked",s5=function(t,e,n,r){var o=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(F9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ya,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ph,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(fh," .").concat(fh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ph," .").concat(ph,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ya,`] {
    `).concat(U9,": ").concat(u,`px;
  }
`)},bE=function(){var t=parseInt(document.body.getAttribute(Ya)||"0",10);return isFinite(t)?t:0},o5=function(){_.useEffect(function(){return document.body.setAttribute(Ya,(bE()+1).toString()),function(){var t=bE()-1;t<=0?document.body.removeAttribute(Ya):document.body.setAttribute(Ya,t.toString())}},[])},i5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;o5();var a=_.useMemo(function(){return n5(o)},[o]);return _.createElement(r5,{styles:s5(a,!e,o,n?"":"!important")})},Hg=!1;if(typeof window<"u")try{var Yd=Object.defineProperty({},"passive",{get:function(){return Hg=!0,!0}});window.addEventListener("test",Yd,Yd),window.removeEventListener("test",Yd,Yd)}catch{Hg=!1}var ja=Hg?{passive:!1}:!1,a5=function(t){return t.tagName==="TEXTAREA"},Eb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!a5(t)&&n[e]==="visible")},l5=function(t){return Eb(t,"overflowY")},c5=function(t){return Eb(t,"overflowX")},AE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Sb(t,r);if(o){var a=Tb(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},d5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Sb=function(t,e){return t==="v"?l5(e):c5(e)},Tb=function(t,e){return t==="v"?u5(e):d5(e)},h5=function(t,e){return t==="h"&&e==="rtl"?-1:1},f5=function(t,e,n,r,o){var a=h5(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,h=e.contains(u),m=!1,v=l>0,y=0,x=0;do{var T=Tb(t,u),b=T[0],I=T[1],R=T[2],D=I-R-a*b;(b||D)&&Sb(t,u)&&(y+=D,x+=b),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(v&&Math.abs(y)<1||!v&&Math.abs(x)<1)&&(m=!0),m},Xd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RE=function(t){return[t.deltaX,t.deltaY]},PE=function(t){return t&&"current"in t?t.current:t},p5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g5=0,La=[];function v5(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),o=_.useState(g5++)[0],a=_.useState(xb)[0],l=_.useRef(t);_.useEffect(function(){l.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var I=zk([t.lockRef.current],(t.shards||[]).map(PE),!0).filter(Boolean);return I.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var u=_.useCallback(function(I,R){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var D=Xd(I),U=n.current,V="deltaX"in I?I.deltaX:U[0]-D[0],$="deltaY"in I?I.deltaY:U[1]-D[1],W,Y=I.target,N=Math.abs(V)>Math.abs($)?"h":"v";if("touches"in I&&N==="h"&&Y.type==="range")return!1;var A=AE(N,Y);if(!A)return!0;if(A?W=N:(W=N==="v"?"h":"v",A=AE(N,Y)),!A)return!1;if(!r.current&&"changedTouches"in I&&(V||$)&&(r.current=W),!W)return!0;var P=r.current||W;return f5(P,R,I,P==="h"?V:$)},[]),h=_.useCallback(function(I){var R=I;if(!(!La.length||La[La.length-1]!==a)){var D="deltaY"in R?RE(R):Xd(R),U=e.current.filter(function(W){return W.name===R.type&&(W.target===R.target||R.target===W.shadowParent)&&p5(W.delta,D)})[0];if(U&&U.should){R.cancelable&&R.preventDefault();return}if(!U){var V=(l.current.shards||[]).map(PE).filter(Boolean).filter(function(W){return W.contains(R.target)}),$=V.length>0?u(R,V[0]):!l.current.noIsolation;$&&R.cancelable&&R.preventDefault()}}},[]),m=_.useCallback(function(I,R,D,U){var V={name:I,delta:R,target:D,should:U,shadowParent:y5(D)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function($){return $!==V})},1)},[]),v=_.useCallback(function(I){n.current=Xd(I),r.current=void 0},[]),y=_.useCallback(function(I){m(I.type,RE(I),I.target,u(I,t.lockRef.current))},[]),x=_.useCallback(function(I){m(I.type,Xd(I),I.target,u(I,t.lockRef.current))},[]);_.useEffect(function(){return La.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",h,ja),document.addEventListener("touchmove",h,ja),document.addEventListener("touchstart",v,ja),function(){La=La.filter(function(I){return I!==a}),document.removeEventListener("wheel",h,ja),document.removeEventListener("touchmove",h,ja),document.removeEventListener("touchstart",v,ja)}},[]);var T=t.removeScrollBar,b=t.inert;return _.createElement(_.Fragment,null,b?_.createElement(a,{styles:m5(o)}):null,T?_.createElement(i5,{gapMode:t.gapMode}):null)}function y5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const w5=G9(_b,v5);var Uf=_.forwardRef(function(t,e){return _.createElement(Ff,Xr({},t,{ref:e,sideCar:w5}))});Uf.classNames=Ff.classNames;var qg=["Enter"," "],_5=["ArrowDown","PageUp","Home"],Ib=["ArrowUp","PageDown","End"],x5=[..._5,...Ib],E5={ltr:[...qg,"ArrowRight"],rtl:[...qg,"ArrowLeft"]},S5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vu="Menu",[Jc,T5,I5]=vy(vu),[$i,Cb]=jr(vu,[I5,jf,Vf]),$f=jf(),bb=Vf(),[C5,zi]=$i(vu),[b5,yu]=$i(vu),Ab=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:a,modal:l=!0}=t,u=$f(e),[h,m]=_.useState(null),v=_.useRef(!1),y=Bt(a),x=pu(o);return _.useEffect(()=>{const T=()=>{v.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>v.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),p.jsx(ab,{...u,children:p.jsx(C5,{scope:e,open:n,onOpenChange:y,content:h,onContentChange:m,children:p.jsx(b5,{scope:e,onClose:_.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:v,dir:x,modal:l,children:r})})})};Ab.displayName=vu;var A5="MenuAnchor",Ry=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=$f(n);return p.jsx(lb,{...o,...r,ref:e})});Ry.displayName=A5;var Py="MenuPortal",[R5,Rb]=$i(Py,{forceMount:void 0}),Pb=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,a=zi(Py,e);return p.jsx(R5,{scope:e,forceMount:n,children:p.jsx(zn,{present:n||a.open,children:p.jsx(Lf,{asChild:!0,container:o,children:r})})})};Pb.displayName=Py;var rr="MenuContent",[P5,ky]=$i(rr),kb=_.forwardRef((t,e)=>{const n=Rb(rr,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,a=zi(rr,t.__scopeMenu),l=yu(rr,t.__scopeMenu);return p.jsx(Jc.Provider,{scope:t.__scopeMenu,children:p.jsx(zn,{present:r||a.open,children:p.jsx(Jc.Slot,{scope:t.__scopeMenu,children:l.modal?p.jsx(k5,{...o,ref:e}):p.jsx(N5,{...o,ref:e})})})})}),k5=_.forwardRef((t,e)=>{const n=zi(rr,t.__scopeMenu),r=_.useRef(null),o=Xe(e,r);return _.useEffect(()=>{const a=r.current;if(a)return Ay(a)},[]),p.jsx(Ny,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ge(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),N5=_.forwardRef((t,e)=>{const n=zi(rr,t.__scopeMenu);return p.jsx(Ny,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),D5=Pi("MenuContent.ScrollLock"),Ny=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:x,onDismiss:T,disableOutsideScroll:b,...I}=t,R=zi(rr,n),D=yu(rr,n),U=$f(n),V=bb(n),$=T5(n),[W,Y]=_.useState(null),N=_.useRef(null),A=Xe(e,N,R.onContentChange),P=_.useRef(0),M=_.useRef(""),j=_.useRef(0),F=_.useRef(null),O=_.useRef("right"),Te=_.useRef(0),be=b?Uf:_.Fragment,he=b?{as:D5,allowPinchZoom:!0}:void 0,me=ee=>{var oe,Ee;const re=M.current+ee,B=$().filter(Ce=>!Ce.disabled),Z=document.activeElement,ue=(oe=B.find(Ce=>Ce.ref.current===Z))==null?void 0:oe.textValue,ve=B.map(Ce=>Ce.textValue),Re=H5(ve,re,ue),De=(Ee=B.find(Ce=>Ce.textValue===Re))==null?void 0:Ee.ref.current;(function Ce(Pe){M.current=Pe,window.clearTimeout(P.current),Pe!==""&&(P.current=window.setTimeout(()=>Ce(""),1e3))})(re),De&&setTimeout(()=>De.focus())};_.useEffect(()=>()=>window.clearTimeout(P.current),[]),yy();const q=_.useCallback(ee=>{var B,Z;return O.current===((B=F.current)==null?void 0:B.side)&&G5(ee,(Z=F.current)==null?void 0:Z.area)},[]);return p.jsx(P5,{scope:n,searchRef:M,onItemEnter:_.useCallback(ee=>{q(ee)&&ee.preventDefault()},[q]),onItemLeave:_.useCallback(ee=>{var re;q(ee)||((re=N.current)==null||re.focus(),Y(null))},[q]),onTriggerLeave:_.useCallback(ee=>{q(ee)&&ee.preventDefault()},[q]),pointerGraceTimerRef:j,onPointerGraceIntentChange:_.useCallback(ee=>{F.current=ee},[]),children:p.jsx(be,{...he,children:p.jsx(Nf,{asChild:!0,trapped:o,onMountAutoFocus:ge(a,ee=>{var re;ee.preventDefault(),(re=N.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:p.jsx(kf,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:x,onDismiss:T,children:p.jsx(gb,{asChild:!0,...V,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:W,onCurrentTabStopIdChange:Y,onEntryFocus:ge(h,ee=>{D.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(cb,{role:"menu","aria-orientation":"vertical","data-state":Gb(R.open),"data-radix-menu-content":"",dir:D.dir,...U,...I,ref:A,style:{outline:"none",...I.style},onKeyDown:ge(I.onKeyDown,ee=>{const B=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,Z=ee.ctrlKey||ee.altKey||ee.metaKey,ue=ee.key.length===1;B&&(ee.key==="Tab"&&ee.preventDefault(),!Z&&ue&&me(ee.key));const ve=N.current;if(ee.target!==ve||!x5.includes(ee.key))return;ee.preventDefault();const De=$().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);Ib.includes(ee.key)&&De.reverse(),B5(De)}),onBlur:ge(t.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(P.current),M.current="")}),onPointerMove:ge(t.onPointerMove,Zc(ee=>{const re=ee.target,B=Te.current!==ee.clientX;if(ee.currentTarget.contains(re)&&B){const Z=ee.clientX>Te.current?"right":"left";O.current=Z,Te.current=ee.clientX}}))})})})})})})});kb.displayName=rr;var M5="MenuGroup",Dy=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Ve.div,{role:"group",...r,ref:e})});Dy.displayName=M5;var O5="MenuLabel",Nb=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Ve.div,{...r,ref:e})});Nb.displayName=O5;var zh="MenuItem",kE="menu.itemSelect",zf=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,a=_.useRef(null),l=yu(zh,t.__scopeMenu),u=ky(zh,t.__scopeMenu),h=Xe(e,a),m=_.useRef(!1),v=()=>{const y=a.current;if(!n&&y){const x=new CustomEvent(kE,{bubbles:!0,cancelable:!0});y.addEventListener(kE,T=>r==null?void 0:r(T),{once:!0}),RC(y,x),x.defaultPrevented?m.current=!1:l.onClose()}};return p.jsx(Db,{...o,ref:h,disabled:n,onClick:ge(t.onClick,v),onPointerDown:y=>{var x;(x=t.onPointerDown)==null||x.call(t,y),m.current=!0},onPointerUp:ge(t.onPointerUp,y=>{var x;m.current||(x=y.currentTarget)==null||x.click()}),onKeyDown:ge(t.onKeyDown,y=>{const x=u.searchRef.current!=="";n||x&&y.key===" "||qg.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});zf.displayName=zh;var Db=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=t,l=ky(zh,n),u=bb(n),h=_.useRef(null),m=Xe(e,h),[v,y]=_.useState(!1),[x,T]=_.useState("");return _.useEffect(()=>{const b=h.current;b&&T((b.textContent??"").trim())},[a.children]),p.jsx(Jc.ItemSlot,{scope:n,disabled:r,textValue:o??x,children:p.jsx(vb,{asChild:!0,...u,focusable:!r,children:p.jsx(Ve.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:m,onPointerMove:ge(t.onPointerMove,Zc(b=>{r?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(t.onPointerLeave,Zc(b=>l.onItemLeave(b))),onFocus:ge(t.onFocus,()=>y(!0)),onBlur:ge(t.onBlur,()=>y(!1))})})})}),j5="MenuCheckboxItem",Mb=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...o}=t;return p.jsx(Fb,{scope:t.__scopeMenu,checked:n,children:p.jsx(zf,{role:"menuitemcheckbox","aria-checked":Bh(n)?"mixed":n,...o,ref:e,"data-state":Oy(n),onSelect:ge(o.onSelect,()=>r==null?void 0:r(Bh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Mb.displayName=j5;var Ob="MenuRadioGroup",[L5,V5]=$i(Ob,{value:void 0,onValueChange:()=>{}}),jb=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...o}=t,a=Bt(r);return p.jsx(L5,{scope:t.__scopeMenu,value:n,onValueChange:a,children:p.jsx(Dy,{...o,ref:e})})});jb.displayName=Ob;var Lb="MenuRadioItem",Vb=_.forwardRef((t,e)=>{const{value:n,...r}=t,o=V5(Lb,t.__scopeMenu),a=n===o.value;return p.jsx(Fb,{scope:t.__scopeMenu,checked:a,children:p.jsx(zf,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Oy(a),onSelect:ge(r.onSelect,()=>{var l;return(l=o.onValueChange)==null?void 0:l.call(o,n)},{checkForDefaultPrevented:!1})})})});Vb.displayName=Lb;var My="MenuItemIndicator",[Fb,F5]=$i(My,{checked:!1}),Ub=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...o}=t,a=F5(My,n);return p.jsx(zn,{present:r||Bh(a.checked)||a.checked===!0,children:p.jsx(Ve.span,{...o,ref:e,"data-state":Oy(a.checked)})})});Ub.displayName=My;var U5="MenuSeparator",$b=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});$b.displayName=U5;var $5="MenuArrow",zb=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=$f(n);return p.jsx(ub,{...o,...r,ref:e})});zb.displayName=$5;var z5="MenuSub",[e8,Bb]=$i(z5),Ac="MenuSubTrigger",Wb=_.forwardRef((t,e)=>{const n=zi(Ac,t.__scopeMenu),r=yu(Ac,t.__scopeMenu),o=Bb(Ac,t.__scopeMenu),a=ky(Ac,t.__scopeMenu),l=_.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=a,m={__scopeMenu:t.__scopeMenu},v=_.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return _.useEffect(()=>v,[v]),_.useEffect(()=>{const y=u.current;return()=>{window.clearTimeout(y),h(null)}},[u,h]),p.jsx(Ry,{asChild:!0,...m,children:p.jsx(Db,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Gb(n.open),...t,ref:Rf(e,o.onTriggerChange),onClick:y=>{var x;(x=t.onClick)==null||x.call(t,y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ge(t.onPointerMove,Zc(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:ge(t.onPointerLeave,Zc(y=>{var T,b;v();const x=(T=n.content)==null?void 0:T.getBoundingClientRect();if(x){const I=(b=n.content)==null?void 0:b.dataset.side,R=I==="right",D=R?-5:5,U=x[R?"left":"right"],V=x[R?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+D,y:y.clientY},{x:U,y:x.top},{x:V,y:x.top},{x:V,y:x.bottom},{x:U,y:x.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ge(t.onKeyDown,y=>{var T;const x=a.searchRef.current!=="";t.disabled||x&&y.key===" "||E5[r.dir].includes(y.key)&&(n.onOpenChange(!0),(T=n.content)==null||T.focus(),y.preventDefault())})})})});Wb.displayName=Ac;var Hb="MenuSubContent",qb=_.forwardRef((t,e)=>{const n=Rb(rr,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,a=zi(rr,t.__scopeMenu),l=yu(rr,t.__scopeMenu),u=Bb(Hb,t.__scopeMenu),h=_.useRef(null),m=Xe(e,h);return p.jsx(Jc.Provider,{scope:t.__scopeMenu,children:p.jsx(zn,{present:r||a.open,children:p.jsx(Jc.Slot,{scope:t.__scopeMenu,children:p.jsx(Ny,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var y;l.isUsingKeyboardRef.current&&((y=h.current)==null||y.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:ge(t.onFocusOutside,v=>{v.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ge(t.onEscapeKeyDown,v=>{l.onClose(),v.preventDefault()}),onKeyDown:ge(t.onKeyDown,v=>{var T;const y=v.currentTarget.contains(v.target),x=S5[l.dir].includes(v.key);y&&x&&(a.onOpenChange(!1),(T=u.trigger)==null||T.focus(),v.preventDefault())})})})})})});qb.displayName=Hb;function Gb(t){return t?"open":"closed"}function Bh(t){return t==="indeterminate"}function Oy(t){return Bh(t)?"indeterminate":t?"checked":"unchecked"}function B5(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function W5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function H5(t,e,n){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=W5(t,Math.max(a,0));o.length===1&&(l=l.filter(m=>m!==n));const h=l.find(m=>m.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function q5(t,e){const{x:n,y:r}=t;let o=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],h=e[l],m=u.x,v=u.y,y=h.x,x=h.y;v>r!=x>r&&n<(y-m)*(r-v)/(x-v)+m&&(o=!o)}return o}function G5(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return q5(n,e)}function Zc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var K5=Ab,Q5=Ry,Y5=Pb,X5=kb,J5=Dy,Z5=Nb,e6=zf,t6=Mb,n6=jb,r6=Vb,s6=Ub,o6=$b,i6=zb,a6=Wb,l6=qb,Bf="DropdownMenu",[c6,t8]=jr(Bf,[Cb]),pn=Cb(),[u6,Kb]=c6(Bf),Qb=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:l,modal:u=!0}=t,h=pn(e),m=_.useRef(null),[v,y]=il({prop:o,defaultProp:a??!1,onChange:l,caller:Bf});return p.jsx(u6,{scope:e,triggerId:ts(),triggerRef:m,contentId:ts(),open:v,onOpenChange:y,onOpenToggle:_.useCallback(()=>y(x=>!x),[y]),modal:u,children:p.jsx(K5,{...h,open:v,onOpenChange:y,dir:r,modal:u,children:n})})};Qb.displayName=Bf;var Yb="DropdownMenuTrigger",Xb=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=t,a=Kb(Yb,n),l=pn(n);return p.jsx(Q5,{asChild:!0,...l,children:p.jsx(Ve.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Rf(e,a.triggerRef),onPointerDown:ge(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:ge(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});Xb.displayName=Yb;var d6="DropdownMenuPortal",Jb=t=>{const{__scopeDropdownMenu:e,...n}=t,r=pn(e);return p.jsx(Y5,{...r,...n})};Jb.displayName=d6;var Zb="DropdownMenuContent",eA=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Kb(Zb,n),a=pn(n),l=_.useRef(!1);return p.jsx(X5,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:e,onCloseAutoFocus:ge(t.onCloseAutoFocus,u=>{var h;l.current||(h=o.triggerRef.current)==null||h.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:ge(t.onInteractOutside,u=>{const h=u.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,v=h.button===2||m;(!o.modal||v)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eA.displayName=Zb;var h6="DropdownMenuGroup",f6=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(J5,{...o,...r,ref:e})});f6.displayName=h6;var p6="DropdownMenuLabel",tA=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(Z5,{...o,...r,ref:e})});tA.displayName=p6;var m6="DropdownMenuItem",nA=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(e6,{...o,...r,ref:e})});nA.displayName=m6;var g6="DropdownMenuCheckboxItem",v6=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(t6,{...o,...r,ref:e})});v6.displayName=g6;var y6="DropdownMenuRadioGroup",w6=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(n6,{...o,...r,ref:e})});w6.displayName=y6;var _6="DropdownMenuRadioItem",x6=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(r6,{...o,...r,ref:e})});x6.displayName=_6;var E6="DropdownMenuItemIndicator",S6=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(s6,{...o,...r,ref:e})});S6.displayName=E6;var T6="DropdownMenuSeparator",rA=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(o6,{...o,...r,ref:e})});rA.displayName=T6;var I6="DropdownMenuArrow",C6=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(i6,{...o,...r,ref:e})});C6.displayName=I6;var b6="DropdownMenuSubTrigger",A6=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(a6,{...o,...r,ref:e})});A6.displayName=b6;var R6="DropdownMenuSubContent",P6=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=pn(n);return p.jsx(l6,{...o,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P6.displayName=R6;var k6=Qb,N6=Xb,D6=Jb,M6=eA,O6=tA,j6=nA,L6=rA;function V6({...t}){return p.jsx(k6,{"data-slot":"dropdown-menu",...t})}function F6({...t}){return p.jsx(N6,{"data-slot":"dropdown-menu-trigger",...t})}function U6({className:t,sideOffset:e=4,...n}){return p.jsx(D6,{children:p.jsx(M6,{"data-slot":"dropdown-menu-content",sideOffset:e,className:je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Jd({className:t,inset:e,variant:n="default",...r}){return p.jsx(j6,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:je("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function $6({className:t,inset:e,...n}){return p.jsx(O6,{"data-slot":"dropdown-menu-label","data-inset":e,className:je("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function NE({className:t,...e}){return p.jsx(L6,{"data-slot":"dropdown-menu-separator",className:je("bg-border -mx-1 my-1 h-px",t),...e})}const z6=({message:t,className:e})=>t?p.jsxs("div",{className:je("flex items-center gap-2 text-destructive text-sm",e),children:[p.jsx(Lc,{className:"h-4 w-4"}),p.jsx("span",{children:t})]}):null;var B6="Label",sA=_.forwardRef((t,e)=>p.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sA.displayName=B6;var W6=sA;function jn({className:t,...e}){return p.jsx(W6,{"data-slot":"label",className:je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}_.createContext({});_.createContext({});const er=_.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));er.displayName="Input";function Gg(t,[e,n]){return Math.min(n,Math.max(e,t))}function H6(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var oA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),q6="VisuallyHidden",G6=_.forwardRef((t,e)=>p.jsx(Ve.span,{...t,ref:e,style:{...oA,...t.style}}));G6.displayName=q6;var K6=[" ","Enter","ArrowUp","ArrowDown"],Q6=[" ","Enter"],Ni="Select",[Wf,Hf,Y6]=vy(Ni),[Il,n8]=jr(Ni,[Y6,jf]),qf=jf(),[X6,Wo]=Il(Ni),[J6,Z6]=Il(Ni),iA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:a,value:l,defaultValue:u,onValueChange:h,dir:m,name:v,autoComplete:y,disabled:x,required:T,form:b}=t,I=qf(e),[R,D]=_.useState(null),[U,V]=_.useState(null),[$,W]=_.useState(!1),Y=pu(m),[N,A]=il({prop:r,defaultProp:o??!1,onChange:a,caller:Ni}),[P,M]=il({prop:l,defaultProp:u,onChange:h,caller:Ni}),j=_.useRef(null),F=R?b||!!R.closest("form"):!0,[O,Te]=_.useState(new Set),be=Array.from(O).map(he=>he.props.value).join(";");return p.jsx(ab,{...I,children:p.jsxs(X6,{required:T,scope:e,trigger:R,onTriggerChange:D,valueNode:U,onValueNodeChange:V,valueNodeHasChildren:$,onValueNodeHasChildrenChange:W,contentId:ts(),value:P,onValueChange:M,open:N,onOpenChange:A,dir:Y,triggerPointerDownPosRef:j,disabled:x,children:[p.jsx(Wf.Provider,{scope:e,children:p.jsx(J6,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(he=>{Te(me=>new Set(me).add(he))},[]),onNativeOptionRemove:_.useCallback(he=>{Te(me=>{const q=new Set(me);return q.delete(he),q})},[]),children:n})}),F?p.jsxs(AA,{"aria-hidden":!0,required:T,tabIndex:-1,name:v,autoComplete:y,value:P,onChange:he=>M(he.target.value),disabled:x,form:b,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(O)]},be):null]})})};iA.displayName=Ni;var aA="SelectTrigger",lA=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,a=qf(n),l=Wo(aA,n),u=l.disabled||r,h=Xe(e,l.onTriggerChange),m=Hf(n),v=_.useRef("touch"),[y,x,T]=PA(I=>{const R=m().filter(V=>!V.disabled),D=R.find(V=>V.value===l.value),U=kA(R,I,D);U!==void 0&&l.onValueChange(U.value)}),b=I=>{u||(l.onOpenChange(!0),T()),I&&(l.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return p.jsx(lb,{asChild:!0,...a,children:p.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":RA(l.value)?"":void 0,...o,ref:h,onClick:ge(o.onClick,I=>{I.currentTarget.focus(),v.current!=="mouse"&&b(I)}),onPointerDown:ge(o.onPointerDown,I=>{v.current=I.pointerType;const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(b(I),I.preventDefault())}),onKeyDown:ge(o.onKeyDown,I=>{const R=y.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&x(I.key),!(R&&I.key===" ")&&K6.includes(I.key)&&(b(),I.preventDefault())})})})});lA.displayName=aA;var cA="SelectValue",uA=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:l="",...u}=t,h=Wo(cA,n),{onValueNodeHasChildrenChange:m}=h,v=a!==void 0,y=Xe(e,h.onValueNodeChange);return At(()=>{m(v)},[m,v]),p.jsx(Ve.span,{...u,ref:y,style:{pointerEvents:"none"},children:RA(h.value)?p.jsx(p.Fragment,{children:l}):a})});uA.displayName=cA;var e$="SelectIcon",dA=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return p.jsx(Ve.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});dA.displayName=e$;var t$="SelectPortal",hA=t=>p.jsx(Lf,{asChild:!0,...t});hA.displayName=t$;var Di="SelectContent",fA=_.forwardRef((t,e)=>{const n=Wo(Di,t.__scopeSelect),[r,o]=_.useState();if(At(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?fu.createPortal(p.jsx(pA,{scope:t.__scopeSelect,children:p.jsx(Wf.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),a):null}return p.jsx(mA,{...t,ref:e})});fA.displayName=Di;var Tr=10,[pA,Ho]=Il(Di),n$="SelectContentImpl",r$=Pi("SelectContent.RemoveScroll"),mA=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:h,align:m,alignOffset:v,arrowPadding:y,collisionBoundary:x,collisionPadding:T,sticky:b,hideWhenDetached:I,avoidCollisions:R,...D}=t,U=Wo(Di,n),[V,$]=_.useState(null),[W,Y]=_.useState(null),N=Xe(e,oe=>$(oe)),[A,P]=_.useState(null),[M,j]=_.useState(null),F=Hf(n),[O,Te]=_.useState(!1),be=_.useRef(!1);_.useEffect(()=>{if(V)return Ay(V)},[V]),yy();const he=_.useCallback(oe=>{const[Ee,...Ce]=F().map(Be=>Be.ref.current),[Pe]=Ce.slice(-1),$e=document.activeElement;for(const Be of oe)if(Be===$e||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===Ee&&W&&(W.scrollTop=0),Be===Pe&&W&&(W.scrollTop=W.scrollHeight),Be==null||Be.focus(),document.activeElement!==$e))return},[F,W]),me=_.useCallback(()=>he([A,V]),[he,A,V]);_.useEffect(()=>{O&&me()},[O,me]);const{onOpenChange:q,triggerPointerDownPosRef:ee}=U;_.useEffect(()=>{if(V){let oe={x:0,y:0};const Ee=Pe=>{var $e,Be;oe={x:Math.abs(Math.round(Pe.pageX)-((($e=ee.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Be=ee.current)==null?void 0:Be.y)??0))}},Ce=Pe=>{oe.x<=10&&oe.y<=10?Pe.preventDefault():V.contains(Pe.target)||q(!1),document.removeEventListener("pointermove",Ee),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[V,q,ee]),_.useEffect(()=>{const oe=()=>q(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[q]);const[re,B]=PA(oe=>{const Ee=F().filter($e=>!$e.disabled),Ce=Ee.find($e=>$e.ref.current===document.activeElement),Pe=kA(Ee,oe,Ce);Pe&&setTimeout(()=>Pe.ref.current.focus())}),Z=_.useCallback((oe,Ee,Ce)=>{const Pe=!be.current&&!Ce;(U.value!==void 0&&U.value===Ee||Pe)&&(P(oe),Pe&&(be.current=!0))},[U.value]),ue=_.useCallback(()=>V==null?void 0:V.focus(),[V]),ve=_.useCallback((oe,Ee,Ce)=>{const Pe=!be.current&&!Ce;(U.value!==void 0&&U.value===Ee||Pe)&&j(oe)},[U.value]),Re=r==="popper"?Kg:gA,De=Re===Kg?{side:u,sideOffset:h,align:m,alignOffset:v,arrowPadding:y,collisionBoundary:x,collisionPadding:T,sticky:b,hideWhenDetached:I,avoidCollisions:R}:{};return p.jsx(pA,{scope:n,content:V,viewport:W,onViewportChange:Y,itemRefCallback:Z,selectedItem:A,onItemLeave:ue,itemTextRefCallback:ve,focusSelectedItem:me,selectedItemText:M,position:r,isPositioned:O,searchRef:re,children:p.jsx(Uf,{as:r$,allowPinchZoom:!0,children:p.jsx(Nf,{asChild:!0,trapped:U.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:ge(o,oe=>{var Ee;(Ee=U.trigger)==null||Ee.focus({preventScroll:!0}),oe.preventDefault()}),children:p.jsx(kf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:p.jsx(Re,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:oe=>oe.preventDefault(),...D,...De,onPlaced:()=>Te(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:ge(D.onKeyDown,oe=>{const Ee=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Ee&&oe.key.length===1&&B(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Pe=F().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const $e=oe.target,Be=Pe.indexOf($e);Pe=Pe.slice(Be+1)}setTimeout(()=>he(Pe)),oe.preventDefault()}})})})})})})});mA.displayName=n$;var s$="SelectItemAlignedPosition",gA=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,a=Wo(Di,n),l=Ho(Di,n),[u,h]=_.useState(null),[m,v]=_.useState(null),y=Xe(e,N=>v(N)),x=Hf(n),T=_.useRef(!1),b=_.useRef(!0),{viewport:I,selectedItem:R,selectedItemText:D,focusSelectedItem:U}=l,V=_.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&m&&I&&R&&D){const N=a.trigger.getBoundingClientRect(),A=m.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),M=D.getBoundingClientRect();if(a.dir!=="rtl"){const $e=M.left-A.left,Be=P.left-$e,vt=N.left-Be,jt=N.width+vt,Bn=Math.max(jt,A.width),ir=window.innerWidth-Tr,ar=Gg(Be,[Tr,Math.max(Tr,ir-Bn)]);u.style.minWidth=jt+"px",u.style.left=ar+"px"}else{const $e=A.right-M.right,Be=window.innerWidth-P.right-$e,vt=window.innerWidth-N.right-Be,jt=N.width+vt,Bn=Math.max(jt,A.width),ir=window.innerWidth-Tr,ar=Gg(Be,[Tr,Math.max(Tr,ir-Bn)]);u.style.minWidth=jt+"px",u.style.right=ar+"px"}const j=x(),F=window.innerHeight-Tr*2,O=I.scrollHeight,Te=window.getComputedStyle(m),be=parseInt(Te.borderTopWidth,10),he=parseInt(Te.paddingTop,10),me=parseInt(Te.borderBottomWidth,10),q=parseInt(Te.paddingBottom,10),ee=be+he+O+q+me,re=Math.min(R.offsetHeight*5,ee),B=window.getComputedStyle(I),Z=parseInt(B.paddingTop,10),ue=parseInt(B.paddingBottom,10),ve=N.top+N.height/2-Tr,Re=F-ve,De=R.offsetHeight/2,oe=R.offsetTop+De,Ee=be+he+oe,Ce=ee-Ee;if(Ee<=ve){const $e=j.length>0&&R===j[j.length-1].ref.current;u.style.bottom="0px";const Be=m.clientHeight-I.offsetTop-I.offsetHeight,vt=Math.max(Re,De+($e?ue:0)+Be+me),jt=Ee+vt;u.style.height=jt+"px"}else{const $e=j.length>0&&R===j[0].ref.current;u.style.top="0px";const vt=Math.max(ve,be+I.offsetTop+($e?Z:0)+De)+Ce;u.style.height=vt+"px",I.scrollTop=Ee-ve+I.offsetTop}u.style.margin=`${Tr}px 0`,u.style.minHeight=re+"px",u.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[x,a.trigger,a.valueNode,u,m,I,R,D,a.dir,r]);At(()=>V(),[V]);const[$,W]=_.useState();At(()=>{m&&W(window.getComputedStyle(m).zIndex)},[m]);const Y=_.useCallback(N=>{N&&b.current===!0&&(V(),U==null||U(),b.current=!1)},[V,U]);return p.jsx(i$,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:Y,children:p.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:p.jsx(Ve.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});gA.displayName=s$;var o$="SelectPopperPosition",Kg=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Tr,...a}=t,l=qf(n);return p.jsx(cb,{...l,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kg.displayName=o$;var[i$,jy]=Il(Di,{}),Qg="SelectViewport",vA=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...o}=t,a=Ho(Qg,n),l=jy(Qg,n),u=Xe(e,a.onViewportChange),h=_.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Wf.Slot,{scope:n,children:p.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ge(o.onScroll,m=>{const v=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&y){const T=Math.abs(h.current-v.scrollTop);if(T>0){const b=window.innerHeight-Tr*2,I=parseFloat(y.style.minHeight),R=parseFloat(y.style.height),D=Math.max(I,R);if(D<b){const U=D+T,V=Math.min(b,U),$=U-V;y.style.height=V+"px",y.style.bottom==="0px"&&(v.scrollTop=$>0?$:0,y.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});vA.displayName=Qg;var yA="SelectGroup",[a$,l$]=Il(yA),c$=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=ts();return p.jsx(a$,{scope:n,id:o,children:p.jsx(Ve.div,{role:"group","aria-labelledby":o,...r,ref:e})})});c$.displayName=yA;var wA="SelectLabel",u$=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=l$(wA,n);return p.jsx(Ve.div,{id:o.id,...r,ref:e})});u$.displayName=wA;var Wh="SelectItem",[d$,_A]=Il(Wh),xA=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...l}=t,u=Wo(Wh,n),h=Ho(Wh,n),m=u.value===r,[v,y]=_.useState(a??""),[x,T]=_.useState(!1),b=Xe(e,U=>{var V;return(V=h.itemRefCallback)==null?void 0:V.call(h,U,r,o)}),I=ts(),R=_.useRef("touch"),D=()=>{o||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(d$,{scope:n,value:r,disabled:o,textId:I,isSelected:m,onItemTextChange:_.useCallback(U=>{y(V=>V||((U==null?void 0:U.textContent)??"").trim())},[]),children:p.jsx(Wf.ItemSlot,{scope:n,value:r,disabled:o,textValue:v,children:p.jsx(Ve.div,{role:"option","aria-labelledby":I,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:b,onFocus:ge(l.onFocus,()=>T(!0)),onBlur:ge(l.onBlur,()=>T(!1)),onClick:ge(l.onClick,()=>{R.current!=="mouse"&&D()}),onPointerUp:ge(l.onPointerUp,()=>{R.current==="mouse"&&D()}),onPointerDown:ge(l.onPointerDown,U=>{R.current=U.pointerType}),onPointerMove:ge(l.onPointerMove,U=>{var V;R.current=U.pointerType,o?(V=h.onItemLeave)==null||V.call(h):R.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(l.onPointerLeave,U=>{var V;U.currentTarget===document.activeElement&&((V=h.onItemLeave)==null||V.call(h))}),onKeyDown:ge(l.onKeyDown,U=>{var $;(($=h.searchRef)==null?void 0:$.current)!==""&&U.key===" "||(Q6.includes(U.key)&&D(),U.key===" "&&U.preventDefault())})})})})});xA.displayName=Wh;var Rc="SelectItemText",EA=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...a}=t,l=Wo(Rc,n),u=Ho(Rc,n),h=_A(Rc,n),m=Z6(Rc,n),[v,y]=_.useState(null),x=Xe(e,D=>y(D),h.onItemTextChange,D=>{var U;return(U=u.itemTextRefCallback)==null?void 0:U.call(u,D,h.value,h.disabled)}),T=v==null?void 0:v.textContent,b=_.useMemo(()=>p.jsx("option",{value:h.value,disabled:h.disabled,children:T},h.value),[h.disabled,h.value,T]),{onNativeOptionAdd:I,onNativeOptionRemove:R}=m;return At(()=>(I(b),()=>R(b)),[I,R,b]),p.jsxs(p.Fragment,{children:[p.jsx(Ve.span,{id:h.textId,...a,ref:x}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?fu.createPortal(a.children,l.valueNode):null]})});EA.displayName=Rc;var SA="SelectItemIndicator",TA=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _A(SA,n).isSelected?p.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});TA.displayName=SA;var Yg="SelectScrollUpButton",IA=_.forwardRef((t,e)=>{const n=Ho(Yg,t.__scopeSelect),r=jy(Yg,t.__scopeSelect),[o,a]=_.useState(!1),l=Xe(e,r.onScrollButtonChange);return At(()=>{if(n.viewport&&n.isPositioned){let u=function(){const m=h.scrollTop>0;a(m)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?p.jsx(bA,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});IA.displayName=Yg;var Xg="SelectScrollDownButton",CA=_.forwardRef((t,e)=>{const n=Ho(Xg,t.__scopeSelect),r=jy(Xg,t.__scopeSelect),[o,a]=_.useState(!1),l=Xe(e,r.onScrollButtonChange);return At(()=>{if(n.viewport&&n.isPositioned){let u=function(){const m=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<m;a(v)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?p.jsx(bA,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});CA.displayName=Xg;var bA=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,a=Ho("SelectScrollButton",n),l=_.useRef(null),u=Hf(n),h=_.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return _.useEffect(()=>()=>h(),[h]),At(()=>{var v;const m=u().find(y=>y.ref.current===document.activeElement);(v=m==null?void 0:m.ref.current)==null||v.scrollIntoView({block:"nearest"})},[u]),p.jsx(Ve.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:ge(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:ge(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:ge(o.onPointerLeave,()=>{h()})})}),h$="SelectSeparator",f$=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});f$.displayName=h$;var Jg="SelectArrow",p$=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=qf(n),a=Wo(Jg,n),l=Ho(Jg,n);return a.open&&l.position==="popper"?p.jsx(ub,{...o,...r,ref:e}):null});p$.displayName=Jg;var m$="SelectBubbleInput",AA=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const o=_.useRef(null),a=Xe(r,o),l=H6(e);return _.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&v){const y=new Event("change",{bubbles:!0});v.call(u,e),u.dispatchEvent(y)}},[l,e]),p.jsx(Ve.select,{...n,style:{...oA,...n.style},ref:a,defaultValue:e})});AA.displayName=m$;function RA(t){return t===""||t===void 0}function PA(t){const e=Bt(t),n=_.useRef(""),r=_.useRef(0),o=_.useCallback(l=>{const u=n.current+l;e(u),function h(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(u)},[e]),a=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function kA(t,e,n){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=g$(t,Math.max(a,0));o.length===1&&(l=l.filter(m=>m!==n));const h=l.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function g$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var v$=iA,y$=lA,w$=uA,_$=dA,x$=hA,E$=fA,S$=vA,T$=xA,I$=EA,C$=TA,b$=IA,A$=CA;function NA({...t}){return p.jsx(v$,{"data-slot":"select",...t})}function DA({...t}){return p.jsx(w$,{"data-slot":"select-value",...t})}function MA({className:t,size:e="default",children:n,...r}){return p.jsxs(y$,{"data-slot":"select-trigger","data-size":e,className:je("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,p.jsx(_$,{asChild:!0,children:p.jsx(bf,{className:"size-4 opacity-50"})})]})}function OA({className:t,children:e,position:n="popper",...r}){return p.jsx(x$,{children:p.jsxs(E$,{"data-slot":"select-content",className:je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(R$,{}),p.jsx(S$,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(P$,{})]})})}function jA({className:t,children:e,...n}){return p.jsxs(T$,{"data-slot":"select-item",className:je("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(C$,{children:p.jsx(rC,{className:"size-4"})})}),p.jsx(I$,{children:e})]})}function R$({className:t,...e}){return p.jsx(b$,{"data-slot":"select-scroll-up-button",className:je("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(iC,{className:"size-4"})})}function P$({className:t,...e}){return p.jsx(A$,{"data-slot":"select-scroll-down-button",className:je("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(bf,{className:"size-4"})})}function Yr({className:t,...e}){return p.jsx("div",{"data-slot":"skeleton",className:je("bg-accent animate-pulse rounded-md",t),...e})}const Hh=({title:t,subtitle:e,value:n,unit:r,className:o=""})=>p.jsxs("div",{className:`border rounded-md p-3 flex justify-between items-center ${o}`,children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:t}),e&&p.jsx("p",{className:"text-xs text-muted-foreground",children:e})]}),n!==void 0&&p.jsxs("p",{className:"text-lg font-semibold",children:[n,r&&p.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:r})]})]}),qh=({label:t,value:e,unit:n,valueSize:r="lg",className:o=""})=>{const a={sm:"text-sm",md:"text-md",lg:"text-lg",xl:"text-xl"};return p.jsxs("div",{className:o,children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:t}),p.jsxs("p",{className:`${a[r]} font-bold`,children:[e,n&&p.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:n})]})]})},LA=({children:t,className:e=""})=>p.jsx("div",{className:`flex items-center justify-between ${e}`,children:t}),VA=({title:t,actionLabel:e,actionIcon:n,onAction:r,isLoading:o=!1,loadingText:a="Loading data...",className:l="",children:u})=>p.jsxs(an,{className:l,children:[p.jsx(Un,{className:"pb-2",children:p.jsxs($n,{className:"text-lg flex justify-between items-center",children:[p.jsx("span",{children:t}),r&&p.jsxs(ze,{size:"sm",variant:"outline",onClick:r,className:"flex items-center gap-1 h-8",disabled:o,children:[n,e]})]})}),p.jsx(fn,{children:o?p.jsxs("div",{className:"flex items-center justify-center py-4",children:[p.jsx(wl,{className:"h-5 w-5 animate-spin mr-2 text-muted-foreground"}),p.jsx("p",{className:"text-muted-foreground text-sm",children:a})]}):u})]}),k$={theme:"light",setTheme:()=>null},FA=_.createContext(k$),N$=()=>{const t=_.useContext(FA);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},D$=({isDashboard:t=!1,onLogout:e})=>{const{user:n,isAuthenticated:r}=Bo(),{theme:o,setTheme:a}=N$(),l=Ui();return p.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center bg-white dark:bg-background border-b border-gray-200 dark:border-border px-4",children:[!t&&p.jsxs("nav",{className:"hidden md:flex items-center space-x-4 mx-6",children:[p.jsx("div",{className:"container mx-auto flex justify-center md:justify-start",children:p.jsx(Ds,{to:"/",className:"flex items-center",children:p.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:p.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})})})}),p.jsx(Ds,{to:"/about",className:"text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-foreground dark:hover:text-foreground",children:"About"}),r&&p.jsx(Ds,{to:"/dashboard",className:"text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-foreground dark:hover:text-foreground",children:"Dashboard"})]}),p.jsx("div",{className:"ml-auto flex items-center space-x-2",children:r?p.jsxs(p.Fragment,{children:[p.jsxs(ze,{variant:"ghost",size:"icon",className:"hidden md:flex",children:[p.jsx(FV,{className:"h-5 w-5"}),p.jsx("span",{className:"sr-only",children:"Notifications"})]}),p.jsxs(V6,{children:[p.jsx(F6,{children:p.jsxs("div",{className:"flex items-center gap-2 rounded-full pl-1 cursor-pointer",children:[p.jsx(jC,{className:"h-8 w-8",children:p.jsx(LC,{src:(n==null?void 0:n.photoURL)||void 0,alt:"User Avatar"})}),p.jsx("span",{className:"hidden md:inline text-sm font-medium",children:(n==null?void 0:n.displayName)||"Account"}),p.jsx(bf,{className:"h-4 w-4 opacity-50"})]})}),p.jsxs(U6,{align:"end",className:"w-56",children:[p.jsx($6,{children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium",children:(n==null?void 0:n.displayName)||"User"}),p.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n==null?void 0:n.email})]})}),p.jsx(NE,{}),p.jsxs(Jd,{onClick:()=>l("profile"),children:[p.jsx(hC,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Profile"})]}),p.jsxs(Jd,{onClick:()=>l("settings"),children:[p.jsx(_F,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Settings"})]}),p.jsx(Jd,{onClick:()=>a(o==="dark"?"light":"dark"),children:p.jsxs("span",{className:"flex items-center gap-2",children:[o==="dark"?p.jsx(bF,{className:"h-4 w-4 bg-gray-800 dark:bg-card rounded-full"}):p.jsx(cF,{className:"h-4 w-4 bg-gray-200 dark:bg-card rounded-full"}),p.jsx("span",{children:"Toggle Theme"})]})}),p.jsx(NE,{}),p.jsxs(Jd,{onClick:e,children:[p.jsx(aC,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>l("/login"),className:"hidden md:inline-flex",children:"Log in"}),p.jsx(ze,{size:"sm",onClick:()=>l("/signup"),children:"Sign up"})]})})]})},M$=({navItems:t,isCollapsed:e=!1})=>p.jsx("ul",{className:je("space-y-1",e?"px-2":"px-3"),children:t.map(n=>p.jsx("li",{className:"transform transition-all duration-200 ease-in-out",children:p.jsxs(eC,{to:n.path,className:({isActive:r})=>je("flex items-center rounded-md px-3 py-2 text-sm transition-all duration-300 ease-in-out",r?"bg-sidebar-accent text-sidebar-accent-foreground dark:bg-sidebar-accent dark:text-sidebar-accent-foreground":"hover:bg-accent/50 text-muted-foreground hover:text-foreground dark:hover:bg-sidebar-accent/30 dark:text-sidebar-foreground dark:hover:text-sidebar-foreground",e?"justify-center":"justify-start"),children:[p.jsx("div",{className:je("flex items-center transition-all duration-300 ease-in-out",e?"w-full justify-center":"mr-3"),children:p.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:n.icon})}),p.jsx("span",{className:je("whitespace-nowrap transition-all duration-300 ease-in-out",e?"w-0 opacity-0 overflow-hidden":"w-auto opacity-100"),children:n.label})]})},n.path))}),O$=()=>[{path:"/dashboard",label:"Dashboard",icon:p.jsx(nF,{className:"h-4 w-4"})},{path:"/dashboard/workouts",label:"Workouts",icon:p.jsx(TF,{className:"h-4 w-4"})},{path:"/dashboard/nutrition",label:"Nutrition",icon:p.jsx(fC,{className:"h-4 w-4"})},{path:"/dashboard/progress",label:"Progress",icon:p.jsx(BV,{className:"h-4 w-4"})},{path:"/dashboard/goals",label:"Goals",icon:p.jsx(RF,{className:"h-4 w-4"})}],j$=({isCollapsed:t=!1,toggleSidebar:e})=>{const n=O$();return p.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-sidebar",children:[p.jsx("div",{className:je("flex h-16 items-center border-b dark:border-sidebar-border",t?"justify-center":"px-4"),children:t?p.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}):p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"rounded-full bg-primary h-6 w-6 flex items-center justify-center",children:p.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"GM"})}),p.jsx("span",{className:"font-semibold text-lg dark:text-sidebar-foreground",children:"GrindMode"})]})}),p.jsx("nav",{className:"flex-1 overflow-y-auto py-6 no-scrollbar bg-white dark:bg-sidebar",children:p.jsx(M$,{navItems:n,isCollapsed:t})}),p.jsx("div",{className:"flex items-center justify-center border-t dark:border-sidebar-border p-2 bg-white dark:bg-sidebar",children:p.jsx(ze,{variant:"ghost",size:"icon",onClick:e,className:"w-full h-10 rounded-full hover:bg-accent/50 dark:hover:bg-sidebar-accent/50","aria-label":"Toggle sidebar",children:t?p.jsx(oC,{className:"h-5 w-5 dark:text-sidebar-foreground"}):p.jsx(sC,{className:"h-5 w-5 dark:text-sidebar-foreground"})})})]})},L$=({isAuthenticated:t})=>t?p.jsx(iy,{}):p.jsx(za,{to:"/login"}),V$=()=>p.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 dark:from-background dark:to-card",children:[p.jsx("header",{className:"w-full py-6 px-4",children:p.jsx("div",{className:"container mx-auto flex justify-center md:justify-start",children:p.jsxs(Ds,{to:"/",className:"flex items-center",children:[p.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:p.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}),p.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-foreground",children:"GrindMode"})]})})}),p.jsx("main",{className:"flex flex-grow items-center justify-center px-4 py-8",children:p.jsx("div",{className:"w-full max-w-md",children:p.jsx(iy,{})})}),p.jsx(PV,{})]}),UA=wt.createContext({state:Zd,setActiveDashboardTab:()=>{},setMeasurementSystem:()=>{},setSidebarOpen:()=>{},setTheme:()=>{},toggleNotifications:()=>{}}),F$=()=>{const t=_.useContext(UA);if(!t)throw new Error("useAppState must be used within an AppProvider");const{state:e,setActiveDashboardTab:n,setMeasurementSystem:r,setSidebarOpen:o,setTheme:a,toggleNotifications:l}=t;return{state:e,setActiveDashboardTab:n,setMeasurementSystem:r,setSidebarOpen:o,setTheme:a,toggleNotifications:l}},U$=()=>{const{state:t,setSidebarOpen:e}=F$(),{logout:n}=Bo(),r=Ui(),o=t.ui.sidebarOpen,a=()=>{e(!o)},l=_.useCallback(async()=>{try{n&&await n(),r("/login")}catch(u){console.error("Logout failed:",u)}},[n,r]);return p.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-background",children:[p.jsx("div",{className:`${o?"w-64":"w-20"} transition-all duration-300 ease-in-out bg-white dark:bg-sidebar shadow-lg`,children:p.jsx(j$,{isCollapsed:!o,toggleSidebar:a})}),p.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[p.jsx(D$,{isDashboard:!0,onLogout:l}),p.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 dark:bg-background",children:p.jsx("div",{className:"container mx-auto",children:p.jsx(iy,{})})})]})]})},$$=({onLogin:t,isLoading:e,error:n,onForgotPassword:r,onGoogleSignIn:o})=>{const[a,l]=_.useState({email:"",password:""}),u=_.useCallback(v=>{const{name:y,value:x}=v.target;l(T=>({...T,[y]:x}))},[]),h=_.useCallback(async v=>{v.preventDefault(),await t(a)},[t,a]),m=_.useCallback(v=>{v.preventDefault(),r&&r()},[r]);return p.jsxs(an,{className:"w-full max-w-md mx-auto",children:[p.jsx(Un,{className:"space-y-1",children:p.jsx($n,{className:"text-2xl font-bold text-center",children:"Login"})}),p.jsx(fn,{children:p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jn,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(lC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(er,{type:"email",id:"email",name:"email",value:a.email,onChange:u,placeholder:"you@example.com",disabled:e,required:!0,className:"pl-10 w-full",autoComplete:"email"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(jn,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),r&&p.jsx("button",{onClick:m,className:"text-xs text-primary hover:underline",type:"button",disabled:e,children:"Forgot password?"})]}),p.jsxs("div",{className:"relative",children:[p.jsx(oF,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(er,{type:"password",id:"password",name:"password",value:a.password,onChange:u,placeholder:"",disabled:e,required:!0,className:"pl-10 w-full",autoComplete:"current-password"})]})]}),n&&p.jsx(hy,{variant:"destructive",className:"py-2",children:p.jsx(fy,{children:n})}),p.jsx(ze,{type:"submit",className:"w-full",disabled:e,children:e?p.jsxs(p.Fragment,{children:[p.jsx(wl,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})}),p.jsx(El,{className:"flex flex-col",children:o&&p.jsxs(ze,{type:"button",variant:"outline",className:"w-full mt-2",onClick:o,disabled:e,children:[p.jsx("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:p.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[p.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),p.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),p.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),p.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Continue with Google"]})})]})},z$=({onSignup:t,isLoading:e,error:n})=>{const[r,o]=wt.useState({email:"",password:"",confirmPassword:"",displayName:""}),[a,l]=wt.useState(!0),u=m=>{const{name:v,value:y}=m.target;o(x=>({...x,[v]:y})),(v==="password"||v==="confirmPassword")&&l(v==="confirmPassword"?r.password===y:y===r.confirmPassword)},h=async m=>{if(m.preventDefault(),r.password!==r.confirmPassword){l(!1);return}await t(r)};return p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(jn,{htmlFor:"displayName",children:"Full Name"}),p.jsx(er,{type:"text",id:"displayName",name:"displayName",value:r.displayName,onChange:u,placeholder:"Enter your name",disabled:e,minLength:3,required:!0,className:"w-full",autoComplete:"name"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jn,{htmlFor:"email",children:"Email"}),p.jsx(er,{type:"email",id:"email",name:"email",value:r.email,onChange:u,placeholder:"you@example.com",disabled:e,required:!0,className:"w-full",autoComplete:"email"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jn,{htmlFor:"password",children:"Password"}),p.jsx(er,{type:"password",id:"password",name:"password",value:r.password,onChange:u,placeholder:"",disabled:e,required:!0,className:"w-full",autoComplete:"new-password"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(jn,{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx(er,{type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:u,placeholder:"",disabled:e,required:!0,className:`w-full ${!a&&r.confirmPassword?"border-destructive":""}`,autoComplete:"new-password"}),!a&&r.confirmPassword&&p.jsx("p",{className:"text-xs text-destructive mt-1",children:"Passwords don't match"})]}),n&&p.jsx("p",{className:"text-sm text-destructive",children:n}),p.jsx("div",{className:"pt-2",children:p.jsx(ze,{type:"submit",className:"w-full",disabled:e,children:e?p.jsxs(p.Fragment,{children:[p.jsx(wl,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})}),p.jsx("div",{className:"pt-2",children:p.jsx(ze,{type:"button",variant:"outline",className:"w-full",disabled:!0,children:p.jsx("span",{className:"text-sm text-muted-foreground",children:"Sign up with Google"})})}),p.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?",p.jsx(Ds,{to:"/login",className:"text-primary hover:underline",children:"Log in"})]})]})},Zg=t=>{if(!t)return"An unknown error occurred";if(t.code){const n=t;switch(n.code){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or try logging in.";case"auth/invalid-email":return"Invalid email address. Please check your email and try again.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/user-not-found":return"No account found with this email. Please check your email or create a new account.";case"auth/wrong-password":return"Incorrect password. Please try again or reset your password.";case"auth/too-many-requests":return"Too many unsuccessful login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support for assistance.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return`Authentication error: ${n.message}`}}return`Error: ${t instanceof Error?t.message:String(t)}`},B$=()=>{const[t,e]=wt.useState(null),[n,r]=wt.useState(!1),{login:o,isAuthenticated:a,isLoading:l,loginWithGoogle:u}=Bo();if(a)return p.jsx(za,{to:"/"});const h=async()=>{e(null),r(!0);try{if(!u)throw new Error("Google Sign-In function is not available");await u()}catch(v){e(Zg(v))}finally{r(!1)}},m=async v=>{e(null),r(!0);try{if(!o)throw new Error("Login function is not available");await o(v.email,v.password)}catch(y){e(Zg(y))}finally{r(!1)}};return p.jsxs(an,{children:[p.jsxs(Un,{className:"space-y-1",children:[p.jsx($n,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),p.jsx(Pf,{className:"text-center",children:"Log in to continue your fitness journey"})]}),p.jsxs(fn,{children:[t&&p.jsxs(hy,{variant:"destructive",className:"mb-4",children:[p.jsx(dC,{className:"h-4 w-4"}),p.jsx(fy,{children:t})]}),p.jsx($$,{onGoogleSignIn:h,onLogin:m,isLoading:n||l,error:null})]}),p.jsx(El,{className:"flex justify-center",children:p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?",p.jsx(Ds,{to:"/signup",className:"font-medium text-primary hover:underline",children:"Sign up"})]})})]})},W$=()=>{const t=Ui(),{signup:e}=Bo(),[n,r]=wt.useState(null),[o,a]=wt.useState(!1),l=async u=>{r(null);try{if(a(!0),!e)throw new Error("Signup function is not available");await e(u.email,u.password,u.displayName),t("/dashboard")}catch(h){r(Zg(h))}finally{a(!1)}};return p.jsxs(an,{children:[p.jsxs(Un,{className:"space-y-1",children:[p.jsx($n,{className:"text-2xl font-bold text-center",children:"Create Your Account"}),p.jsx(Pf,{className:"text-center",children:"Join GrindMode to start tracking your fitness journey"})]}),p.jsxs(fn,{children:[n&&p.jsxs(hy,{variant:"destructive",className:"mb-4",children:[p.jsx(dC,{className:"h-4 w-4"}),p.jsx(fy,{children:n})]}),p.jsx(z$,{onSignup:l,isLoading:o,error:null})]})]})};var Gf="Tabs",[H$,r8]=jr(Gf,[Vf]),$A=Vf(),[q$,Ly]=H$(Gf),zA=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:h="automatic",...m}=t,v=pu(u),[y,x]=il({prop:r,onChange:o,defaultProp:a??"",caller:Gf});return p.jsx(q$,{scope:n,baseId:ts(),value:y,onValueChange:x,orientation:l,dir:v,activationMode:h,children:p.jsx(Ve.div,{dir:v,"data-orientation":l,...m,ref:e})})});zA.displayName=Gf;var BA="TabsList",WA=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...o}=t,a=Ly(BA,n),l=$A(n);return p.jsx(gb,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:p.jsx(Ve.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});WA.displayName=BA;var HA="TabsTrigger",qA=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=t,l=Ly(HA,n),u=$A(n),h=QA(l.baseId,r),m=YA(l.baseId,r),v=r===l.value;return p.jsx(vb,{asChild:!0,...u,focusable:!o,active:v,children:p.jsx(Ve.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...a,ref:e,onMouseDown:ge(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?l.onValueChange(r):y.preventDefault()}),onKeyDown:ge(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&l.onValueChange(r)}),onFocus:ge(t.onFocus,()=>{const y=l.activationMode!=="manual";!v&&!o&&y&&l.onValueChange(r)})})})});qA.displayName=HA;var GA="TabsContent",KA=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...l}=t,u=Ly(GA,n),h=QA(u.baseId,r),m=YA(u.baseId,r),v=r===u.value,y=_.useRef(v);return _.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),p.jsx(zn,{present:o||v,children:({present:x})=>p.jsx(Ve.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:m,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:x&&a})})});KA.displayName=GA;function QA(t,e){return`${t}-trigger-${e}`}function YA(t,e){return`${t}-content-${e}`}var G$=zA,K$=WA,Q$=qA,Y$=KA;function X$({className:t,...e}){return p.jsx(G$,{"data-slot":"tabs",className:je("flex flex-col gap-2",t),...e})}function J$({className:t,...e}){return p.jsx(K$,{"data-slot":"tabs-list",className:je("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function ig({className:t,...e}){return p.jsx(Q$,{"data-slot":"tabs-trigger",className:je("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Z$({className:t,...e}){return p.jsx(Y$,{"data-slot":"tabs-content",className:je("flex-1 outline-none",t),...e})}const ez=({user:t,editDisplayName:e})=>{var n,r;return p.jsxs(an,{children:[p.jsx(Un,{children:p.jsx($n,{children:"Profile Information"})}),p.jsx(fn,{className:"space-y-6",children:p.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-center sm:items-start",children:[p.jsxs(jC,{className:"h-24 w-24",children:[p.jsx(LC,{src:t.photoURL||void 0,alt:t.displayName||"User"}),p.jsx(UU,{className:"text-2xl",children:((n=t.displayName)==null?void 0:n.charAt(0))||((r=t.email)==null?void 0:r.charAt(0))||"U"})]}),p.jsxs("div",{className:"space-y-1 text-center sm:text-left",children:[p.jsxs("h3",{className:"text-xl font-medium",children:[t.displayName||"User",p.jsx(ze,{variant:"link",onClick:e,children:p.jsx(cC,{className:"inline-block ml-2 h-4 w-4 text-muted-foreground"})})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:t.email||"No email provided"}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Member since:"," ",t.createdAt?new Date(t.createdAt).toLocaleDateString():"Unknown"]})]})]})})]})};var Kf="Dialog",[XA,JA]=jr(Kf),[tz,Lr]=XA(Kf),ZA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,u=_.useRef(null),h=_.useRef(null),[m,v]=il({prop:r,defaultProp:o??!1,onChange:a,caller:Kf});return p.jsx(tz,{scope:e,triggerRef:u,contentRef:h,contentId:ts(),titleId:ts(),descriptionId:ts(),open:m,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(y=>!y),[v]),modal:l,children:n})};ZA.displayName=Kf;var eR="DialogTrigger",tR=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Lr(eR,n),a=Xe(e,o.triggerRef);return p.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Uy(o.open),...r,ref:a,onClick:ge(t.onClick,o.onOpenToggle)})});tR.displayName=eR;var Vy="DialogPortal",[nz,nR]=XA(Vy,{forceMount:void 0}),rR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,a=Lr(Vy,e);return p.jsx(nz,{scope:e,forceMount:n,children:_.Children.map(r,l=>p.jsx(zn,{present:n||a.open,children:p.jsx(Lf,{asChild:!0,container:o,children:l})}))})};rR.displayName=Vy;var Gh="DialogOverlay",sR=_.forwardRef((t,e)=>{const n=nR(Gh,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,a=Lr(Gh,t.__scopeDialog);return a.modal?p.jsx(zn,{present:r||a.open,children:p.jsx(sz,{...o,ref:e})}):null});sR.displayName=Gh;var rz=Pi("DialogOverlay.RemoveScroll"),sz=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Lr(Gh,n);return p.jsx(Uf,{as:rz,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(Ve.div,{"data-state":Uy(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Mi="DialogContent",oR=_.forwardRef((t,e)=>{const n=nR(Mi,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,a=Lr(Mi,t.__scopeDialog);return p.jsx(zn,{present:r||a.open,children:a.modal?p.jsx(oz,{...o,ref:e}):p.jsx(iz,{...o,ref:e})})});oR.displayName=Mi;var oz=_.forwardRef((t,e)=>{const n=Lr(Mi,t.__scopeDialog),r=_.useRef(null),o=Xe(e,n.contentRef,r);return _.useEffect(()=>{const a=r.current;if(a)return Ay(a)},[]),p.jsx(iR,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ge(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:ge(t.onFocusOutside,a=>a.preventDefault())})}),iz=_.forwardRef((t,e)=>{const n=Lr(Mi,t.__scopeDialog),r=_.useRef(!1),o=_.useRef(!1);return p.jsx(iR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var h,m;(h=t.onInteractOutside)==null||h.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;((m=n.triggerRef.current)==null?void 0:m.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),iR=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=t,u=Lr(Mi,n),h=_.useRef(null),m=Xe(e,h);return yy(),p.jsxs(p.Fragment,{children:[p.jsx(Nf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:p.jsx(kf,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Uy(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(lz,{titleId:u.titleId}),p.jsx(uz,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Fy="DialogTitle",aR=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Lr(Fy,n);return p.jsx(Ve.h2,{id:o.titleId,...r,ref:e})});aR.displayName=Fy;var lR="DialogDescription",cR=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Lr(lR,n);return p.jsx(Ve.p,{id:o.descriptionId,...r,ref:e})});cR.displayName=lR;var uR="DialogClose",dR=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Lr(uR,n);return p.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ge(t.onClick,()=>o.onOpenChange(!1))})});dR.displayName=uR;function Uy(t){return t?"open":"closed"}var hR="DialogTitleWarning",[az,fR]=xU(hR,{contentName:Mi,titleName:Fy,docsSlug:"dialog"}),lz=({titleId:t})=>{const e=fR(hR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},cz="DialogDescriptionWarning",uz=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fR(cz).contentName}}.`;return _.useEffect(()=>{var a;const o=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},dz=ZA,hz=tR,fz=rR,pz=sR,mz=oR,gz=aR,vz=cR,pR=dR,mR="AlertDialog",[yz,s8]=jr(mR,[JA]),Ws=JA(),gR=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ws(e);return p.jsx(dz,{...r,...n,modal:!0})};gR.displayName=mR;var wz="AlertDialogTrigger",_z=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=Ws(n);return p.jsx(hz,{...o,...r,ref:e})});_z.displayName=wz;var xz="AlertDialogPortal",vR=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ws(e);return p.jsx(fz,{...r,...n})};vR.displayName=xz;var Ez="AlertDialogOverlay",yR=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=Ws(n);return p.jsx(pz,{...o,...r,ref:e})});yR.displayName=Ez;var Xa="AlertDialogContent",[Sz,Tz]=yz(Xa),Iz=TU("AlertDialogContent"),wR=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...o}=t,a=Ws(n),l=_.useRef(null),u=Xe(e,l),h=_.useRef(null);return p.jsx(az,{contentName:Xa,titleName:_R,docsSlug:"alert-dialog",children:p.jsx(Sz,{scope:n,cancelRef:h,children:p.jsxs(mz,{role:"alertdialog",...a,...o,ref:u,onOpenAutoFocus:ge(o.onOpenAutoFocus,m=>{var v;m.preventDefault(),(v=h.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[p.jsx(Iz,{children:r}),p.jsx(bz,{contentRef:l})]})})})});wR.displayName=Xa;var _R="AlertDialogTitle",xR=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=Ws(n);return p.jsx(gz,{...o,...r,ref:e})});xR.displayName=_R;var ER="AlertDialogDescription",SR=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=Ws(n);return p.jsx(vz,{...o,...r,ref:e})});SR.displayName=ER;var Cz="AlertDialogAction",TR=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=Ws(n);return p.jsx(pR,{...o,...r,ref:e})});TR.displayName=Cz;var IR="AlertDialogCancel",CR=_.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:o}=Tz(IR,n),a=Ws(n),l=Xe(e,o);return p.jsx(pR,{...a,...r,ref:l})});CR.displayName=IR;var bz=({contentRef:t})=>{const e=`\`${Xa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xa}\` by passing a \`${ER}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Az=gR,Rz=vR,Pz=yR,kz=wR,Nz=TR,Dz=CR,Mz=xR,Oz=SR;function jz({...t}){return p.jsx(Az,{"data-slot":"alert-dialog",...t})}function Lz({...t}){return p.jsx(Rz,{"data-slot":"alert-dialog-portal",...t})}function Vz({className:t,...e}){return p.jsx(Pz,{"data-slot":"alert-dialog-overlay",className:je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Fz({className:t,...e}){return p.jsxs(Lz,{children:[p.jsx(Vz,{}),p.jsx(kz,{"data-slot":"alert-dialog-content",className:je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function Uz({className:t,...e}){return p.jsx("div",{"data-slot":"alert-dialog-header",className:je("flex flex-col gap-2 text-center sm:text-left",t),...e})}function $z({className:t,...e}){return p.jsx("div",{"data-slot":"alert-dialog-footer",className:je("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function zz({className:t,...e}){return p.jsx(Mz,{"data-slot":"alert-dialog-title",className:je("text-lg font-semibold",t),...e})}function Bz({className:t,...e}){return p.jsx(Oz,{"data-slot":"alert-dialog-description",className:je("text-muted-foreground text-sm",t),...e})}function Wz({className:t,...e}){return p.jsx(Nz,{className:je(gy(),t),...e})}function Hz({className:t,...e}){return p.jsx(Dz,{className:je(gy({variant:"outline"}),t),...e})}const qz=({open:t,onOpenChange:e,onConfirm:n,isLoading:r})=>p.jsx(jz,{open:t,onOpenChange:e,children:p.jsxs(Fz,{children:[p.jsxs(Uz,{children:[p.jsx(zz,{children:"Are you absolutely sure?"}),p.jsx(Bz,{children:"This action cannot be undone. This will permanently delete your account and remove all of your data from our servers."})]}),p.jsxs($z,{children:[p.jsx(Hz,{children:"Cancel"}),p.jsx(Wz,{onClick:n,disabled:r,className:"bg-destructive hover:bg-destructive/90",children:r?"Deleting...":"Delete Account"})]})]})}),Gz=({isLoading:t,onChangeEmail:e,onSignOut:n,onDeleteAccount:r})=>{const[o,a]=wt.useState(!1);return p.jsxs(an,{children:[p.jsxs(Un,{children:[p.jsx($n,{children:"Account Management"}),p.jsx(Pf,{children:"Manage your account settings and preferences"})]}),p.jsxs(fn,{className:"space-y-4",children:[p.jsxs("div",{className:"grid gap-4",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(lC,{className:"h-5 w-5 text-muted-foreground"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium",children:"Email Address"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Change your email address"})]})]}),p.jsx(ze,{variant:"outline",onClick:e,children:"Change"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(aC,{className:"h-5 w-5 text-muted-foreground"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium",children:"Sign Out"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out from all devices"})]})]}),p.jsx(ze,{variant:"outline",onClick:n,children:"Sign Out"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md border-destructive/20",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(NF,{className:"h-5 w-5 text-destructive"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-destructive",children:"Delete Account"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account"})]})]}),p.jsx(ze,{variant:"destructive",onClick:()=>a(!0),children:"Delete"})]})]}),p.jsx(qz,{open:o,onOpenChange:a,onConfirm:r,isLoading:t})]})]})},Kz=({user:t,isLoading:e,onChangeEmail:n,onSignOut:r,onDeleteAccount:o})=>p.jsxs("div",{className:"space-y-6",children:[p.jsx(ez,{user:t}),p.jsx(Gz,{isLoading:e,onChangeEmail:n,onSignOut:r,onDeleteAccount:o})]}),Qz=()=>{const t=Ui(),{user:e,logout:n,deleteUser:r}=Bo(),[o,a]=wt.useState(!1),[l,u]=wt.useState("account"),h=()=>{n&&(n(),t("/login"))},m=()=>{console.log("Change email clicked")},v=async()=>{if(r){a(!0);try{await r(),t("/login")}finally{a(!1)}}};return e?p.jsx("div",{className:"container mx-auto py-6 max-w-4xl",children:p.jsxs("div",{className:"flex flex-col gap-6",children:[p.jsx("div",{className:"flex justify-between items-center",children:p.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"})}),p.jsxs(X$,{value:l,onValueChange:u,className:"w-full",children:[p.jsxs(J$,{className:"grid grid-cols-3 mb-8",children:[p.jsxs(ig,{value:"account",className:"flex items-center gap-2",children:[p.jsx(hC,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Account"})]}),p.jsxs(ig,{value:"preferences",className:"flex items-center gap-2",disabled:!0,children:[p.jsx(OF,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Preferences"})]}),p.jsxs(ig,{value:"security",className:"flex items-center gap-2",disabled:!0,children:[p.jsx(EF,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Security"})]})]}),p.jsx(Z$,{value:"account",children:p.jsx(Kz,{user:e,isLoading:o,onChangeEmail:m,onSignOut:h,onDeleteAccount:v})})]})]})}):p.jsx("div",{className:"p-6",children:"Loading user data..."})},Yz=({userName:t})=>{const e=new Date,n={weekday:"long",year:"numeric",month:"long",day:"numeric"},r=e.toLocaleDateString("en-US",n);return p.jsx("header",{className:"mb-6 space-y-2",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Welcome back, ",t]}),p.jsx("p",{className:"text-muted-foreground",children:"Track your fitness journey and reach your goals"})]}),p.jsxs("div",{className:"mt-2 sm:mt-0 flex items-center text-sm text-muted-foreground",children:[p.jsx($V,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:r})]})]})})},Xz=({goals:t})=>p.jsxs("div",{className:"goals-progress",children:[p.jsx("h2",{className:"progress-title",children:"Goals Progress"}),t.map((e,n)=>p.jsxs("div",{className:"goal-item",children:[p.jsx("h3",{children:"Goals"}),p.jsxs("p",{children:["Daily calories: ",e.dailyCalories]}),p.jsxs("p",{children:["Dail protein: ",e.dailyProtein]}),p.jsxs("p",{children:["Weekly workouts: ",e.weeklyWorkouts]})]},n))]}),$t=(t,e)=>t.reduce((n,r)=>n+r.foods.reduce((o,a)=>o+a[e]*(a.quantity/100),0),0),Jz=t=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t),Zz=({nutritionData:t,isLoading:e=!1,latestEntries:n=[],onLogFood:r})=>{var a,l;const o=n[0];return p.jsx(VA,{title:"Nutrition",actionLabel:"Log",actionIcon:p.jsx(Af,{className:"h-4 w-4 mr-1"}),onAction:r,isLoading:e,children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs(LA,{children:[p.jsx(qh,{label:"Today",value:(t==null?void 0:t.today.calories.toFixed(0))||"0",unit:"cal",valueSize:"lg"}),p.jsx(qh,{label:"Protein",value:(t==null?void 0:t.today.protein.toFixed(0))||"0",unit:"g",valueSize:"md",className:"text-right"})]}),o&&p.jsxs("div",{className:"pt-2",children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Last Entry"}),p.jsx(Hh,{title:o.date?Jz(o.date.toDate()):"Recent",subtitle:`${((a=o.meals)==null?void 0:a.length)||0} meals logged`,value:((l=o.dailyTotals)==null?void 0:l.calories.toFixed(0))||"0",unit:"cal"})]}),t&&t.weekly.daysTracked>0&&p.jsxs("div",{className:"pt-2",children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Weekly Average"}),p.jsx(Hh,{title:`${t.weekly.averageCalories.toFixed(0)} cal/day`,subtitle:`${t.weekly.daysTracked} days tracked this week`})]})]})})},eB=({workoutData:t,isLoading:e=!1,onLogWorkout:n})=>p.jsx(VA,{title:"Workouts",actionLabel:"Log",actionIcon:p.jsx(Af,{className:"h-4 w-4 mr-1"}),onAction:n,isLoading:e,children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs(LA,{children:[p.jsx(qh,{label:"This Week",value:(t==null?void 0:t.weekly.workouts)||0,unit:"workouts"}),p.jsx(qh,{label:"Total Time",value:(t==null?void 0:t.weekly.totalDuration)||0,unit:"min",className:"text-right"})]}),t!=null&&t.today.completed?p.jsxs("div",{className:"pt-2",children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Today's Workout"}),p.jsx(Hh,{title:"Completed",subtitle:`${t.today.exercises} exercises`,value:t.today.duration,unit:"min"})]}):p.jsx("div",{className:"pt-2",children:p.jsx(Hh,{title:"No workout yet today",subtitle:"Log your workout to track progress"})})]})}),tB=({onAddWorkout:t,onLogFood:e,onRecordMeasurement:n})=>p.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[p.jsxs(ze,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:t,children:[p.jsx(eF,{className:"h-4 w-4"}),p.jsx("span",{children:"Add Workout"})]}),p.jsxs(ze,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:e,children:[p.jsx(fC,{className:"h-4 w-4"}),p.jsx("span",{children:"Log Food"})]}),p.jsxs(ze,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:n,children:[p.jsx(pF,{className:"h-4 w-4"}),p.jsx("span",{children:"Measurements"})]})]});class nB{constructor(e){J_(this,"collectionName");this.collectionName=e}async add(e,n=!0){if(!e)throw new Error(`Invalid data for ${this.collectionName}`);const r=wo(),o=Ud(yo,"users",r,this.collectionName),a=n?{date:nt.now(),createdAt:nt.now(),updatedAt:nt.now()}:{};return(await WL(o,{...e,...a})).id}async getAll(e){const n=wo();if(!n)throw new Error("User not authenticated");const r=Ud(yo,"users",n,this.collectionName),o=e?$d(r,zd("date","desc"),Wx(e)):$d(r,zd("date","desc"));return(await Bm(o)).docs.map(l=>({id:l.id,...l.data()}))}async getById(e){if(!e)throw new Error(`Invalid ID for fetching ${this.collectionName}`);try{const n=wo();if(!n)throw new Error("User not authenticated");const r=jc(yo,"users",n,this.collectionName,e),o=await LI(r);return o.exists()?{id:o.id,...o.data()}:null}catch(n){return console.error(`Error fetching ${this.collectionName} document ${e}:`,n),null}}async update(e,n){if(!e||!n)throw new Error(`Invalid parameters for update ${this.collectionName}`);const r=wo(),o=jc(yo,"users",r,this.collectionName,e);return await zL(o,{...n,updatedAt:nt.now()}),!0}async delete(e){if(!e)throw new Error(`Invalid ID for delete ${this.collectionName}`);const n=wo(),r=jc(yo,"users",n,this.collectionName,e);return await BL(r),!0}async getByDateRange(e,n,r="date"){if(!e||!n)throw new Error(`Invalid date parameters for ${this.collectionName} date range query`);const o=wo(),a=Ud(yo,"users",o,this.collectionName),l=$d(a,zm(r,">=",nt.fromDate(e)),zm(r,"<=",nt.fromDate(n)),zd(r,"desc"));return(await Bm(l)).docs.map(h=>({id:h.id,...h.data()}))}async getByDate(e,n="date"){const r=new Date(e);r.setHours(0,0,0,0);const o=new Date(e);return o.setHours(23,59,59,999),this.getByDateRange(r,o,n)}async query(e=[],n="date",r="desc",o){const a=wo(),l=Ud(yo,"users",a,this.collectionName),u=[...e.map(v=>zm(v.field,v.operator,v.value)),zd(n,r)];o&&u.push(Wx(o));const h=$d(l,...u);return(await Bm(h)).docs.map(v=>({id:v.id,...v.data()}))}}const Bi=new nB("nutrition"),bR=async t=>{try{return await Bi.add(t)}catch(e){throw console.error("Error adding nutrition entry:",e),e}},rB=async t=>{try{return await Bi.getAll(t)}catch(e){return console.error("Error fetching nutrition entries:",e),[]}},sB=async t=>{try{return await Bi.getById(t)}catch(e){return console.error(`Error fetching nutrition entry ${t}:`,e),null}},Fc=async(t,e)=>{try{return await Bi.update(t,e)}catch(n){return console.error(`Error updating nutrition entry ${t}:`,n),!1}},oB=async t=>{try{return await Bi.delete(t)}catch(e){return console.error(`Error deleting nutrition entry ${t}:`,e),!1}},iB=async t=>{try{return await Bi.getByDate(t)}catch(e){return console.error("Error fetching nutrition entries by date:",e),[]}},aB=async()=>{try{const t=new Date,e=new Date(t);return e.setDate(t.getDate()-7),await Bi.getByDateRange(e,t)}catch(t){return console.error("Error fetching nutrition summary:",t),[]}},AR=t=>{const[e,n]=_.useState([]),[r,o]=_.useState([]),[a,l]=_.useState([]),[u,h]=_.useState(!1),[m,v]=_.useState(0),y=_.useCallback($=>{if(!$.date)return!1;const W=new Date,Y=new Date;Y.setDate(W.getDate()-7);const N=$.date.toDate();return N>=Y&&N<=W},[]),x=_.useCallback($=>{$&&(o(W=>W.some(Y=>Y.id===$.id)?W.map(Y=>Y.id===$.id?$:Y):[$,...W]),y($)&&l(W=>W.some(Y=>Y.id===$.id)?W.map(Y=>Y.id===$.id?$:Y):[$,...W]),n(W=>W.some(Y=>Y.id===$.id)?W.map(Y=>Y.id===$.id?$:Y):[$,...W])),v(W=>W+1)},[y]);_.useEffect(()=>{(async()=>{h(!0);try{const W=await iB(t);o(W)}catch(W){console.error("Error fetching nutrition entries by date:",W)}finally{h(!1)}})()},[t]),_.useEffect(()=>{(async()=>{h(!0);try{const W=new Date;new Date().setDate(W.getDate()-7);const N=await aB();l(N)}catch(W){console.error("Error fetching weekly nutrition entries:",W)}finally{h(!1)}})()},[m]),_.useEffect(()=>{(async()=>{h(!0);try{const W=await rB();n(W)}catch(W){console.error("Error fetching all nutrition entries:",W)}finally{h(!1)}})()},[m]);const T=_.useCallback(()=>{const $=new Set;a.forEach(M=>{if(!M.date)return;const j=M.date.toDate(),F=`${j.getFullYear()}-${j.getMonth()}-${j.getDate()}`;$.add(F)});const W=a.reduce((M,j)=>{var F;return M+(((F=j.dailyTotals)==null?void 0:F.calories)||0)},0),Y=a.reduce((M,j)=>{var F;return M+(((F=j.dailyTotals)==null?void 0:F.protein)||0)},0),N=$.size,A=N>0?W/N:0,P=N>0?Y/N:0;return{averageCalories:A,averageProtein:P,daysTracked:N}},[a]),b=_.useCallback(()=>{var W,Y,N;const $=e.find(A=>{if(!A.date)return!1;const P=A.date.toDate();return qU(P)});return{calories:((W=$==null?void 0:$.dailyTotals)==null?void 0:W.calories)||0,protein:((Y=$==null?void 0:$.dailyTotals)==null?void 0:Y.protein)||0,meals:((N=$==null?void 0:$.meals)==null?void 0:N.length)||0}},[e]),I=_.useMemo(()=>{const $=T();return{today:b(),weekly:{averageCalories:$.averageCalories,averageProtein:$.averageProtein,daysTracked:$.daysTracked}}},[T,b]),R=async $=>{h(!0);try{const W={...$,date:$.date||nt.fromDate(t)},Y=await bR(W);return Y?(x(),Y):null}catch(W){return console.error("Error adding nutrition entry:",W),null}finally{h(!1)}},D=async($,W)=>{h(!0);try{return await Fc($,W)?(x(),!0):!1}catch(Y){return console.error("Error updating nutrition entry:",Y),!1}finally{h(!1)}},U=async $=>{h(!0);try{return await oB($)?(x(),!0):!1}catch(W){return console.error("Error deleting nutrition entry:",W),!1}finally{h(!1)}},V=_.useCallback(async($,W)=>{h(!0);try{return await Fc($,{notes:W})?(x(),!0):!1}catch(Y){return console.error("Error updating notes:",Y),!1}finally{h(!1)}},[x]);return{isLoading:u,allNutritionEntries:e,weeklyNutritionEntries:a,selectedDateNutritionEntries:r,nutritionSummary:I,addEntry:R,updateEntry:D,deleteEntry:U,updateNotes:V,getWeeklySummary:T,getTodayData:b,refreshData:x}},lB=()=>{const t=Ui(),{user:e}=Bo(),[n]=_.useState(()=>new Date),{isLoading:r,allNutritionEntries:o,nutritionSummary:a}=AR(n),l=[{dailyCalories:2e3,dailyProtein:150,weeklyWorkouts:4}],u=()=>{t("/dashboard/workouts/")},h=()=>{t("/dashboard/nutrition/")},m=()=>{t("/dashboard/progress/")};return p.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[p.jsx(Yz,{userName:(e==null?void 0:e.displayName)||"User"}),p.jsx(tB,{onAddWorkout:u,onLogFood:h,onRecordMeasurement:m}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx(eB,{onLogWorkout:u}),p.jsx(Zz,{isLoading:r,nutritionData:a,latestEntries:o.slice(0,3),onLogFood:h}),p.jsx(Xz,{goals:l})]})]})},cB=({selectedDate:t,onDateChange:e})=>{const n=l=>{const u={weekday:"short",month:"short",day:"numeric"};return l.toLocaleDateString("en-US",u)},r=()=>{const l=new Date(t);l.setDate(t.getDate()-1),e(l)},o=()=>{const l=new Date(t);l.setDate(t.getDate()+1),e(l)},a=l=>{const u=new Date;return l.getDate()===u.getDate()&&l.getMonth()===u.getMonth()&&l.getFullYear()===u.getFullYear()};return p.jsx(an,{className:"mb-4 shadow-sm",children:p.jsx(fn,{className:"p-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(ze,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Previous day",children:p.jsx(sC,{})}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("span",{className:"font-medium",children:n(t)}),a(t)&&p.jsx("span",{className:"text-xs text-primary",children:"Today"})]}),p.jsx(ze,{variant:"ghost",size:"icon",onClick:o,"aria-label":"Next day",children:p.jsx(oC,{})})]})})})},uB=({foods:t,className:e=""})=>!t||t.length===0?null:p.jsx("div",{className:`space-y-2 ${e}`,children:t.map((n,r)=>p.jsx("div",{className:"bg-background border rounded-md p-3",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h5",{className:"font-medium text-sm",children:n.name}),p.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1 text-xs text-muted-foreground",children:[p.jsxs("span",{children:[n.quantity," ",n.unit]}),p.jsxs("span",{children:[n.calories," calories"]}),p.jsxs("span",{children:[n.protein,"g protein"]})]})]}),p.jsx(my,{variant:"outline",className:"text-xs",children:r+1})]})},`food-${r}`))}),dB=({meal:t,className:e,onEdit:n,onDelete:r})=>{const[o,a]=_.useState(!1),l=$t([t],"calories"),u=$t([t],"protein"),h=t.time?new Date(t.time.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"No time set",m=()=>a(v=>!v);return p.jsxs(an,{className:je("overflow-hidden",e),children:[p.jsx(Un,{className:"py-3 px-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs($n,{className:"text-base capitalize flex items-center",children:[t.name,p.jsx(my,{variant:"outline",className:"ml-2 font-normal text-xs",children:h})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[n&&p.jsxs(ze,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>n(t),children:[p.jsx(cC,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Edit"})]}),r&&p.jsxs(ze,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",children:[p.jsx(uC,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Delete"})]}),p.jsxs(ze,{variant:"ghost",size:"sm",onClick:m,className:"h-8 w-8 p-0 ml-1",children:[o?p.jsx(iC,{className:"h-4 w-4"}):p.jsx(bf,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:o?"Collapse":"Expand"})]})]})]})}),p.jsxs(fn,{className:"px-4 pb-4 pt-0",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[p.jsxs("div",{className:"flex items-center text-muted-foreground",children:[p.jsx(JV,{className:"h-3.5 w-3.5 mr-1.5"}),p.jsx("span",{children:h})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("span",{className:"font-medium",children:[l," kcal"]}),p.jsxs("span",{className:"font-medium",children:[u,"g protein"]})]})]}),o&&t.foods.length>0&&p.jsx("div",{className:"pt-2 mt-2 border-t",children:p.jsx(uB,{foods:t.foods})}),o&&t.foods.length===0&&p.jsx("div",{className:"py-3 text-center bg-muted/30 rounded-md mt-2",children:p.jsx("p",{className:"text-sm text-muted-foreground",children:"No food items in this meal"})}),!o&&t.foods.length>0&&p.jsxs(ze,{variant:"ghost",size:"sm",onClick:m,className:"w-full mt-1 border border-dashed text-muted-foreground",children:["Show ",t.foods.length," food item",t.foods.length>1?"s":""]}),o&&t.foods.length>0&&p.jsx(ze,{variant:"ghost",size:"sm",onClick:m,className:"w-full mt-1 border border-dashed text-muted-foreground",children:"Hide"})]})]})},hB=({meals:t,onDeleteMeal:e,onEditMeal:n,onAddMeal:r,isLoading:o=!1,children:a})=>p.jsxs(an,{className:"w-full",children:[p.jsxs(Un,{className:"pb-3 flex flex-row items-center justify-between",children:[p.jsxs($n,{className:"text-lg flex items-center gap-2",children:[p.jsx(pC,{className:"h-5 w-5"}),"Today's Meals",o&&p.jsx(wl,{className:"h-4 w-4 ml-2 animate-spin text-muted-foreground"})]}),r&&p.jsxs(ze,{variant:"outline",size:"sm",onClick:r,className:"h-8 gap-1",children:[p.jsx(Af,{className:"h-3.5 w-3.5"}),p.jsx("span",{children:"Add Meal"})]})]}),p.jsxs(fn,{className:"space-y-3",children:[o?p.jsx("div",{className:"space-y-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Array(3).fill(0).map((u,h)=>p.jsx(an,{className:"h-[180px] overflow-hidden",children:p.jsxs("div",{className:"p-4 h-full flex flex-col",children:[p.jsx(Yr,{className:"h-5 w-3/4 mb-2"}),p.jsx(Yr,{className:"h-4 w-1/2 mb-4"}),p.jsxs("div",{className:"flex space-x-2 mb-3",children:[p.jsx(Yr,{className:"h-4 w-16"}),p.jsx(Yr,{className:"h-4 w-16"})]}),p.jsx("div",{className:"flex-1"}),p.jsxs("div",{className:"flex justify-between items-center pt-2 mt-auto",children:[p.jsx(Yr,{className:"h-4 w-16"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Yr,{className:"h-8 w-8 rounded-md"}),p.jsx(Yr,{className:"h-8 w-8 rounded-md"})]})]})]})},`skeleton-${h}`))}):t.length>0?p.jsx("div",{className:"space-y-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map((u,h)=>p.jsx(dB,{meal:u,onDelete:()=>e(h),onEdit:()=>n(h,u),className:"h-full"},`meal-${u.id||h}`))}):p.jsx("div",{className:"py-8 text-center border-dashed border rounded-md bg-muted/40",children:p.jsx("p",{className:"text-muted-foreground",children:"No meals logged for today."})}),a&&p.jsx("div",{className:"pt-3",children:a})]})]});function fB({className:t,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:je("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const pB=({notes:t,isLoading:e=!1,onChange:n})=>{const[r,o]=wt.useState(t),[a,l]=wt.useState(!1),[u,h]=wt.useState(!1);wt.useEffect(()=>{o(t)},[t]);const m=()=>{o(t),l(!0)},v=()=>{o(t),l(!1)},y=async()=>{h(!0);try{await n(r),l(!1)}catch(x){console.error("Failed to save notes:",x)}finally{h(!1)}};return e?p.jsxs(an,{children:[p.jsx(Un,{children:p.jsxs($n,{className:"flex items-center justify-between",children:[p.jsx(Yr,{className:"h-4 w-16"}),p.jsx(Yr,{className:"w-20"})]})}),p.jsx(fn,{children:p.jsx(Yr,{className:"w-full"})})]}):p.jsxs(an,{children:[p.jsx(Un,{children:p.jsxs($n,{className:"flex items-center justify-between",children:[p.jsx("span",{children:"Notes"}),!a&&p.jsxs(ze,{variant:"outline",size:"sm",onClick:m,children:[p.jsx(jg,{className:"mr-2"}),t?"Edit":"Add Notes"]})]})}),p.jsx(fn,{children:a?p.jsx(fB,{value:r,onChange:x=>o(x.target.value),placeholder:"Add your notes here...",className:"resize-none"}):p.jsx("div",{children:t?p.jsx("p",{className:"whitespace-pre-wrap",children:t}):p.jsx("p",{className:"text-muted-foreground italic",children:"No notes added yet."})})}),a&&p.jsxs(El,{className:"flex justify-end gap-2",children:[p.jsxs(ze,{variant:"ghost",size:"sm",onClick:v,disabled:u,children:[p.jsx(cy,{className:"mr-1"}),"Cancel"]}),p.jsxs(ze,{variant:"default",size:"sm",onClick:y,disabled:u,children:[p.jsx(gF,{className:"mr-1"}),u?"Saving...":"Save"]})]})]})},Ba=({children:t,errorMessage:e,className:n})=>p.jsxs("div",{className:je("space-y-2",n),children:[t,e&&p.jsxs("div",{className:"flex items-center gap-1 text-destructive text-xs",children:[p.jsx(Lc,{className:"h-3 w-3"}),p.jsx("span",{children:e})]})]}),mB=[{value:"breakfast",label:"Breakfast"},{value:"lunch",label:"Lunch"},{value:"dinner",label:"Dinner"},{value:"snack",label:"Snack"},{value:"other",label:"Other"}],gB=({name:t,time:e,onNameChange:n,onTimeChange:r})=>p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs(Ba,{children:[p.jsx(jn,{htmlFor:"meal-name",children:"Meal Type"}),p.jsxs(NA,{value:t,onValueChange:n,children:[p.jsx(MA,{id:"meal-name",className:"max-w-[180px]",children:p.jsx(DA,{placeholder:"Select meal type"})}),p.jsx(OA,{children:mB.map(o=>p.jsx(jA,{value:o.value,children:o.label},o.value))})]})]}),p.jsxs(Ba,{children:[p.jsx(jn,{htmlFor:"meal-time",children:"Time"}),p.jsx(er,{id:"meal-time",type:"time",value:e,onChange:r,className:"max-w-[180px]"})]})]});function vB(t){const[e,n]=t.split(":").map(Number),r=new Date;return r.setHours(e,n,0,0),nt.fromDate(r)}function yB(t){return t.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const wB=t=>{const e={name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""};let n=!0;return t.name.trim()||(e.name="Food name is required",n=!1),t.quantity<=0&&(e.quantity="Quantity must be greater than 0",n=!1),t.calories<0&&(e.calories="Calories cannot be negative",n=!1),t.protein<0&&(e.calories="Protein cannot be negative",n=!1),t.carbs<0&&(e.calories="Carbs cannot be negative",n=!1),t.fat<0&&(e.calories="Fat cannot be negative",n=!1),{isValid:n,newErrors:e}},_B=({onSubmit:t,onCancel:e,initialMeal:n,isEditing:r=!1})=>{const[o,a]=_.useState((n==null?void 0:n.name)||""),[l,u]=_.useState((n==null?void 0:n.time)||nt.now()),[h,m]=_.useState({mealName:""}),[v,y]=_.useState(!1),x=()=>{const R={mealName:""};let D=!0;return o||(R.mealName="Meal type is required",D=!1),m(R),D},T=async R=>{if(R.preventDefault(),!!x())try{y(!0),await t({name:o,time:l})}catch(D){console.error("Error submitting meal form:",D)}finally{y(!1)}},b=R=>{a(R),R&&m(D=>({...D,mealName:""}))},I=R=>{u(vB(R.target.value))};return p.jsxs(an,{className:"w-full",children:[p.jsx(Un,{children:p.jsxs($n,{className:"flex items-center gap-2",children:[p.jsx(pC,{className:"h-5 w-5"}),r?"Edit Meal":"Add New Meal"]})}),p.jsxs("form",{onSubmit:T,children:[p.jsxs(fn,{className:"space-y-4",children:[p.jsx(gB,{name:o,time:yB(l),onNameChange:b,onTimeChange:I}),h.mealName&&p.jsx(z6,{message:h.mealName})]}),p.jsxs(El,{className:"flex justify-end gap-2 border-t pt-4 mt-1",children:[p.jsx(ze,{type:"button",variant:"outline",onClick:e,disabled:v,children:"Cancel"}),p.jsx(ze,{type:"submit",disabled:v,children:v?"Saving...":r?"Save Changes":"Save Meal"})]})]})]})},DE="aGILeRnIJ3bHhfVWbBagI6fbyRwqbzDGOf5x1FB3",ME="https://api.nal.usda.gov/fdc/v1",$y={searchFoods:async(t,e=20)=>{try{const n=await fetch(`${ME}/foods/search?api_key=${DE}&query=${encodeURIComponent(t)}&pageSize=${e}`);if(!n.ok)throw new Error(`USDA API error: ${n.status}`);return(await n.json()).foods||[]}catch(n){throw console.error("Error searching foods:",n),n}},getFoodDetails:async t=>{try{const e=await fetch(`${ME}/food/${t}?api_key=${DE}`);if(!e.ok)throw new Error(`USDA API error: ${e.status}`);return await e.json()}catch(e){throw console.error(`Error getting food details for ID ${t}:`,e),e}},extractNutrients:t=>{const e={calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0},n={calories:1008,protein:1003,carbs:1005,fat:1004,fiber:1079,sugar:2e3,sodium:1093};return t.foodNutrients.forEach(r=>{switch(r.nutrientId){case n.calories:e.calories=r.value;break;case n.protein:e.protein=r.value;break;case n.carbs:e.carbs=r.value;break;case n.fat:e.fat=r.value;break;case n.fiber:e.fiber=r.value;break;case n.sugar:e.sugar=r.value;break;case n.sodium:e.sodium=r.value;break}}),e}};function xB(t,e){const[n,r]=_.useState(t);return _.useEffect(()=>{const o=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(o)}},[t,e]),n}const EB=({query:t,onQueryChange:e,onSearch:n,onClear:r,isLoading:o,onKeyDown:a,inputRef:l})=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx(er,{ref:l,type:"text",placeholder:"Search for a food...",value:t,onChange:u=>e(u.target.value),onKeyDown:a,className:"pr-8"}),t&&p.jsx("button",{type:"button",onClick:r,className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:p.jsx(cy,{className:"h-4 w-4"})})]}),p.jsxs(ze,{type:"button",variant:"secondary",size:"sm",onClick:n,disabled:o||!t.trim()||t.trim().length<2,children:[o?p.jsx(wl,{className:"h-4 w-4 animate-spin"}):p.jsx(yF,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Search"})]})]}),SB=({food:t,onSelect:e,buttonLabel:n="Add"})=>{const r=$y.extractNutrients(t);return p.jsx("div",{className:"p-3 hover:bg-accent/50 transition-colors",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>e(t),children:[p.jsx("h4",{className:"font-medium text-sm",children:t.description}),t.brandOwner&&p.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[90%]",children:t.brandOwner}),p.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1 text-xs text-muted-foreground",children:[p.jsxs("span",{className:"font-medium text-foreground",children:[Math.round(r.calories)," cal"]}),p.jsxs("span",{children:["P: ",r.protein.toFixed(1),"g"]}),p.jsxs("span",{children:["C: ",r.carbs.toFixed(1),"g"]}),p.jsxs("span",{children:["F: ",r.fat.toFixed(1),"g"]})]})]}),p.jsxs(ze,{size:"sm",variant:"ghost",onClick:()=>e(t),className:"h-7 px-2",children:[p.jsx(hF,{className:"h-3.5 w-3.5 mr-1"}),n]})]})})};function TB(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var zy="ScrollArea",[RR,o8]=jr(zy),[IB,or]=RR(zy),PR=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:a=600,...l}=t,[u,h]=_.useState(null),[m,v]=_.useState(null),[y,x]=_.useState(null),[T,b]=_.useState(null),[I,R]=_.useState(null),[D,U]=_.useState(0),[V,$]=_.useState(0),[W,Y]=_.useState(!1),[N,A]=_.useState(!1),P=Xe(e,j=>h(j)),M=pu(o);return p.jsx(IB,{scope:n,type:r,dir:M,scrollHideDelay:a,scrollArea:u,viewport:m,onViewportChange:v,content:y,onContentChange:x,scrollbarX:T,onScrollbarXChange:b,scrollbarXEnabled:W,onScrollbarXEnabledChange:Y,scrollbarY:I,onScrollbarYChange:R,scrollbarYEnabled:N,onScrollbarYEnabledChange:A,onCornerWidthChange:U,onCornerHeightChange:$,children:p.jsx(Ve.div,{dir:M,...l,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":D+"px","--radix-scroll-area-corner-height":V+"px",...t.style}})})});PR.displayName=zy;var kR="ScrollAreaViewport",NR=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:o,...a}=t,l=or(kR,n),u=_.useRef(null),h=Xe(e,u,l.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});NR.displayName=kR;var ls="ScrollAreaScrollbar",By=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=or(ls,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,u=t.orientation==="horizontal";return _.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),o.type==="hover"?p.jsx(CB,{...r,ref:e,forceMount:n}):o.type==="scroll"?p.jsx(bB,{...r,ref:e,forceMount:n}):o.type==="auto"?p.jsx(DR,{...r,ref:e,forceMount:n}):o.type==="always"?p.jsx(Wy,{...r,ref:e}):null});By.displayName=ls;var CB=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=or(ls,t.__scopeScrollArea),[a,l]=_.useState(!1);return _.useEffect(()=>{const u=o.scrollArea;let h=0;if(u){const m=()=>{window.clearTimeout(h),l(!0)},v=()=>{h=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",m),u.addEventListener("pointerleave",v),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",m),u.removeEventListener("pointerleave",v)}}},[o.scrollArea,o.scrollHideDelay]),p.jsx(zn,{present:n||a,children:p.jsx(DR,{"data-state":a?"visible":"hidden",...r,ref:e})})}),bB=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=or(ls,t.__scopeScrollArea),a=t.orientation==="horizontal",l=Yf(()=>h("SCROLL_END"),100),[u,h]=TB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(u==="idle"){const m=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[u,o.scrollHideDelay,h]),_.useEffect(()=>{const m=o.viewport,v=a?"scrollLeft":"scrollTop";if(m){let y=m[v];const x=()=>{const T=m[v];y!==T&&(h("SCROLL"),l()),y=T};return m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[o.viewport,a,h,l]),p.jsx(zn,{present:n||u!=="hidden",children:p.jsx(Wy,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ge(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:ge(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),DR=_.forwardRef((t,e)=>{const n=or(ls,t.__scopeScrollArea),{forceMount:r,...o}=t,[a,l]=_.useState(!1),u=t.orientation==="horizontal",h=Yf(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,v=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?m:v)}},10);return ll(n.viewport,h),ll(n.content,h),p.jsx(zn,{present:r||a,children:p.jsx(Wy,{"data-state":a?"visible":"hidden",...o,ref:e})})}),Wy=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,o=or(ls,t.__scopeScrollArea),a=_.useRef(null),l=_.useRef(0),[u,h]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=VR(u.viewport,u.content),v={...r,sizes:u,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function y(x,T){return DB(x,l.current,u,T)}return n==="horizontal"?p.jsx(AB,{...v,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollLeft,T=OE(x,u,o.dir);a.current.style.transform=`translate3d(${T}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=y(x,o.dir))}}):n==="vertical"?p.jsx(RB,{...v,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollTop,T=OE(x,u);a.current.style.transform=`translate3d(0, ${T}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=y(x))}}):null}),AB=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,a=or(ls,t.__scopeScrollArea),[l,u]=_.useState(),h=_.useRef(null),m=Xe(e,h,a.onScrollbarXChange);return _.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),p.jsx(OR,{"data-orientation":"horizontal",...o,ref:m,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qf(n)+"px",...t.style},onThumbPointerDown:v=>t.onThumbPointerDown(v.x),onDragScroll:v=>t.onDragScroll(v.x),onWheelScroll:(v,y)=>{if(a.viewport){const x=a.viewport.scrollLeft+v.deltaX;t.onWheelScroll(x),UR(x,y)&&v.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Qh(l.paddingLeft),paddingEnd:Qh(l.paddingRight)}})}})}),RB=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,a=or(ls,t.__scopeScrollArea),[l,u]=_.useState(),h=_.useRef(null),m=Xe(e,h,a.onScrollbarYChange);return _.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),p.jsx(OR,{"data-orientation":"vertical",...o,ref:m,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qf(n)+"px",...t.style},onThumbPointerDown:v=>t.onThumbPointerDown(v.y),onDragScroll:v=>t.onDragScroll(v.y),onWheelScroll:(v,y)=>{if(a.viewport){const x=a.viewport.scrollTop+v.deltaY;t.onWheelScroll(x),UR(x,y)&&v.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Qh(l.paddingTop),paddingEnd:Qh(l.paddingBottom)}})}})}),[PB,MR]=RR(ls),OR=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:v,onResize:y,...x}=t,T=or(ls,n),[b,I]=_.useState(null),R=Xe(e,P=>I(P)),D=_.useRef(null),U=_.useRef(""),V=T.viewport,$=r.content-r.viewport,W=Bt(v),Y=Bt(h),N=Yf(y,10);function A(P){if(D.current){const M=P.clientX-D.current.left,j=P.clientY-D.current.top;m({x:M,y:j})}}return _.useEffect(()=>{const P=M=>{const j=M.target;(b==null?void 0:b.contains(j))&&W(M,$)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[V,b,$,W]),_.useEffect(Y,[r,Y]),ll(b,N),ll(T.content,N),p.jsx(PB,{scope:n,scrollbar:b,hasThumb:o,onThumbChange:Bt(a),onThumbPointerUp:Bt(l),onThumbPositionChange:Y,onThumbPointerDown:Bt(u),children:p.jsx(Ve.div,{...x,ref:R,style:{position:"absolute",...x.style},onPointerDown:ge(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),D.current=b.getBoundingClientRect(),U.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T.viewport&&(T.viewport.style.scrollBehavior="auto"),A(P))}),onPointerMove:ge(t.onPointerMove,A),onPointerUp:ge(t.onPointerUp,P=>{const M=P.target;M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=U.current,T.viewport&&(T.viewport.style.scrollBehavior=""),D.current=null})})})}),Kh="ScrollAreaThumb",jR=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=MR(Kh,t.__scopeScrollArea);return p.jsx(zn,{present:n||o.hasThumb,children:p.jsx(kB,{ref:e,...r})})}),kB=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...o}=t,a=or(Kh,n),l=MR(Kh,n),{onThumbPositionChange:u}=l,h=Xe(e,y=>l.onThumbChange(y)),m=_.useRef(void 0),v=Yf(()=>{m.current&&(m.current(),m.current=void 0)},100);return _.useEffect(()=>{const y=a.viewport;if(y){const x=()=>{if(v(),!m.current){const T=MB(y,u);m.current=T,u()}};return u(),y.addEventListener("scroll",x),()=>y.removeEventListener("scroll",x)}},[a.viewport,v,u]),p.jsx(Ve.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ge(t.onPointerDownCapture,y=>{const T=y.target.getBoundingClientRect(),b=y.clientX-T.left,I=y.clientY-T.top;l.onThumbPointerDown({x:b,y:I})}),onPointerUp:ge(t.onPointerUp,l.onThumbPointerUp)})});jR.displayName=Kh;var Hy="ScrollAreaCorner",LR=_.forwardRef((t,e)=>{const n=or(Hy,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(NB,{...t,ref:e}):null});LR.displayName=Hy;var NB=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,o=or(Hy,n),[a,l]=_.useState(0),[u,h]=_.useState(0),m=!!(a&&u);return ll(o.scrollbarX,()=>{var y;const v=((y=o.scrollbarX)==null?void 0:y.offsetHeight)||0;o.onCornerHeightChange(v),h(v)}),ll(o.scrollbarY,()=>{var y;const v=((y=o.scrollbarY)==null?void 0:y.offsetWidth)||0;o.onCornerWidthChange(v),l(v)}),m?p.jsx(Ve.div,{...r,ref:e,style:{width:a,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Qh(t){return t?parseInt(t,10):0}function VR(t,e){const n=t/e;return isNaN(n)?0:n}function Qf(t){const e=VR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function DB(t,e,n,r="ltr"){const o=Qf(n),a=o/2,l=e||a,u=o-l,h=n.scrollbar.paddingStart+l,m=n.scrollbar.size-n.scrollbar.paddingEnd-u,v=n.content-n.viewport,y=r==="ltr"?[0,v]:[v*-1,0];return FR([h,m],y)(t)}function OE(t,e,n="ltr"){const r=Qf(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,l=e.content-e.viewport,u=a-r,h=n==="ltr"?[0,l]:[l*-1,0],m=Gg(t,h);return FR([0,l],[0,u])(m)}function FR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function UR(t,e){return t>0&&t<e}var MB=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function o(){const a={left:t.scrollLeft,top:t.scrollTop},l=n.left!==a.left,u=n.top!==a.top;(l||u)&&e(),n=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Yf(t,e){const n=Bt(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ll(t,e){const n=Bt(e);At(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,n])}var $R=PR,OB=NR,jB=LR;const zR=_.forwardRef(({className:t,children:e,...n},r)=>p.jsxs($R,{ref:r,className:je("relative overflow-hidden",t),...n,children:[p.jsx(OB,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(BR,{}),p.jsx(jB,{})]}));zR.displayName=$R.displayName;const BR=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(By,{ref:r,orientation:e,className:je("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(jR,{className:"relative flex-1 rounded-full bg-border"})}));BR.displayName=By.displayName;const WR=_.forwardRef(({isLoading:t,error:e,results:n,onSelectFood:r,buttonLabel:o="Add",showInline:a=!1,className:l=""},u)=>p.jsx(an,{ref:u,className:`${a?"":"absolute z-50 left-0 right-0 top-[calc(100%+0.5rem)]"} shadow-md ${l}`,children:p.jsx(fn,{className:"p-0 overflow-hidden",children:t?p.jsxs("div",{className:"flex items-center justify-center p-4 text-sm text-muted-foreground",children:[p.jsx(wl,{className:"h-4 w-4 mr-2 animate-spin"}),"Searching..."]}):e?p.jsx("div",{className:"p-4 text-sm text-destructive",children:e}):n.length>0?p.jsx(zR,{className:"max-h-64 overflow-y-scroll",children:n.map(h=>p.jsx(SB,{food:h,onSelect:r,buttonLabel:o},h.fdcId))}):null})}));WR.displayName="FoodSearchResults";const LB=({onSelectFood:t,buttonLabel:e="Add",autoFocus:n=!1,showInline:r=!1})=>{const[o,a]=_.useState(""),[l,u]=_.useState([]),[h,m]=_.useState(!1),[v,y]=_.useState(null),[x,T]=_.useState(!1),b=_.useRef(null),I=_.useRef(null),R=xB(o,300);_.useEffect(()=>{function W(Y){b.current&&!b.current.contains(Y.target)&&I.current!==Y.target&&T(!1)}return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),_.useEffect(()=>{n&&I.current&&I.current.focus()},[n]);const D=_.useCallback(async()=>{if(!(!o.trim()||o.trim().length<2)){m(!0),y(null),T(!0);try{const W=await $y.searchFoods(o);u(W),W.length===0&&y("No foods found matching your search.")}catch(W){y("Failed to search foods. Please try again."),console.error(W)}finally{m(!1)}}},[o]),U=()=>{a(""),u([]),y(null),T(!1),I.current&&I.current.focus()},V=W=>{T(!1),console.log("showdropdown inside handle",x),t(W),r?(u([]),y(null)):U()},$=W=>{W.key==="Enter"&&o.trim()?(W.preventDefault(),D()):W.key==="Escape"&&T(!1)};return _.useEffect(()=>{R.trim().length>=2&&D()},[R,D]),p.jsxs("div",{className:"relative w-full",children:[p.jsx(EB,{inputRef:I,query:o,onQueryChange:a,onSearch:D,onClear:U,isLoading:h,onKeyDown:$}),x&&p.jsx(WR,{ref:b,isLoading:h,error:v,results:l,onSelectFood:V,buttonLabel:e,showInline:r})]})},VB=[{value:"g",label:"grams (g)"},{value:"ml",label:"milliliters (ml)"}],FB=[{id:"calories",label:"Calories",placeholder:"165",unit:""},{id:"protein",label:"Protein",placeholder:"31",unit:"g"},{id:"carbs",label:"Carbs",placeholder:"0",unit:"g"},{id:"fat",label:"Fat",placeholder:"3.6",unit:"g"}],UB=({onSubmit:t,onCancel:e,initValues:n})=>{const[r,o]=_.useState({name:(n==null?void 0:n.name)||"",quantity:(n==null?void 0:n.quantity)||100,calories:(n==null?void 0:n.calories)||0,protein:(n==null?void 0:n.protein)||0,carbs:(n==null?void 0:n.carbs)||0,fat:(n==null?void 0:n.fat)||0,unit:(n==null?void 0:n.unit)||"g"}),[a,l]=_.useState({name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""}),u=y=>{const x=$y.extractNutrients(y);o({...r,name:y.description,quantity:100,calories:Math.round(x.calories||0),protein:Math.round(x.protein||0),carbs:Math.round(x.carbs||0),fat:Math.round(x.fat||0)}),l({name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""})},h=y=>{const{id:x,value:T}=y.target,b=x.replace("food-",""),R=["quantity","calories","protein","carbs","fat"].includes(b)?parseFloat(T)||0:T;o(D=>({...D,[b]:R})),a[b]&&l(D=>({...D,[b]:""}))},m=y=>{o(x=>({...x,unit:y}))},v=y=>{y.preventDefault();const x=wB(r);l(x.newErrors),x.isValid&&t(r)};return p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx(jn,{className:"text-sm font-medium block mb-2",children:"Search USDA Food Database"}),p.jsx(LB,{onSelectFood:u,buttonLabel:"Select",autoFocus:!n}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Search for foods to automatically fill nutrition information"})]}),p.jsxs(Ba,{children:[p.jsx(jn,{htmlFor:"food-name",className:"text-sm font-medium",children:"Food Name"}),p.jsx(er,{id:"food-name",placeholder:"e.g., Chicken Breast",value:r.name,onChange:h,className:a.name?"border-destructive":""}),a.name&&p.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[p.jsx(Lc,{className:"h-3 w-3 mr-1"}),p.jsx("span",{children:a.name})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs(Ba,{children:[p.jsx(jn,{htmlFor:"food-quantity",className:"text-sm font-medium",children:"Quantity"}),p.jsx(er,{id:"food-quantity",type:"number",placeholder:"100",value:r.quantity===0?"":r.quantity,onChange:h,min:"0",step:"any",className:a.quantity?"border-destructive":""}),a.quantity&&p.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[p.jsx(Lc,{className:"h-3 w-3 mr-1"}),p.jsx("span",{children:a.quantity})]})]}),p.jsxs(Ba,{children:[p.jsx(jn,{htmlFor:"food-unit",className:"text-sm font-medium",children:"Unit"}),p.jsxs(NA,{value:r.unit,onValueChange:m,children:[p.jsx(MA,{id:"food-unit",children:p.jsx(DA,{placeholder:"Select unit"})}),p.jsx(OA,{children:VB.map(y=>p.jsx(jA,{value:y.value,children:y.label},y.value))})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nutrition Information"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:FB.map(y=>p.jsxs(Ba,{children:[p.jsxs(jn,{htmlFor:`food-${y.id}`,className:"text-sm font-medium",children:[y.label,y.unit?` (${y.unit})`:""]}),p.jsx(er,{id:`food-${y.id}`,type:"number",placeholder:y.placeholder,value:r[y.id]===0?"":r[y.id],onChange:h,min:"0",step:"any",className:a[y.id]?"border-destructive":""}),a[y.id]&&p.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[p.jsx(Lc,{className:"h-3 w-3 mr-1"}),p.jsx("span",{children:a[y.id]})]})]},y.id))})]}),p.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[p.jsx(ze,{type:"button",variant:"outline",size:"sm",onClick:e,children:"Cancel"}),p.jsxs(ze,{type:"submit",size:"sm",children:[n?"Update":"Add"," Food Item"]})]})]})},$B=({onSubmit:t,onCancel:e,initialMeal:n,isEditing:r=!1})=>{const[o,a]=_.useState("meal"),[l,u]=_.useState({name:(n==null?void 0:n.name)||"",time:(n==null?void 0:n.time)||nt.now()}),[h,m]=_.useState((n==null?void 0:n.foods)||[]),[v,y]=_.useState(!1),[x,T]=_.useState(null),[b,I]=_.useState(null),[R,D]=_.useState(!1),U=async j=>{u(j),a("food")},V=()=>{y(!0),T(null),I(null)},$=j=>{y(!0),T(h[j]),I(j)},W=j=>{m(F=>F.filter((O,Te)=>Te!==j))},Y=j=>{m(b!==null?F=>F.map((O,Te)=>Te===b?j:O):F=>[...F,j]),y(!1),T(null),I(null)},N=()=>{y(!1),T(null),I(null)},A=()=>{a("meal")},P=async()=>{if(!(!l||h.length===0)){D(!0);try{const j={id:(n==null?void 0:n.id)||`meal-${Date.now()}`,name:l.name,time:l.time,foods:h};await t(j)}catch(j){console.error("Error submitting meal:",j)}finally{D(!1)}}},M=h.reduce((j,F)=>(j.calories+=F.calories*F.quantity/100,j.protein+=F.protein*F.quantity/100,j.carbs+=F.carbs*F.quantity/100,j.fat+=F.fat*F.quantity/100,j),{calories:0,protein:0,carbs:0,fat:0});return p.jsxs(an,{className:"w-full",children:[p.jsx(Un,{children:p.jsxs($n,{children:[r?"Edit Meal":"Add New Meal",o==="food"&&p.jsxs(my,{className:"ml-2",children:[h.length," items"]})]})}),p.jsx(fn,{children:o==="meal"?p.jsx(_B,{onSubmit:U,onCancel:e,initialMeal:l,isEditing:r}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-muted p-3 rounded-md flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium capitalize",children:l.name}),p.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(l.time.toMillis()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),p.jsxs(ze,{variant:"outline",size:"sm",onClick:A,children:[p.jsx(jg,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),v?p.jsx("div",{className:"border rounded-lg p-4",children:p.jsx(UB,{onSubmit:Y,onCancel:N,initValues:x||void 0})}):p.jsxs("div",{className:"space-y-3",children:[h.length>0&&p.jsxs("div",{className:"space-y-2",children:[h.map((j,F)=>p.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:j.name}),p.jsxs("div",{className:"flex gap-3 text-sm text-muted-foreground",children:[p.jsxs("span",{children:[j.quantity," ",j.unit]}),p.jsxs("span",{children:[j.calories," kcal"]}),p.jsxs("span",{children:[j.protein,"g protein"]})]})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>$(F),className:"h-8 w-8 p-0",children:p.jsx(jg,{className:"h-4 w-4"})}),p.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>W(F),className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10",children:p.jsx(uC,{className:"h-4 w-4"})})]})]},F)),p.jsxs("div",{className:"bg-secondary/40 p-3 rounded-lg",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-medium text-sm",children:"Total calories:"}),p.jsxs("span",{className:"font-medium text-sm",children:[M.calories," kcal"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-medium text-sm",children:"Total protein:"}),p.jsxs("span",{className:"font-medium text-sm",children:[M.protein,"g"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-medium text-sm",children:"Total carbs:"}),p.jsxs("span",{className:"font-medium text-sm",children:[M.carbs,"g"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"font-medium text-sm",children:"Total fat:"}),p.jsxs("span",{className:"font-medium text-sm",children:[M.fat,"g"]})]})]})]}),p.jsxs(ze,{variant:"outline",className:"w-full",onClick:V,children:[p.jsx(Af,{className:"h-4 w-4 mr-2"}),h.length?"Add Another Food":"Add Food Item"]})]})]})}),o==="food"&&!v&&p.jsxs(El,{className:"border-t pt-4 flex justify-between",children:[p.jsxs(ze,{variant:"ghost",onClick:e,disabled:R,children:[p.jsx(cy,{className:"h-4 w-4 mr-2"}),"Cancel"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(ze,{variant:"outline",onClick:A,disabled:R,children:[p.jsx(LV,{className:"h-4 w-4 mr-2"}),"Back"]}),p.jsxs(ze,{onClick:P,disabled:h.length===0||R,children:[p.jsx(rC,{className:"h-4 w-4 mr-2"}),R?"Saving...":r?"Update Meal":"Add Meal"]})]})]})]})},zB=({nutritionEntry:t,onEntryUpdated:e})=>{const[n,r]=_.useState(!1),[o,a]=_.useState(null),l=_.useCallback(async y=>{const x={calories:$t([y],"calories"),protein:$t([y],"protein"),carbs:$t([y],"carbs"),fat:$t([y],"fat")};try{const T=await bR({meals:[y],dailyTotals:x});if(!T)return a("Failed to create nutrition entry"),!1;const b=await sB(T);return b?(e(b),!0):(a("Failed to fetch new nutrition entry"),!1)}catch(T){return console.error("Error creating nutrition entry:",T),a("Failed to create new nutrition entry"),!1}},[e]),u=_.useCallback(async y=>{if(!t||!t.id)return a("Missing nutrition entry"),!1;const x=[...t.meals||[],y],T={calories:$t(x,"calories"),protein:$t(x,"protein"),carbs:$t(x,"carbs"),fat:$t(x,"fat")};if(!await Fc(t.id,{meals:x,dailyTotals:T}))return a("Failed to add meal to existing entry"),!1;const I={...t,meals:x,dailyTotals:T};return e(I),!0},[t,e]),h=_.useCallback(async y=>{r(!0),a(null);try{return t!=null&&t.id?await u(y):await l(y)}catch(x){return console.error("Error in addMeal operation:",x),a("An error occurred while processing the meal"),!1}finally{r(!1)}},[t,l,u]),m=_.useCallback(async(y,x)=>{if(!(t!=null&&t.id)||!t.meals)return a("Cannot edit meal: No nutrition entry or meals exist"),!1;if(y<0||y>=t.meals.length)return a("Invalid meal index"),!1;r(!0),a(null);try{const T=[...t.meals];T[y]=x;const b={calories:$t(T,"calories"),protein:$t(T,"protein"),carbs:$t(T,"carbs"),fat:$t(T,"fat")};if(await Fc(t.id,{meals:T,dailyTotals:b})){const R={...t,meals:T,dailyTotals:b};return e(R),!0}return a("Failed to update meal"),!1}catch(T){return console.error("Error editing meal:",T),a("An error occurred while editing the meal"),!1}finally{r(!1)}},[t,e]),v=_.useCallback(async y=>{if(!(t!=null&&t.id)||!t.meals)return a("Cannot delete meal: No nutrition entry or meals exist"),!1;if(y<0||y>=t.meals.length)return a("Invalid meal index"),!1;r(!0),a(null);try{const x=t.meals.filter((I,R)=>R!==y),T={calories:$t(x,"calories"),protein:$t(x,"protein"),carbs:$t(x,"carbs"),fat:$t(x,"fat")};if(await Fc(t.id,{meals:x,dailyTotals:T})){const I={...t,meals:x,dailyTotals:T};return e(I),!0}return a("Failed to delete meal"),!1}catch(x){return console.error("Error deleting meal:",x),a("An error occurred while deleting the meal"),!1}finally{r(!1)}},[t,e]);return{addMeal:h,editMeal:m,deleteMeal:v,isLoading:n,error:o}},BB=()=>{const[t,e]=_.useState(new Date),[n,r]=_.useState("hidden"),[o,a]=_.useState(void 0),[l,u]=_.useState(-1),{selectedDateNutritionEntries:h,isLoading:m,refreshData:v,updateNotes:y}=AR(t),x=h[0],{addMeal:T,editMeal:b,deleteMeal:I,isLoading:R}=zB({nutritionEntry:x,onEntryUpdated:P=>{P?v(P):v()}}),D=m||R,U=_.useCallback(P=>{e(P),r("hidden"),a(void 0)},[]),V=()=>{r("add"),a(void 0),u(-1)},$=async(P,M)=>(a(M),u(P),r("edit"),Promise.resolve()),W=async P=>{try{let M=!1;n==="add"?M=await T(P):n==="edit"&&l!==-1&&(M=await b(l,P)),M&&(r("hidden"),a(void 0),u(-1))}catch(M){console.error("Error handling meal submission:",M)}},Y=()=>{r("hidden"),a(void 0),u(-1)},N=n!=="hidden",A=(x==null?void 0:x.meals)||[];return p.jsxs("div",{className:"nutrition-page space-y-4",children:[p.jsx("div",{className:"container mx-auto px-4 max-w-md",children:p.jsx(cB,{selectedDate:t,onDateChange:U})}),p.jsx("div",{className:N?"container mx-auto px-4 max-w-md":"container mx-auto px-4",children:N?p.jsx($B,{onSubmit:W,onCancel:Y,initialMeal:o,isEditing:n==="edit"}):p.jsx(p.Fragment,{children:p.jsx(hB,{meals:A,onEditMeal:$,onDeleteMeal:async P=>{await I(P)},onAddMeal:V,isLoading:D})})}),p.jsx("div",{className:"container mx-auto px-4 max-w-md pb-8",children:p.jsx(pB,{notes:(x==null?void 0:x.notes)||"",onChange:P=>y((x==null?void 0:x.id)||"",P),isLoading:D})})]})},WB=()=>{const{isAuthenticated:t,isLoading:e}=Bo(),n=Bs();return e?p.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):p.jsxs(Y4,{children:[p.jsxs(Dn,{element:p.jsx(V$,{}),children:[p.jsx(Dn,{path:"/",element:t?p.jsx(za,{to:"/dashboard"}):p.jsx(za,{to:"/login"})}),p.jsx(Dn,{path:"/login",element:t?p.jsx(za,{to:"/dashboard"}):p.jsx(B$,{})}),p.jsx(Dn,{path:"/signup",element:t?p.jsx(za,{to:"/dashboard"}):p.jsx(W$,{})})]}),p.jsx(Dn,{element:p.jsx(L$,{isAuthenticated:t}),children:p.jsxs(Dn,{path:"/dashboard",element:p.jsx(U$,{}),children:[p.jsx(Dn,{index:!0,element:p.jsx(lB,{})}),p.jsx(Dn,{path:"settings",element:p.jsx(Qz,{})}),p.jsx(Dn,{path:"nutrition",element:p.jsx(BB,{})}),p.jsx(Dn,{path:"workouts",element:p.jsx(p.Fragment,{})}),p.jsx(Dn,{path:"progress",element:p.jsx(p.Fragment,{})})]})}),p.jsx(Dn,{path:"*",element:p.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Page Not Found"}),p.jsxs("p",{className:"mb-4",children:["The page at ",n.pathname," does not exist."]}),p.jsx(Ds,{to:"/",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Return Home"})]})})]})},HB=({children:t})=>{const[e,n]=_.useState(()=>{const x=localStorage.getItem("appState");if(x)try{return JSON.parse(x)}catch(T){console.error("Failed to parse saved app state",T)}return Zd}),{user:r}=Bo();_.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(e))},[e]),_.useEffect(()=>{r||n(x=>({...x,ui:Zd.ui,dashboardData:Zd.dashboardData}))},[r]);const y={state:e,setTheme:x=>{n(T=>({...T,userPreferences:{...T.userPreferences,theme:x}}))},toggleNotifications:()=>{n(x=>({...x,userPreferences:{...x.userPreferences,notificationsEnabled:!x.userPreferences.notificationsEnabled}}))},setSidebarOpen:x=>{n(T=>({...T,ui:{...T.ui,sidebarOpen:x}}))},setActiveDashboardTab:x=>{n(T=>({...T,ui:{...T.ui,activeDashboardTab:x}}))},setMeasurementSystem:x=>{n(T=>({...T,userPreferences:{...T.userPreferences,measeurementSystem:x}}))},markDashboardNeedsRefresh:()=>{n(x=>({...x,dashboardData:{...x.dashboardData,needsRefresh:!0}}))},resetDashboardRefreshState:()=>{n(x=>({...x,dashboardData:{needsRefresh:!1,lastUpdated:new Date}}))}};return p.jsx(UA.Provider,{value:y,children:t})};function qB({children:t,defaultTheme:e="light",storageKey:n="appState",...r}){const[o,a]=_.useState(()=>{var u;try{const h=localStorage.getItem(n);if(h){const m=JSON.parse(h);return((u=m==null?void 0:m.userPreferences)==null?void 0:u.theme)||e}}catch(h){console.error("Error reading theme from localStorage:",h)}return e});_.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),o==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(h);return}u.classList.add(o)},[o]);const l={theme:o,setTheme:u=>{try{const h=localStorage.getItem(n),m=h?JSON.parse(h):{};m.userPreferences||(m.userPreferences={theme:u,measeurementSystem:"metric",notificationsEnabled:!0}),m.userPreferences.theme=u,localStorage.setItem(n,JSON.stringify(m)),a(u)}catch(h){console.error("Error saving theme to localStorage:",h),a(u)}}};return p.jsx(FA.Provider,{...r,value:l,children:t})}const GB=()=>p.jsx(s4,{children:p.jsx(qB,{children:p.jsx(HB,{children:p.jsx(WB,{})})})}),KB="/grindmode/";sP.createRoot(document.getElementById("root")).render(p.jsx(_.StrictMode,{children:p.jsx(_V,{basename:KB,children:p.jsx(GB,{})})}));
