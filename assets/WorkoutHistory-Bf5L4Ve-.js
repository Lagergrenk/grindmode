import{c as v,r as t,i as b,u as k,j as e,C as c,b as x,G as r,e as h,B as u,d as C,a1 as w,h as f,f as W,g as D}from"./index-MKLLRtOd.js";import{f as E}from"./formatTime-Cq3egqay.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],P=v("chart-no-axes-column",T),H=()=>{const[n,j]=t.useState([]),[l,i]=t.useState(!0),[o,N]=t.useState(null),{user:d}=b(),m=k();t.useEffect(()=>{(async()=>{if(d)try{i(!0);const a=await D();j(a)}catch(a){console.error("Error fetching workouts:",a),N("Failed to load workout history")}finally{i(!1)}})()},[d]);const p=s=>{m(`/workout/summary/${s}`)};return e.jsxs("div",{className:"container py-8",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Workout History"})}),l&&e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,a)=>e.jsxs(c,{children:[e.jsxs(x,{children:[e.jsx(r,{className:"h-6 w-1/3"}),e.jsx(r,{className:"h-4 w-1/4"})]}),e.jsxs(h,{children:[e.jsx(r,{className:"h-4 w-full mb-2"}),e.jsx(r,{className:"h-4 w-3/4"})]})]},a))}),o&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:o}),!l&&n.length===0&&e.jsxs(c,{className:"text-center p-8",children:[e.jsx("h2",{className:"text-2xl font-medium mb-2",children:"No Workouts Yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"You haven't completed any workouts yet. Get started by selecting a workout plan."}),e.jsx(u,{onClick:()=>m("/workouts"),children:"View Workout Plans"})]}),e.jsx("div",{className:"space-y-4",children:!l&&n.map(s=>e.jsxs(c,{className:"overflow-hidden",children:[e.jsx(x,{children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx(C,{children:s.name}),e.jsxs(w,{className:"flex items-center gap-1 mt-1",children:[e.jsx(W,{className:"h-4 w-4"}),s.startTime&&f(s.startTime.toDate(),"PPP")]})]})})}),e.jsxs(h,{children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Exercises"}),e.jsx("span",{className:"font-medium",children:s.exercises.length})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sets"}),e.jsx("span",{className:"font-medium",children:s.exercises.reduce((a,y)=>a+y.sets.filter(g=>g.isCompleted).length,0)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Duration"}),e.jsx("span",{className:"font-medium",children:E(s.duration||0)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Time"}),e.jsx("span",{className:"font-medium",children:s.startTime&&f(s.startTime.toDate(),"p")})]})]}),e.jsxs(u,{variant:"outline",onClick:()=>p(s.id),className:"w-full",children:[e.jsx(P,{className:"h-4 w-4 mr-2"})," View Details"]})]})]},s.id))})]})};export{H as WorkoutHistoryPage};
//# sourceMappingURL=WorkoutHistory-Bf5L4Ve-.js.map
