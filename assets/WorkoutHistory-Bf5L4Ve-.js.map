{"version":3,"file":"WorkoutHistory-Bf5L4Ve-.js","sources":["../../node_modules/lucide-react/dist/esm/icons/chart-no-axes-column.js","../../src/features/workouttracker/pages/WorkoutHistory.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.503.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"18\", x2: \"18\", y1: \"20\", y2: \"10\", key: \"1xfpm4\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"20\", y2: \"4\", key: \"be30l9\" }],\n  [\"line\", { x1: \"6\", x2: \"6\", y1: \"20\", y2: \"14\", key: \"1r4le6\" }]\n];\nconst ChartNoAxesColumn = createLucideIcon(\"chart-no-axes-column\", __iconNode);\n\nexport { __iconNode, ChartNoAxesColumn as default };\n//# sourceMappingURL=chart-no-axes-column.js.map\n","// Src/features/workouttracker/pages/WorkoutHistoryPage.tsx\r\nimport { useState, useEffect } from 'react';\r\nimport { getUserWorkouts } from '../firebase';\r\nimport { useAuth } from '@/features/auth/hooks/useAuth';\r\nimport { IActiveWorkout } from '../types';\r\nimport { format } from 'date-fns';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { CalendarIcon, BarChart2 } from 'lucide-react';\r\nimport { formatDuration } from '@/shared/utils/formatTime';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n/**\r\n * Page component for displaying workout history\r\n */\r\nexport const WorkoutHistoryPage = () => {\r\n  const [workouts, setWorkouts] = useState<IActiveWorkout[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchWorkouts = async () => {\r\n      if (!user) return;\r\n\r\n      try {\r\n        setLoading(true);\r\n        const fetchedWorkouts = await getUserWorkouts();\r\n        setWorkouts(fetchedWorkouts);\r\n      } catch (err) {\r\n        console.error('Error fetching workouts:', err);\r\n        setError('Failed to load workout history');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchWorkouts();\r\n  }, [user]);\r\n\r\n  const handleViewWorkout = (workoutId: string) => {\r\n    navigate(`/workout/summary/${workoutId}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container py-8\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold\">Workout History</h1>\r\n      </div>\r\n\r\n      {loading && (\r\n        <div className=\"space-y-4\">\r\n          {[...Array(3)].map((_, i) => (\r\n            <Card key={i}>\r\n              <CardHeader>\r\n                <Skeleton className=\"h-6 w-1/3\" />\r\n                <Skeleton className=\"h-4 w-1/4\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <Skeleton className=\"h-4 w-full mb-2\" />\r\n                <Skeleton className=\"h-4 w-3/4\" />\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-md text-red-700\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {!loading && workouts.length === 0 && (\r\n        <Card className=\"text-center p-8\">\r\n          <h2 className=\"text-2xl font-medium mb-2\">No Workouts Yet</h2>\r\n          <p className=\"text-muted-foreground mb-6\">\r\n            You haven't completed any workouts yet. Get started by selecting a\r\n            workout plan.\r\n          </p>\r\n          <Button onClick={() => navigate('/workouts')}>\r\n            View Workout Plans\r\n          </Button>\r\n        </Card>\r\n      )}\r\n\r\n      <div className=\"space-y-4\">\r\n        {!loading &&\r\n          workouts.map((workout) => (\r\n            <Card key={workout.id} className=\"overflow-hidden\">\r\n              <CardHeader>\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div>\r\n                    <CardTitle>{workout.name}</CardTitle>\r\n                    <CardDescription className=\"flex items-center gap-1 mt-1\">\r\n                      <CalendarIcon className=\"h-4 w-4\" />\r\n                      {workout.startTime &&\r\n                        format(workout.startTime.toDate(), 'PPP')}\r\n                    </CardDescription>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-4\">\r\n                  <div className=\"flex flex-col\">\r\n                    <span className=\"text-sm text-muted-foreground\">\r\n                      Exercises\r\n                    </span>\r\n                    <span className=\"font-medium\">\r\n                      {workout.exercises.length}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex flex-col\">\r\n                    <span className=\"text-sm text-muted-foreground\">Sets</span>\r\n                    <span className=\"font-medium\">\r\n                      {workout.exercises.reduce(\r\n                        (total, ex) =>\r\n                          total + ex.sets.filter((s) => s.isCompleted).length,\r\n                        0,\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex flex-col\">\r\n                    <span className=\"text-sm text-muted-foreground\">\r\n                      Duration\r\n                    </span>\r\n                    <span className=\"font-medium\">\r\n                      {formatDuration(workout.duration || 0)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex flex-col\">\r\n                    <span className=\"text-sm text-muted-foreground\">Time</span>\r\n                    <span className=\"font-medium\">\r\n                      {workout.startTime &&\r\n                        format(workout.startTime.toDate(), 'p')}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => handleViewWorkout(workout.id)}\r\n                  className=\"w-full\"\r\n                >\r\n                  <BarChart2 className=\"h-4 w-4 mr-2\" /> View Details\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":["__iconNode","ChartNoAxesColumn","createLucideIcon","WorkoutHistoryPage","workouts","setWorkouts","useState","loading","setLoading","error","setError","user","useAuth","navigate","useNavigate","useEffect","fetchedWorkouts","getUserWorkouts","err","handleViewWorkout","workoutId","jsxs","jsx","_","i","Card","CardHeader","Skeleton","CardContent","Button","workout","CardTitle","CardDescription","CalendarIcon","format","total","ex","s","BarChart2"],"mappings":"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","x_google_ignoreList":[0]}