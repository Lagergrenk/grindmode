const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-bDZeyrF1.js","assets/useNutritionEntry-nogTi35M.js","assets/firestore-DqkfDWpO.js","assets/Nutrition-B9YjFWx6.js","assets/select-CAsNgvUz.js","assets/check-eVLZ_fta.js","assets/useDebounce-DZCDvCmu.js","assets/index-CRa0VDkr.js","assets/index-BRJUY0l5.js"])))=>i.map(i=>d[i]);
function DR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function NE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vp={exports:{}},Yl={},Fp={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function OR(){if(Q_)return ze;Q_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function R(F,Q,ie){this.props=F,this.context=Q,this.refs=b,this.updater=ie||S}R.prototype.isReactComponent={},R.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=R.prototype;function B(F,Q,ie){this.props=F,this.context=Q,this.refs=b,this.updater=ie||S}var $=B.prototype=new O;$.constructor=B,A($,R.prototype),$.isPureReactComponent=!0;var K=Array.isArray,Z=Object.prototype.hasOwnProperty,ne={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(F,Q,ie){var fe,Ae={},ge=null,ve=null;if(Q!=null)for(fe in Q.ref!==void 0&&(ve=Q.ref),Q.key!==void 0&&(ge=""+Q.key),Q)Z.call(Q,fe)&&!N.hasOwnProperty(fe)&&(Ae[fe]=Q[fe]);var Me=arguments.length-2;if(Me===1)Ae.children=ie;else if(1<Me){for(var Ne=Array(Me),He=0;He<Me;He++)Ne[He]=arguments[He+2];Ae.children=Ne}if(F&&F.defaultProps)for(fe in Me=F.defaultProps,Me)Ae[fe]===void 0&&(Ae[fe]=Me[fe]);return{$$typeof:n,type:F,key:ge,ref:ve,props:Ae,_owner:ne.current}}function k(F,Q){return{$$typeof:n,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function L(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function V(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ie){return Q[ie]})}var U=/\/+/g;function D(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):Q.toString(36)}function Pe(F,Q,ie,fe,Ae){var ge=typeof F;(ge==="undefined"||ge==="boolean")&&(F=null);var ve=!1;if(F===null)ve=!0;else switch(ge){case"string":case"number":ve=!0;break;case"object":switch(F.$$typeof){case n:case e:ve=!0}}if(ve)return ve=F,Ae=Ae(ve),F=fe===""?"."+D(ve,0):fe,K(Ae)?(ie="",F!=null&&(ie=F.replace(U,"$&/")+"/"),Pe(Ae,Q,ie,"",function(He){return He})):Ae!=null&&(L(Ae)&&(Ae=k(Ae,ie+(!Ae.key||ve&&ve.key===Ae.key?"":(""+Ae.key).replace(U,"$&/")+"/")+F)),Q.push(Ae)),1;if(ve=0,fe=fe===""?".":fe+":",K(F))for(var Me=0;Me<F.length;Me++){ge=F[Me];var Ne=fe+D(ge,Me);ve+=Pe(ge,Q,ie,Ne,Ae)}else if(Ne=E(F),typeof Ne=="function")for(F=Ne.call(F),Me=0;!(ge=F.next()).done;)ge=ge.value,Ne=fe+D(ge,Me++),ve+=Pe(ge,Q,ie,Ne,Ae);else if(ge==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ve}function xe(F,Q,ie){if(F==null)return F;var fe=[],Ae=0;return Pe(F,fe,"","",function(ge){return Q.call(ie,ge,Ae++)}),fe}function ce(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(ie){(F._status===0||F._status===-1)&&(F._status=1,F._result=ie)},function(ie){(F._status===0||F._status===-1)&&(F._status=2,F._result=ie)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var me={current:null},W={transition:null},J={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:W,ReactCurrentOwner:ne};function re(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:xe,forEach:function(F,Q,ie){xe(F,function(){Q.apply(this,arguments)},ie)},count:function(F){var Q=0;return xe(F,function(){Q++}),Q},toArray:function(F){return xe(F,function(Q){return Q})||[]},only:function(F){if(!L(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ze.Component=R,ze.Fragment=t,ze.Profiler=s,ze.PureComponent=B,ze.StrictMode=r,ze.Suspense=h,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,ze.act=re,ze.cloneElement=function(F,Q,ie){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var fe=A({},F.props),Ae=F.key,ge=F.ref,ve=F._owner;if(Q!=null){if(Q.ref!==void 0&&(ge=Q.ref,ve=ne.current),Q.key!==void 0&&(Ae=""+Q.key),F.type&&F.type.defaultProps)var Me=F.type.defaultProps;for(Ne in Q)Z.call(Q,Ne)&&!N.hasOwnProperty(Ne)&&(fe[Ne]=Q[Ne]===void 0&&Me!==void 0?Me[Ne]:Q[Ne])}var Ne=arguments.length-2;if(Ne===1)fe.children=ie;else if(1<Ne){Me=Array(Ne);for(var He=0;He<Ne;He++)Me[He]=arguments[He+2];fe.children=Me}return{$$typeof:n,type:F.type,key:Ae,ref:ge,props:fe,_owner:ve}},ze.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},ze.createElement=C,ze.createFactory=function(F){var Q=C.bind(null,F);return Q.type=F,Q},ze.createRef=function(){return{current:null}},ze.forwardRef=function(F){return{$$typeof:d,render:F}},ze.isValidElement=L,ze.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ce}},ze.memo=function(F,Q){return{$$typeof:p,type:F,compare:Q===void 0?null:Q}},ze.startTransition=function(F){var Q=W.transition;W.transition={};try{F()}finally{W.transition=Q}},ze.unstable_act=re,ze.useCallback=function(F,Q){return me.current.useCallback(F,Q)},ze.useContext=function(F){return me.current.useContext(F)},ze.useDebugValue=function(){},ze.useDeferredValue=function(F){return me.current.useDeferredValue(F)},ze.useEffect=function(F,Q){return me.current.useEffect(F,Q)},ze.useId=function(){return me.current.useId()},ze.useImperativeHandle=function(F,Q,ie){return me.current.useImperativeHandle(F,Q,ie)},ze.useInsertionEffect=function(F,Q){return me.current.useInsertionEffect(F,Q)},ze.useLayoutEffect=function(F,Q){return me.current.useLayoutEffect(F,Q)},ze.useMemo=function(F,Q){return me.current.useMemo(F,Q)},ze.useReducer=function(F,Q,ie){return me.current.useReducer(F,Q,ie)},ze.useRef=function(F){return me.current.useRef(F)},ze.useState=function(F){return me.current.useState(F)},ze.useSyncExternalStore=function(F,Q,ie){return me.current.useSyncExternalStore(F,Q,ie)},ze.useTransition=function(){return me.current.useTransition()},ze.version="18.3.1",ze}var Y_;function If(){return Y_||(Y_=1,Fp.exports=OR()),Fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function MR(){if(X_)return Yl;X_=1;var n=If(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var y,g={},E=null,S=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(S=h.ref);for(y in h)r.call(h,y)&&!a.hasOwnProperty(y)&&(g[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)g[y]===void 0&&(g[y]=h[y]);return{$$typeof:e,type:d,key:E,ref:S,props:g,_owner:s.current}}return Yl.Fragment=t,Yl.jsx=u,Yl.jsxs=u,Yl}var J_;function LR(){return J_||(J_=1,Vp.exports=MR()),Vp.exports}var x=LR(),T=If();const le=NE(T),DE=DR({__proto__:null,default:le},[T]);var hd={},jp={exports:{}},Pn={},Up={exports:{}},$p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function VR(){return Z_||(Z_=1,function(n){function e(W,J){var re=W.length;W.push(J);e:for(;0<re;){var F=re-1>>>1,Q=W[F];if(0<s(Q,J))W[F]=J,W[re]=Q,re=F;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var J=W[0],re=W.pop();if(re!==J){W[0]=re;e:for(var F=0,Q=W.length,ie=Q>>>1;F<ie;){var fe=2*(F+1)-1,Ae=W[fe],ge=fe+1,ve=W[ge];if(0>s(Ae,re))ge<Q&&0>s(ve,Ae)?(W[F]=ve,W[ge]=re,F=ge):(W[F]=Ae,W[fe]=re,F=fe);else if(ge<Q&&0>s(ve,re))W[F]=ve,W[ge]=re,F=ge;else break e}}return J}function s(W,J){var re=W.sortIndex-J.sortIndex;return re!==0?re:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],p=[],y=1,g=null,E=3,S=!1,A=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(W){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=W)r(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(p)}}function K(W){if(b=!1,$(W),!A)if(t(h)!==null)A=!0,ce(Z);else{var J=t(p);J!==null&&me(K,J.startTime-W)}}function Z(W,J){A=!1,b&&(b=!1,O(C),C=-1),S=!0;var re=E;try{for($(J),g=t(h);g!==null&&(!(g.expirationTime>J)||W&&!V());){var F=g.callback;if(typeof F=="function"){g.callback=null,E=g.priorityLevel;var Q=F(g.expirationTime<=J);J=n.unstable_now(),typeof Q=="function"?g.callback=Q:g===t(h)&&r(h),$(J)}else r(h);g=t(h)}if(g!==null)var ie=!0;else{var fe=t(p);fe!==null&&me(K,fe.startTime-J),ie=!1}return ie}finally{g=null,E=re,S=!1}}var ne=!1,N=null,C=-1,k=5,L=-1;function V(){return!(n.unstable_now()-L<k)}function U(){if(N!==null){var W=n.unstable_now();L=W;var J=!0;try{J=N(!0,W)}finally{J?D():(ne=!1,N=null)}}else ne=!1}var D;if(typeof B=="function")D=function(){B(U)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,xe=Pe.port2;Pe.port1.onmessage=U,D=function(){xe.postMessage(null)}}else D=function(){R(U,0)};function ce(W){N=W,ne||(ne=!0,D())}function me(W,J){C=R(function(){W(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){A||S||(A=!0,ce(Z))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var re=E;E=J;try{return W()}finally{E=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=E;E=W;try{return J()}finally{E=re}},n.unstable_scheduleCallback=function(W,J,re){var F=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?F+re:F):re=F,W){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=re+Q,W={id:y++,callback:J,priorityLevel:W,startTime:re,expirationTime:Q,sortIndex:-1},re>F?(W.sortIndex=re,e(p,W),t(h)===null&&W===t(p)&&(b?(O(C),C=-1):b=!0,me(K,re-F))):(W.sortIndex=Q,e(h,W),A||S||(A=!0,ce(Z))),W},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(W){var J=E;return function(){var re=E;E=J;try{return W.apply(this,arguments)}finally{E=re}}}}($p)),$p}var ew;function FR(){return ew||(ew=1,Up.exports=VR()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function jR(){if(tw)return Pn;tw=1;var n=If(),e=FR();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function E(i){return h.call(g,i)?!0:h.call(y,i)?!1:p.test(i)?g[i]=!0:(y[i]=!0,!1)}function S(i,o,l,f){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,l,f){if(o===null||typeof o>"u"||S(i,o,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,l,f,m,_,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];R[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,B);R[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,B);R[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,B);R[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,o,l,f){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,m,f)&&(l=null),f||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,f=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,f?i.setAttributeNS(f,o,l):i.setAttribute(o,l))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),ne=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),W=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,F;function Q(i){if(F===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var ie=!1;function fe(i,o){if(!i||ie)return"";ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){f=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}i()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),_=f.stack.split(`
`),I=m.length-1,M=_.length-1;1<=I&&0<=M&&m[I]!==_[M];)M--;for(;1<=I&&0<=M;I--,M--)if(m[I]!==_[M]){if(I!==1||M!==1)do if(I--,M--,0>M||m[I]!==_[M]){var j=`
`+m[I].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=I&&0<=M);break}}}finally{ie=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Q(i):""}function Ae(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=fe(i.type,!1),i;case 11:return i=fe(i.type.render,!1),i;case 1:return i=fe(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case ne:return"Portal";case k:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case Pe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xe:return o=i.displayName||null,o!==null?o:ge(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return ge(i(o))}catch{}}return null}function ve(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function He(i){var o=Ne(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,_=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,_.call(this,I)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function jt(i){i._valueTracker||(i._valueTracker=He(i))}function Ht(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return i&&(f=Ne(i)?i.checked?"true":"false":i.value),i=f,i!==l?(o.setValue(i),!0):!1}function Zt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function vn(i,o){var l=o.checked;return re({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Br(i,o){var l=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;l=Me(o.value!=null?o.value:l),i._wrapperState={initialChecked:f,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Wr(i,o){o=o.checked,o!=null&&$(i,"checked",o,!1)}function Mn(i,o){Wr(i,o);var l=Me(o.value),f=o.type;if(l!=null)f==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Et(i,o.type,l):o.hasOwnProperty("defaultValue")&&Et(i,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function mi(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Et(i,o,l){(o!=="number"||Zt(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var fr=Array.isArray;function hr(i,o,l,f){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Me(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Pt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ln(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(fr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Me(l)}}function Yi(i,o){var l=Me(o.value),f=Me(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),f!=null&&(i.defaultValue=""+f)}function Xs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function at(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?at(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Xn,gi=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Xn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function un(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_n=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(i){_n.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Hr[o]=Hr[i]})});function Js(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Hr.hasOwnProperty(i)&&Hr[i]?(""+o).trim():o+"px"}function Zs(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var f=l.indexOf("--")===0,m=Js(l,o[l],f);l==="float"&&(l="cssFloat"),f?i.setProperty(l,m):i[l]=m}}var Xi=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ji(i,o){if(o){if(Xi[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function eo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function cn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zi=null,wn=null,Vn=null;function yi(i){if(i=Ml(i)){if(typeof Zi!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Rc(o),Zi(i.stateNode,i.type,o))}}function ke(i){wn?Vn?Vn.push(i):Vn=[i]:wn=i}function lt(){if(wn){var i=wn,o=Vn;if(Vn=wn=null,yi(i),o)for(i=0;i<o.length;i++)yi(o[i])}}function ut(i,o){return i(o)}function kt(){}var En=!1;function pt(i,o,l){if(En)return i(o,l);En=!0;try{return ut(i,o,l)}finally{En=!1,(wn!==null||Vn!==null)&&(kt(),lt())}}function qe(i,o){var l=i.stateNode;if(l===null)return null;var f=Rc(l);if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var mr=!1;if(d)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{mr=!1}function Nt(i,o,l,f,m,_,I,M,j){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(l,Y)}catch(oe){this.onError(oe)}}var Gr=!1,Tn=null,Jn=!1,ml=null,dh={onError:function(i){Gr=!0,Tn=i}};function Bo(i,o,l,f,m,_,I,M,j){Gr=!1,Tn=null,Nt.apply(dh,arguments)}function Zu(i,o,l,f,m,_,I,M,j){if(Bo.apply(this,arguments),Gr){if(Gr){var Y=Tn;Gr=!1,Tn=null}else throw Error(t(198));Jn||(Jn=!0,ml=Y)}}function gr(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function to(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function yr(i){if(gr(i)!==i)throw Error(t(188))}function ec(i){var o=i.alternate;if(!o){if(o=gr(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,f=o;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){l=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return yr(m),i;if(_===f)return yr(m),o;_=_.sibling}throw Error(t(188))}if(l.return!==f.return)l=m,f=_;else{for(var I=!1,M=m.child;M;){if(M===l){I=!0,l=m,f=_;break}if(M===f){I=!0,f=m,l=_;break}M=M.sibling}if(!I){for(M=_.child;M;){if(M===l){I=!0,l=_,f=m;break}if(M===f){I=!0,f=_,l=m;break}M=M.sibling}if(!I)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function gl(i){return i=ec(i),i!==null?Wo(i):null}function Wo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Wo(i);if(o!==null)return o;i=i.sibling}return null}var Ho=e.unstable_scheduleCallback,yl=e.unstable_cancelCallback,tc=e.unstable_shouldYield,fh=e.unstable_requestPaint,nt=e.unstable_now,nc=e.unstable_getCurrentPriorityLevel,no=e.unstable_ImmediatePriority,es=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,vl=e.unstable_LowPriority,rc=e.unstable_IdlePriority,ro=null,Fn=null;function ic(i){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(ro,i,void 0,(i.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:oc,_l=Math.log,sc=Math.LN2;function oc(i){return i>>>=0,i===0?32:31-(_l(i)/sc|0)|0}var Go=64,qo=4194304;function ts(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function io(i,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,_=i.pingedLanes,I=l&268435455;if(I!==0){var M=I&~m;M!==0?f=ts(M):(_&=I,_!==0&&(f=ts(_)))}else I=l&~m,I!==0?f=ts(I):_!==0&&(f=ts(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)l=31-dn(o),m=1<<l,f|=i[l],o&=~m;return f}function hh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(i,o){for(var l=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes;0<_;){var I=31-dn(_),M=1<<I,j=m[I];j===-1?((M&l)===0||(M&f)!==0)&&(m[I]=hh(M,o)):j<=o&&(i.expiredLanes|=M),_&=~M}}function jn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function so(){var i=Go;return Go<<=1,(Go&4194240)===0&&(Go=64),i}function ns(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function rs(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-dn(o),i[o]=l}function tt(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-dn(l),_=1<<m;o[m]=0,f[m]=-1,i[m]=-1,l&=~_}}function is(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var f=31-dn(l),m=1<<f;m&o|i[f]&o&&(i[f]|=o),l&=~m}}var Ge=0;function ss(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ac,Ko,lc,uc,cc,wl=!1,qr=[],Gt=null,vr=null,_r=null,os=new Map,er=new Map,Kr=[],ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dc(i,o){switch(i){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":os.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(o.pointerId)}}function In(i,o,l,f,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},o!==null&&(o=Ml(o),o!==null&&Ko(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function mh(i,o,l,f,m){switch(o){case"focusin":return Gt=In(Gt,i,o,l,f,m),!0;case"dragenter":return vr=In(vr,i,o,l,f,m),!0;case"mouseover":return _r=In(_r,i,o,l,f,m),!0;case"pointerover":var _=m.pointerId;return os.set(_,In(os.get(_)||null,i,o,l,f,m)),!0;case"gotpointercapture":return _=m.pointerId,er.set(_,In(er.get(_)||null,i,o,l,f,m)),!0}return!1}function fc(i){var o=co(i.target);if(o!==null){var l=gr(o);if(l!==null){if(o=l.tag,o===13){if(o=to(l),o!==null){i.blockedOn=o,cc(i.priority,function(){lc(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _i(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Qo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);pr=f,l.target.dispatchEvent(f),pr=null}else return o=Ml(l),o!==null&&Ko(o),i.blockedOn=l,!1;o.shift()}return!0}function oo(i,o,l){_i(i)&&l.delete(o)}function hc(){wl=!1,Gt!==null&&_i(Gt)&&(Gt=null),vr!==null&&_i(vr)&&(vr=null),_r!==null&&_i(_r)&&(_r=null),os.forEach(oo),er.forEach(oo)}function wr(i,o){i.blockedOn===o&&(i.blockedOn=null,wl||(wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hc)))}function Er(i){function o(m){return wr(m,i)}if(0<qr.length){wr(qr[0],i);for(var l=1;l<qr.length;l++){var f=qr[l];f.blockedOn===i&&(f.blockedOn=null)}}for(Gt!==null&&wr(Gt,i),vr!==null&&wr(vr,i),_r!==null&&wr(_r,i),os.forEach(o),er.forEach(o),l=0;l<Kr.length;l++)f=Kr[l],f.blockedOn===i&&(f.blockedOn=null);for(;0<Kr.length&&(l=Kr[0],l.blockedOn===null);)fc(l),l.blockedOn===null&&Kr.shift()}var wi=K.ReactCurrentBatchConfig,as=!0;function ct(i,o,l,f){var m=Ge,_=wi.transition;wi.transition=null;try{Ge=1,El(i,o,l,f)}finally{Ge=m,wi.transition=_}}function gh(i,o,l,f){var m=Ge,_=wi.transition;wi.transition=null;try{Ge=4,El(i,o,l,f)}finally{Ge=m,wi.transition=_}}function El(i,o,l,f){if(as){var m=Qo(i,o,l,f);if(m===null)Ch(i,o,f,ao,l),dc(i,f);else if(mh(m,i,o,l,f))f.stopPropagation();else if(dc(i,f),o&4&&-1<ph.indexOf(i)){for(;m!==null;){var _=Ml(m);if(_!==null&&ac(_),_=Qo(i,o,l,f),_===null&&Ch(i,o,f,ao,l),_===m)break;m=_}m!==null&&f.stopPropagation()}else Ch(i,o,f,null,l)}}var ao=null;function Qo(i,o,l,f){if(ao=null,i=cn(f),i=co(i),i!==null)if(o=gr(i),o===null)i=null;else if(l=o.tag,l===13){if(i=to(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ao=i,null}function Tl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nc()){case no:return 1;case es:return 4;case Zn:case vl:return 16;case rc:return 536870912;default:return 16}default:return 16}}var Un=null,Yo=null,Sn=null;function Il(){if(Sn)return Sn;var i,o=Yo,l=o.length,f,m="value"in Un?Un.value:Un.textContent,_=m.length;for(i=0;i<l&&o[i]===m[i];i++);var I=l-i;for(f=1;f<=I&&o[l-f]===m[_-f];f++);return Sn=m.slice(i,1<f?1-f:void 0)}function Xo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Qr(){return!0}function Sl(){return!1}function qt(i){function o(l,f,m,_,I){this._reactName=l,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Qr:Sl,this.isPropagationStopped=Sl,this}return re(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),o}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=qt(Tr),Yr=re({},Tr,{view:0,detail:0}),yh=qt(Yr),Zo,Ei,ls,lo=re({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ls&&(ls&&i.type==="mousemove"?(Zo=i.screenX-ls.screenX,Ei=i.screenY-ls.screenY):Ei=Zo=0,ls=i),Zo)},movementY:function(i){return"movementY"in i?i.movementY:Ei}}),ea=qt(lo),xl=re({},lo,{dataTransfer:0}),pc=qt(xl),ta=re({},Yr,{relatedTarget:0}),na=qt(ta),mc=re({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ti=qt(mc),gc=re({},Tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yc=qt(gc),vc=re({},Tr,{data:0}),Al=qt(vc),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=_c[i])?!!o[i]:!1}function Xr(){return wc}var c=re({},Yr,{key:function(i){if(i.key){var o=ra[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(i){return i.type==="keypress"?Xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=qt(c),w=re({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=qt(w),H=re({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),X=qt(H),de=re({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=qt(de),Dt=re({},lo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=qt(Dt),Ut=[9,13,27,32],At=d&&"CompositionEvent"in window,tr=null;d&&"documentMode"in document&&(tr=document.documentMode);var $n=d&&"TextEvent"in window&&!tr,uo=d&&(!At||tr&&8<tr&&11>=tr),ia=" ",By=!1;function Wy(i,o){switch(i){case"keyup":return Ut.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var sa=!1;function PC(i,o){switch(i){case"compositionend":return Hy(o);case"keypress":return o.which!==32?null:(By=!0,ia);case"textInput":return i=o.data,i===ia&&By?null:i;default:return null}}function kC(i,o){if(sa)return i==="compositionend"||!At&&Wy(i,o)?(i=Il(),Sn=Yo=Un=null,sa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return uo&&o.locale!=="ko"?null:o.data;default:return null}}var NC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!NC[i.type]:o==="textarea"}function qy(i,o,l,f){ke(f),o=xc(o,"onChange"),0<o.length&&(l=new Jo("onChange","change",null,l,f),i.push({event:l,listeners:o}))}var Cl=null,Rl=null;function DC(i){dv(i,0)}function Ec(i){var o=ca(i);if(Ht(o))return i}function OC(i,o){if(i==="change")return o}var Ky=!1;if(d){var vh;if(d){var _h="oninput"in document;if(!_h){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),_h=typeof Qy.oninput=="function"}vh=_h}else vh=!1;Ky=vh&&(!document.documentMode||9<document.documentMode)}function Yy(){Cl&&(Cl.detachEvent("onpropertychange",Xy),Rl=Cl=null)}function Xy(i){if(i.propertyName==="value"&&Ec(Rl)){var o=[];qy(o,Rl,i,cn(i)),pt(DC,o)}}function MC(i,o,l){i==="focusin"?(Yy(),Cl=o,Rl=l,Cl.attachEvent("onpropertychange",Xy)):i==="focusout"&&Yy()}function LC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ec(Rl)}function VC(i,o){if(i==="click")return Ec(o)}function FC(i,o){if(i==="input"||i==="change")return Ec(o)}function jC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ir=typeof Object.is=="function"?Object.is:jC;function bl(i,o){if(Ir(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var m=l[f];if(!h.call(o,m)||!Ir(i[m],o[m]))return!1}return!0}function Jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zy(i,o){var l=Jy(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=o&&f>=o)return{node:l,offset:o-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jy(l)}}function ev(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ev(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function tv(){for(var i=window,o=Zt();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Zt(i.document)}return o}function wh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function UC(i){var o=tv(),l=i.focusedElem,f=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&ev(l.ownerDocument.documentElement,l)){if(f!==null&&wh(l)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!i.extend&&_>f&&(m=f,f=_,_=m),m=Zy(l,_);var I=Zy(l,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),_>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var $C=d&&"documentMode"in document&&11>=document.documentMode,oa=null,Eh=null,Pl=null,Th=!1;function nv(i,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Th||oa==null||oa!==Zt(f)||(f=oa,"selectionStart"in f&&wh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Pl&&bl(Pl,f)||(Pl=f,f=xc(Eh,"onSelect"),0<f.length&&(o=new Jo("onSelect","select",null,o,l),i.push({event:o,listeners:f}),o.target=oa)))}function Tc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var aa={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionend:Tc("Transition","TransitionEnd")},Ih={},rv={};d&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function Ic(i){if(Ih[i])return Ih[i];if(!aa[i])return i;var o=aa[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in rv)return Ih[i]=o[l];return i}var iv=Ic("animationend"),sv=Ic("animationiteration"),ov=Ic("animationstart"),av=Ic("transitionend"),lv=new Map,uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(i,o){lv.set(i,o),a(o,[i])}for(var Sh=0;Sh<uv.length;Sh++){var xh=uv[Sh],zC=xh.toLowerCase(),BC=xh[0].toUpperCase()+xh.slice(1);us(zC,"on"+BC)}us(iv,"onAnimationEnd"),us(sv,"onAnimationIteration"),us(ov,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(av,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WC=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function cv(i,o,l){var f=i.type||"unknown-event";i.currentTarget=l,Zu(f,o,void 0,i),i.currentTarget=null}function dv(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],m=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var I=f.length-1;0<=I;I--){var M=f[I],j=M.instance,Y=M.currentTarget;if(M=M.listener,j!==_&&m.isPropagationStopped())break e;cv(m,M,Y),_=j}else for(I=0;I<f.length;I++){if(M=f[I],j=M.instance,Y=M.currentTarget,M=M.listener,j!==_&&m.isPropagationStopped())break e;cv(m,M,Y),_=j}}}if(Jn)throw i=ml,Jn=!1,ml=null,i}function it(i,o){var l=o[Dh];l===void 0&&(l=o[Dh]=new Set);var f=i+"__bubble";l.has(f)||(fv(o,i,2,!1),l.add(f))}function Ah(i,o,l){var f=0;o&&(f|=4),fv(l,i,f,o)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Nl(i){if(!i[Sc]){i[Sc]=!0,r.forEach(function(l){l!=="selectionchange"&&(WC.has(l)||Ah(l,!1,i),Ah(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Sc]||(o[Sc]=!0,Ah("selectionchange",!1,o))}}function fv(i,o,l,f){switch(Tl(o)){case 1:var m=ct;break;case 4:m=gh;break;default:m=El}l=m.bind(null,o,l,i),m=void 0,!mr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Ch(i,o,l,f,m){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;I=I.return}for(;M!==null;){if(I=co(M),I===null)return;if(j=I.tag,j===5||j===6){f=_=I;continue e}M=M.parentNode}}f=f.return}pt(function(){var Y=_,oe=cn(l),ae=[];e:{var se=lv.get(i);if(se!==void 0){var he=Jo,we=i;switch(i){case"keypress":if(Xo(l)===0)break e;case"keydown":case"keyup":he=v;break;case"focusin":we="focus",he=na;break;case"focusout":we="blur",he=na;break;case"beforeblur":case"afterblur":he=na;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=X;break;case iv:case sv:case ov:he=Ti;break;case av:he=et;break;case"scroll":he=yh;break;case"wheel":he=Ke;break;case"copy":case"cut":case"paste":he=yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=P}var Ie=(o&4)!==0,It=!Ie&&i==="scroll",G=Ie?se!==null?se+"Capture":null:se;Ie=[];for(var z=Y,q;z!==null;){q=z;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,G!==null&&(ue=qe(z,G),ue!=null&&Ie.push(Dl(z,ue,q)))),It)break;z=z.return}0<Ie.length&&(se=new he(se,we,null,l,oe),ae.push({event:se,listeners:Ie}))}}if((o&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",se&&l!==pr&&(we=l.relatedTarget||l.fromElement)&&(co(we)||we[Ii]))break e;if((he||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,he?(we=l.relatedTarget||l.toElement,he=Y,we=we?co(we):null,we!==null&&(It=gr(we),we!==It||we.tag!==5&&we.tag!==6)&&(we=null)):(he=null,we=Y),he!==we)){if(Ie=ea,ue="onMouseLeave",G="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=P,ue="onPointerLeave",G="onPointerEnter",z="pointer"),It=he==null?se:ca(he),q=we==null?se:ca(we),se=new Ie(ue,z+"leave",he,l,oe),se.target=It,se.relatedTarget=q,ue=null,co(oe)===Y&&(Ie=new Ie(G,z+"enter",we,l,oe),Ie.target=q,Ie.relatedTarget=It,ue=Ie),It=ue,he&&we)t:{for(Ie=he,G=we,z=0,q=Ie;q;q=la(q))z++;for(q=0,ue=G;ue;ue=la(ue))q++;for(;0<z-q;)Ie=la(Ie),z--;for(;0<q-z;)G=la(G),q--;for(;z--;){if(Ie===G||G!==null&&Ie===G.alternate)break t;Ie=la(Ie),G=la(G)}Ie=null}else Ie=null;he!==null&&hv(ae,se,he,Ie,!1),we!==null&&It!==null&&hv(ae,It,we,Ie,!0)}}e:{if(se=Y?ca(Y):window,he=se.nodeName&&se.nodeName.toLowerCase(),he==="select"||he==="input"&&se.type==="file")var Se=OC;else if(Gy(se))if(Ky)Se=FC;else{Se=LC;var Re=MC}else(he=se.nodeName)&&he.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Se=VC);if(Se&&(Se=Se(i,Y))){qy(ae,Se,l,oe);break e}Re&&Re(i,se,Y),i==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&Et(se,"number",se.value)}switch(Re=Y?ca(Y):window,i){case"focusin":(Gy(Re)||Re.contentEditable==="true")&&(oa=Re,Eh=Y,Pl=null);break;case"focusout":Pl=Eh=oa=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,nv(ae,l,oe);break;case"selectionchange":if($C)break;case"keydown":case"keyup":nv(ae,l,oe)}var be;if(At)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else sa?Wy(i,l)&&(Le="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(uo&&l.locale!=="ko"&&(sa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&sa&&(be=Il()):(Un=oe,Yo="value"in Un?Un.value:Un.textContent,sa=!0)),Re=xc(Y,Le),0<Re.length&&(Le=new Al(Le,i,null,l,oe),ae.push({event:Le,listeners:Re}),be?Le.data=be:(be=Hy(l),be!==null&&(Le.data=be)))),(be=$n?PC(i,l):kC(i,l))&&(Y=xc(Y,"onBeforeInput"),0<Y.length&&(oe=new Al("onBeforeInput","beforeinput",null,l,oe),ae.push({event:oe,listeners:Y}),oe.data=be))}dv(ae,o)})}function Dl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function xc(i,o){for(var l=o+"Capture",f=[];i!==null;){var m=i,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=qe(i,l),_!=null&&f.unshift(Dl(i,_,m)),_=qe(i,o),_!=null&&f.push(Dl(i,_,m))),i=i.return}return f}function la(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function hv(i,o,l,f,m){for(var _=o._reactName,I=[];l!==null&&l!==f;){var M=l,j=M.alternate,Y=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&Y!==null&&(M=Y,m?(j=qe(l,_),j!=null&&I.unshift(Dl(l,j,M))):m||(j=qe(l,_),j!=null&&I.push(Dl(l,j,M)))),l=l.return}I.length!==0&&i.push({event:o,listeners:I})}var HC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function pv(i){return(typeof i=="string"?i:""+i).replace(HC,`
`).replace(GC,"")}function Ac(i,o,l){if(o=pv(o),pv(i)!==o&&l)throw Error(t(425))}function Cc(){}var Rh=null,bh=null;function Ph(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(i){return mv.resolve(null).then(i).catch(QC)}:kh;function QC(i){setTimeout(function(){throw i})}function Nh(i,o){var l=o,f=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(f===0){i.removeChild(m),Er(o);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=m}while(l);Er(o)}function cs(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function gv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var ua=Math.random().toString(36).slice(2),Jr="__reactFiber$"+ua,Ol="__reactProps$"+ua,Ii="__reactContainer$"+ua,Dh="__reactEvents$"+ua,YC="__reactListeners$"+ua,XC="__reactHandles$"+ua;function co(i){var o=i[Jr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ii]||l[Jr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=gv(i);i!==null;){if(l=i[Jr])return l;i=gv(i)}return o}i=l,l=i.parentNode}return null}function Ml(i){return i=i[Jr]||i[Ii],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ca(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Rc(i){return i[Ol]||null}var Oh=[],da=-1;function ds(i){return{current:i}}function st(i){0>da||(i.current=Oh[da],Oh[da]=null,da--)}function rt(i,o){da++,Oh[da]=i.current,i.current=o}var fs={},en=ds(fs),xn=ds(!1),fo=fs;function fa(i,o){var l=i.type.contextTypes;if(!l)return fs;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in l)m[_]=o[_];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function An(i){return i=i.childContextTypes,i!=null}function bc(){st(xn),st(en)}function yv(i,o,l){if(en.current!==fs)throw Error(t(168));rt(en,o),rt(xn,l)}function vv(i,o,l){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,ve(i)||"Unknown",m));return re({},l,f)}function Pc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||fs,fo=en.current,rt(en,i),rt(xn,xn.current),!0}function _v(i,o,l){var f=i.stateNode;if(!f)throw Error(t(169));l?(i=vv(i,o,fo),f.__reactInternalMemoizedMergedChildContext=i,st(xn),st(en),rt(en,i)):st(xn),rt(xn,l)}var Si=null,kc=!1,Mh=!1;function wv(i){Si===null?Si=[i]:Si.push(i)}function JC(i){kc=!0,wv(i)}function hs(){if(!Mh&&Si!==null){Mh=!0;var i=0,o=Ge;try{var l=Si;for(Ge=1;i<l.length;i++){var f=l[i];do f=f(!0);while(f!==null)}Si=null,kc=!1}catch(m){throw Si!==null&&(Si=Si.slice(i+1)),Ho(no,hs),m}finally{Ge=o,Mh=!1}}return null}var ha=[],pa=0,Nc=null,Dc=0,nr=[],rr=0,ho=null,xi=1,Ai="";function po(i,o){ha[pa++]=Dc,ha[pa++]=Nc,Nc=i,Dc=o}function Ev(i,o,l){nr[rr++]=xi,nr[rr++]=Ai,nr[rr++]=ho,ho=i;var f=xi;i=Ai;var m=32-dn(f)-1;f&=~(1<<m),l+=1;var _=32-dn(o)+m;if(30<_){var I=m-m%5;_=(f&(1<<I)-1).toString(32),f>>=I,m-=I,xi=1<<32-dn(o)+m|l<<m|f,Ai=_+i}else xi=1<<_|l<<m|f,Ai=i}function Lh(i){i.return!==null&&(po(i,1),Ev(i,1,0))}function Vh(i){for(;i===Nc;)Nc=ha[--pa],ha[pa]=null,Dc=ha[--pa],ha[pa]=null;for(;i===ho;)ho=nr[--rr],nr[rr]=null,Ai=nr[--rr],nr[rr]=null,xi=nr[--rr],nr[rr]=null}var zn=null,Bn=null,dt=!1,Sr=null;function Tv(i,o){var l=ar(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Iv(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,zn=i,Bn=cs(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,zn=i,Bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ho!==null?{id:xi,overflow:Ai}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=ar(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,zn=i,Bn=null,!0):!1;default:return!1}}function Fh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jh(i){if(dt){var o=Bn;if(o){var l=o;if(!Iv(i,o)){if(Fh(i))throw Error(t(418));o=cs(l.nextSibling);var f=zn;o&&Iv(i,o)?Tv(f,l):(i.flags=i.flags&-4097|2,dt=!1,zn=i)}}else{if(Fh(i))throw Error(t(418));i.flags=i.flags&-4097|2,dt=!1,zn=i}}}function Sv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;zn=i}function Oc(i){if(i!==zn)return!1;if(!dt)return Sv(i),dt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ph(i.type,i.memoizedProps)),o&&(o=Bn)){if(Fh(i))throw xv(),Error(t(418));for(;o;)Tv(i,o),o=cs(o.nextSibling)}if(Sv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Bn=cs(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Bn=null}}else Bn=zn?cs(i.stateNode.nextSibling):null;return!0}function xv(){for(var i=Bn;i;)i=cs(i.nextSibling)}function ma(){Bn=zn=null,dt=!1}function Uh(i){Sr===null?Sr=[i]:Sr.push(i)}var ZC=K.ReactCurrentBatchConfig;function Ll(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,i));var m=f,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(I){var M=m.refs;I===null?delete M[_]:M[_]=I},o._stringRef=_,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Mc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Av(i){var o=i._init;return o(i._payload)}function Cv(i){function o(G,z){if(i){var q=G.deletions;q===null?(G.deletions=[z],G.flags|=16):q.push(z)}}function l(G,z){if(!i)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function f(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function m(G,z){return G=Es(G,z),G.index=0,G.sibling=null,G}function _(G,z,q){return G.index=q,i?(q=G.alternate,q!==null?(q=q.index,q<z?(G.flags|=2,z):q):(G.flags|=2,z)):(G.flags|=1048576,z)}function I(G){return i&&G.alternate===null&&(G.flags|=2),G}function M(G,z,q,ue){return z===null||z.tag!==6?(z=kp(q,G.mode,ue),z.return=G,z):(z=m(z,q),z.return=G,z)}function j(G,z,q,ue){var Se=q.type;return Se===N?oe(G,z,q.props.children,ue,q.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ce&&Av(Se)===z.type)?(ue=m(z,q.props),ue.ref=Ll(G,z,q),ue.return=G,ue):(ue=sd(q.type,q.key,q.props,null,G.mode,ue),ue.ref=Ll(G,z,q),ue.return=G,ue)}function Y(G,z,q,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=Np(q,G.mode,ue),z.return=G,z):(z=m(z,q.children||[]),z.return=G,z)}function oe(G,z,q,ue,Se){return z===null||z.tag!==7?(z=To(q,G.mode,ue,Se),z.return=G,z):(z=m(z,q),z.return=G,z)}function ae(G,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=kp(""+z,G.mode,q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return q=sd(z.type,z.key,z.props,null,G.mode,q),q.ref=Ll(G,null,z),q.return=G,q;case ne:return z=Np(z,G.mode,q),z.return=G,z;case ce:var ue=z._init;return ae(G,ue(z._payload),q)}if(fr(z)||J(z))return z=To(z,G.mode,q,null),z.return=G,z;Mc(G,z)}return null}function se(G,z,q,ue){var Se=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Se!==null?null:M(G,z,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:return q.key===Se?j(G,z,q,ue):null;case ne:return q.key===Se?Y(G,z,q,ue):null;case ce:return Se=q._init,se(G,z,Se(q._payload),ue)}if(fr(q)||J(q))return Se!==null?null:oe(G,z,q,ue,null);Mc(G,q)}return null}function he(G,z,q,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(q)||null,M(z,G,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Z:return G=G.get(ue.key===null?q:ue.key)||null,j(z,G,ue,Se);case ne:return G=G.get(ue.key===null?q:ue.key)||null,Y(z,G,ue,Se);case ce:var Re=ue._init;return he(G,z,q,Re(ue._payload),Se)}if(fr(ue)||J(ue))return G=G.get(q)||null,oe(z,G,ue,Se,null);Mc(z,ue)}return null}function we(G,z,q,ue){for(var Se=null,Re=null,be=z,Le=z=0,Bt=null;be!==null&&Le<q.length;Le++){be.index>Le?(Bt=be,be=null):Bt=be.sibling;var Xe=se(G,be,q[Le],ue);if(Xe===null){be===null&&(be=Bt);break}i&&be&&Xe.alternate===null&&o(G,be),z=_(Xe,z,Le),Re===null?Se=Xe:Re.sibling=Xe,Re=Xe,be=Bt}if(Le===q.length)return l(G,be),dt&&po(G,Le),Se;if(be===null){for(;Le<q.length;Le++)be=ae(G,q[Le],ue),be!==null&&(z=_(be,z,Le),Re===null?Se=be:Re.sibling=be,Re=be);return dt&&po(G,Le),Se}for(be=f(G,be);Le<q.length;Le++)Bt=he(be,G,Le,q[Le],ue),Bt!==null&&(i&&Bt.alternate!==null&&be.delete(Bt.key===null?Le:Bt.key),z=_(Bt,z,Le),Re===null?Se=Bt:Re.sibling=Bt,Re=Bt);return i&&be.forEach(function(Ts){return o(G,Ts)}),dt&&po(G,Le),Se}function Ie(G,z,q,ue){var Se=J(q);if(typeof Se!="function")throw Error(t(150));if(q=Se.call(q),q==null)throw Error(t(151));for(var Re=Se=null,be=z,Le=z=0,Bt=null,Xe=q.next();be!==null&&!Xe.done;Le++,Xe=q.next()){be.index>Le?(Bt=be,be=null):Bt=be.sibling;var Ts=se(G,be,Xe.value,ue);if(Ts===null){be===null&&(be=Bt);break}i&&be&&Ts.alternate===null&&o(G,be),z=_(Ts,z,Le),Re===null?Se=Ts:Re.sibling=Ts,Re=Ts,be=Bt}if(Xe.done)return l(G,be),dt&&po(G,Le),Se;if(be===null){for(;!Xe.done;Le++,Xe=q.next())Xe=ae(G,Xe.value,ue),Xe!==null&&(z=_(Xe,z,Le),Re===null?Se=Xe:Re.sibling=Xe,Re=Xe);return dt&&po(G,Le),Se}for(be=f(G,be);!Xe.done;Le++,Xe=q.next())Xe=he(be,G,Le,Xe.value,ue),Xe!==null&&(i&&Xe.alternate!==null&&be.delete(Xe.key===null?Le:Xe.key),z=_(Xe,z,Le),Re===null?Se=Xe:Re.sibling=Xe,Re=Xe);return i&&be.forEach(function(NR){return o(G,NR)}),dt&&po(G,Le),Se}function It(G,z,q,ue){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:e:{for(var Se=q.key,Re=z;Re!==null;){if(Re.key===Se){if(Se=q.type,Se===N){if(Re.tag===7){l(G,Re.sibling),z=m(Re,q.props.children),z.return=G,G=z;break e}}else if(Re.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ce&&Av(Se)===Re.type){l(G,Re.sibling),z=m(Re,q.props),z.ref=Ll(G,Re,q),z.return=G,G=z;break e}l(G,Re);break}else o(G,Re);Re=Re.sibling}q.type===N?(z=To(q.props.children,G.mode,ue,q.key),z.return=G,G=z):(ue=sd(q.type,q.key,q.props,null,G.mode,ue),ue.ref=Ll(G,z,q),ue.return=G,G=ue)}return I(G);case ne:e:{for(Re=q.key;z!==null;){if(z.key===Re)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){l(G,z.sibling),z=m(z,q.children||[]),z.return=G,G=z;break e}else{l(G,z);break}else o(G,z);z=z.sibling}z=Np(q,G.mode,ue),z.return=G,G=z}return I(G);case ce:return Re=q._init,It(G,z,Re(q._payload),ue)}if(fr(q))return we(G,z,q,ue);if(J(q))return Ie(G,z,q,ue);Mc(G,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(l(G,z.sibling),z=m(z,q),z.return=G,G=z):(l(G,z),z=kp(q,G.mode,ue),z.return=G,G=z),I(G)):l(G,z)}return It}var ga=Cv(!0),Rv=Cv(!1),Lc=ds(null),Vc=null,ya=null,$h=null;function zh(){$h=ya=Vc=null}function Bh(i){var o=Lc.current;st(Lc),i._currentValue=o}function Wh(i,o,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===l)break;i=i.return}}function va(i,o){Vc=i,$h=ya=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Cn=!0),i.firstContext=null)}function ir(i){var o=i._currentValue;if($h!==i)if(i={context:i,memoizedValue:o,next:null},ya===null){if(Vc===null)throw Error(t(308));ya=i,Vc.dependencies={lanes:0,firstContext:i}}else ya=ya.next=i;return o}var mo=null;function Hh(i){mo===null?mo=[i]:mo.push(i)}function bv(i,o,l,f){var m=o.interleaved;return m===null?(l.next=l,Hh(o)):(l.next=m.next,m.next=l),o.interleaved=l,Ci(i,f)}function Ci(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ps=!1;function Gh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ri(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ms(i,o,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ye&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Ci(i,l)}return m=f.interleaved,m===null?(o.next=o,Hh(f)):(o.next=m.next,m.next=o),f.interleaved=o,Ci(i,l)}function Fc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,is(i,l)}}function kv(i,o){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?m=_=I:_=_.next=I,l=l.next}while(l!==null);_===null?m=_=o:_=_.next=o}else m=_=o;l={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function jc(i,o,l,f){var m=i.updateQueue;ps=!1;var _=m.firstBaseUpdate,I=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,Y=j.next;j.next=null,I===null?_=Y:I.next=Y,I=j;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==I&&(M===null?oe.firstBaseUpdate=Y:M.next=Y,oe.lastBaseUpdate=j))}if(_!==null){var ae=m.baseState;I=0,oe=Y=j=null,M=_;do{var se=M.lane,he=M.eventTime;if((f&se)===se){oe!==null&&(oe=oe.next={eventTime:he,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var we=i,Ie=M;switch(se=o,he=l,Ie.tag){case 1:if(we=Ie.payload,typeof we=="function"){ae=we.call(he,ae,se);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ie.payload,se=typeof we=="function"?we.call(he,ae,se):we,se==null)break e;ae=re({},ae,se);break e;case 2:ps=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,se=m.effects,se===null?m.effects=[M]:se.push(M))}else he={eventTime:he,lane:se,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(Y=oe=he,j=ae):oe=oe.next=he,I|=se;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;se=M,M=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(oe===null&&(j=ae),m.baseState=j,m.firstBaseUpdate=Y,m.lastBaseUpdate=oe,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);vo|=I,i.lanes=I,i.memoizedState=ae}}function Nv(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=l,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Vl={},Zr=ds(Vl),Fl=ds(Vl),jl=ds(Vl);function go(i){if(i===Vl)throw Error(t(174));return i}function qh(i,o){switch(rt(jl,o),rt(Fl,i),rt(Zr,Vl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Tt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Tt(o,i)}st(Zr),rt(Zr,o)}function _a(){st(Zr),st(Fl),st(jl)}function Dv(i){go(jl.current);var o=go(Zr.current),l=Tt(o,i.type);o!==l&&(rt(Fl,i),rt(Zr,l))}function Kh(i){Fl.current===i&&(st(Zr),st(Fl))}var gt=ds(0);function Uc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qh=[];function Yh(){for(var i=0;i<Qh.length;i++)Qh[i]._workInProgressVersionPrimary=null;Qh.length=0}var $c=K.ReactCurrentDispatcher,Xh=K.ReactCurrentBatchConfig,yo=0,yt=null,Ot=null,$t=null,zc=!1,Ul=!1,$l=0,eR=0;function tn(){throw Error(t(321))}function Jh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Ir(i[l],o[l]))return!1;return!0}function Zh(i,o,l,f,m,_){if(yo=_,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$c.current=i===null||i.memoizedState===null?iR:sR,i=l(f,m),Ul){_=0;do{if(Ul=!1,$l=0,25<=_)throw Error(t(301));_+=1,$t=Ot=null,o.updateQueue=null,$c.current=oR,i=l(f,m)}while(Ul)}if($c.current=Hc,o=Ot!==null&&Ot.next!==null,yo=0,$t=Ot=yt=null,zc=!1,o)throw Error(t(300));return i}function ep(){var i=$l!==0;return $l=0,i}function ei(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?yt.memoizedState=$t=i:$t=$t.next=i,$t}function sr(){if(Ot===null){var i=yt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var o=$t===null?yt.memoizedState:$t.next;if(o!==null)$t=o,Ot=i;else{if(i===null)throw Error(t(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},$t===null?yt.memoizedState=$t=i:$t=$t.next=i}return $t}function zl(i,o){return typeof o=="function"?o(i):o}function tp(i){var o=sr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=Ot,m=f.baseQueue,_=l.pending;if(_!==null){if(m!==null){var I=m.next;m.next=_.next,_.next=I}f.baseQueue=m=_,l.pending=null}if(m!==null){_=m.next,f=f.baseState;var M=I=null,j=null,Y=_;do{var oe=Y.lane;if((yo&oe)===oe)j!==null&&(j=j.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:i(f,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};j===null?(M=j=ae,I=f):j=j.next=ae,yt.lanes|=oe,vo|=oe}Y=Y.next}while(Y!==null&&Y!==_);j===null?I=f:j.next=M,Ir(f,o.memoizedState)||(Cn=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=j,l.lastRenderedState=f}if(i=l.interleaved,i!==null){m=i;do _=m.lane,yt.lanes|=_,vo|=_,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function np(i){var o=sr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=l.dispatch,m=l.pending,_=o.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do _=i(_,I.action),I=I.next;while(I!==m);Ir(_,o.memoizedState)||(Cn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),l.lastRenderedState=_}return[_,f]}function Ov(){}function Mv(i,o){var l=yt,f=sr(),m=o(),_=!Ir(f.memoizedState,m);if(_&&(f.memoizedState=m,Cn=!0),f=f.queue,rp(Fv.bind(null,l,f,i),[i]),f.getSnapshot!==o||_||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Bl(9,Vv.bind(null,l,f,m,o),void 0,null),zt===null)throw Error(t(349));(yo&30)!==0||Lv(l,o,m)}return m}function Lv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Vv(i,o,l,f){o.value=l,o.getSnapshot=f,jv(o)&&Uv(i)}function Fv(i,o,l){return l(function(){jv(o)&&Uv(i)})}function jv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Ir(i,l)}catch{return!0}}function Uv(i){var o=Ci(i,1);o!==null&&Rr(o,i,1,-1)}function $v(i){var o=ei();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:i},o.queue=i,i=i.dispatch=rR.bind(null,yt,i),[o.memoizedState,i]}function Bl(i,o,l,f){return i={tag:i,create:o,destroy:l,deps:f,next:null},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,o.lastEffect=i)),i}function zv(){return sr().memoizedState}function Bc(i,o,l,f){var m=ei();yt.flags|=i,m.memoizedState=Bl(1|o,l,void 0,f===void 0?null:f)}function Wc(i,o,l,f){var m=sr();f=f===void 0?null:f;var _=void 0;if(Ot!==null){var I=Ot.memoizedState;if(_=I.destroy,f!==null&&Jh(f,I.deps)){m.memoizedState=Bl(o,l,_,f);return}}yt.flags|=i,m.memoizedState=Bl(1|o,l,_,f)}function Bv(i,o){return Bc(8390656,8,i,o)}function rp(i,o){return Wc(2048,8,i,o)}function Wv(i,o){return Wc(4,2,i,o)}function Hv(i,o){return Wc(4,4,i,o)}function Gv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function qv(i,o,l){return l=l!=null?l.concat([i]):null,Wc(4,4,Gv.bind(null,o,i),l)}function ip(){}function Kv(i,o){var l=sr();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Jh(o,f[1])?f[0]:(l.memoizedState=[i,o],i)}function Qv(i,o){var l=sr();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Jh(o,f[1])?f[0]:(i=i(),l.memoizedState=[i,o],i)}function Yv(i,o,l){return(yo&21)===0?(i.baseState&&(i.baseState=!1,Cn=!0),i.memoizedState=l):(Ir(l,o)||(l=so(),yt.lanes|=l,vo|=l,i.baseState=!0),o)}function tR(i,o){var l=Ge;Ge=l!==0&&4>l?l:4,i(!0);var f=Xh.transition;Xh.transition={};try{i(!1),o()}finally{Ge=l,Xh.transition=f}}function Xv(){return sr().memoizedState}function nR(i,o,l){var f=_s(i);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Jv(i))Zv(o,l);else if(l=bv(i,o,l,f),l!==null){var m=pn();Rr(l,i,f,m),e_(l,o,f)}}function rR(i,o,l){var f=_s(i),m={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jv(i))Zv(o,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,M=_(I,l);if(m.hasEagerState=!0,m.eagerState=M,Ir(M,I)){var j=o.interleaved;j===null?(m.next=m,Hh(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}l=bv(i,o,m,f),l!==null&&(m=pn(),Rr(l,i,f,m),e_(l,o,f))}}function Jv(i){var o=i.alternate;return i===yt||o!==null&&o===yt}function Zv(i,o){Ul=zc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function e_(i,o,l){if((l&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,is(i,l)}}var Hc={readContext:ir,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},iR={readContext:ir,useCallback:function(i,o){return ei().memoizedState=[i,o===void 0?null:o],i},useContext:ir,useEffect:Bv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Bc(4194308,4,Gv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Bc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Bc(4,2,i,o)},useMemo:function(i,o){var l=ei();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var f=ei();return o=l!==void 0?l(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=nR.bind(null,yt,i),[f.memoizedState,i]},useRef:function(i){var o=ei();return i={current:i},o.memoizedState=i},useState:$v,useDebugValue:ip,useDeferredValue:function(i){return ei().memoizedState=i},useTransition:function(){var i=$v(!1),o=i[0];return i=tR.bind(null,i[1]),ei().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var f=yt,m=ei();if(dt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),zt===null)throw Error(t(349));(yo&30)!==0||Lv(f,o,l)}m.memoizedState=l;var _={value:l,getSnapshot:o};return m.queue=_,Bv(Fv.bind(null,f,_,i),[i]),f.flags|=2048,Bl(9,Vv.bind(null,f,_,l,o),void 0,null),l},useId:function(){var i=ei(),o=zt.identifierPrefix;if(dt){var l=Ai,f=xi;l=(f&~(1<<32-dn(f)-1)).toString(32)+l,o=":"+o+"R"+l,l=$l++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=eR++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},sR={readContext:ir,useCallback:Kv,useContext:ir,useEffect:rp,useImperativeHandle:qv,useInsertionEffect:Wv,useLayoutEffect:Hv,useMemo:Qv,useReducer:tp,useRef:zv,useState:function(){return tp(zl)},useDebugValue:ip,useDeferredValue:function(i){var o=sr();return Yv(o,Ot.memoizedState,i)},useTransition:function(){var i=tp(zl)[0],o=sr().memoizedState;return[i,o]},useMutableSource:Ov,useSyncExternalStore:Mv,useId:Xv,unstable_isNewReconciler:!1},oR={readContext:ir,useCallback:Kv,useContext:ir,useEffect:rp,useImperativeHandle:qv,useInsertionEffect:Wv,useLayoutEffect:Hv,useMemo:Qv,useReducer:np,useRef:zv,useState:function(){return np(zl)},useDebugValue:ip,useDeferredValue:function(i){var o=sr();return Ot===null?o.memoizedState=i:Yv(o,Ot.memoizedState,i)},useTransition:function(){var i=np(zl)[0],o=sr().memoizedState;return[i,o]},useMutableSource:Ov,useSyncExternalStore:Mv,useId:Xv,unstable_isNewReconciler:!1};function xr(i,o){if(i&&i.defaultProps){o=re({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function sp(i,o,l,f){o=i.memoizedState,l=l(f,o),l=l==null?o:re({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Gc={isMounted:function(i){return(i=i._reactInternals)?gr(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var f=pn(),m=_s(i),_=Ri(f,m);_.payload=o,l!=null&&(_.callback=l),o=ms(i,_,m),o!==null&&(Rr(o,i,m,f),Fc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var f=pn(),m=_s(i),_=Ri(f,m);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=ms(i,_,m),o!==null&&(Rr(o,i,m,f),Fc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=pn(),f=_s(i),m=Ri(l,f);m.tag=2,o!=null&&(m.callback=o),o=ms(i,m,f),o!==null&&(Rr(o,i,f,l),Fc(o,i,f))}};function t_(i,o,l,f,m,_,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,I):o.prototype&&o.prototype.isPureReactComponent?!bl(l,f)||!bl(m,_):!0}function n_(i,o,l){var f=!1,m=fs,_=o.contextType;return typeof _=="object"&&_!==null?_=ir(_):(m=An(o)?fo:en.current,f=o.contextTypes,_=(f=f!=null)?fa(i,m):fs),o=new o(l,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=_),o}function r_(i,o,l,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==i&&Gc.enqueueReplaceState(o,o.state,null)}function op(i,o,l,f){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Gh(i);var _=o.contextType;typeof _=="object"&&_!==null?m.context=ir(_):(_=An(o)?fo:en.current,m.context=fa(i,_)),m.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(sp(i,o,_,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Gc.enqueueReplaceState(m,m.state,null),jc(i,l,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function wa(i,o){try{var l="",f=o;do l+=Ae(f),f=f.return;while(f);var m=l}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:m,digest:null}}function ap(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function lp(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var aR=typeof WeakMap=="function"?WeakMap:Map;function i_(i,o,l){l=Ri(-1,l),l.tag=3,l.payload={element:null};var f=o.value;return l.callback=function(){Zc||(Zc=!0,Ip=f),lp(i,o)},l}function s_(i,o,l){l=Ri(-1,l),l.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;l.payload=function(){return f(m)},l.callback=function(){lp(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){lp(i,o),typeof f!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),l}function o_(i,o,l){var f=i.pingCache;if(f===null){f=i.pingCache=new aR;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(l)||(m.add(l),i=ER.bind(null,i,o,l),o.then(i,i))}function a_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function l_(i,o,l,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Ri(-1,1),o.tag=2,ms(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var lR=K.ReactCurrentOwner,Cn=!1;function hn(i,o,l,f){o.child=i===null?Rv(o,null,l,f):ga(o,i.child,l,f)}function u_(i,o,l,f,m){l=l.render;var _=o.ref;return va(o,m),f=Zh(i,o,l,f,_,m),l=ep(),i!==null&&!Cn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,bi(i,o,m)):(dt&&l&&Lh(o),o.flags|=1,hn(i,o,f,m),o.child)}function c_(i,o,l,f,m){if(i===null){var _=l.type;return typeof _=="function"&&!Pp(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=_,d_(i,o,_,f,m)):(i=sd(l.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&m)===0){var I=_.memoizedProps;if(l=l.compare,l=l!==null?l:bl,l(I,f)&&i.ref===o.ref)return bi(i,o,m)}return o.flags|=1,i=Es(_,f),i.ref=o.ref,i.return=o,o.child=i}function d_(i,o,l,f,m){if(i!==null){var _=i.memoizedProps;if(bl(_,f)&&i.ref===o.ref)if(Cn=!1,o.pendingProps=f=_,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Cn=!0);else return o.lanes=i.lanes,bi(i,o,m)}return up(i,o,l,f,m)}function f_(i,o,l){var f=o.pendingProps,m=f.children,_=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ta,Wn),Wn|=l;else{if((l&1073741824)===0)return i=_!==null?_.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,rt(Ta,Wn),Wn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:l,rt(Ta,Wn),Wn|=f}else _!==null?(f=_.baseLanes|l,o.memoizedState=null):f=l,rt(Ta,Wn),Wn|=f;return hn(i,o,m,l),o.child}function h_(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function up(i,o,l,f,m){var _=An(l)?fo:en.current;return _=fa(o,_),va(o,m),l=Zh(i,o,l,f,_,m),f=ep(),i!==null&&!Cn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,bi(i,o,m)):(dt&&f&&Lh(o),o.flags|=1,hn(i,o,l,m),o.child)}function p_(i,o,l,f,m){if(An(l)){var _=!0;Pc(o)}else _=!1;if(va(o,m),o.stateNode===null)Kc(i,o),n_(o,l,f),op(o,l,f,m),f=!0;else if(i===null){var I=o.stateNode,M=o.memoizedProps;I.props=M;var j=I.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=ir(Y):(Y=An(l)?fo:en.current,Y=fa(o,Y));var oe=l.getDerivedStateFromProps,ae=typeof oe=="function"||typeof I.getSnapshotBeforeUpdate=="function";ae||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==f||j!==Y)&&r_(o,I,f,Y),ps=!1;var se=o.memoizedState;I.state=se,jc(o,f,I,m),j=o.memoizedState,M!==f||se!==j||xn.current||ps?(typeof oe=="function"&&(sp(o,l,oe,f),j=o.memoizedState),(M=ps||t_(o,l,M,f,se,j,Y))?(ae||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),I.props=f,I.state=j,I.context=Y,f=M):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,Pv(i,o),M=o.memoizedProps,Y=o.type===o.elementType?M:xr(o.type,M),I.props=Y,ae=o.pendingProps,se=I.context,j=l.contextType,typeof j=="object"&&j!==null?j=ir(j):(j=An(l)?fo:en.current,j=fa(o,j));var he=l.getDerivedStateFromProps;(oe=typeof he=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==ae||se!==j)&&r_(o,I,f,j),ps=!1,se=o.memoizedState,I.state=se,jc(o,f,I,m);var we=o.memoizedState;M!==ae||se!==we||xn.current||ps?(typeof he=="function"&&(sp(o,l,he,f),we=o.memoizedState),(Y=ps||t_(o,l,Y,f,se,we,j)||!1)?(oe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,we,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,we,j)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=we),I.props=f,I.state=we,I.context=j,f=Y):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),f=!1)}return cp(i,o,l,f,_,m)}function cp(i,o,l,f,m,_){h_(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&_v(o,l,!1),bi(i,o,_);f=o.stateNode,lR.current=o;var M=I&&typeof l.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=ga(o,i.child,null,_),o.child=ga(o,null,M,_)):hn(i,o,M,_),o.memoizedState=f.state,m&&_v(o,l,!0),o.child}function m_(i){var o=i.stateNode;o.pendingContext?yv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&yv(i,o.context,!1),qh(i,o.containerInfo)}function g_(i,o,l,f,m){return ma(),Uh(m),o.flags|=256,hn(i,o,l,f),o.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function fp(i){return{baseLanes:i,cachePool:null,transitions:null}}function y_(i,o,l){var f=o.pendingProps,m=gt.current,_=!1,I=(o.flags&128)!==0,M;if((M=I)||(M=i!==null&&i.memoizedState===null?!1:(m&2)!==0),M?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),rt(gt,m&1),i===null)return jh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,i=f.fallback,_?(f=o.mode,_=o.child,I={mode:"hidden",children:I},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=I):_=od(I,f,0,null),i=To(i,f,l,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=fp(l),o.memoizedState=dp,i):hp(o,I));if(m=i.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return uR(i,o,I,f,M,m,l);if(_){_=f.fallback,I=o.mode,m=i.child,M=m.sibling;var j={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=Es(m,j),f.subtreeFlags=m.subtreeFlags&14680064),M!==null?_=Es(M,_):(_=To(_,I,l,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,I=i.child.memoizedState,I=I===null?fp(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},_.memoizedState=I,_.childLanes=i.childLanes&~l,o.memoizedState=dp,f}return _=i.child,i=_.sibling,f=Es(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=l),f.return=o,f.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=f,o.memoizedState=null,f}function hp(i,o){return o=od({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function qc(i,o,l,f){return f!==null&&Uh(f),ga(o,i.child,null,l),i=hp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function uR(i,o,l,f,m,_,I){if(l)return o.flags&256?(o.flags&=-257,f=ap(Error(t(422))),qc(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=f.fallback,m=o.mode,f=od({mode:"visible",children:f.children},m,0,null),_=To(_,m,I,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&ga(o,i.child,null,I),o.child.memoizedState=fp(I),o.memoizedState=dp,_);if((o.mode&1)===0)return qc(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var M=f.dgst;return f=M,_=Error(t(419)),f=ap(_,f,void 0),qc(i,o,I,f)}if(M=(I&i.childLanes)!==0,Cn||M){if(f=zt,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Ci(i,m),Rr(f,i,m,-1))}return bp(),f=ap(Error(t(421))),qc(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=TR.bind(null,i),m._reactRetry=o,null):(i=_.treeContext,Bn=cs(m.nextSibling),zn=o,dt=!0,Sr=null,i!==null&&(nr[rr++]=xi,nr[rr++]=Ai,nr[rr++]=ho,xi=i.id,Ai=i.overflow,ho=o),o=hp(o,f.children),o.flags|=4096,o)}function v_(i,o,l){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Wh(i.return,o,l)}function pp(i,o,l,f,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=l,_.tailMode=m)}function __(i,o,l){var f=o.pendingProps,m=f.revealOrder,_=f.tail;if(hn(i,o,f.children,l),f=gt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&v_(i,l,o);else if(i.tag===19)v_(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(rt(gt,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Uc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),pp(o,!1,m,l,_);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Uc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}pp(o,!0,l,null,_);break;case"together":pp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Kc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function bi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),vo|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Es(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Es(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function cR(i,o,l){switch(o.tag){case 3:m_(o),ma();break;case 5:Dv(o);break;case 1:An(o.type)&&Pc(o);break;case 4:qh(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;rt(Lc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(rt(gt,gt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?y_(i,o,l):(rt(gt,gt.current&1),i=bi(i,o,l),i!==null?i.sibling:null);rt(gt,gt.current&1);break;case 19:if(f=(l&o.childLanes)!==0,(i.flags&128)!==0){if(f)return __(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(gt,gt.current),f)break;return null;case 22:case 23:return o.lanes=0,f_(i,o,l)}return bi(i,o,l)}var w_,mp,E_,T_;w_=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},mp=function(){},E_=function(i,o,l,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,go(Zr.current);var _=null;switch(l){case"input":m=vn(i,m),f=vn(i,f),_=[];break;case"select":m=re({},m,{value:void 0}),f=re({},f,{value:void 0}),_=[];break;case"textarea":m=Pt(i,m),f=Pt(i,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Cc)}Ji(l,f);var I;l=null;for(Y in m)if(!f.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var M=m[Y];for(I in M)M.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?_||(_=[]):(_=_||[]).push(Y,null));for(Y in f){var j=f[Y];if(M=m!=null?m[Y]:void 0,f.hasOwnProperty(Y)&&j!==M&&(j!=null||M!=null))if(Y==="style")if(M){for(I in M)!M.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in j)j.hasOwnProperty(I)&&M[I]!==j[I]&&(l||(l={}),l[I]=j[I])}else l||(_||(_=[]),_.push(Y,l)),l=j;else Y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(_=_||[]).push(Y,j)):Y==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(Y,""+j):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(j!=null&&Y==="onScroll"&&it("scroll",i),_||M===j||(_=[])):(_=_||[]).push(Y,j))}l&&(_=_||[]).push("style",l);var Y=_;(o.updateQueue=Y)&&(o.flags|=4)}},T_=function(i,o,l,f){l!==f&&(o.flags|=4)};function Wl(i,o){if(!dt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function nn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=l,o}function dR(i,o,l){var f=o.pendingProps;switch(Vh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(o),null;case 1:return An(o.type)&&bc(),nn(o),null;case 3:return f=o.stateNode,_a(),st(xn),st(en),Yh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Oc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Sr!==null&&(Ap(Sr),Sr=null))),mp(i,o),nn(o),null;case 5:Kh(o);var m=go(jl.current);if(l=o.type,i!==null&&o.stateNode!=null)E_(i,o,l,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return nn(o),null}if(i=go(Zr.current),Oc(o)){f=o.stateNode,l=o.type;var _=o.memoizedProps;switch(f[Jr]=o,f[Ol]=_,i=(o.mode&1)!==0,l){case"dialog":it("cancel",f),it("close",f);break;case"iframe":case"object":case"embed":it("load",f);break;case"video":case"audio":for(m=0;m<kl.length;m++)it(kl[m],f);break;case"source":it("error",f);break;case"img":case"image":case"link":it("error",f),it("load",f);break;case"details":it("toggle",f);break;case"input":Br(f,_),it("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},it("invalid",f);break;case"textarea":Ln(f,_),it("invalid",f)}Ji(l,_),m=null;for(var I in _)if(_.hasOwnProperty(I)){var M=_[I];I==="children"?typeof M=="string"?f.textContent!==M&&(_.suppressHydrationWarning!==!0&&Ac(f.textContent,M,i),m=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&Ac(f.textContent,M,i),m=["children",""+M]):s.hasOwnProperty(I)&&M!=null&&I==="onScroll"&&it("scroll",f)}switch(l){case"input":jt(f),mi(f,_,!0);break;case"textarea":jt(f),Xs(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Cc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=at(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(l,{is:f.is}):(i=I.createElement(l),l==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,l),i[Jr]=o,i[Ol]=f,w_(i,o,!1,!1),o.stateNode=i;e:{switch(I=eo(l,f),l){case"dialog":it("cancel",i),it("close",i),m=f;break;case"iframe":case"object":case"embed":it("load",i),m=f;break;case"video":case"audio":for(m=0;m<kl.length;m++)it(kl[m],i);m=f;break;case"source":it("error",i),m=f;break;case"img":case"image":case"link":it("error",i),it("load",i),m=f;break;case"details":it("toggle",i),m=f;break;case"input":Br(i,f),m=vn(i,f),it("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=re({},f,{value:void 0}),it("invalid",i);break;case"textarea":Ln(i,f),m=Pt(i,f),it("invalid",i);break;default:m=f}Ji(l,m),M=m;for(_ in M)if(M.hasOwnProperty(_)){var j=M[_];_==="style"?Zs(i,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&gi(i,j)):_==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&un(i,j):typeof j=="number"&&un(i,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?j!=null&&_==="onScroll"&&it("scroll",i):j!=null&&$(i,_,j,I))}switch(l){case"input":jt(i),mi(i,f,!1);break;case"textarea":jt(i),Xs(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Me(f.value));break;case"select":i.multiple=!!f.multiple,_=f.value,_!=null?hr(i,!!f.multiple,_,!1):f.defaultValue!=null&&hr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Cc)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return nn(o),null;case 6:if(i&&o.stateNode!=null)T_(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(l=go(jl.current),go(Zr.current),Oc(o)){if(f=o.stateNode,l=o.memoizedProps,f[Jr]=o,(_=f.nodeValue!==l)&&(i=zn,i!==null))switch(i.tag){case 3:Ac(f.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ac(f.nodeValue,l,(i.mode&1)!==0)}_&&(o.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Jr]=o,o.stateNode=f}return nn(o),null;case 13:if(st(gt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&Bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)xv(),ma(),o.flags|=98560,_=!1;else if(_=Oc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Jr]=o}else ma(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nn(o),_=!1}else Sr!==null&&(Ap(Sr),Sr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(gt.current&1)!==0?Mt===0&&(Mt=3):bp())),o.updateQueue!==null&&(o.flags|=4),nn(o),null);case 4:return _a(),mp(i,o),i===null&&Nl(o.stateNode.containerInfo),nn(o),null;case 10:return Bh(o.type._context),nn(o),null;case 17:return An(o.type)&&bc(),nn(o),null;case 19:if(st(gt),_=o.memoizedState,_===null)return nn(o),null;if(f=(o.flags&128)!==0,I=_.rendering,I===null)if(f)Wl(_,!1);else{if(Mt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Uc(i),I!==null){for(o.flags|=128,Wl(_,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=l,l=o.child;l!==null;)_=l,i=f,_.flags&=14680066,I=_.alternate,I===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=I.childLanes,_.lanes=I.lanes,_.child=I.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=I.memoizedProps,_.memoizedState=I.memoizedState,_.updateQueue=I.updateQueue,_.type=I.type,i=I.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return rt(gt,gt.current&1|2),o.child}i=i.sibling}_.tail!==null&&nt()>Ia&&(o.flags|=128,f=!0,Wl(_,!1),o.lanes=4194304)}else{if(!f)if(i=Uc(I),i!==null){if(o.flags|=128,f=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Wl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!I.alternate&&!dt)return nn(o),null}else 2*nt()-_.renderingStartTime>Ia&&l!==1073741824&&(o.flags|=128,f=!0,Wl(_,!1),o.lanes=4194304);_.isBackwards?(I.sibling=o.child,o.child=I):(l=_.last,l!==null?l.sibling=I:o.child=I,_.last=I)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=nt(),o.sibling=null,l=gt.current,rt(gt,f?l&1|2:l&1),o):(nn(o),null);case 22:case 23:return Rp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Wn&1073741824)!==0&&(nn(o),o.subtreeFlags&6&&(o.flags|=8192)):nn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function fR(i,o){switch(Vh(o),o.tag){case 1:return An(o.type)&&bc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return _a(),st(xn),st(en),Yh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Kh(o),null;case 13:if(st(gt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ma()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return st(gt),null;case 4:return _a(),null;case 10:return Bh(o.type._context),null;case 22:case 23:return Rp(),null;case 24:return null;default:return null}}var Qc=!1,rn=!1,hR=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ea(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){_t(i,o,f)}else l.current=null}function gp(i,o,l){try{l()}catch(f){_t(i,o,f)}}var I_=!1;function pR(i,o){if(Rh=as,i=tv(),wh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var I=0,M=-1,j=-1,Y=0,oe=0,ae=i,se=null;t:for(;;){for(var he;ae!==l||m!==0&&ae.nodeType!==3||(M=I+m),ae!==_||f!==0&&ae.nodeType!==3||(j=I+f),ae.nodeType===3&&(I+=ae.nodeValue.length),(he=ae.firstChild)!==null;)se=ae,ae=he;for(;;){if(ae===i)break t;if(se===l&&++Y===m&&(M=I),se===_&&++oe===f&&(j=I),(he=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=he}l=M===-1||j===-1?null:{start:M,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(bh={focusedElem:i,selectionRange:l},as=!1,_e=o;_e!==null;)if(o=_e,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,_e=i;else for(;_e!==null;){o=_e;try{var we=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ie=we.memoizedProps,It=we.memoizedState,G=o.stateNode,z=G.getSnapshotBeforeUpdate(o.elementType===o.type?Ie:xr(o.type,Ie),It);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){_t(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,_e=i;break}_e=o.return}return we=I_,I_=!1,we}function Hl(i,o,l){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var _=m.destroy;m.destroy=void 0,_!==void 0&&gp(o,l,_)}m=m.next}while(m!==f)}}function Yc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var f=l.create;l.destroy=f()}l=l.next}while(l!==o)}}function yp(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function S_(i){var o=i.alternate;o!==null&&(i.alternate=null,S_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Jr],delete o[Ol],delete o[Dh],delete o[YC],delete o[XC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function x_(i){return i.tag===5||i.tag===3||i.tag===4}function A_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||x_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vp(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Cc));else if(f!==4&&(i=i.child,i!==null))for(vp(i,o,l),i=i.sibling;i!==null;)vp(i,o,l),i=i.sibling}function _p(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(_p(i,o,l),i=i.sibling;i!==null;)_p(i,o,l),i=i.sibling}var Kt=null,Ar=!1;function gs(i,o,l){for(l=l.child;l!==null;)C_(i,o,l),l=l.sibling}function C_(i,o,l){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(ro,l)}catch{}switch(l.tag){case 5:rn||Ea(l,o);case 6:var f=Kt,m=Ar;Kt=null,gs(i,o,l),Kt=f,Ar=m,Kt!==null&&(Ar?(i=Kt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Kt.removeChild(l.stateNode));break;case 18:Kt!==null&&(Ar?(i=Kt,l=l.stateNode,i.nodeType===8?Nh(i.parentNode,l):i.nodeType===1&&Nh(i,l),Er(i)):Nh(Kt,l.stateNode));break;case 4:f=Kt,m=Ar,Kt=l.stateNode.containerInfo,Ar=!0,gs(i,o,l),Kt=f,Ar=m;break;case 0:case 11:case 14:case 15:if(!rn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,I=_.destroy;_=_.tag,I!==void 0&&((_&2)!==0||(_&4)!==0)&&gp(l,o,I),m=m.next}while(m!==f)}gs(i,o,l);break;case 1:if(!rn&&(Ea(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(M){_t(l,o,M)}gs(i,o,l);break;case 21:gs(i,o,l);break;case 22:l.mode&1?(rn=(f=rn)||l.memoizedState!==null,gs(i,o,l),rn=f):gs(i,o,l);break;default:gs(i,o,l)}}function R_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new hR),o.forEach(function(f){var m=IR.bind(null,i,f);l.has(f)||(l.add(f),f.then(m,m))})}}function Cr(i,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];try{var _=i,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 5:Kt=M.stateNode,Ar=!1;break e;case 3:Kt=M.stateNode.containerInfo,Ar=!0;break e;case 4:Kt=M.stateNode.containerInfo,Ar=!0;break e}M=M.return}if(Kt===null)throw Error(t(160));C_(_,I,m),Kt=null,Ar=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(Y){_t(m,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)b_(o,i),o=o.sibling}function b_(i,o){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Cr(o,i),ti(i),f&4){try{Hl(3,i,i.return),Yc(3,i)}catch(Ie){_t(i,i.return,Ie)}try{Hl(5,i,i.return)}catch(Ie){_t(i,i.return,Ie)}}break;case 1:Cr(o,i),ti(i),f&512&&l!==null&&Ea(l,l.return);break;case 5:if(Cr(o,i),ti(i),f&512&&l!==null&&Ea(l,l.return),i.flags&32){var m=i.stateNode;try{un(m,"")}catch(Ie){_t(i,i.return,Ie)}}if(f&4&&(m=i.stateNode,m!=null)){var _=i.memoizedProps,I=l!==null?l.memoizedProps:_,M=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&Wr(m,_),eo(M,I);var Y=eo(M,_);for(I=0;I<j.length;I+=2){var oe=j[I],ae=j[I+1];oe==="style"?Zs(m,ae):oe==="dangerouslySetInnerHTML"?gi(m,ae):oe==="children"?un(m,ae):$(m,oe,ae,Y)}switch(M){case"input":Mn(m,_);break;case"textarea":Yi(m,_);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var he=_.value;he!=null?hr(m,!!_.multiple,he,!1):se!==!!_.multiple&&(_.defaultValue!=null?hr(m,!!_.multiple,_.defaultValue,!0):hr(m,!!_.multiple,_.multiple?[]:"",!1))}m[Ol]=_}catch(Ie){_t(i,i.return,Ie)}}break;case 6:if(Cr(o,i),ti(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,_=i.memoizedProps;try{m.nodeValue=_}catch(Ie){_t(i,i.return,Ie)}}break;case 3:if(Cr(o,i),ti(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Er(o.containerInfo)}catch(Ie){_t(i,i.return,Ie)}break;case 4:Cr(o,i),ti(i);break;case 13:Cr(o,i),ti(i),m=i.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(Tp=nt())),f&4&&R_(i);break;case 22:if(oe=l!==null&&l.memoizedState!==null,i.mode&1?(rn=(Y=rn)||oe,Cr(o,i),rn=Y):Cr(o,i),ti(i),f&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!oe&&(i.mode&1)!==0)for(_e=i,oe=i.child;oe!==null;){for(ae=_e=oe;_e!==null;){switch(se=_e,he=se.child,se.tag){case 0:case 11:case 14:case 15:Hl(4,se,se.return);break;case 1:Ea(se,se.return);var we=se.stateNode;if(typeof we.componentWillUnmount=="function"){f=se,l=se.return;try{o=f,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(Ie){_t(f,l,Ie)}}break;case 5:Ea(se,se.return);break;case 22:if(se.memoizedState!==null){N_(ae);continue}}he!==null?(he.return=se,_e=he):N_(ae)}oe=oe.sibling}e:for(oe=null,ae=i;;){if(ae.tag===5){if(oe===null){oe=ae;try{m=ae.stateNode,Y?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=ae.stateNode,j=ae.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=Js("display",I))}catch(Ie){_t(i,i.return,Ie)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(Ie){_t(i,i.return,Ie)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Cr(o,i),ti(i),f&4&&R_(i);break;case 21:break;default:Cr(o,i),ti(i)}}function ti(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(x_(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(un(m,""),f.flags&=-33);var _=A_(i);_p(i,_,m);break;case 3:case 4:var I=f.stateNode.containerInfo,M=A_(i);vp(i,M,I);break;default:throw Error(t(161))}}catch(j){_t(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function mR(i,o,l){_e=i,P_(i)}function P_(i,o,l){for(var f=(i.mode&1)!==0;_e!==null;){var m=_e,_=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||Qc;if(!I){var M=m.alternate,j=M!==null&&M.memoizedState!==null||rn;M=Qc;var Y=rn;if(Qc=I,(rn=j)&&!Y)for(_e=m;_e!==null;)I=_e,j=I.child,I.tag===22&&I.memoizedState!==null?D_(m):j!==null?(j.return=I,_e=j):D_(m);for(;_!==null;)_e=_,P_(_),_=_.sibling;_e=m,Qc=M,rn=Y}k_(i)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,_e=_):k_(i)}}function k_(i){for(;_e!==null;){var o=_e;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:rn||Yc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!rn)if(l===null)f.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:xr(o.type,l.memoizedProps);f.componentDidUpdate(m,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&Nv(o,_,f);break;case 3:var I=o.updateQueue;if(I!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Nv(o,I,l)}break;case 5:var M=o.stateNode;if(l===null&&o.flags&4){l=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Er(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||o.flags&512&&yp(o)}catch(se){_t(o,o.return,se)}}if(o===i){_e=null;break}if(l=o.sibling,l!==null){l.return=o.return,_e=l;break}_e=o.return}}function N_(i){for(;_e!==null;){var o=_e;if(o===i){_e=null;break}var l=o.sibling;if(l!==null){l.return=o.return,_e=l;break}_e=o.return}}function D_(i){for(;_e!==null;){var o=_e;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Yc(4,o)}catch(j){_t(o,l,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(j){_t(o,m,j)}}var _=o.return;try{yp(o)}catch(j){_t(o,_,j)}break;case 5:var I=o.return;try{yp(o)}catch(j){_t(o,I,j)}}}catch(j){_t(o,o.return,j)}if(o===i){_e=null;break}var M=o.sibling;if(M!==null){M.return=o.return,_e=M;break}_e=o.return}}var gR=Math.ceil,Xc=K.ReactCurrentDispatcher,wp=K.ReactCurrentOwner,or=K.ReactCurrentBatchConfig,Ye=0,zt=null,Ct=null,Qt=0,Wn=0,Ta=ds(0),Mt=0,Gl=null,vo=0,Jc=0,Ep=0,ql=null,Rn=null,Tp=0,Ia=1/0,Pi=null,Zc=!1,Ip=null,ys=null,ed=!1,vs=null,td=0,Kl=0,Sp=null,nd=-1,rd=0;function pn(){return(Ye&6)!==0?nt():nd!==-1?nd:nd=nt()}function _s(i){return(i.mode&1)===0?1:(Ye&2)!==0&&Qt!==0?Qt&-Qt:ZC.transition!==null?(rd===0&&(rd=so()),rd):(i=Ge,i!==0||(i=window.event,i=i===void 0?16:Tl(i.type)),i)}function Rr(i,o,l,f){if(50<Kl)throw Kl=0,Sp=null,Error(t(185));rs(i,l,f),((Ye&2)===0||i!==zt)&&(i===zt&&((Ye&2)===0&&(Jc|=l),Mt===4&&ws(i,Qt)),bn(i,f),l===1&&Ye===0&&(o.mode&1)===0&&(Ia=nt()+500,kc&&hs()))}function bn(i,o){var l=i.callbackNode;vi(i,o);var f=io(i,i===zt?Qt:0);if(f===0)l!==null&&yl(l),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(l!=null&&yl(l),o===1)i.tag===0?JC(M_.bind(null,i)):wv(M_.bind(null,i)),KC(function(){(Ye&6)===0&&hs()}),l=null;else{switch(ss(f)){case 1:l=no;break;case 4:l=es;break;case 16:l=Zn;break;case 536870912:l=rc;break;default:l=Zn}l=B_(l,O_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function O_(i,o){if(nd=-1,rd=0,(Ye&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Sa()&&i.callbackNode!==l)return null;var f=io(i,i===zt?Qt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=id(i,f);else{o=f;var m=Ye;Ye|=2;var _=V_();(zt!==i||Qt!==o)&&(Pi=null,Ia=nt()+500,wo(i,o));do try{_R();break}catch(M){L_(i,M)}while(!0);zh(),Xc.current=_,Ye=m,Ct!==null?o=0:(zt=null,Qt=0,o=Mt)}if(o!==0){if(o===2&&(m=jn(i),m!==0&&(f=m,o=xp(i,m))),o===1)throw l=Gl,wo(i,0),ws(i,f),bn(i,nt()),l;if(o===6)ws(i,f);else{if(m=i.current.alternate,(f&30)===0&&!yR(m)&&(o=id(i,f),o===2&&(_=jn(i),_!==0&&(f=_,o=xp(i,_))),o===1))throw l=Gl,wo(i,0),ws(i,f),bn(i,nt()),l;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Eo(i,Rn,Pi);break;case 3:if(ws(i,f),(f&130023424)===f&&(o=Tp+500-nt(),10<o)){if(io(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){pn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=kh(Eo.bind(null,i,Rn,Pi),o);break}Eo(i,Rn,Pi);break;case 4:if(ws(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-dn(f);_=1<<I,I=o[I],I>m&&(m=I),f&=~_}if(f=m,f=nt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*gR(f/1960))-f,10<f){i.timeoutHandle=kh(Eo.bind(null,i,Rn,Pi),f);break}Eo(i,Rn,Pi);break;case 5:Eo(i,Rn,Pi);break;default:throw Error(t(329))}}}return bn(i,nt()),i.callbackNode===l?O_.bind(null,i):null}function xp(i,o){var l=ql;return i.current.memoizedState.isDehydrated&&(wo(i,o).flags|=256),i=id(i,o),i!==2&&(o=Rn,Rn=l,o!==null&&Ap(o)),i}function Ap(i){Rn===null?Rn=i:Rn.push.apply(Rn,i)}function yR(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var m=l[f],_=m.getSnapshot;m=m.value;try{if(!Ir(_(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ws(i,o){for(o&=~Ep,o&=~Jc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-dn(o),f=1<<l;i[l]=-1,o&=~f}}function M_(i){if((Ye&6)!==0)throw Error(t(327));Sa();var o=io(i,0);if((o&1)===0)return bn(i,nt()),null;var l=id(i,o);if(i.tag!==0&&l===2){var f=jn(i);f!==0&&(o=f,l=xp(i,f))}if(l===1)throw l=Gl,wo(i,0),ws(i,o),bn(i,nt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Eo(i,Rn,Pi),bn(i,nt()),null}function Cp(i,o){var l=Ye;Ye|=1;try{return i(o)}finally{Ye=l,Ye===0&&(Ia=nt()+500,kc&&hs())}}function _o(i){vs!==null&&vs.tag===0&&(Ye&6)===0&&Sa();var o=Ye;Ye|=1;var l=or.transition,f=Ge;try{if(or.transition=null,Ge=1,i)return i()}finally{Ge=f,or.transition=l,Ye=o,(Ye&6)===0&&hs()}}function Rp(){Wn=Ta.current,st(Ta)}function wo(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,qC(l)),Ct!==null)for(l=Ct.return;l!==null;){var f=l;switch(Vh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&bc();break;case 3:_a(),st(xn),st(en),Yh();break;case 5:Kh(f);break;case 4:_a();break;case 13:st(gt);break;case 19:st(gt);break;case 10:Bh(f.type._context);break;case 22:case 23:Rp()}l=l.return}if(zt=i,Ct=i=Es(i.current,null),Qt=Wn=o,Mt=0,Gl=null,Ep=Jc=vo=0,Rn=ql=null,mo!==null){for(o=0;o<mo.length;o++)if(l=mo[o],f=l.interleaved,f!==null){l.interleaved=null;var m=f.next,_=l.pending;if(_!==null){var I=_.next;_.next=m,f.next=I}l.pending=f}mo=null}return i}function L_(i,o){do{var l=Ct;try{if(zh(),$c.current=Hc,zc){for(var f=yt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}zc=!1}if(yo=0,$t=Ot=yt=null,Ul=!1,$l=0,wp.current=null,l===null||l.return===null){Mt=1,Gl=o,Ct=null;break}e:{var _=i,I=l.return,M=l,j=o;if(o=Qt,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Y=j,oe=M,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var he=a_(I);if(he!==null){he.flags&=-257,l_(he,I,M,_,o),he.mode&1&&o_(_,Y,o),o=he,j=Y;var we=o.updateQueue;if(we===null){var Ie=new Set;Ie.add(j),o.updateQueue=Ie}else we.add(j);break e}else{if((o&1)===0){o_(_,Y,o),bp();break e}j=Error(t(426))}}else if(dt&&M.mode&1){var It=a_(I);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),l_(It,I,M,_,o),Uh(wa(j,M));break e}}_=j=wa(j,M),Mt!==4&&(Mt=2),ql===null?ql=[_]:ql.push(_),_=I;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var G=i_(_,j,o);kv(_,G);break e;case 1:M=j;var z=_.type,q=_.stateNode;if((_.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ys===null||!ys.has(q)))){_.flags|=65536,o&=-o,_.lanes|=o;var ue=s_(_,M,o);kv(_,ue);break e}}_=_.return}while(_!==null)}j_(l)}catch(Se){o=Se,Ct===l&&l!==null&&(Ct=l=l.return);continue}break}while(!0)}function V_(){var i=Xc.current;return Xc.current=Hc,i===null?Hc:i}function bp(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||(vo&268435455)===0&&(Jc&268435455)===0||ws(zt,Qt)}function id(i,o){var l=Ye;Ye|=2;var f=V_();(zt!==i||Qt!==o)&&(Pi=null,wo(i,o));do try{vR();break}catch(m){L_(i,m)}while(!0);if(zh(),Ye=l,Xc.current=f,Ct!==null)throw Error(t(261));return zt=null,Qt=0,Mt}function vR(){for(;Ct!==null;)F_(Ct)}function _R(){for(;Ct!==null&&!tc();)F_(Ct)}function F_(i){var o=z_(i.alternate,i,Wn);i.memoizedProps=i.pendingProps,o===null?j_(i):Ct=o,wp.current=null}function j_(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=dR(l,o,Wn),l!==null){Ct=l;return}}else{if(l=fR(l,o),l!==null){l.flags&=32767,Ct=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Mt=6,Ct=null;return}}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=i}while(o!==null);Mt===0&&(Mt=5)}function Eo(i,o,l){var f=Ge,m=or.transition;try{or.transition=null,Ge=1,wR(i,o,l,f)}finally{or.transition=m,Ge=f}return null}function wR(i,o,l,f){do Sa();while(vs!==null);if((Ye&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=l.lanes|l.childLanes;if(tt(i,_),i===zt&&(Ct=zt=null,Qt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ed||(ed=!0,B_(Zn,function(){return Sa(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=or.transition,or.transition=null;var I=Ge;Ge=1;var M=Ye;Ye|=4,wp.current=null,pR(i,l),b_(l,i),UC(bh),as=!!Rh,bh=Rh=null,i.current=l,mR(l),fh(),Ye=M,Ge=I,or.transition=_}else i.current=l;if(ed&&(ed=!1,vs=i,td=m),_=i.pendingLanes,_===0&&(ys=null),ic(l.stateNode),bn(i,nt()),o!==null)for(f=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],f(m.value,{componentStack:m.stack,digest:m.digest});if(Zc)throw Zc=!1,i=Ip,Ip=null,i;return(td&1)!==0&&i.tag!==0&&Sa(),_=i.pendingLanes,(_&1)!==0?i===Sp?Kl++:(Kl=0,Sp=i):Kl=0,hs(),null}function Sa(){if(vs!==null){var i=ss(td),o=or.transition,l=Ge;try{if(or.transition=null,Ge=16>i?16:i,vs===null)var f=!1;else{if(i=vs,vs=null,td=0,(Ye&6)!==0)throw Error(t(331));var m=Ye;for(Ye|=4,_e=i.current;_e!==null;){var _=_e,I=_.child;if((_e.flags&16)!==0){var M=_.deletions;if(M!==null){for(var j=0;j<M.length;j++){var Y=M[j];for(_e=Y;_e!==null;){var oe=_e;switch(oe.tag){case 0:case 11:case 15:Hl(8,oe,_)}var ae=oe.child;if(ae!==null)ae.return=oe,_e=ae;else for(;_e!==null;){oe=_e;var se=oe.sibling,he=oe.return;if(S_(oe),oe===Y){_e=null;break}if(se!==null){se.return=he,_e=se;break}_e=he}}}var we=_.alternate;if(we!==null){var Ie=we.child;if(Ie!==null){we.child=null;do{var It=Ie.sibling;Ie.sibling=null,Ie=It}while(Ie!==null)}}_e=_}}if((_.subtreeFlags&2064)!==0&&I!==null)I.return=_,_e=I;else e:for(;_e!==null;){if(_=_e,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Hl(9,_,_.return)}var G=_.sibling;if(G!==null){G.return=_.return,_e=G;break e}_e=_.return}}var z=i.current;for(_e=z;_e!==null;){I=_e;var q=I.child;if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,_e=q;else e:for(I=z;_e!==null;){if(M=_e,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Yc(9,M)}}catch(Se){_t(M,M.return,Se)}if(M===I){_e=null;break e}var ue=M.sibling;if(ue!==null){ue.return=M.return,_e=ue;break e}_e=M.return}}if(Ye=m,hs(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(ro,i)}catch{}f=!0}return f}finally{Ge=l,or.transition=o}}return!1}function U_(i,o,l){o=wa(l,o),o=i_(i,o,1),i=ms(i,o,1),o=pn(),i!==null&&(rs(i,1,o),bn(i,o))}function _t(i,o,l){if(i.tag===3)U_(i,i,l);else for(;o!==null;){if(o.tag===3){U_(o,i,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ys===null||!ys.has(f))){i=wa(l,i),i=s_(o,i,1),o=ms(o,i,1),i=pn(),o!==null&&(rs(o,1,i),bn(o,i));break}}o=o.return}}function ER(i,o,l){var f=i.pingCache;f!==null&&f.delete(o),o=pn(),i.pingedLanes|=i.suspendedLanes&l,zt===i&&(Qt&l)===l&&(Mt===4||Mt===3&&(Qt&130023424)===Qt&&500>nt()-Tp?wo(i,0):Ep|=l),bn(i,o)}function $_(i,o){o===0&&((i.mode&1)===0?o=1:(o=qo,qo<<=1,(qo&130023424)===0&&(qo=4194304)));var l=pn();i=Ci(i,o),i!==null&&(rs(i,o,l),bn(i,l))}function TR(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),$_(i,l)}function IR(i,o){var l=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),$_(i,l)}var z_;z_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||xn.current)Cn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Cn=!1,cR(i,o,l);Cn=(i.flags&131072)!==0}else Cn=!1,dt&&(o.flags&1048576)!==0&&Ev(o,Dc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Kc(i,o),i=o.pendingProps;var m=fa(o,en.current);va(o,l),m=Zh(null,o,f,i,m,l);var _=ep();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,An(f)?(_=!0,Pc(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Gh(o),m.updater=Gc,o.stateNode=m,m._reactInternals=o,op(o,f,i,l),o=cp(null,o,f,!0,_,l)):(o.tag=0,dt&&_&&Lh(o),hn(null,o,m,l),o=o.child),o;case 16:f=o.elementType;e:{switch(Kc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=xR(f),i=xr(f,i),m){case 0:o=up(null,o,f,i,l);break e;case 1:o=p_(null,o,f,i,l);break e;case 11:o=u_(null,o,f,i,l);break e;case 14:o=c_(null,o,f,xr(f.type,i),l);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:xr(f,m),up(i,o,f,m,l);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:xr(f,m),p_(i,o,f,m,l);case 3:e:{if(m_(o),i===null)throw Error(t(387));f=o.pendingProps,_=o.memoizedState,m=_.element,Pv(i,o),jc(o,f,null,l);var I=o.memoizedState;if(f=I.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=wa(Error(t(423)),o),o=g_(i,o,f,l,m);break e}else if(f!==m){m=wa(Error(t(424)),o),o=g_(i,o,f,l,m);break e}else for(Bn=cs(o.stateNode.containerInfo.firstChild),zn=o,dt=!0,Sr=null,l=Rv(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ma(),f===m){o=bi(i,o,l);break e}hn(i,o,f,l)}o=o.child}return o;case 5:return Dv(o),i===null&&jh(o),f=o.type,m=o.pendingProps,_=i!==null?i.memoizedProps:null,I=m.children,Ph(f,m)?I=null:_!==null&&Ph(f,_)&&(o.flags|=32),h_(i,o),hn(i,o,I,l),o.child;case 6:return i===null&&jh(o),null;case 13:return y_(i,o,l);case 4:return qh(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=ga(o,null,f,l):hn(i,o,f,l),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:xr(f,m),u_(i,o,f,m,l);case 7:return hn(i,o,o.pendingProps,l),o.child;case 8:return hn(i,o,o.pendingProps.children,l),o.child;case 12:return hn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,_=o.memoizedProps,I=m.value,rt(Lc,f._currentValue),f._currentValue=I,_!==null)if(Ir(_.value,I)){if(_.children===m.children&&!xn.current){o=bi(i,o,l);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var M=_.dependencies;if(M!==null){I=_.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(_.tag===1){j=Ri(-1,l&-l),j.tag=2;var Y=_.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?j.next=j:(j.next=oe.next,oe.next=j),Y.pending=j}}_.lanes|=l,j=_.alternate,j!==null&&(j.lanes|=l),Wh(_.return,l,o),M.lanes|=l;break}j=j.next}}else if(_.tag===10)I=_.type===o.type?null:_.child;else if(_.tag===18){if(I=_.return,I===null)throw Error(t(341));I.lanes|=l,M=I.alternate,M!==null&&(M.lanes|=l),Wh(I,l,o),I=_.sibling}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===o){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}hn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,va(o,l),m=ir(m),f=f(m),o.flags|=1,hn(i,o,f,l),o.child;case 14:return f=o.type,m=xr(f,o.pendingProps),m=xr(f.type,m),c_(i,o,f,m,l);case 15:return d_(i,o,o.type,o.pendingProps,l);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:xr(f,m),Kc(i,o),o.tag=1,An(f)?(i=!0,Pc(o)):i=!1,va(o,l),n_(o,f,m),op(o,f,m,l),cp(null,o,f,!0,i,l);case 19:return __(i,o,l);case 22:return f_(i,o,l)}throw Error(t(156,o.tag))};function B_(i,o){return Ho(i,o)}function SR(i,o,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(i,o,l,f){return new SR(i,o,l,f)}function Pp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xR(i){if(typeof i=="function")return Pp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===xe)return 14}return 2}function Es(i,o){var l=i.alternate;return l===null?(l=ar(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function sd(i,o,l,f,m,_){var I=2;if(f=i,typeof i=="function")Pp(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case N:return To(l.children,m,_,o);case C:I=8,m|=8;break;case k:return i=ar(12,l,o,m|2),i.elementType=k,i.lanes=_,i;case D:return i=ar(13,l,o,m),i.elementType=D,i.lanes=_,i;case Pe:return i=ar(19,l,o,m),i.elementType=Pe,i.lanes=_,i;case me:return od(l,m,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:I=10;break e;case V:I=9;break e;case U:I=11;break e;case xe:I=14;break e;case ce:I=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=ar(I,l,o,m),o.elementType=i,o.type=f,o.lanes=_,o}function To(i,o,l,f){return i=ar(7,i,f,o),i.lanes=l,i}function od(i,o,l,f){return i=ar(22,i,f,o),i.elementType=me,i.lanes=l,i.stateNode={isHidden:!1},i}function kp(i,o,l){return i=ar(6,i,null,o),i.lanes=l,i}function Np(i,o,l){return o=ar(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function AR(i,o,l,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ns(0),this.expirationTimes=ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Dp(i,o,l,f,m,_,I,M,j){return i=new AR(i,o,l,M,j),o===1?(o=1,_===!0&&(o|=8)):o=0,_=ar(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(_),i}function CR(i,o,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:f==null?null:""+f,children:i,containerInfo:o,implementation:l}}function W_(i){if(!i)return fs;i=i._reactInternals;e:{if(gr(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(An(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(An(l))return vv(i,l,o)}return o}function H_(i,o,l,f,m,_,I,M,j){return i=Dp(l,f,!0,i,m,_,I,M,j),i.context=W_(null),l=i.current,f=pn(),m=_s(l),_=Ri(f,m),_.callback=o??null,ms(l,_,m),i.current.lanes=m,rs(i,m,f),bn(i,f),i}function ad(i,o,l,f){var m=o.current,_=pn(),I=_s(m);return l=W_(l),o.context===null?o.context=l:o.pendingContext=l,o=Ri(_,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=ms(m,o,I),i!==null&&(Rr(i,m,I,_),Fc(i,m,I)),I}function ld(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function G_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Op(i,o){G_(i,o),(i=i.alternate)&&G_(i,o)}function RR(){return null}var q_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Mp(i){this._internalRoot=i}ud.prototype.render=Mp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));ad(i,o,null,null)},ud.prototype.unmount=Mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;_o(function(){ad(null,i,null,null)}),o[Ii]=null}};function ud(i){this._internalRoot=i}ud.prototype.unstable_scheduleHydration=function(i){if(i){var o=uc();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Kr.length&&o!==0&&o<Kr[l].priority;l++);Kr.splice(l,0,i),l===0&&fc(i)}};function Lp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function cd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function K_(){}function bR(i,o,l,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var Y=ld(I);_.call(Y)}}var I=H_(o,f,i,0,null,!1,!1,"",K_);return i._reactRootContainer=I,i[Ii]=I.current,Nl(i.nodeType===8?i.parentNode:i),_o(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var M=f;f=function(){var Y=ld(j);M.call(Y)}}var j=Dp(i,0,!1,null,null,!1,!1,"",K_);return i._reactRootContainer=j,i[Ii]=j.current,Nl(i.nodeType===8?i.parentNode:i),_o(function(){ad(o,j,l,f)}),j}function dd(i,o,l,f,m){var _=l._reactRootContainer;if(_){var I=_;if(typeof m=="function"){var M=m;m=function(){var j=ld(I);M.call(j)}}ad(o,I,i,m)}else I=bR(l,o,i,m,f);return ld(I)}ac=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=ts(o.pendingLanes);l!==0&&(is(o,l|1),bn(o,nt()),(Ye&6)===0&&(Ia=nt()+500,hs()))}break;case 13:_o(function(){var f=Ci(i,1);if(f!==null){var m=pn();Rr(f,i,1,m)}}),Op(i,1)}},Ko=function(i){if(i.tag===13){var o=Ci(i,134217728);if(o!==null){var l=pn();Rr(o,i,134217728,l)}Op(i,134217728)}},lc=function(i){if(i.tag===13){var o=_s(i),l=Ci(i,o);if(l!==null){var f=pn();Rr(l,i,o,f)}Op(i,o)}},uc=function(){return Ge},cc=function(i,o){var l=Ge;try{return Ge=i,o()}finally{Ge=l}},Zi=function(i,o,l){switch(o){case"input":if(Mn(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==i&&f.form===i.form){var m=Rc(f);if(!m)throw Error(t(90));Ht(f),Mn(f,m)}}}break;case"textarea":Yi(i,l);break;case"select":o=l.value,o!=null&&hr(i,!!l.multiple,o,!1)}},ut=Cp,kt=_o;var PR={usingClientEntryPoint:!1,Events:[Ml,ca,Rc,ke,lt,Cp]},Ql={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kR={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=gl(i),i===null?null:i.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||RR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{ro=fd.inject(kR),Fn=fd}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PR,Pn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(o))throw Error(t(200));return CR(i,o,null,l)},Pn.createRoot=function(i,o){if(!Lp(i))throw Error(t(299));var l=!1,f="",m=q_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Dp(i,1,!1,null,null,l,!1,f,m),i[Ii]=o.current,Nl(i.nodeType===8?i.parentNode:i),new Mp(o)},Pn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=gl(o),i=i===null?null:i.stateNode,i},Pn.flushSync=function(i){return _o(i)},Pn.hydrate=function(i,o,l){if(!cd(o))throw Error(t(200));return dd(null,i,o,!0,l)},Pn.hydrateRoot=function(i,o,l){if(!Lp(i))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,m=!1,_="",I=q_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),o=H_(o,null,i,1,l??null,m,!1,_,I),i[Ii]=o.current,Nl(i),f)for(i=0;i<f.length;i++)l=f[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new ud(o)},Pn.render=function(i,o,l){if(!cd(o))throw Error(t(200));return dd(null,i,o,!1,l)},Pn.unmountComponentAtNode=function(i){if(!cd(i))throw Error(t(40));return i._reactRootContainer?(_o(function(){dd(null,null,i,!1,function(){i._reactRootContainer=null,i[Ii]=null})}),!0):!1},Pn.unstable_batchedUpdates=Cp,Pn.unstable_renderSubtreeIntoContainer=function(i,o,l,f){if(!cd(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return dd(i,o,l,!1,f)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var nw;function OE(){if(nw)return jp.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jp.exports=jR(),jp.exports}var rw;function UR(){if(rw)return hd;rw=1;var n=OE();return hd.createRoot=n.createRoot,hd.hydrateRoot=n.hydrateRoot,hd}var $R=UR();const zR={isAuthenticated:!1,isLoading:!0,user:null,error:null,login:async()=>{},loginWithGoogle:async()=>{},signup:async()=>{},logout:async()=>{},updateProfile:async()=>{},deleteProfile:async()=>{}},ME=T.createContext(zR),BR=()=>{};var iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},WR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,y=a>>2,g=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,S=p&63;h||(S=64,u||(E=64)),r.push(t[y],t[g],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(LE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const g=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||g==null)throw new HR;const E=a<<2|d>>4;if(r.push(E),p!==64){const S=d<<4&240|p>>2;if(r.push(S),g!==64){const A=p<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GR=function(n){const e=LE(n);return VE.encodeByteArray(e,!0)},Gd=function(n){return GR(n).replace(/\./g,"")},FE=function(n){try{return VE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=()=>qR().__FIREBASE_DEFAULTS__,QR=()=>{if(typeof process>"u"||typeof iw>"u")return;const n=iw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&FE(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return BR()||KR()||QR()||YR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jE=n=>{var e,t;return(t=(e=Sf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},XR=n=>{const e=jE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},UE=()=>{var n;return(n=Sf())===null||n===void 0?void 0:n.config},$E=n=>{var e;return(e=Sf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gd(JSON.stringify(t)),Gd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function tb(){var n;const e=(n=Sf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ib(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sb(){return!tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BE(){try{return typeof indexedDB=="object"}catch{return!1}}function WE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function ob(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="FirebaseError";class jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ab,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?lb(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new jr(s,d,r)}}function lb(n,e){return n.replace(ub,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ub=/\{\$([^}]+)}/g;function cb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ms(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(sw(a)&&sw(u)){if(!Ms(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function sw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function tu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function db(n,e){const t=new fb(n,e);return t.subscribe.bind(t)}class fb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hb(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=zp),s.error===void 0&&(s.error=zp),s.complete===void 0&&(s.complete=zp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=1e3,mb=2,gb=4*60*60*1e3,yb=.5;function ow(n,e=pb,t=mb){const r=e*Math.pow(t,n),s=Math.round(yb*r*(Math.random()-.5)*2);return Math.min(gb,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n){return n&&n._delegate?n._delegate:n}class kr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new JR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wb(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_b(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _b(n){return n===So?void 0:n}function wb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const Tb={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Ib=Be.INFO,Sb={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},xb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Sb[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xf{constructor(e){this.name=e,this._logLevel=Ib,this._logHandler=xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Ab=(n,e)=>e.some(t=>n instanceof t);let aw,lw;function Cb(){return aw||(aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rb(){return lw||(lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HE=new WeakMap,_m=new WeakMap,GE=new WeakMap,Bp=new WeakMap,sg=new WeakMap;function bb(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ks(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&HE.set(t,n)}).catch(()=>{}),sg.set(e,n),e}function Pb(n){if(_m.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});_m.set(n,e)}let wm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _m.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kb(n){wm=n(wm)}function Nb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Wp(this),e,...t);return GE.set(r,e.sort?e.sort():[e]),ks(r)}:Rb().includes(n)?function(...e){return n.apply(Wp(this),e),ks(HE.get(this))}:function(...e){return ks(n.apply(Wp(this),e))}}function Db(n){return typeof n=="function"?Nb(n):(n instanceof IDBTransaction&&Pb(n),Ab(n,Cb())?new Proxy(n,wm):n)}function ks(n){if(n instanceof IDBRequest)return bb(n);if(Bp.has(n))return Bp.get(n);const e=Db(n);return e!==n&&(Bp.set(n,e),sg.set(e,n)),e}const Wp=n=>sg.get(n);function qE(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=ks(u);return r&&u.addEventListener("upgradeneeded",h=>{r(ks(u.result),h.oldVersion,h.newVersion,ks(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Ob=["get","getKey","getAll","getAllKeys","count"],Mb=["put","add","delete","clear"],Hp=new Map;function uw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hp.get(e))return Hp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Mb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ob.includes(t)))return;const a=async function(u,...d){const h=this.transaction(u,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&h.done]))[0]};return Hp.set(e,a),a}kb(n=>({...n,get:(e,t,r)=>uw(e,t)||n.get(e,t,r),has:(e,t)=>!!uw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Vb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Vb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Em="@firebase/app",cw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new xf("@firebase/app"),Fb="@firebase/app-compat",jb="@firebase/analytics-compat",Ub="@firebase/analytics",$b="@firebase/app-check-compat",zb="@firebase/app-check",Bb="@firebase/auth",Wb="@firebase/auth-compat",Hb="@firebase/database",Gb="@firebase/data-connect",qb="@firebase/database-compat",Kb="@firebase/functions",Qb="@firebase/functions-compat",Yb="@firebase/installations",Xb="@firebase/installations-compat",Jb="@firebase/messaging",Zb="@firebase/messaging-compat",eP="@firebase/performance",tP="@firebase/performance-compat",nP="@firebase/remote-config",rP="@firebase/remote-config-compat",iP="@firebase/storage",sP="@firebase/storage-compat",oP="@firebase/firestore",aP="@firebase/vertexai",lP="@firebase/firestore-compat",uP="firebase",cP="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="[DEFAULT]",dP={[Em]:"fire-core",[Fb]:"fire-core-compat",[Ub]:"fire-analytics",[jb]:"fire-analytics-compat",[zb]:"fire-app-check",[$b]:"fire-app-check-compat",[Bb]:"fire-auth",[Wb]:"fire-auth-compat",[Hb]:"fire-rtdb",[Gb]:"fire-data-connect",[qb]:"fire-rtdb-compat",[Kb]:"fire-fn",[Qb]:"fire-fn-compat",[Yb]:"fire-iid",[Xb]:"fire-iid-compat",[Jb]:"fire-fcm",[Zb]:"fire-fcm-compat",[eP]:"fire-perf",[tP]:"fire-perf-compat",[nP]:"fire-rc",[rP]:"fire-rc-compat",[iP]:"fire-gcs",[sP]:"fire-gcs-compat",[oP]:"fire-fst",[lP]:"fire-fst-compat",[aP]:"fire-vertex","fire-js":"fire-js",[uP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Map,fP=new Map,Im=new Map;function dw(n,e){try{n.container.addComponent(e)}catch(t){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ui(n){const e=n.name;if(Im.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,n);for(const t of qd.values())dw(t,n);for(const t of fP.values())dw(t,n);return!0}function Vo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Lo("app","Firebase",hP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=cP;function KE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ns.create("bad-app-name",{appName:String(s)});if(t||(t=UE()),!t)throw Ns.create("no-options");const a=qd.get(s);if(a){if(Ms(t,a.options)&&Ms(r,a.config))return a;throw Ns.create("duplicate-app",{appName:s})}const u=new Eb(s);for(const h of Im.values())u.addComponent(h);const d=new pP(t,r,u);return qd.set(s,d),d}function og(n=Tm){const e=qd.get(n);if(!e&&n===Tm&&UE())return KE();if(!e)throw Ns.create("no-app",{appName:n});return e}function lr(n,e,t){var r;let s=(r=dP[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}ui(new kr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="firebase-heartbeat-database",gP=1,mu="firebase-heartbeat-store";let Gp=null;function QE(){return Gp||(Gp=qE(mP,gP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ns.create("idb-open",{originalErrorMessage:n.message})})),Gp}async function yP(n){try{const t=(await QE()).transaction(mu),r=await t.objectStore(mu).get(YE(n));return await t.done,r}catch(e){if(e instanceof jr)ji.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(t.message)}}}async function fw(n,e){try{const r=(await QE()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,YE(n)),await r.done}catch(t){if(t instanceof jr)ji.warn(t.message);else{const r=Ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ji.warn(r.message)}}}function YE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=1024,_P=30;class wP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>_P){const u=IP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hw(),{heartbeatsToSend:r,unsentEntries:s}=EP(this._heartbeatsCache.heartbeats),a=Gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ji.warn(t),""}}}function hw(){return new Date().toISOString().substring(0,10)}function EP(n,e=vP){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),pw(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),pw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class TP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BE()?WE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pw(n){return Gd(JSON.stringify({version:2,heartbeats:n})).length}function IP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n){ui(new kr("platform-logger",e=>new Lb(e),"PRIVATE")),ui(new kr("heartbeat",e=>new wP(e),"PRIVATE")),lr(Em,cw,n),lr(Em,cw,"esm2017"),lr("fire-js","")}SP("");const XE="@firebase/installations",ag="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=1e4,ZE=`w:${ag}`,eT="FIS_v2",xP="https://firebaseinstallations.googleapis.com/v1",AP=60*60*1e3,CP="installations",RP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ro=new Lo(CP,RP,bP);function tT(n){return n instanceof jr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT({projectId:n}){return`${xP}/projects/${n}/installations`}function rT(n){return{token:n.token,requestStatus:2,expiresIn:kP(n.expiresIn),creationTime:Date.now()}}async function iT(n,e){const r=(await e.json()).error;return Ro.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function PP(n,{refreshToken:e}){const t=sT(n);return t.append("Authorization",NP(e)),t}async function oT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function kP(n){return Number(n.replace("s","000"))}function NP(n){return`${eT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=nT(n),s=sT(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={fid:t,authVersion:eT,appId:n.appId,sdkVersion:ZE},d={method:"POST",headers:s,body:JSON.stringify(u)},h=await oT(()=>fetch(r,d));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:rT(p.authToken)}}else throw await iT("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=/^[cdef][\w-]{21}$/,Sm="";function LP(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=VP(n);return MP.test(t)?t:Sm}catch{return Sm}}function VP(n){return OP(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;function uT(n,e){const t=Af(n);cT(t,e),FP(t,e)}function cT(n,e){const t=lT.get(n);if(t)for(const r of t)r(e)}function FP(n,e){const t=jP();t&&t.postMessage({key:n,fid:e}),UP()}let xo=null;function jP(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=n=>{cT(n.data.key,n.data.fid)}),xo}function UP(){lT.size===0&&xo&&(xo.close(),xo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebase-installations-database",zP=1,bo="firebase-installations-store";let qp=null;function lg(){return qp||(qp=qE($P,zP,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(bo)}}})),qp}async function Kd(n,e){const t=Af(n),s=(await lg()).transaction(bo,"readwrite"),a=s.objectStore(bo),u=await a.get(t);return await a.put(e,t),await s.done,(!u||u.fid!==e.fid)&&uT(n,e.fid),e}async function dT(n){const e=Af(n),r=(await lg()).transaction(bo,"readwrite");await r.objectStore(bo).delete(e),await r.done}async function Cf(n,e){const t=Af(n),s=(await lg()).transaction(bo,"readwrite"),a=s.objectStore(bo),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await s.done,d&&(!u||u.fid!==d.fid)&&uT(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(n){let e;const t=await Cf(n.appConfig,r=>{const s=BP(r),a=WP(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===Sm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function BP(n){const e=n||{fid:LP(),registrationStatus:0};return fT(e)}function WP(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ro.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=HP(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GP(n)}:{installationEntry:e}}async function HP(n,e){try{const t=await DP(n,e);return Kd(n.appConfig,t)}catch(t){throw tT(t)&&t.customData.serverCode===409?await dT(n.appConfig):await Kd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function GP(n){let e=await mw(n.appConfig);for(;e.registrationStatus===1;)await aT(100),e=await mw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await ug(n);return r||t}return e}function mw(n){return Cf(n,e=>{if(!e)throw Ro.create("installation-not-found");return fT(e)})}function fT(n){return qP(n)?{fid:n.fid,registrationStatus:0}:n}function qP(n){return n.registrationStatus===1&&n.registrationTime+JE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP({appConfig:n,heartbeatServiceProvider:e},t){const r=QP(n,t),s=PP(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={installation:{sdkVersion:ZE,appId:n.appId}},d={method:"POST",headers:s,body:JSON.stringify(u)},h=await oT(()=>fetch(r,d));if(h.ok){const p=await h.json();return rT(p)}else throw await iT("Generate Auth Token",h)}function QP(n,{fid:e}){return`${nT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(n,e=!1){let t;const r=await Cf(n.appConfig,a=>{if(!hT(a))throw Ro.create("not-registered");const u=a.authToken;if(!e&&JP(u))return a;if(u.requestStatus===1)return t=YP(n,e),a;{if(!navigator.onLine)throw Ro.create("app-offline");const d=e1(a);return t=XP(n,d),d}});return t?await t:r.authToken}async function YP(n,e){let t=await gw(n.appConfig);for(;t.authToken.requestStatus===1;)await aT(100),t=await gw(n.appConfig);const r=t.authToken;return r.requestStatus===0?cg(n,e):r}function gw(n){return Cf(n,e=>{if(!hT(e))throw Ro.create("not-registered");const t=e.authToken;return t1(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function XP(n,e){try{const t=await KP(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Kd(n.appConfig,r),t}catch(t){if(tT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await dT(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Kd(n.appConfig,r)}throw t}}function hT(n){return n!==void 0&&n.registrationStatus===2}function JP(n){return n.requestStatus===2&&!ZP(n)}function ZP(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+AP}function e1(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function t1(n){return n.requestStatus===1&&n.requestTime+JE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(n){const e=n,{installationEntry:t,registrationPromise:r}=await ug(e);return r?r.catch(console.error):cg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(n,e=!1){const t=n;return await i1(t),(await cg(t,e)).token}async function i1(n){const{registrationPromise:e}=await ug(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n){if(!n||!n.options)throw Kp("App Configuration");if(!n.name)throw Kp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Kp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Kp(n){return Ro.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="installations",o1="installations-internal",a1=n=>{const e=n.getProvider("app").getImmediate(),t=s1(e),r=Vo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},l1=n=>{const e=n.getProvider("app").getImmediate(),t=Vo(e,pT).getImmediate();return{getId:()=>n1(t),getToken:s=>r1(t,s)}};function u1(){ui(new kr(pT,a1,"PUBLIC")),ui(new kr(o1,l1,"PRIVATE"))}u1();lr(XE,ag);lr(XE,ag,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="analytics",c1="firebase_id",d1="origin",f1=60*1e3,h1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new xf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qn=new Lo("analytics","Analytics",p1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(n){if(!n.startsWith(dg)){const e=Qn.create("invalid-gtag-resource",{gtagURL:n});return On.warn(e.message),""}return n}function mT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function g1(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function y1(n,e){const t=g1("firebase-js-sdk-policy",{createScriptURL:m1}),r=document.createElement("script"),s=`${dg}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function v1(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function _1(n,e,t,r,s,a){const u=r[s];try{if(u)await e[u];else{const h=(await mT(t)).find(p=>p.measurementId===s);h&&await e[h.appId]}}catch(d){On.error(d)}n("config",s,a)}async function w1(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const d=await mT(t);for(const h of u){const p=d.find(g=>g.measurementId===h),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){On.error(a)}}function E1(n,e,t,r){async function s(a,...u){try{if(a==="event"){const[d,h]=u;await w1(n,e,t,d,h)}else if(a==="config"){const[d,h]=u;await _1(n,e,t,r,d,h)}else if(a==="consent"){const[d,h]=u;n("consent",d,h)}else if(a==="get"){const[d,h,p]=u;n("get",d,h,p)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){On.error(d)}}return s}function T1(n,e,t,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=E1(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function I1(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(dg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=30,x1=1e3;class A1{constructor(e={},t=x1){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gT=new A1;function C1(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function R1(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:C1(r)},a=h1.replace("{app-id}",t),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let d="";try{const h=await u.json();!((e=h.error)===null||e===void 0)&&e.message&&(d=h.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function b1(n,e=gT,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw Qn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Qn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new N1;return setTimeout(async()=>{d.abort()},f1),yT({appId:r,apiKey:s,measurementId:a},u,d,e)}async function yT(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=gT){var a;const{appId:u,measurementId:d}=n;try{await P1(r,e)}catch(h){if(d)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:u,measurementId:d};throw h}try{const h=await R1(n);return s.deleteThrottleMetadata(u),h}catch(h){const p=h;if(!k1(p)){if(s.deleteThrottleMetadata(u),d)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:d};throw h}const y=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?ow(t,s.intervalMillis,S1):ow(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return s.setThrottleMetadata(u,g),On.debug(`Calling attemptFetch again in ${y} millis`),yT(n,g,r,s)}}function P1(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(Qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k1(n){if(!(n instanceof jr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class N1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function D1(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(){if(BE())try{await WE()}catch(n){return On.warn(Qn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return On.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function M1(n,e,t,r,s,a,u){var d;const h=b1(n);h.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>On.error(S)),e.push(h);const p=O1().then(S=>{if(S)return r.getId()}),[y,g]=await Promise.all([h,p]);I1(a)||y1(a,y.measurementId),s("js",new Date);const E=(d=u==null?void 0:u.config)!==null&&d!==void 0?d:{};return E[d1]="firebase",E.update=!0,g!=null&&(E[c1]=g),s("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.app=e}_delete(){return delete au[this.app.options.appId],Promise.resolve()}}let au={},yw=[];const vw={};let Qp="dataLayer",V1="gtag",_w,vT,ww=!1;function F1(){const n=[];if(zE()&&n.push("This is a browser extension environment."),ob()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Qn.create("invalid-analytics-context",{errorInfo:e});On.warn(t.message)}}function j1(n,e,t){F1();const r=n.options.appId;if(!r)throw Qn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qn.create("no-api-key");if(au[r]!=null)throw Qn.create("already-exists",{id:r});if(!ww){v1(Qp);const{wrappedGtag:a,gtagCore:u}=T1(au,yw,vw,Qp,V1);vT=a,_w=u,ww=!0}return au[r]=M1(n,yw,vw,e,_w,Qp,t),new L1(n)}function U1(n=og()){n=wt(n);const e=Vo(n,Qd);return e.isInitialized()?e.getImmediate():$1(n)}function $1(n,e={}){const t=Vo(n,Qd);if(t.isInitialized()){const s=t.getImmediate();if(Ms(e,t.getOptions()))return s;throw Qn.create("already-initialized")}return t.initialize({options:e})}function z1(n,e,t,r){n=wt(n),D1(vT,au[n.app.options.appId],e,t,r).catch(s=>On.error(s))}const Ew="@firebase/analytics",Tw="0.10.12";function B1(){ui(new kr(Qd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return j1(r,s,t)},"PUBLIC")),ui(new kr("analytics-internal",n,"PRIVATE")),lr(Ew,Tw),lr(Ew,Tw,"esm2017");function n(e){try{const t=e.getProvider(Qd).getImmediate();return{logEvent:(r,s,a)=>z1(t,r,s,a)}}catch(t){throw Qn.create("interop-component-reg-failed",{reason:t})}}}B1();var ii=function(){return ii=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ii.apply(this,arguments)};function Pu(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function W1(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H1=_T,wT=new Lo("auth","Firebase",_T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new xf("@firebase/auth");function G1(n,...e){Yd.logLevel<=Be.WARN&&Yd.warn(`Auth (${Za}): ${n}`,...e)}function Pd(n,...e){Yd.logLevel<=Be.ERROR&&Yd.error(`Auth (${Za}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw hg(n,...e)}function Pr(n,...e){return hg(n,...e)}function fg(n,e,t){const r=Object.assign(Object.assign({},H1()),{[e]:t});return new Lo("auth","Firebase",r).create(e,{appName:n.name})}function Mi(n){return fg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q1(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(n,"argument-error"),fg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return wT.create(n,...e)}function De(n,e,...t){if(!n)throw hg(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pd(e),new Error(e)}function Ui(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function K1(){return Iw()==="http:"||Iw()==="https:"}function Iw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K1()||zE()||"connection"in navigator)?navigator.onLine:!0}function Y1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ui(t>e,"Short delay should be less than long delay!"),this.isMobile=eb()||rb()}get(){return Q1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(n,e){Ui(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z1=new ku(3e4,6e4);function Ws(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qi(n,e,t,r,s={}){return TT(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=bu(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return nb()||(p.referrerPolicy="no-referrer"),ET.fetch()(await IT(n,n.config.apiHost,t,d),p)})}async function TT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},X1),e);try{const s=new tk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw pd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw pd(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw pd(n,"user-disabled",u);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw fg(n,y,p);dr(n,y)}}catch(s){if(s instanceof jr)throw s;dr(n,"network-request-failed",{message:String(s)})}}async function Nu(n,e,t,r,s={}){const a=await qi(n,e,t,r,s);return"mfaPendingCredential"in a&&dr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function IT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?pg(n.config,s):`${n.config.apiScheme}://${s}`;return J1.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function ek(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),Z1.get())})}}function pd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Pr(n,e,r);return s.customData._tokenResponse=t,s}function Sw(n){return n!==void 0&&n.enterprise!==void 0}class nk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ek(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rk(n,e){return qi(n,"GET","/v2/recaptchaConfig",Ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(n,e){return qi(n,"POST","/v1/accounts:delete",e)}async function Xd(n,e){return qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sk(n,e=!1){const t=wt(n),r=await t.getIdToken(e),s=Rf(r);De(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:lu(Yp(s.auth_time)),issuedAtTime:lu(Yp(s.iat)),expirationTime:lu(Yp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Yp(n){return Number(n)*1e3}function Rf(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{const s=FE(t);return s?JSON.parse(s):(Pd("Failed to decode base64 JWT payload"),null)}catch(s){return Pd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xw(n){const e=Rf(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof jr&&ok(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ok({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Ba(n,Xd(t,{idToken:r}));De(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ST(a.providerUserInfo):[],d=uk(n.providerData,u),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),y=h?p:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Am(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,g)}async function lk(n){const e=wt(n);await Jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ST(n){return n.map(e=>{var{providerId:t}=e,r=Pu(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(n,e){const t=await TT(n,{},async()=>{const r=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await IT(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",ET.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dk(n,e){return qi(n,"POST","/v2/accounts:revokeToken",Ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=xw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await ck(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Oa;return r&&(De(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(De(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Pu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ak(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Am(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ba(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sk(this,e)}reload(){return lk(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await Ba(this,ik(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,h,p,y;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,b=(d=t.tenantId)!==null&&d!==void 0?d:void 0,R=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,O=(p=t.createdAt)!==null&&p!==void 0?p:void 0,B=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:K,isAnonymous:Z,providerData:ne,stsTokenManager:N}=t;De($&&N,e,"internal-error");const C=Oa.fromJSON(this.name,N);De(typeof $=="string",e,"internal-error"),Is(g,e.name),Is(E,e.name),De(typeof K=="boolean",e,"internal-error"),De(typeof Z=="boolean",e,"internal-error"),Is(S,e.name),Is(A,e.name),Is(b,e.name),Is(R,e.name),Is(O,e.name),Is(B,e.name);const k=new br({uid:$,auth:e,email:E,emailVerified:K,displayName:g,isAnonymous:Z,photoURL:A,phoneNumber:S,tenantId:b,stsTokenManager:C,createdAt:O,lastLoginAt:B});return ne&&Array.isArray(ne)&&(k.providerData=ne.map(L=>Object.assign({},L))),R&&(k._redirectEventId=R),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new Oa;s.updateFromServerResponse(t);const a=new br({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];De(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?ST(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Oa;d.updateFromIdToken(r);const h=new br({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Am(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;function Oi(n){Ui(n instanceof Function,"Expected a class definition");let e=Aw.get(n);return e?(Ui(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Aw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xT.type="NONE";const Cw=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ma{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=kd(this.userKey,s.apiKey,a),this.fullPersistenceKey=kd("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xd(this.auth,{idToken:e}).catch(()=>{});return t?br._fromGetAccountInfoResponse(this.auth,t,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ma(Oi(Cw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Oi(Cw);const u=kd(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(u);if(y){let g;if(typeof y=="string"){const E=await Xd(e,{idToken:y}).catch(()=>{});if(!E)break;g=await br._fromGetAccountInfoResponse(e,E,y)}else g=br._fromJSON(e,y);p!==a&&(d=g),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ma(a,e,r):(a=h[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Ma(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kT(e))return"Blackberry";if(NT(e))return"Webos";if(CT(e))return"Safari";if((e.includes("chrome/")||RT(e))&&!e.includes("edge/"))return"Chrome";if(PT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AT(n=ln()){return/firefox\//i.test(n)}function CT(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RT(n=ln()){return/crios\//i.test(n)}function bT(n=ln()){return/iemobile/i.test(n)}function PT(n=ln()){return/android/i.test(n)}function kT(n=ln()){return/blackberry/i.test(n)}function NT(n=ln()){return/webos/i.test(n)}function mg(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fk(n=ln()){var e;return mg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hk(){return ib()&&document.documentMode===10}function DT(n=ln()){return mg(n)||PT(n)||NT(n)||kT(n)||/windows phone/i.test(n)||bT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n,e=[]){let t;switch(n){case"Browser":t=Rw(ln());break;case"Worker":t=`${Rw(ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Za}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const h=e(a);u(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(n,e={}){return qi(n,"GET","/v2/passwordPolicy",Ws(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=6;class yk{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:gk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bw(this),this.idTokenSubscription=new bw(this),this.beforeStateQueue=new pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xd(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Mi(this));const t=e?wt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mk(this),t=new yk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await dk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&G1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hs(n){return wt(n)}class bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=db(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _k(n){bf=n}function MT(n){return bf.loadJS(n)}function wk(){return bf.recaptchaEnterpriseScript}function Ek(){return bf.gapiScript}function Tk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Ik{constructor(){this.enterprise=new Sk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Sk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xk="recaptcha-enterprise",LT="NO_RECAPTCHA";class Ak{constructor(e){this.type=xk,this.auth=Hs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{rk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new nk(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(h=>{d(h)})})}function s(a,u,d){const h=window.grecaptcha;Sw(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(LT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ik().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&Sw(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=wk();h.length!==0&&(h+=d),MT(h).then(()=>{s(d,a,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function Pw(n,e,t,r=!1,s=!1){const a=new Ak(n);let u;if(s)u=LT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Cm(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Pw(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Pw(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n,e){const t=Vo(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Ms(a,e??{}))return s;dr(s,"already-initialized")}return t.initialize({options:e})}function Rk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Oi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bk(n,e,t){const r=Hs(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=VT(e),{host:u,port:d}=Pk(e),h=d===null?"":`:${d}`,p={url:`${a}//${u}${h}/`},y=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Ms(p,r.config.emulator)&&Ms(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,kk()}function VT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Pk(n){const e=VT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:kw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:kw(u)}}}function kw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function Nk(n,e){return qi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(n,e){return Nu(n,"POST","/v1/accounts:signInWithPassword",Ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e){return Nu(n,"POST","/v1/accounts:signInWithEmailLink",Ws(n,e))}async function Mk(n,e){return Nu(n,"POST","/v1/accounts:signInWithEmailLink",Ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends gg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new gu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new gu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,t,"signInWithPassword",Dk);case"emailLink":return Ok(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,r,"signUpPassword",Nk);case"emailLink":return Mk(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(n,e){return Nu(n,"POST","/v1/accounts:signInWithIdp",Ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="http://localhost";class Po extends gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Pu(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Po(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return La(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,La(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,La(e,t)}buildRequest(){const e={requestUri:Lk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fk(n){const e=eu(tu(n)).link,t=e?eu(tu(e)).deep_link_id:null,r=eu(tu(n)).deep_link_id;return(r?eu(tu(r)).link:null)||r||t||e||n}class yg{constructor(e){var t,r,s,a,u,d;const h=eu(tu(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,g=Vk((s=h.mode)!==null&&s!==void 0?s:null);De(p&&y&&g,"argument-error"),this.apiKey=p,this.operation=g,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Fk(e);try{return new yg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(e,t){return gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=yg.parseLink(t);return De(r,"argument-error"),gu._fromEmailAndCode(e,r.code,r.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Du{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Po._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ni.credential(t,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Du{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Du{constructor(){super("twitter.com")}static credential(e,t){return Po._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e){return Nu(n,"POST","/v1/accounts:signUp",Ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await br._fromIdTokenResponse(e,r,s),u=Nw(r);return new ko({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Nw(r);return new ko({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Nw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends jr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Zd(e,t,r,s)}}function FT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zd._fromErrorAndOperation(n,a,e,r):a})}async function Uk(n,e,t=!1){const r=await Ba(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ko._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(n,e,t=!1){const{auth:r}=n;if(qn(r.app))return Promise.reject(Mi(r));const s="reauthenticate";try{const a=await Ba(n,FT(r,s,e,n),t);De(a.idToken,r,"internal-error");const u=Rf(a.idToken);De(u,r,"internal-error");const{sub:d}=u;return De(n.uid===d,r,"user-mismatch"),ko._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(n,e,t=!1){if(qn(n.app))return Promise.reject(Mi(n));const r="signIn",s=await FT(n,r,e),a=await ko._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function zk(n,e){return jT(Hs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(n){const e=Hs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bk(n,e,t){if(qn(n.app))return Promise.reject(Mi(n));const r=Hs(n),u=await Cm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jk).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&UT(n),h}),d=await ko._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function Wk(n,e,t){return qn(n.app)?Promise.reject(Mi(n)):zk(wt(n),el.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,e){return qi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=wt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ba(r,Hk(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=Rf(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const d=u!=="anonymous"&&u!=="custom"?u:null;return new Va(a,d)}}if(!r)return null;switch(r){case"facebook.com":return new Kk(a,s);case"github.com":return new Qk(a,s);case"google.com":return new Yk(a,s);case"twitter.com":return new Xk(a,s,n.screenName||null);case"custom":case"anonymous":return new Va(a,null);default:return new Va(a,r,s)}}class Va{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class $T extends Va{constructor(e,t,r,s){super(e,t,r),this.username=s}}class Kk extends Va{constructor(e,t){super(e,"facebook.com",t)}}class Qk extends $T{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class Yk extends Va{constructor(e,t){super(e,"google.com",t)}}class Xk extends $T{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Jk(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:qk(t)}function Zk(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function eN(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function tN(n,e,t,r){return wt(n).onAuthStateChanged(e,t,r)}function nN(n){return wt(n).signOut()}async function rN(n){return wt(n).delete()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e3,sN=10;class BT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);hk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sN):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BT.type="LOCAL";const oN=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}WT.type="SESSION";const HT=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),h=await aN(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,h)=>{const p=_g("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(g){const E=g;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function uN(n){si().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function cN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function fN(){return GT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",hN=1,tf="firebaseLocalStorage",KT="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kf(n,e){return n.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function pN(){const n=indexedDB.deleteDatabase(qT);return new Ou(n).toPromise()}function Rm(){const n=indexedDB.open(qT,hN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(tf,{keyPath:KT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(tf)?e(r):(r.close(),await pN(),e(await Rm()))})})}async function Dw(n,e,t){const r=kf(n,!0).put({[KT]:e,value:t});return new Ou(r).toPromise()}async function mN(n,e){const t=kf(n,!1).get(e),r=await new Ou(t).toPromise();return r===void 0?null:r.value}function Ow(n,e){const t=kf(n,!0).delete(e);return new Ou(t).toPromise()}const gN=800,yN=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>yN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(fN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await cN(),!this.activeServiceWorker)return;this.sender=new lN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await Dw(e,ef,"1"),await Ow(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>mN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ow(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=kf(s,!1).getAll();return new Ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const vN=QT;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(n,e){return e?Oi(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,t){return La(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _N(n){return jT(n.auth,new wg(n),n.bypassAuthState)}function wN(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),$k(t,new wg(n),n.bypassAuthState)}async function EN(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),Uk(t,new wg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _N;case"linkViaPopup":case"linkViaRedirect":return EN;case"reauthViaPopup":case"reauthViaRedirect":return wN;default:dr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new ku(2e3,1e4);async function IN(n,e,t){if(qn(n.app))return Promise.reject(Pr(n,"operation-not-supported-in-this-environment"));const r=Hs(n);q1(n,e,vg);const s=YT(r,t);return new Ao(r,"signInViaPopup",e,s).executeNotNull()}class Ao extends XT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TN.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="pendingRedirect",Nd=new Map;class xN extends XT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const r=await AN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AN(n,e){const t=bN(e),r=RN(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function CN(n,e){Nd.set(n._key(),e)}function RN(n){return Oi(n._redirectPersistence)}function bN(n){return kd(SN,n.config.apiKey,n.name)}async function PN(n,e,t=!1){if(qn(n.app))return Promise.reject(Mi(n));const r=Hs(n),s=YT(r,e),u=await new xN(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=10*60*1e3;class NN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mw(e))}saveEventToCache(e){this.cachedEventUids.add(Mw(e)),this.lastProcessedEventTime=Date.now()}}function Mw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,e={}){return qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^https?/;async function VN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ON(n);for(const t of e)try{if(FN(t))return}catch{}dr(n,"unauthorized-domain")}function FN(n){const e=xm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!LN.test(t))return!1;if(MN.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new ku(3e4,6e4);function Lw(){const n=si().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UN(n){return new Promise((e,t)=>{var r,s,a;function u(){Lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lw(),t(Pr(n,"network-request-failed"))},timeout:jN.get()})}if(!((s=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=si().gapi)===null||a===void 0)&&a.load)u();else{const d=Tk("iframefcb");return si()[d]=()=>{gapi.load?u():t(Pr(n,"network-request-failed"))},MT(`${Ek()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function $N(n){return Dd=Dd||UN(n),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new ku(5e3,15e3),BN="__/auth/iframe",WN="emulator/auth/iframe",HN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qN(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pg(e,WN):`https://${n.config.authDomain}/${BN}`,r={apiKey:e.apiKey,appName:n.name,v:Za},s=GN.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${bu(r).slice(1)}`}async function KN(n){const e=await $N(n),t=si().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:qN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HN,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Pr(n,"network-request-failed"),d=si().setTimeout(()=>{a(u)},zN.get());function h(){si().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YN=500,XN=600,JN="_blank",ZN="http://localhost";class Vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(n,e,t,r=YN,s=XN){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},QN),{width:r.toString(),height:s.toString(),top:a,left:u}),p=ln().toLowerCase();t&&(d=RT(p)?JN:t),AT(p)&&(e=e||ZN,h.scrollbars="yes");const y=Object.entries(h).reduce((E,[S,A])=>`${E}${S}=${A},`,"");if(fk(p)&&d!=="_self")return tD(e||"",d),new Vw(null);const g=window.open(e||"",d,y);De(g,n,"popup-blocked");try{g.focus()}catch{}return new Vw(g)}function tD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="__/auth/handler",rD="emulator/auth/handler",iD=encodeURIComponent("fac");async function Fw(n,e,t,r,s,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Za,eventId:s};if(e instanceof vg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",cb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))u[y]=g}if(e instanceof Du){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await n._getAppCheckToken(),p=h?`#${iD}=${encodeURIComponent(h)}`:"";return`${sD(n)}?${bu(d).slice(1)}${p}`}function sD({config:n}){return n.emulator?pg(n,rD):`https://${n.authDomain}/${nD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=PN,this._overrideRedirectResult=CN}async _openPopup(e,t,r,s){var a;Ui((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Fw(e,t,r,xm(),s);return eD(e,u,_g())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Fw(e,t,r,xm(),s);return uN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Ui(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await KN(e),r=new NN(e);return t.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xp,{type:Xp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Xp];u!==void 0&&t(!!u),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DT()||CT()||mg()}}const aD=oD;var jw="@firebase/auth",Uw="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(n){ui(new kr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(n)},p=new vk(r,s,a,h);return Rk(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ui(new kr("auth-internal",e=>{const t=Hs(e.getProvider("auth").getImmediate());return(r=>new lD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(jw,Uw,uD(n)),lr(jw,Uw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=5*60,fD=$E("authIdTokenMaxAge")||dD;let $w=null;const hD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fD)return;const s=t==null?void 0:t.token;$w!==s&&($w=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pD(n=og()){const e=Vo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ck(n,{popupRedirectResolver:aD,persistence:[vN,oN,HT]}),r=$E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=hD(a.toString());eN(t,u,()=>u(t.currentUser)),Zk(t,d=>u(d))}}const s=jE("auth");return s&&bk(t,`http://${s}`),t}function mD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_k({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Pr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",mD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,ZT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function k(){}k.prototype=C.prototype,N.D=C.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,V,U){for(var D=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)D[Pe-2]=arguments[Pe];return C.prototype[V].apply(L,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,C,k){k||(k=0);var L=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)L[V]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(V=0;16>V;++V)L[V]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=N.g[0],k=N.g[1],V=N.g[2];var U=N.g[3],D=C+(U^k&(V^U))+L[0]+3614090360&4294967295;C=k+(D<<7&4294967295|D>>>25),D=U+(V^C&(k^V))+L[1]+3905402710&4294967295,U=C+(D<<12&4294967295|D>>>20),D=V+(k^U&(C^k))+L[2]+606105819&4294967295,V=U+(D<<17&4294967295|D>>>15),D=k+(C^V&(U^C))+L[3]+3250441966&4294967295,k=V+(D<<22&4294967295|D>>>10),D=C+(U^k&(V^U))+L[4]+4118548399&4294967295,C=k+(D<<7&4294967295|D>>>25),D=U+(V^C&(k^V))+L[5]+1200080426&4294967295,U=C+(D<<12&4294967295|D>>>20),D=V+(k^U&(C^k))+L[6]+2821735955&4294967295,V=U+(D<<17&4294967295|D>>>15),D=k+(C^V&(U^C))+L[7]+4249261313&4294967295,k=V+(D<<22&4294967295|D>>>10),D=C+(U^k&(V^U))+L[8]+1770035416&4294967295,C=k+(D<<7&4294967295|D>>>25),D=U+(V^C&(k^V))+L[9]+2336552879&4294967295,U=C+(D<<12&4294967295|D>>>20),D=V+(k^U&(C^k))+L[10]+4294925233&4294967295,V=U+(D<<17&4294967295|D>>>15),D=k+(C^V&(U^C))+L[11]+2304563134&4294967295,k=V+(D<<22&4294967295|D>>>10),D=C+(U^k&(V^U))+L[12]+1804603682&4294967295,C=k+(D<<7&4294967295|D>>>25),D=U+(V^C&(k^V))+L[13]+4254626195&4294967295,U=C+(D<<12&4294967295|D>>>20),D=V+(k^U&(C^k))+L[14]+2792965006&4294967295,V=U+(D<<17&4294967295|D>>>15),D=k+(C^V&(U^C))+L[15]+1236535329&4294967295,k=V+(D<<22&4294967295|D>>>10),D=C+(V^U&(k^V))+L[1]+4129170786&4294967295,C=k+(D<<5&4294967295|D>>>27),D=U+(k^V&(C^k))+L[6]+3225465664&4294967295,U=C+(D<<9&4294967295|D>>>23),D=V+(C^k&(U^C))+L[11]+643717713&4294967295,V=U+(D<<14&4294967295|D>>>18),D=k+(U^C&(V^U))+L[0]+3921069994&4294967295,k=V+(D<<20&4294967295|D>>>12),D=C+(V^U&(k^V))+L[5]+3593408605&4294967295,C=k+(D<<5&4294967295|D>>>27),D=U+(k^V&(C^k))+L[10]+38016083&4294967295,U=C+(D<<9&4294967295|D>>>23),D=V+(C^k&(U^C))+L[15]+3634488961&4294967295,V=U+(D<<14&4294967295|D>>>18),D=k+(U^C&(V^U))+L[4]+3889429448&4294967295,k=V+(D<<20&4294967295|D>>>12),D=C+(V^U&(k^V))+L[9]+568446438&4294967295,C=k+(D<<5&4294967295|D>>>27),D=U+(k^V&(C^k))+L[14]+3275163606&4294967295,U=C+(D<<9&4294967295|D>>>23),D=V+(C^k&(U^C))+L[3]+4107603335&4294967295,V=U+(D<<14&4294967295|D>>>18),D=k+(U^C&(V^U))+L[8]+1163531501&4294967295,k=V+(D<<20&4294967295|D>>>12),D=C+(V^U&(k^V))+L[13]+2850285829&4294967295,C=k+(D<<5&4294967295|D>>>27),D=U+(k^V&(C^k))+L[2]+4243563512&4294967295,U=C+(D<<9&4294967295|D>>>23),D=V+(C^k&(U^C))+L[7]+1735328473&4294967295,V=U+(D<<14&4294967295|D>>>18),D=k+(U^C&(V^U))+L[12]+2368359562&4294967295,k=V+(D<<20&4294967295|D>>>12),D=C+(k^V^U)+L[5]+4294588738&4294967295,C=k+(D<<4&4294967295|D>>>28),D=U+(C^k^V)+L[8]+2272392833&4294967295,U=C+(D<<11&4294967295|D>>>21),D=V+(U^C^k)+L[11]+1839030562&4294967295,V=U+(D<<16&4294967295|D>>>16),D=k+(V^U^C)+L[14]+4259657740&4294967295,k=V+(D<<23&4294967295|D>>>9),D=C+(k^V^U)+L[1]+2763975236&4294967295,C=k+(D<<4&4294967295|D>>>28),D=U+(C^k^V)+L[4]+1272893353&4294967295,U=C+(D<<11&4294967295|D>>>21),D=V+(U^C^k)+L[7]+4139469664&4294967295,V=U+(D<<16&4294967295|D>>>16),D=k+(V^U^C)+L[10]+3200236656&4294967295,k=V+(D<<23&4294967295|D>>>9),D=C+(k^V^U)+L[13]+681279174&4294967295,C=k+(D<<4&4294967295|D>>>28),D=U+(C^k^V)+L[0]+3936430074&4294967295,U=C+(D<<11&4294967295|D>>>21),D=V+(U^C^k)+L[3]+3572445317&4294967295,V=U+(D<<16&4294967295|D>>>16),D=k+(V^U^C)+L[6]+76029189&4294967295,k=V+(D<<23&4294967295|D>>>9),D=C+(k^V^U)+L[9]+3654602809&4294967295,C=k+(D<<4&4294967295|D>>>28),D=U+(C^k^V)+L[12]+3873151461&4294967295,U=C+(D<<11&4294967295|D>>>21),D=V+(U^C^k)+L[15]+530742520&4294967295,V=U+(D<<16&4294967295|D>>>16),D=k+(V^U^C)+L[2]+3299628645&4294967295,k=V+(D<<23&4294967295|D>>>9),D=C+(V^(k|~U))+L[0]+4096336452&4294967295,C=k+(D<<6&4294967295|D>>>26),D=U+(k^(C|~V))+L[7]+1126891415&4294967295,U=C+(D<<10&4294967295|D>>>22),D=V+(C^(U|~k))+L[14]+2878612391&4294967295,V=U+(D<<15&4294967295|D>>>17),D=k+(U^(V|~C))+L[5]+4237533241&4294967295,k=V+(D<<21&4294967295|D>>>11),D=C+(V^(k|~U))+L[12]+1700485571&4294967295,C=k+(D<<6&4294967295|D>>>26),D=U+(k^(C|~V))+L[3]+2399980690&4294967295,U=C+(D<<10&4294967295|D>>>22),D=V+(C^(U|~k))+L[10]+4293915773&4294967295,V=U+(D<<15&4294967295|D>>>17),D=k+(U^(V|~C))+L[1]+2240044497&4294967295,k=V+(D<<21&4294967295|D>>>11),D=C+(V^(k|~U))+L[8]+1873313359&4294967295,C=k+(D<<6&4294967295|D>>>26),D=U+(k^(C|~V))+L[15]+4264355552&4294967295,U=C+(D<<10&4294967295|D>>>22),D=V+(C^(U|~k))+L[6]+2734768916&4294967295,V=U+(D<<15&4294967295|D>>>17),D=k+(U^(V|~C))+L[13]+1309151649&4294967295,k=V+(D<<21&4294967295|D>>>11),D=C+(V^(k|~U))+L[4]+4149444226&4294967295,C=k+(D<<6&4294967295|D>>>26),D=U+(k^(C|~V))+L[11]+3174756917&4294967295,U=C+(D<<10&4294967295|D>>>22),D=V+(C^(U|~k))+L[2]+718787259&4294967295,V=U+(D<<15&4294967295|D>>>17),D=k+(U^(V|~C))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var k=C-this.blockSize,L=this.B,V=this.h,U=0;U<C;){if(V==0)for(;U<=k;)s(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<C;)if(L[V++]=N.charCodeAt(U++),V==this.blockSize){s(this,L),V=0;break}}else for(;U<C;)if(L[V++]=N[U++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var k=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=k&255,k/=256;for(this.u(N),N=Array(16),C=k=0;4>C;++C)for(var L=0;32>L;L+=8)N[k++]=this.g[C]>>>L&255;return N};function a(N,C){var k=d;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=C(N)}function u(N,C){this.h=C;for(var k=[],L=!0,V=N.length-1;0<=V;V--){var U=N[V]|0;L&&U==C||(k[V]=U,L=!1)}this.g=k}var d={};function h(N){return-128<=N&&128>N?a(N,function(C){return new u([C|0],0>C?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return g;if(0>N)return R(p(-N));for(var C=[],k=1,L=0;N>=k;L++)C[L]=N/k|0,k*=4294967296;return new u(C,0)}function y(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return R(y(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(C,8)),L=g,V=0;V<N.length;V+=8){var U=Math.min(8,N.length-V),D=parseInt(N.substring(V,V+U),C);8>U?(U=p(Math.pow(C,U)),L=L.j(U).add(p(D))):(L=L.j(k),L=L.add(p(D)))}return L}var g=h(0),E=h(1),S=h(16777216);n=u.prototype,n.m=function(){if(b(this))return-R(this).m();for(var N=0,C=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(b(this))return"-"+R(this).toString(N);for(var C=p(Math.pow(N,6)),k=this,L="";;){var V=K(k,C).g;k=O(k,V.j(C));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=V,A(k))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function b(N){return N.h==-1}n.l=function(N){return N=O(this,N),b(N)?-1:A(N)?0:1};function R(N){for(var C=N.g.length,k=[],L=0;L<C;L++)k[L]=~N.g[L];return new u(k,~N.h).add(E)}n.abs=function(){return b(this)?R(this):this},n.add=function(N){for(var C=Math.max(this.g.length,N.g.length),k=[],L=0,V=0;V<=C;V++){var U=L+(this.i(V)&65535)+(N.i(V)&65535),D=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);L=D>>>16,U&=65535,D&=65535,k[V]=D<<16|U}return new u(k,k[k.length-1]&-2147483648?-1:0)};function O(N,C){return N.add(R(C))}n.j=function(N){if(A(this)||A(N))return g;if(b(this))return b(N)?R(this).j(R(N)):R(R(this).j(N));if(b(N))return R(this.j(R(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var C=this.g.length+N.g.length,k=[],L=0;L<2*C;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<N.g.length;V++){var U=this.i(L)>>>16,D=this.i(L)&65535,Pe=N.i(V)>>>16,xe=N.i(V)&65535;k[2*L+2*V]+=D*xe,B(k,2*L+2*V),k[2*L+2*V+1]+=U*xe,B(k,2*L+2*V+1),k[2*L+2*V+1]+=D*Pe,B(k,2*L+2*V+1),k[2*L+2*V+2]+=U*Pe,B(k,2*L+2*V+2)}for(L=0;L<C;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=C;L<2*C;L++)k[L]=0;return new u(k,0)};function B(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function $(N,C){this.g=N,this.h=C}function K(N,C){if(A(C))throw Error("division by zero");if(A(N))return new $(g,g);if(b(N))return C=K(R(N),C),new $(R(C.g),R(C.h));if(b(C))return C=K(N,R(C)),new $(R(C.g),C.h);if(30<N.g.length){if(b(N)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var k=E,L=C;0>=L.l(N);)k=Z(k),L=Z(L);var V=ne(k,1),U=ne(L,1);for(L=ne(L,2),k=ne(k,2);!A(L);){var D=U.add(L);0>=D.l(N)&&(V=V.add(k),U=D),L=ne(L,1),k=ne(k,1)}return C=O(N,V.j(C)),new $(V,C)}for(V=g;0<=N.l(C);){for(k=Math.max(1,Math.floor(N.m()/C.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=p(k),D=U.j(C);b(D)||0<D.l(N);)k-=L,U=p(k),D=U.j(C);A(U)&&(U=E),V=V.add(U),N=O(N,D)}return new $(V,N)}n.A=function(N){return K(this,N).h},n.and=function(N){for(var C=Math.max(this.g.length,N.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)&N.i(L);return new u(k,this.h&N.h)},n.or=function(N){for(var C=Math.max(this.g.length,N.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)|N.i(L);return new u(k,this.h|N.h)},n.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),k=[],L=0;L<C;L++)k[L]=this.i(L)^N.i(L);return new u(k,this.h^N.h)};function Z(N){for(var C=N.g.length+1,k=[],L=0;L<C;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new u(k,N.h)}function ne(N,C){var k=C>>5;C%=32;for(var L=N.g.length-k,V=[],U=0;U<L;U++)V[U]=0<C?N.i(U+k)>>>C|N.i(U+k+1)<<32-C:N.i(U+k);return new u(V,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ds=u}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eI,nu,tI,Od,bm,nI,rI,iI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,w){return c==Array.prototype||c==Object.prototype||(c[v]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,v){if(v)e:{var w=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var H=c[P];if(!(H in w))break e;w=w[H]}c=c[c.length-1],P=w[c],v=v(P),v!=P&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}function a(c,v){c instanceof String&&(c+="");var w=0,P=!1,H={next:function(){if(!P&&w<c.length){var X=w++;return{value:v(X,c[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(c){return c||function(){return a(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function h(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function y(c,v,w){return c.call.apply(c.bind,arguments)}function g(c,v,w){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,P),c.apply(v,H)}}return function(){return c.apply(v,arguments)}}function E(c,v,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,E.apply(null,arguments)}function S(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var P=w.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function A(c,v){function w(){}w.prototype=v.prototype,c.aa=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(P,H,X){for(var de=Array(arguments.length-2),et=2;et<arguments.length;et++)de[et-2]=arguments[et];return v.prototype[H].apply(P,de)}}function b(c){const v=c.length;if(0<v){const w=Array(v);for(let P=0;P<v;P++)w[P]=c[P];return w}return[]}function R(c,v){for(let w=1;w<arguments.length;w++){const P=arguments[w];if(h(P)){const H=c.length||0,X=P.length||0;c.length=H+X;for(let de=0;de<X;de++)c[H+de]=P[de]}else c.push(P)}}class O{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var Z=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ne(c,v,w){for(const P in c)v.call(w,c[P],P,c)}function N(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function C(c){const v={};for(const w in c)v[w]=c[w];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,v){let w,P;for(let H=1;H<arguments.length;H++){P=arguments[H];for(w in P)c[w]=P[w];for(let X=0;X<k.length;X++)w=k[X],Object.prototype.hasOwnProperty.call(P,w)&&(c[w]=P[w])}}function V(c){var v=1;c=c.split(":");const w=[];for(;0<v&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function U(c){d.setTimeout(()=>{throw c},0)}function D(){var c=J;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Pe{constructor(){this.h=this.g=null}add(v,w){const P=xe.get();P.set(v,w),this.h?this.h.next=P:this.g=P,this.h=P}}var xe=new O(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let me,W=!1,J=new Pe,re=()=>{const c=d.Promise.resolve(void 0);me=()=>{c.then(F)}};var F=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(w){U(w)}var v=xe;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}W=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,v),d.removeEventListener("test",w,v)}catch{}return c}();function Ae(c,v){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(Z){e:{try{K(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement);this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}A(Ae,ie);var ge={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ne(c,v,w,P,H){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!P,this.ha=H,this.key=++Me,this.da=this.fa=!1}function He(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function jt(c){this.src=c,this.g={},this.h=0}jt.prototype.add=function(c,v,w,P,H){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var de=Zt(c,v,P,H);return-1<de?(v=c[de],w||(v.fa=!1)):(v=new Ne(v,this.src,X,!!P,H),v.fa=w,c.push(v)),v};function Ht(c,v){var w=v.type;if(w in c.g){var P=c.g[w],H=Array.prototype.indexOf.call(P,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(P,H,1),X&&(He(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Zt(c,v,w,P){for(var H=0;H<c.length;++H){var X=c[H];if(!X.da&&X.listener==v&&X.capture==!!w&&X.ha==P)return H}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),Br={};function Wr(c,v,w,P,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Wr(c,v[X],w,P,H);return null}return w=Xs(w),c&&c[ve]?c.K(v,w,p(P)?!!P.capture:!1,H):Mn(c,v,w,!1,P,H)}function Mn(c,v,w,P,H,X){if(!v)throw Error("Invalid event type");var de=p(H)?!!H.capture:!!H,et=Ln(c);if(et||(c[vn]=et=new jt(c)),w=et.add(v,w,P,de,X),w.proxy)return w;if(P=mi(),w.proxy=P,P.src=c,P.listener=w,c.addEventListener)fe||(H=de),H===void 0&&(H=!1),c.addEventListener(v.toString(),P,H);else if(c.attachEvent)c.attachEvent(hr(v.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return w}function mi(){function c(w){return v.call(c.src,c.listener,w)}const v=Pt;return c}function Et(c,v,w,P,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)Et(c,v[X],w,P,H);else P=p(P)?!!P.capture:!!P,w=Xs(w),c&&c[ve]?(c=c.i,v=String(v).toString(),v in c.g&&(X=c.g[v],w=Zt(X,w,P,H),-1<w&&(He(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete c.g[v],c.h--)))):c&&(c=Ln(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Zt(v,w,P,H)),(w=-1<c?v[c]:null)&&fr(w))}function fr(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[ve])Ht(v.i,c);else{var w=c.type,P=c.proxy;v.removeEventListener?v.removeEventListener(w,P,c.capture):v.detachEvent?v.detachEvent(hr(w),P):v.addListener&&v.removeListener&&v.removeListener(P),(w=Ln(v))?(Ht(w,c),w.h==0&&(w.src=null,v[vn]=null)):He(c)}}}function hr(c){return c in Br?Br[c]:Br[c]="on"+c}function Pt(c,v){if(c.da)c=!0;else{v=new Ae(v,this);var w=c.listener,P=c.ha||c.src;c.fa&&fr(c),c=w.call(P,v)}return c}function Ln(c){return c=c[vn],c instanceof jt?c:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xs(c){return typeof c=="function"?c:(c[Yi]||(c[Yi]=function(v){return c.handleEvent(v)}),c[Yi])}function at(){Q.call(this),this.i=new jt(this),this.M=this,this.F=null}A(at,Q),at.prototype[ve]=!0,at.prototype.removeEventListener=function(c,v,w,P){Et(this,c,v,w,P)};function Tt(c,v){var w,P=c.F;if(P)for(w=[];P;P=P.F)w.push(P);if(c=c.M,P=v.type||v,typeof v=="string")v=new ie(v,c);else if(v instanceof ie)v.target=v.target||c;else{var H=v;v=new ie(P,c),L(v,H)}if(H=!0,w)for(var X=w.length-1;0<=X;X--){var de=v.g=w[X];H=Xn(de,P,!0,v)&&H}if(de=v.g=c,H=Xn(de,P,!0,v)&&H,H=Xn(de,P,!1,v)&&H,w)for(X=0;X<w.length;X++)de=v.g=w[X],H=Xn(de,P,!1,v)&&H}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var w=c.g[v],P=0;P<w.length;P++)He(w[P]);delete c.g[v],c.h--}}this.F=null},at.prototype.K=function(c,v,w,P){return this.i.add(String(c),v,!1,w,P)},at.prototype.L=function(c,v,w,P){return this.i.add(String(c),v,!0,w,P)};function Xn(c,v,w,P){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var de=v[X];if(de&&!de.da&&de.capture==w){var et=de.listener,Dt=de.ha||de.src;de.fa&&Ht(c.i,de),H=et.call(Dt,P)!==!1&&H}}return H&&!P.defaultPrevented}function gi(c,v,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(c,v||0)}function un(c){c.g=gi(()=>{c.g=null,c.i&&(c.i=!1,un(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Hr extends Q{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:un(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(c){Q.call(this),this.h=c,this.g={}}A(_n,Q);var Js=[];function Zs(c){ne(c.g,function(v,w){this.g.hasOwnProperty(w)&&fr(v)},c),c.g={}}_n.prototype.N=function(){_n.aa.N.call(this),Zs(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,Ji=d.JSON.parse,eo=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function pr(){}pr.prototype.h=null;function cn(c){return c.h||(c.h=c.i())}function Zi(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){ie.call(this,"d")}A(Vn,ie);function yi(){ie.call(this,"c")}A(yi,ie);var ke={},lt=null;function ut(){return lt=lt||new at}ke.La="serverreachability";function kt(c){ie.call(this,ke.La,c)}A(kt,ie);function En(c){const v=ut();Tt(v,new kt(v))}ke.STAT_EVENT="statevent";function pt(c,v){ie.call(this,ke.STAT_EVENT,c),this.stat=v}A(pt,ie);function qe(c){const v=ut();Tt(v,new pt(v,c))}ke.Ma="timingevent";function mr(c,v){ie.call(this,ke.Ma,c),this.size=v}A(mr,ie);function mt(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function Nt(){this.g=!0}Nt.prototype.xa=function(){this.g=!1};function Gr(c,v,w,P,H,X){c.info(function(){if(c.g)if(X)for(var de="",et=X.split("&"),Dt=0;Dt<et.length;Dt++){var Ke=et[Dt].split("=");if(1<Ke.length){var Ut=Ke[0];Ke=Ke[1];var At=Ut.split("_");de=2<=At.length&&At[1]=="type"?de+(Ut+"="+Ke+"&"):de+(Ut+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+P+") [attempt "+H+"]: "+v+`
`+w+`
`+de})}function Tn(c,v,w,P,H,X,de){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+H+"]: "+v+`
`+w+`
`+X+" "+de})}function Jn(c,v,w,P){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+dh(c,w)+(P?" "+P:"")})}function ml(c,v){c.info(function(){return"TIMEOUT: "+v})}Nt.prototype.info=function(){};function dh(c,v){if(!c.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var P=w[c];if(!(2>P.length)){var H=P[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<H.length;de++)H[de]=""}}}}return Xi(w)}catch{return v}}var Bo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function to(){}A(to,pr),to.prototype.g=function(){return new XMLHttpRequest},to.prototype.i=function(){return{}},gr=new to;function yr(c,v,w,P){this.j=c,this.i=v,this.l=w,this.R=P||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ec}function ec(){this.i=null,this.g="",this.h=!1}var gl={},Wo={};function Ho(c,v,w){c.L=1,c.v=is(jn(v)),c.m=w,c.P=!0,yl(c,null)}function yl(c,v){c.F=Date.now(),nt(c),c.A=jn(c.v);var w=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),os(w.i,"t",P),c.C=0,w=c.j.J,c.h=new ec,c.g=vc(c.j,w?v:null,!c.m),0<c.O&&(c.M=new Hr(E(c.Y,c,c.g),c.O)),v=c.U,w=c.g,P=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Js[0]=H.toString()),H=Js);for(var X=0;X<H.length;X++){var de=Wr(w,H[X],P||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),En(),Gr(c.i,c.u,c.A,c.l,c.R,c.m)}yr.prototype.ca=function(c){c=c.target;const v=this.M;v&&Sn(c)==3?v.j():this.Y(c)},yr.prototype.Y=function(c){try{if(c==this.g)e:{const At=Sn(this.g);var v=this.g.Ba();const tr=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Il(this.g)))){this.J||At!=4||v==7||(v==8||0>=tr?En(3):En(2)),no(this);var w=this.g.Z();this.X=w;t:if(tc(this)){var P=Il(this.g);c="";var H=P.length,X=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),es(this);var de="";break t}this.h.i=new d.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,c+=this.h.i.decode(P[v],{stream:!(X&&v==H-1)});P.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=w==200,Tn(this.i,this.u,this.A,this.l,this.R,At,w),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Dt=this.g;if((et=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(et)){var Ke=et;break t}}Ke=null}if(w=Ke)Jn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vl(this,w);else{this.o=!1,this.s=3,qe(12),Zn(this),es(this);break e}}if(this.P){w=!0;let $n;for(;!this.J&&this.C<de.length;)if($n=fh(this,de),$n==Wo){At==4&&(this.s=4,qe(14),w=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if($n==gl){this.s=4,qe(15),Jn(this.i,this.l,de,"[Invalid Chunk]"),w=!1;break}else Jn(this.i,this.l,$n,null),vl(this,$n);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||de.length!=0||this.h.h||(this.s=1,qe(16),w=!1),this.o=this.o&&w,!w)Jn(this.i,this.l,de,"[Invalid Chunked Response]"),Zn(this),es(this);else if(0<de.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),xl(Ut),Ut.M=!0,qe(11))}}else Jn(this.i,this.l,de,null),vl(this,de);At==4&&Zn(this),this.o&&!this.J&&(At==4?na(this.j,this):(this.o=!1,nt(this)))}else Xo(this.g),w==400&&0<de.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),Zn(this),es(this)}}}catch{}finally{}};function tc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fh(c,v){var w=c.C,P=v.indexOf(`
`,w);return P==-1?Wo:(w=Number(v.substring(w,P)),isNaN(w)?gl:(P+=1,P+w>v.length?Wo:(v=v.slice(P,P+w),c.C=P+w,v)))}yr.prototype.cancel=function(){this.J=!0,Zn(this)};function nt(c){c.S=Date.now()+c.I,nc(c,c.I)}function nc(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(E(c.ba,c),v)}function no(c){c.B&&(d.clearTimeout(c.B),c.B=null)}yr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ml(this.i,this.A),this.L!=2&&(En(),qe(17)),Zn(this),this.s=2,es(this)):nc(this,this.S-c)};function es(c){c.j.G==0||c.J||na(c.j,c)}function Zn(c){no(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Zs(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function vl(c,v){try{var w=c.j;if(w.G!=0&&(w.g==c||dn(w.h,c))){if(!c.K&&dn(w.h,c)&&w.G==3){try{var P=w.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var H=P;if(H[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)ta(w),Tr(w);else break e;ea(w),qe(18)}}else w.za=H[1],0<w.za-w.T&&37500>H[2]&&w.F&&w.v==0&&!w.C&&(w.C=mt(E(w.Za,w),6e3));if(1>=ic(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ti(w,11)}else if((c.K||w.g==c)&&ta(w),!B(v))for(H=w.Da.g.parse(v),v=0;v<H.length;v++){let Ke=H[v];if(w.T=Ke[0],Ke=Ke[1],w.G==2)if(Ke[0]=="c"){w.K=Ke[1],w.ia=Ke[2];const Ut=Ke[3];Ut!=null&&(w.la=Ut,w.j.info("VER="+w.la));const At=Ke[4];At!=null&&(w.Aa=At,w.j.info("SVER="+w.Aa));const tr=Ke[5];tr!=null&&typeof tr=="number"&&0<tr&&(P=1.5*tr,w.L=P,w.j.info("backChannelRequestTimeoutMs_="+P)),P=w;const $n=c.g;if($n){const uo=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uo){var X=P.h;X.g||uo.indexOf("spdy")==-1&&uo.indexOf("quic")==-1&&uo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_l(X,X.h),X.h=null))}if(P.D){const ia=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(P.ya=ia,tt(P.I,P.D,ia))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),P=w;var de=c;if(P.qa=yc(P,P.J?P.ia:null,P.W),de.K){sc(P.h,de);var et=de,Dt=P.L;Dt&&(et.I=Dt),et.B&&(no(et),nt(et)),P.g=de}else lo(P);0<w.i.length&&Yr(w)}else Ke[0]!="stop"&&Ke[0]!="close"||Ti(w,7);else w.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ti(w,7):qt(w):Ke[0]!="noop"&&w.l&&w.l.ta(Ke),w.v=0)}}En(4)}catch{}}var rc=class{constructor(c,v){this.g=c,this.map=v}};function ro(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ic(c){return c.h?1:c.g?c.g.size:0}function dn(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function _l(c,v){c.g?c.g.add(v):c.h=v}function sc(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}ro.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function oc(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.D);return v}return b(c.i)}function Go(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var v=[],w=c.length,P=0;P<w;P++)v.push(c[P]);return v}v=[],w=0;for(P in c)v[w++]=c[P];return v}function qo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var v=[];c=c.length;for(var w=0;w<c;w++)v.push(w);return v}v=[],w=0;for(const P in c)v[w++]=P;return v}}}function ts(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var w=qo(c),P=Go(c),H=P.length,X=0;X<H;X++)v.call(void 0,P[X],w&&w[X],c)}var io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hh(c,v){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var P=c[w].indexOf("="),H=null;if(0<=P){var X=c[w].substring(0,P);H=c[w].substring(P+1)}else X=c[w];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,so(this,c.j),this.o=c.o,this.g=c.g,ns(this,c.s),this.l=c.l;var v=c.i,w=new qr;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),rs(this,w),this.m=c.m}else c&&(v=String(c).match(io))?(this.h=!1,so(this,v[1]||"",!0),this.o=Ge(v[2]||""),this.g=Ge(v[3]||"",!0),ns(this,v[4]),this.l=Ge(v[5]||"",!0),rs(this,v[6]||"",!0),this.m=Ge(v[7]||"")):(this.h=!1,this.i=new qr(null,this.h))}vi.prototype.toString=function(){var c=[],v=this.j;v&&c.push(ss(v,Ko,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(ss(v,Ko,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ss(w,w.charAt(0)=="/"?uc:lc,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ss(w,wl)),c.join("")};function jn(c){return new vi(c)}function so(c,v,w){c.j=w?Ge(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function ns(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function rs(c,v,w){v instanceof qr?(c.i=v,Kr(c.i,c.h)):(w||(v=ss(v,cc)),c.i=new qr(v,c.h))}function tt(c,v,w){c.i.set(v,w)}function is(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ge(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ss(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,ac),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ac(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,lc=/[#\?:]/g,uc=/[#\?]/g,cc=/[#\?@]/g,wl=/#/g;function qr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Gt(c){c.g||(c.g=new Map,c.h=0,c.i&&hh(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=qr.prototype,n.add=function(c,v){Gt(this),this.i=null,c=er(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function vr(c,v){Gt(c),v=er(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function _r(c,v){return Gt(c),v=er(c,v),c.g.has(v)}n.forEach=function(c,v){Gt(this),this.g.forEach(function(w,P){w.forEach(function(H){c.call(v,H,P,this)},this)},this)},n.na=function(){Gt(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let P=0;P<v.length;P++){const H=c[P];for(let X=0;X<H.length;X++)w.push(v[P])}return w},n.V=function(c){Gt(this);let v=[];if(typeof c=="string")_r(this,c)&&(v=v.concat(this.g.get(er(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)v=v.concat(c[w])}return v},n.set=function(c,v){return Gt(this),this.i=null,c=er(this,c),_r(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function os(c,v,w){vr(c,v),0<w.length&&(c.i=null,c.g.set(er(c,v),b(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var P=v[w];const X=encodeURIComponent(String(P)),de=this.V(P);for(P=0;P<de.length;P++){var H=X;de[P]!==""&&(H+="="+encodeURIComponent(String(de[P]))),c.push(H)}}return this.i=c.join("&")};function er(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Kr(c,v){v&&!c.j&&(Gt(c),c.i=null,c.g.forEach(function(w,P){var H=P.toLowerCase();P!=H&&(vr(this,P),os(this,H,w))},c)),c.j=v}function ph(c,v){const w=new Nt;if(d.Image){const P=new Image;P.onload=S(In,w,"TestLoadImage: loaded",!0,v,P),P.onerror=S(In,w,"TestLoadImage: error",!1,v,P),P.onabort=S(In,w,"TestLoadImage: abort",!1,v,P),P.ontimeout=S(In,w,"TestLoadImage: timeout",!1,v,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else v(!1)}function dc(c,v){const w=new Nt,P=new AbortController,H=setTimeout(()=>{P.abort(),In(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:P.signal}).then(X=>{clearTimeout(H),X.ok?In(w,"TestPingServer: ok",!0,v):In(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),In(w,"TestPingServer: error",!1,v)})}function In(c,v,w,P,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),P(w)}catch{}}function mh(){this.g=new eo}function fc(c,v,w){const P=w||"";try{ts(c,function(H,X){let de=H;p(H)&&(de=Xi(H)),v.push(P+X+"="+encodeURIComponent(de))})}catch(H){throw v.push(P+"type="+encodeURIComponent("_badmap")),H}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}A(_i,pr),_i.prototype.g=function(){return new oo(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function oo(c,v){at.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(oo,at),n=oo.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,Er(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function hc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?wr(this):Er(this),this.readyState==3&&hc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,wr(this))},n.Qa=function(c){this.g&&(this.response=c,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}n.setRequestHeader=function(c,v){this.u.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wi(c){let v="";return ne(c,function(w,P){v+=P,v+=":",v+=w,v+=`\r
`}),v}function as(c,v,w){e:{for(P in w){var P=!1;break e}P=!0}P||(w=wi(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):tt(c,v,w))}function ct(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ct,at);var gh=/^https?$/i,El=["POST","PUT"];n=ct.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,v,w,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?cn(this.o):cn(gr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(X){ao(this,X);return}if(c=w||"",w=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var H in P)w.set(H,P[H]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())w.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(El,v,void 0))||P||H||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of w)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){ao(this,X)}};function ao(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,Qo(c),Un(c)}function Qo(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),Un(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Un(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Tl(this):this.bb())},n.bb=function(){Tl(this)};function Tl(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)gi(c.Ea,0,c);else if(Tt(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var P;if(P=de===0){var H=String(c.D).match(io)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),P=!gh.test(H?H.toLowerCase():"")}w=P}if(w)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var X=2<Sn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Qo(c)}}finally{Un(c)}}}}function Un(c,v){if(c.g){Yo(c);const w=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Tt(c,"ready");try{w.onreadystatechange=P}catch{}}}function Yo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Ji(v)}};function Il(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xo(c){const v={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(B(c[P]))continue;var w=V(c[P]);const H=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=v[H]||[];v[H]=X,X.push(w)}N(v,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function Sl(c){this.Aa=0,this.i=[],this.j=new Nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,c),this.cb=Qr("retryDelaySeedMs",1e4,c),this.Wa=Qr("forwardChannelMaxRetries",2,c),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ro(c&&c.concurrentRequestLimit),this.Da=new mh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sl.prototype,n.la=8,n.G=1,n.connect=function(c,v,w,P){qe(0),this.W=c,this.H=v||{},w&&P!==void 0&&(this.H.OSID=w,this.H.OAID=P),this.F=this.X,this.I=yc(this,null,this.W),Yr(this)};function qt(c){if(Jo(c),c.G==3){var v=c.U++,w=jn(c.I);if(tt(w,"SID",c.K),tt(w,"RID",v),tt(w,"TYPE","terminate"),Ei(c,w),v=new yr(c,c.j,v),v.L=2,v.v=is(jn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=v.v,w=!0),w||(v.g=vc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),nt(v)}gc(c)}function Tr(c){c.g&&(xl(c),c.g.cancel(),c.g=null)}function Jo(c){Tr(c),c.u&&(d.clearTimeout(c.u),c.u=null),ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Yr(c){if(!Fn(c.h)&&!c.s){c.s=!0;var v=c.Ga;me||re(),W||(me(),W=!0),J.add(v,c),c.B=0}}function yh(c,v){return ic(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(E(c.Ga,c,v),mc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new yr(this,this.j,c);let X=this.o;if(this.S&&(X?(X=C(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var P=this.i[w];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(v+=P,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=ls(this,H,v),w=jn(this.I),tt(w,"RID",c),tt(w,"CVER",22),this.D&&tt(w,"X-HTTP-Session-Id",this.D),Ei(this,w),X&&(this.O?v="headers="+encodeURIComponent(String(wi(X)))+"&"+v:this.m&&as(w,this.m,X)),_l(this.h,H),this.Ua&&tt(w,"TYPE","init"),this.P?(tt(w,"$req",v),tt(w,"SID","null"),H.T=!0,Ho(H,w,null)):Ho(H,w,v),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||Fn(this.h)||Zo(this))};function Zo(c,v){var w;v?w=v.l:w=c.U++;const P=jn(c.I);tt(P,"SID",c.K),tt(P,"RID",w),tt(P,"AID",c.T),Ei(c,P),c.m&&c.o&&as(P,c.m,c.o),w=new yr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),v&&(c.i=v.D.concat(c.i)),v=ls(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_l(c.h,w),Ho(w,P,v)}function Ei(c,v){c.H&&ne(c.H,function(w,P){tt(v,P,w)}),c.l&&ts({},function(w,P){tt(v,P,w)})}function ls(c,v,w){w=Math.min(c.i.length,w);var P=c.l?E(c.l.Na,c.l,c):null;e:{var H=c.i;let X=-1;for(;;){const de=["count="+w];X==-1?0<w?(X=H[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let et=!0;for(let Dt=0;Dt<w;Dt++){let Ke=H[Dt].g;const Ut=H[Dt].map;if(Ke-=X,0>Ke)X=Math.max(0,H[Dt].g-100),et=!1;else try{fc(Ut,de,"req"+Ke+"_")}catch{P&&P(Ut)}}if(et){P=de.join("&");break e}}}return c=c.i.splice(0,w),v.D=c,P}function lo(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;me||re(),W||(me(),W=!0),J.add(v,c),c.v=0}}function ea(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(E(c.Fa,c),mc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),Tr(this),pc(this))};function xl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function pc(c){c.g=new yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=jn(c.qa);tt(v,"RID","rpc"),tt(v,"SID",c.K),tt(v,"AID",c.T),tt(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(v,"TO",c.ja),tt(v,"TYPE","xmlhttp"),Ei(c,v),c.m&&c.o&&as(v,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=is(jn(v)),w.m=null,w.P=!0,yl(w,c)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),ea(this),qe(19))};function ta(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function na(c,v){var w=null;if(c.g==v){ta(c),xl(c),c.g=null;var P=2}else if(dn(c.h,v))w=v.D,sc(c.h,v),P=1;else return;if(c.G!=0){if(v.o)if(P==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var H=c.B;P=ut(),Tt(P,new mr(P,w)),Yr(c)}else lo(c);else if(H=v.s,H==3||H==0&&0<v.X||!(P==1&&yh(c,v)||P==2&&ea(c)))switch(w&&0<w.length&&(v=c.h,v.i=v.i.concat(w)),H){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function mc(c,v){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*v}function Ti(c,v){if(c.j.info("Error code "+v),v==2){var w=E(c.fb,c),P=c.Xa;const H=!P;P=new vi(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||so(P,"https"),is(P),H?ph(P.toString(),w):dc(P.toString(),w)}else qe(2);c.G=0,c.l&&c.l.sa(v),gc(c),Jo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function gc(c){if(c.G=0,c.ka=[],c.l){const v=oc(c.h);(v.length!=0||c.i.length!=0)&&(R(c.ka,v),R(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function yc(c,v,w){var P=w instanceof vi?jn(w):new vi(w);if(P.g!="")v&&(P.g=v+"."+P.g),ns(P,P.s);else{var H=d.location;P=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new vi(null);P&&so(X,P),v&&(X.g=v),H&&ns(X,H),w&&(X.l=w),P=X}return w=c.D,v=c.ya,w&&v&&tt(P,w,v),tt(P,"VER",c.la),Ei(c,P),P}function vc(c,v,w){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new ct(new _i({eb:w})):new ct(c.pa),v.Ha(c.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Al(){}n=Al.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ra(){}ra.prototype.g=function(c,v){return new fn(c,v)};function fn(c,v){at.call(this),this.g=new Sl(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!B(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Xr(this)}A(fn,at),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){qt(this.g)},fn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Xi(c),c=w);v.i.push(new rc(v.Ya++,c)),v.G==3&&Yr(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,fn.aa.N.call(this)};function _c(c){Vn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}A(_c,Vn);function wc(){yi.call(this),this.status=1}A(wc,yi);function Xr(c){this.g=c}A(Xr,Al),Xr.prototype.ua=function(){Tt(this.g,"a")},Xr.prototype.ta=function(c){Tt(this.g,new _c(c))},Xr.prototype.sa=function(c){Tt(this.g,new wc)},Xr.prototype.ra=function(){Tt(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,iI=function(){return new ra},rI=function(){return ut()},nI=ke,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bo.NO_ERROR=0,Bo.TIMEOUT=8,Bo.HTTP_ERROR=6,Od=Bo,Zu.COMPLETE="complete",tI=Zu,Zi.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",at.prototype.listen=at.prototype.K,nu=Zi,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,eI=ct}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const Bw="@firebase/firestore",Ww="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new xf("@firebase/firestore");function ba(){return No.logLevel}function ye(n,...e){if(No.logLevel<=Be.DEBUG){const t=e.map(Eg);No.debug(`Firestore (${tl}): ${n}`,...t)}}function $i(n,...e){if(No.logLevel<=Be.ERROR){const t=e.map(Eg);No.error(`Firestore (${tl}): ${n}`,...t)}}function Wa(n,...e){if(No.logLevel<=Be.WARN){const t=e.map(Eg);No.warn(`Firestore (${tl}): ${n}`,...t)}}function Eg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,sI(n,r,t)}function sI(n,e,t){let r=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw $i(r),new Error(r)}function Ze(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||sI(e,s,r)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class yD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vD{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Li,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},d=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Li)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new oI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class _D{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _D(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ED{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=TD(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function $e(n,e){return n<e?-1:n>e?1:0}function Pm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return $e(r,s);{const a=aI(),u=ID(a.encode(Gw(n,t)),a.encode(Gw(e,t)));return u!==0?u:$e(r,s)}}t+=r>65535?2:1}return $e(n.length,e.length)}function Gw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ID(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return $e(n[t],e[t]);return $e(n.length,e.length)}function Ha(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-62135596800,Kw=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Kw);return new xt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qw)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kw}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new xt(0,0))}static max(){return new Ve(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__name__";class ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=ri.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return $e(e.length,t.length)}static compareSegments(e,t){const r=ri.isNumericId(e),s=ri.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ri.extractNumericId(e).compare(ri.extractNumericId(t)):Pm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class ot extends ri{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends ri{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return SD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qw}static keyField(){return new Xt([Qw])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ot.fromString(e))}static fromName(e){return new Ce(ot.fromString(e).popFirst(5))}static empty(){return new Ce(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function xD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new xt(t+1,0):new xt(t,r));return new Ls(s,Ce.empty(),e)}function AD(n){return new Ls(n.readTime,n.key,yu)}class Ls{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ls(Ve.min(),Ce.empty(),yu)}static max(){return new Ls(Ve.max(),Ce.empty(),yu)}}function CD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==RD)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},h=>r(h))}),u=!0,a===s&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(s=>s?te.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(y=>{u[p]=y,++d,d===a&&r(u)},y=>s(y))}})}static doWhile(e,t){return new te((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function PD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Nf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function Df(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function kD(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="";function ND(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yw(e)),e=DD(n.get(t),e);return Yw(e)}function DD(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case uI:t+="";break;default:t+=a}}return t}function Yw(n){return n+uI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Yt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jw(this.data.getIterator())}getIteratorFrom(e){return new Jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class Jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Vt(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dI("Invalid base64 string: "+a):a}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const OD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=OD.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fs(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="server_timestamp",hI="__type__",pI="__previous_value__",mI="__local_write_time__";function Ig(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[hI])===null||t===void 0?void 0:t.stringValue)===fI}function Of(n){const e=n.mapValue.fields[pI];return Ig(e)?Of(e):e}function vu(n){const e=Vs(n.mapValue.fields[mI].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t,r,s,a,u,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const rf="(default)";class _u{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="__type__",LD="__max__",yd={mapValue:{}},yI="__vector__",sf="value";function js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ig(n)?4:FD(n)?9007199254740991:VD(n)?10:11:Oe(28295,{value:n})}function ci(n,e){if(n===e)return!0;const t=js(n);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vu(n).isEqual(vu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Vs(s.timestampValue),d=Vs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Fs(s.bytesValue).isEqual(Fs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return St(s.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return St(s.integerValue)===St(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=St(s.doubleValue),d=St(a.doubleValue);return u===d?nf(u)===nf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Ha(n.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Xw(u)!==Xw(d))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(d[h]===void 0||!ci(u[h],d[h])))return!1;return!0}(n,e);default:return Oe(52216,{left:n})}}function wu(n,e){return(n.values||[]).find(t=>ci(t,e))!==void 0}function Ga(n,e){if(n===e)return 0;const t=js(n),r=js(e);if(t!==r)return $e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=St(a.integerValue||a.doubleValue),h=St(u.integerValue||u.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return Zw(n.timestampValue,e.timestampValue);case 4:return Zw(vu(n),vu(e));case 5:return Pm(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Fs(a),h=Fs(u);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),h=u.split("/");for(let p=0;p<d.length&&p<h.length;p++){const y=$e(d[p],h[p]);if(y!==0)return y}return $e(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=$e(St(a.latitude),St(u.latitude));return d!==0?d:$e(St(a.longitude),St(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return e0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,h,p,y;const g=a.fields||{},E=u.fields||{},S=(d=g[sf])===null||d===void 0?void 0:d.arrayValue,A=(h=E[sf])===null||h===void 0?void 0:h.arrayValue,b=$e(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return b!==0?b:e0(S,A)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===yd.mapValue&&u===yd.mapValue)return 0;if(a===yd.mapValue)return 1;if(u===yd.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),p=u.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let g=0;g<h.length&&g<y.length;++g){const E=Pm(h[g],y[g]);if(E!==0)return E;const S=Ga(d[h[g]],p[y[g]]);if(S!==0)return S}return $e(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Oe(23264,{Pe:t})}}function Zw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Vs(n),r=Vs(e),s=$e(t.seconds,r.seconds);return s!==0?s:$e(t.nanos,r.nanos)}function e0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Ga(t[s],r[s]);if(a)return a}return $e(t.length,r.length)}function qa(n){return km(n)}function km(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Vs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=km(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${km(t.fields[u])}`;return s+"}"}(n.mapValue):Oe(61005,{value:n})}function Md(n){switch(js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Of(n);return e?16+Md(e):16;case 5:return 2*n.stringValue.length;case 6:return Fs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Md(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Gs(r.fields,(a,u)=>{s+=a.length+Md(u)}),s}(n.mapValue);default:throw Oe(13486,{value:n})}}function t0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nm(n){return!!n&&"integerValue"in n}function Sg(n){return!!n&&"arrayValue"in n}function n0(n){return!!n&&"nullValue"in n}function r0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ld(n){return!!n&&"mapValue"in n}function VD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gI])===null||t===void 0?void 0:t.stringValue)===yI}function uu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=Xt.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=uu(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Ld(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Gs(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Dn(uu(this.value))}}function vI(n){const e=[];return Gs(n.fields,(t,r)=>{const s=new Xt([t]);if(Ld(r)){const a=vI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Ve.min(),Ve.min(),Ve.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,s){return new an(e,1,t,Ve.min(),r,s,0)}static newNoDocument(e,t){return new an(e,2,t,Ve.min(),Ve.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ve.min(),Ve.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.position=e,this.inclusive=t}}function i0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(u.referenceValue),t.key):r=Ga(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function s0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ci(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function jD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class bt extends _I{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $D(e,t,r):t==="array-contains"?new WD(e,r):t==="in"?new HD(e,r):t==="not-in"?new GD(e,r):t==="array-contains-any"?new qD(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new zD(e,r):new BD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ga(t,this.value)):t!==null&&js(this.value)===js(t)&&this.matchesComparison(Ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends _I{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Nr(e,t)}matches(e){return wI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function wI(n){return n.op==="and"}function EI(n){return UD(n)&&wI(n)}function UD(n){for(const e of n.filters)if(e instanceof Nr)return!1;return!0}function Dm(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+qa(n.value);if(EI(n))return n.filters.map(e=>Dm(e)).join(",");{const e=n.filters.map(t=>Dm(t)).join(",");return`${n.op}(${e})`}}function TI(n,e){return n instanceof bt?function(r,s){return s instanceof bt&&r.op===s.op&&r.field.isEqual(s.field)&&ci(r.value,s.value)}(n,e):n instanceof Nr?function(r,s){return s instanceof Nr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,d)=>a&&TI(u,s.filters[d]),!0):!1}(n,e):void Oe(19439)}function II(n){return n instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${qa(t.value)}`}(n):n instanceof Nr?function(t){return t.op.toString()+" {"+t.getFilters().map(II).join(" ,")+"}"}(n):"Filter"}class $D extends bt{constructor(e,t,r){super(e,t,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class zD extends bt{constructor(e,t){super(e,"in",t),this.keys=SI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class BD extends bt{constructor(e,t){super(e,"not-in",t),this.keys=SI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function SI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class WD extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sg(t)&&wu(t.arrayValue,this.value)}}class HD extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class GD extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class qD extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Ie=null}}function o0(n,e=null,t=[],r=[],s=null,a=null,u=null){return new KD(n,e,t,r,s,a,u)}function xg(n){const e=Fe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qa(r)).join(",")),e.Ie=t}return e.Ie}function Ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!s0(n.startAt,e.startAt)&&s0(n.endAt,e.endAt)}function Om(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function QD(n,e,t,r,s,a,u,d){return new il(n,e,t,r,s,a,u,d)}function Cg(n){return new il(n)}function a0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xI(n){return n.collectionGroup!==null}function cu(n){const e=Fe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Vt(Xt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Eu(a,r))}),t.has(Xt.keyField().canonicalString())||e.Ee.push(new Eu(Xt.keyField(),r))}return e.Ee}function oi(n){const e=Fe(n);return e.de||(e.de=YD(e,cu(n))),e.de}function YD(n,e){if(n.limitType==="F")return o0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Eu(s.field,a)});const t=n.endAt?new of(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new of(n.startAt.position,n.startAt.inclusive):null;return o0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Mm(n,e){const t=n.filters.concat([e]);return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function af(n,e,t){return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mf(n,e){return Ag(oi(n),oi(e))&&n.limitType===e.limitType}function AI(n){return`${xg(oi(n))}|lt:${n.limitType}`}function Pa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>II(s)).join(", ")}]`),Df(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>qa(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>qa(s)).join(",")),`Target(${r})`}(oi(n))}; limitType=${n.limitType})`}function Lf(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of cu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,h){const p=i0(u,d,h);return u.inclusive?p<=0:p<0}(r.startAt,cu(r),s)||r.endAt&&!function(u,d,h){const p=i0(u,d,h);return u.inclusive?p>=0:p>0}(r.endAt,cu(r),s))}(n,e)}function XD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CI(n){return(e,t)=>{let r=!1;for(const s of cu(n)){const a=JD(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function JD(n,e,t){const r=n.field.isKeyField()?Ce.comparator(e.key,t.key):function(a,u,d){const h=u.data.field(a),p=d.data.field(a);return h!==null&&p!==null?Ga(h,p):Oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return cI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new vt(Ce.comparator);function zi(){return ZD}const RI=new vt(Ce.comparator);function ru(...n){let e=RI;for(const t of n)e=e.insert(t.key,t);return e}function bI(n){let e=RI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Co(){return du()}function PI(){return du()}function du(){return new Fo(n=>n.toString(),(n,e)=>n.isEqual(e))}const e2=new vt(Ce.comparator),t2=new Vt(Ce.comparator);function We(...n){let e=t2;for(const t of n)e=e.add(t);return e}const n2=new Vt($e);function r2(){return n2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function kI(n){return{integerValue:""+n}}function i2(n,e){return kD(e)?kI(e):Rg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function s2(n,e,t){return n instanceof lf?function(s,a){const u={fields:{[hI]:{stringValue:fI},[mI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ig(a)&&(a=Of(a)),a&&(u.fields[pI]=a),{mapValue:u}}(t,e):n instanceof Tu?DI(n,e):n instanceof Iu?OI(n,e):function(s,a){const u=NI(s,a),d=l0(u)+l0(s.Re);return Nm(u)&&Nm(s.Re)?kI(d):Rg(s.serializer,d)}(n,e)}function o2(n,e,t){return n instanceof Tu?DI(n,e):n instanceof Iu?OI(n,e):t}function NI(n,e){return n instanceof uf?function(r){return Nm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class lf extends Vf{}class Tu extends Vf{constructor(e){super(),this.elements=e}}function DI(n,e){const t=MI(e);for(const r of n.elements)t.some(s=>ci(s,r))||t.push(r);return{arrayValue:{values:t}}}class Iu extends Vf{constructor(e){super(),this.elements=e}}function OI(n,e){let t=MI(e);for(const r of n.elements)t=t.filter(s=>!ci(s,r));return{arrayValue:{values:t}}}class uf extends Vf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function l0(n){return St(n.integerValue||n.doubleValue)}function MI(n){return Sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function a2(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Tu&&s instanceof Tu||r instanceof Iu&&s instanceof Iu?Ha(r.elements,s.elements,ci):r instanceof uf&&s instanceof uf?ci(r.Re,s.Re):r instanceof lf&&s instanceof lf}(n.transform,e.transform)}class l2{constructor(e,t){this.version=e,this.transformResults=t}}class ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ff{}function LI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bg(n.key,ur.none()):new Mu(n.key,n.data,ur.none());{const t=n.data,r=Dn.empty();let s=new Vt(Xt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new qs(n.key,r,new Kn(s.toArray()),ur.none())}}function u2(n,e,t){n instanceof Mu?function(s,a,u){const d=s.value.clone(),h=c0(s.fieldTransforms,a,u.transformResults);d.setAll(h),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qs?function(s,a,u){if(!Vd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=c0(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(VI(s)),h.setAll(d),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function fu(n,e,t,r){return n instanceof Mu?function(a,u,d,h){if(!Vd(a.precondition,u))return d;const p=a.value.clone(),y=d0(a.fieldTransforms,h,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof qs?function(a,u,d,h){if(!Vd(a.precondition,u))return d;const p=d0(a.fieldTransforms,h,u),y=u.data;return y.setAll(VI(a)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,u,d){return Vd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function c2(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=NI(r.transform,s||null);a!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,a))}return t||null}function u0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ha(r,s,(a,u)=>a2(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mu extends Ff{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qs extends Ff{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function VI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c0(n,e,t){const r=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,o2(u,d,t[s]))}return r}function d0(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,s2(a,u,e))}return r}class bg extends Ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends Ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&u2(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=PI();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const h=LI(u,d);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(t,r)=>u0(t,r))&&Ha(this.baseMutations,e.baseMutations,(t,r)=>u0(t,r))}}class Pg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return e2}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Pg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h2=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Qe;function m2(n){switch(n){case ee.OK:return Oe(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function FI(n){if(n===void 0)return $i("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Rt.OK:return ee.OK;case Rt.CANCELLED:return ee.CANCELLED;case Rt.UNKNOWN:return ee.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ee.INTERNAL;case Rt.UNAVAILABLE:return ee.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ee.NOT_FOUND;case Rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Rt.ABORTED:return ee.ABORTED;case Rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Rt.DATA_LOSS:return ee.DATA_LOSS;default:return Oe(39323,{code:n})}}(Qe=Rt||(Rt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Ds([4294967295,4294967295],0);function f0(n){const e=aI().encode(n),t=new ZT;return t.update(e),new Uint8Array(t.digest())}function h0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ds([t,r],0),new Ds([s,a],0)]}class kg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ds.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Ds.fromNumber(r)));return s.compare(g2)===1&&(s=new Ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=f0(e),[r,s]=h0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new kg(a,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=f0(e),[r,s]=h0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jf(Ve.min(),s,new vt($e),zi(),We())}}class Lu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lu(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class jI{constructor(e,t){this.targetId=e,this.Ce=t}}class UI{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class p0{constructor(){this.Fe=0,this.Me=m0(),this.xe=Jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),r=We();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Oe(38017,{changeType:a})}}),new Lu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=m0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class y2{constructor(e){this.ze=e,this.je=new Map,this.He=zi(),this.Je=vd(),this.Ye=vd(),this.Ze=new vt($e)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(Om(a))if(r===0){const u=new Ce(a.path);this.tt(t,u,an.newNoDocument(u,Ve.min()))}else Ze(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),h=d?this.lt(d,e,u):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=Fs(r).toUint8Array()}catch(h){if(h instanceof dI)return Wa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new kg(u,s,a)}catch(h){return Wa(h instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,u)=>{const d=this._t(u);if(d){if(a.current&&Om(d.target)){const h=new Ce(d.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,an.newNoDocument(h,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=We();this.Ye.forEach((a,u)=>{let d=!0;u.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new jf(e,t,this.Ze,this.He,r);return this.He=zi(),this.Je=vd(),this.Ye=vd(),this.Ze=new vt($e),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new p0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Vt($e),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Vt($e),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new p0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function vd(){return new vt(Ce.comparator)}function m0(){return new vt(Ce.comparator)}const v2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class E2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lm(n,e){return n.useProto3Json||Df(e)?e:{value:e}}function cf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $I(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function T2(n,e){return cf(n,e.toTimestamp())}function ai(n){return Ze(!!n,49232),Ve.fromTimestamp(function(t){const r=Vs(t);return new xt(r.seconds,r.nanos)}(n))}function Ng(n,e){return Vm(n,e).canonicalString()}function Vm(n,e){const t=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zI(n){const e=ot.fromString(n);return Ze(qI(e),10190,{key:e.toString()}),e}function Fm(n,e){return Ng(n.databaseId,e.path)}function Jp(n,e){const t=zI(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(WI(t))}function BI(n,e){return Ng(n.databaseId,e)}function I2(n){const e=zI(n);return e.length===4?ot.emptyPath():WI(e)}function jm(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WI(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function g0(n,e,t){return{name:Fm(n,e),fields:t.value.mapValue.fields}}function S2(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),Jt.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Jt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const y=p.code===void 0?ee.UNKNOWN:FI(p.code);return new pe(y,p.message||"")}(u);t=new UI(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jp(n,r.document.name),a=ai(r.document.updateTime),u=r.document.createTime?ai(r.document.createTime):Ve.min(),d=new Dn({mapValue:{fields:r.document.fields}}),h=an.newFoundDocument(s,a,u,d),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Fd(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jp(n,r.document),a=r.readTime?ai(r.readTime):Ve.min(),u=an.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Fd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jp(n,r.document),a=r.removedTargetIds||[];t=new Fd([],a,s,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new p2(s,a),d=r.targetId;t=new jI(d,u)}}return t}function x2(n,e){let t;if(e instanceof Mu)t={update:g0(n,e.key,e.value)};else if(e instanceof bg)t={delete:Fm(n,e.key)};else if(e instanceof qs)t={update:g0(n,e.key,e.data),updateMask:O2(e.fieldMask)};else{if(!(e instanceof d2))return Oe(16599,{ft:e.type});t={verify:Fm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof lf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uf)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Oe(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:T2(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)}(n,e.precondition)),t}function A2(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?ai(s.updateTime):ai(a);return u.isEqual(Ve.min())&&(u=ai(a)),new l2(u,s.transformResults||[])}(t,e))):[]}function C2(n,e){return{documents:[BI(n,e.path)]}}function R2(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=BI(n,s);const a=function(p){if(p.length!==0)return GI(Nr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:ka(E.field),direction:k2(E.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Lm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function b2(n){let e=I2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(g){const E=HI(g);return E instanceof Nr&&EI(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(E=>function(A){return new Eu(Na(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(g){let E;return E=typeof g=="object"?g.value:g,Df(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(g){const E=!!g.before,S=g.values||[];return new of(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(g){const E=!g.before,S=g.values||[];return new of(S,E)}(t.endAt)),QD(e,s,u,a,d,"F",h,p)}function P2(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Na(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Na(t.unaryFilter.field);return bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Na(t.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Na(t.unaryFilter.field);return bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return bt.create(Na(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Nr.create(t.compositeFilter.filters.map(r=>HI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(t.compositeFilter.op))}(n):Oe(30097,{filter:n})}function k2(n){return v2[n]}function N2(n){return _2[n]}function D2(n){return w2[n]}function ka(n){return{fieldPath:n.canonicalString()}}function Na(n){return Xt.fromServerFormat(n.fieldPath)}function GI(n){return n instanceof bt?function(t){if(t.op==="=="){if(r0(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NAN"}};if(n0(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(r0(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NAN"}};if(n0(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(t.field),op:N2(t.op),value:t.value}}}(n):n instanceof Nr?function(t){const r=t.getFilters().map(s=>GI(s));return r.length===1?r[0]:{compositeFilter:{op:D2(t.op),filters:r}}}(n):Oe(54877,{filter:n})}function O2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,s,a=Ve.min(),u=Ve.min(),d=Jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.wt=e}}function L2(n){const e=b2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.yn=new F2}addToCollectionParentIndex(e,t){return this.yn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ls.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class F2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Vt(ot.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Vt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KI=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(KI,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ka(0)}static ir(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",j2=1048576;function _0([n,e],[t,r]){const s=$e(n,t);return s===0?$e(e,r):s}class U2{constructor(e){this.cr=e,this.buffer=new Vt(_0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ye(v0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){rl(t)?ye(v0,"Ignoring IndexedDB error during garbage collection: ",t):await nl(t)}await this.Ir(3e5)})}}class z2{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Nf.le);const r=new U2(t);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(y0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,s,a,u,d,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,u=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,d=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(p=Date.now(),ba()<=Be.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${g} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:g})))}}function B2(n,e){return new z2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.changes=new Fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&fu(r.mutation,s,Kn.empty(),xt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const s=Co();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=ru();return a.forEach((d,h)=>{u=u.insert(d,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let a=zi();const u=du(),d=function(){return du()}();return t.forEach((h,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof qs)?a=a.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),fu(y.mutation,p,y.mutation.getFieldMask(),xt.now())):u.set(p.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var g;return d.set(p,new H2(y,(g=u.get(p))!==null&&g!==void 0?g:null))}),d))}recalculateAndSaveOverlays(e,t){const r=du();let s=new vt((u,d)=>u-d),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||Kn.empty();y=d.applyToLocalView(p,y),r.set(h,y);const g=(s.get(d.batchId)||We()).add(h);s=s.insert(d.batchId,g)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,y=h.value,g=PI();y.forEach(E=>{if(!a.has(E)){const S=LI(t.get(E),r.get(E));S!==null&&g.set(E,S),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,g))}return te.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):te.resolve(Co());let d=yu,h=a;return u.next(p=>te.forEach(p,(y,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),a.get(y)?te.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{h=h.insert(y,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,We())).next(y=>({batchId:d,changes:bI(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(r=>{let s=ru();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=ru();return this.indexManager.getCollectionParents(e,a).next(d=>te.forEach(d,h=>{const p=function(g,E){return new il(E,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((g,E)=>{u=u.insert(g,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((h,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,an.newInvalidDocument(y)))});let d=ru();return u.forEach((h,p)=>{const y=a.get(h);y!==void 0&&fu(y.mutation,p,Kn.empty(),xt.now()),Lf(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return te.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ai(s.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:L2(s.bundledQuery),readTime:ai(s.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.overlays=new vt(Ce.comparator),this.Or=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Co();return te.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=Co(),a=t.length+1,u=new Ce(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new vt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Co(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Co(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=s)););return te.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new h2(t,r));let a=this.Or.get(t);a===void 0&&(a=We(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.Nr=new Vt(Wt.Br),this.Lr=new Vt(Wt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Wt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Wt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ce(new ot([])),r=new Wt(t,e),s=new Wt(t,e+1),a=[];return this.Lr.forEachInRange([r,s],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ce(new ot([])),r=new Wt(t,e),s=new Wt(t,e+1);let a=We();return this.Lr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Wt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ce.comparator(e.key,t.key)||$e(e.Gr,t.Gr)}static kr(e,t){return $e(e.Gr,t.Gr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Vt(Wt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new f2(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.zr=this.zr.add(new Wt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Hr(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Tg:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wt(t,0),s=new Wt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,s],u=>{const d=this.jr(u.Gr);a.push(d)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt($e);return t.forEach(s=>{const a=new Wt(s,0),u=new Wt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],d=>{r=r.add(d.Gr)})}),te.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const u=new Wt(new Ce(a),0);let d=new Vt($e);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(h.Gr)),!0)},u),te.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ze(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return te.forEach(t.mutations,s=>{const a=new Wt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Wt(t,0),s=this.zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.Zr=e,this.docs=function(){return new vt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=zi();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():an.newInvalidDocument(s))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=zi();const u=t.path,d=new Ce(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||CD(AD(y),r)<=0||(s.has(y.key)||Lf(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Oe(9500)}Xr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new J2(this)}getSize(e){return te.resolve(this.size)}}class J2 extends W2{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.persistence=e,this.ei=new Fo(t=>xg(t),Ag),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ti=0,this.ni=new Dg,this.targetCount=0,this.ri=Ka.rr()}forEachTarget(e,t){return this.ei.forEach((r,s)=>t(s)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),te.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Ka(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.ar(t),te.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ei.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),te.waitFor(a).next(()=>s)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t){this.ii={},this.overlays={},this.si=new Nf(0),this.oi=!1,this.oi=!0,this._i=new Q2,this.referenceDelegate=e(this),this.ai=new Z2(this),this.indexManager=new V2,this.remoteDocumentCache=function(s){return new X2(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new M2(t),this.ci=new q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new K2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new Y2(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const s=new eO(this.si.next());return this.referenceDelegate.li(),r(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,t){return te.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class eO extends bD{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.Ti=new Dg,this.Ii=null}static Ei(e){return new Og(e)}get di(){if(this.Ii)return this.Ii;throw Oe(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,r=>{const s=Ce.fromPath(r);return this.Ai(e,s).next(a=>{a||t.removeEntry(s,Ve.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return te.or([()=>te.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class df{constructor(e,t){this.persistence=e,this.Ri=new Fo(r=>ND(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=B2(this,t)}static Ei(e,t){return new df(e,t)}li(){}hi(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return te.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(a=>a?te.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Ve.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Md(e.data.value)),t}gr(e,t,r){return te.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=s}static Ps(e,t){let r=We(),s=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Mg(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return sb()?8:PD(ln())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new tO;return this.fs(e,t,u).next(d=>{if(a.result=d,this.Is)return this.gs(e,t,u,d.size)})}).next(()=>a.result)}gs(e,t,r,s){return r.documentReadCount<this.Es?(ba()<=Be.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Pa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(ba()<=Be.DEBUG&&ye("QueryEngine","Query:",Pa(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ba()<=Be.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Pa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(t))):te.resolve())}Rs(e,t){if(a0(t))return te.resolve(null);let r=oi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=af(t,null,"F"),r=oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=We(...a);return this.As.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,d);return this.ys(t,p,u,h.readTime)?this.Rs(e,af(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,s){return a0(t)||s.isEqual(Ve.min())?te.resolve(null):this.As.getDocuments(e,r).next(a=>{const u=this.ps(t,a);return this.ys(t,u,r,s)?te.resolve(null):(ba()<=Be.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pa(t)),this.ws(e,u,t,xD(s,yu)).next(d=>d))})}ps(e,t){let r=new Vt(CI(e));return t.forEach((s,a)=>{Lf(e,a)&&(r=r.add(a))}),r}ys(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,t,r){return ba()<=Be.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Pa(t)),this.As.getDocumentsMatchingQuery(e,t,Ls.min(),r)}ws(e,t,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LocalStore",rO=3e8;class iO{constructor(e,t,r,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new vt($e),this.Ds=new Fo(a=>xg(a),Ag),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function sO(n,e,t,r){return new iO(n,e,t,r)}async function YI(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let h=We();for(const p of s){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of a){d.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:d}))})})}function oO(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,y){const g=p.batch,E=g.keys();let S=te.resolve();return E.forEach(A=>{S=S.next(()=>y.getEntry(h,A)).next(b=>{const R=p.docVersions.get(A);Ze(R!==null,48541),b.version.compareTo(R)<0&&(g.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),y.addEntry(b)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(h,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=We();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function XI(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function aO(n,e){const t=Fe(n),r=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const d=[];e.targetChanges.forEach((y,g)=>{const E=s.get(g);if(!E)return;d.push(t.ai.removeMatchingKeys(a,y.removedDocuments,g).next(()=>t.ai.addMatchingKeys(a,y.addedDocuments,g)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(Jt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),s=s.insert(g,S),function(b,R,O){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=rO?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,S,y)&&d.push(t.ai.updateTargetData(a,S))});let h=zi(),p=We();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),d.push(lO(a,u,e.documentUpdates).next(y=>{h=y.xs,p=y.Os})),!r.isEqual(Ve.min())){const y=t.ai.getLastRemoteSnapshotVersion(a).next(g=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(y)}return te.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ss=s,a))}function lO(n,e,t){let r=We(),s=We();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=zi();return t.forEach((d,h)=>{const p=a.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Ve.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):ye(Lg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{xs:u,Os:s}})}function uO(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Tg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cO(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ai.getTargetData(r,e).next(a=>a?(s=a,te.resolve(s)):t.ai.allocateTargetId(r).next(u=>(s=new Ps(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Um(n,e,t){const r=Fe(n),s=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!rl(u))throw u;ye(Lg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function w0(n,e,t){const r=Fe(n);let s=Ve.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,y){const g=Fe(h),E=g.Ds.get(y);return E!==void 0?te.resolve(g.Ss.get(E)):g.ai.getTargetData(p,y)}(r,u,oi(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,d.targetId).next(h=>{a=h})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?s:Ve.min(),t?a:We())).next(d=>(dO(r,XD(e),d),{documents:d,Ns:a})))}function dO(n,e,t){let r=n.vs.get(e)||Ve.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class E0{constructor(){this.activeTargetIds=r2()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fO{constructor(){this.So=new E0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new E0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="ConnectivityMonitor";class I0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ye(T0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ye(T0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function $m(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="RestConnection",pO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mO{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,t,r,s,a){const u=$m(),d=this.$o(e,t.toUriEncodedString());ye(Zp,`Sending RPC '${e}' ${u}:`,d,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,s,a),this.Ko(e,d,h,r).then(p=>(ye(Zp,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Wa(Zp,`RPC '${e}' ${u} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(e,t,r,s,a,u){return this.Qo(e,t,r,s,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}$o(e,t){const r=pO[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class yO extends mO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,s){const a=$m();return new Promise((u,d)=>{const h=new eI;h.setWithCredentials(!0),h.listenOnce(tI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Od.NO_ERROR:const y=h.getResponseJson();ye(sn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case Od.TIMEOUT:ye(sn,`RPC '${e}' ${a} timed out`),d(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const g=h.getStatus();if(ye(sn,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const A=function(R){const O=R.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(O)>=0?O:ee.UNKNOWN}(S.status);d(new pe(A,S.message))}else d(new pe(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{s_:e,streamId:a,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{ye(sn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ye(sn,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",p,r,15)})}a_(e,t,r){const s=$m(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iI(),d=rI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=a.join("");ye(sn,`Creating RPC '${e}' stream ${s}: ${y}`,h);const g=u.createWebChannel(y,h);let E=!1,S=!1;const A=new gO({Go:R=>{S?ye(sn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(E||(ye(sn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),E=!0),ye(sn,`RPC '${e}' stream ${s} sending:`,R),g.send(R))},zo:()=>g.close()}),b=(R,O,B)=>{R.listen(O,$=>{try{B($)}catch(K){setTimeout(()=>{throw K},0)}})};return b(g,nu.EventType.OPEN,()=>{S||(ye(sn,`RPC '${e}' stream ${s} transport opened.`),A.t_())}),b(g,nu.EventType.CLOSE,()=>{S||(S=!0,ye(sn,`RPC '${e}' stream ${s} transport closed`),A.r_())}),b(g,nu.EventType.ERROR,R=>{S||(S=!0,Wa(sn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),A.r_(new pe(ee.UNAVAILABLE,"The operation could not be completed")))}),b(g,nu.EventType.MESSAGE,R=>{var O;if(!S){const B=R.data[0];Ze(!!B,16349);const $=B,K=($==null?void 0:$.error)||((O=$[0])===null||O===void 0?void 0:O.error);if(K){ye(sn,`RPC '${e}' stream ${s} received error:`,K);const Z=K.status;let ne=function(k){const L=Rt[k];if(L!==void 0)return FI(L)}(Z),N=K.message;ne===void 0&&(ne=ee.INTERNAL,N="Unknown error status: "+Z+" with message "+K.message),S=!0,A.r_(new pe(ne,N)),g.close()}else ye(sn,`RPC '${e}' stream ${s} received:`,B),A.i_(B)}}),b(d,nI.STAT_EVENT,R=>{R.stat===bm.PROXY?ye(sn,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===bm.NOPROXY&&ye(sn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){return new E2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,r=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class ZI{constructor(e,t,r,s,a,u,d,h){this.bi=e,this.R_=r,this.V_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new JI(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?($i(t.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===t&&this.B_(r,s)},r=>{e(()=>{const s=new pe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ye(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ye(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vO extends ZI{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=S2(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ve.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?ai(u.readTime):Ve.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=jm(this.serializer),t.addTarget=function(a,u){let d;const h=u.target;if(d=Om(h)?{documents:C2(a,h)}:{query:R2(a,h).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=$I(a,u.resumeToken);const p=Lm(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ve.min())>0){d.readTime=cf(a,u.snapshotVersion.toTimestamp());const p=Lm(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=P2(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=jm(this.serializer),t.removeTarget=e,this.F_(t)}}class _O extends ZI{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=A2(e.writeResults,e.commitTime),r=ai(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=jm(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>x2(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{}class EO extends wO{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,Vm(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ee.UNKNOWN,a.toString())})}Wo(e,t,r,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,Vm(t,r),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ee.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class TO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?($i(t),this.ea=!1):ye("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="RemoteStore";class IO{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{r.enqueueAndForget(async()=>{jo(this)&&(ye(Do,"Restarting streams for network reachability change."),await async function(h){const p=Fe(h);p.aa.add(4),await Vu(p),p.la.set("Unknown"),p.aa.delete(4),await $f(p)}(this))})}),this.la=new TO(r,s)}}async function $f(n){if(jo(n))for(const e of n.ua)await e(!0)}async function Vu(n){for(const e of n.ua)await e(!1)}function eS(n,e){const t=Fe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Ug(t)?jg(t):sl(t).b_()&&Fg(t,e))}function Vg(n,e){const t=Fe(n),r=sl(t);t._a.delete(e),r.b_()&&tS(t,e),t._a.size===0&&(r.b_()?r.v_():jo(t)&&t.la.set("Unknown"))}function Fg(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(n).U_(e)}function tS(n,e){n.ha.Ke(e),sl(n).K_(e)}function jg(n){n.ha=new y2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.la.ta()}function Ug(n){return jo(n)&&!sl(n).w_()&&n._a.size>0}function jo(n){return Fe(n).aa.size===0}function nS(n){n.ha=void 0}async function SO(n){n.la.set("Online")}async function xO(n){n._a.forEach((e,t)=>{Fg(n,e)})}async function AO(n,e){nS(n),Ug(n)?(n.la.ia(e),jg(n)):n.la.set("Unknown")}async function CO(n,e,t){if(n.la.set("Online"),e instanceof UI&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s._a.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s._a.delete(d),s.ha.removeTarget(d))}(n,e)}catch(r){ye(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ff(n,r)}else if(e instanceof Fd?n.ha.Xe(e):e instanceof jI?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ve.min()))try{const r=await XI(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.ha.It(u);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=a._a.get(p);y&&a._a.set(p,y.withResumeToken(h.resumeToken,u))}}),d.targetMismatches.forEach((h,p)=>{const y=a._a.get(h);if(!y)return;a._a.set(h,y.withResumeToken(Jt.EMPTY_BYTE_STRING,y.snapshotVersion)),tS(a,h);const g=new Ps(y.target,h,p,y.sequenceNumber);Fg(a,g)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){ye(Do,"Failed to raise snapshot:",r),await ff(n,r)}}async function ff(n,e,t){if(!rl(e))throw e;n.aa.add(1),await Vu(n),n.la.set("Offline"),t||(t=()=>XI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Do,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await $f(n)})}function rS(n,e){return e().catch(t=>ff(n,t,e))}async function zf(n){const e=Fe(n),t=Us(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Tg;for(;RO(e);)try{const s=await uO(e.localStore,r);if(s===null){e.oa.length===0&&t.v_();break}r=s.batchId,bO(e,s)}catch(s){await ff(e,s)}iS(e)&&sS(e)}function RO(n){return jo(n)&&n.oa.length<10}function bO(n,e){n.oa.push(e);const t=Us(n);t.b_()&&t.W_&&t.G_(e.mutations)}function iS(n){return jo(n)&&!Us(n).w_()&&n.oa.length>0}function sS(n){Us(n).start()}async function PO(n){Us(n).H_()}async function kO(n){const e=Us(n);for(const t of n.oa)e.G_(t.mutations)}async function NO(n,e,t){const r=n.oa.shift(),s=Pg.from(r,e,t);await rS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await zf(n)}async function DO(n,e){e&&Us(n).W_&&await async function(r,s){if(function(u){return m2(u)&&u!==ee.ABORTED}(s.code)){const a=r.oa.shift();Us(r).D_(),await rS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await zf(r)}}(n,e),iS(n)&&sS(n)}async function x0(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),ye(Do,"RemoteStore received new credentials");const r=jo(t);t.aa.add(3),await Vu(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await $f(t)}async function OO(n,e){const t=Fe(n);e?(t.aa.delete(2),await $f(t)):e||(t.aa.add(2),await Vu(t),t.la.set("Unknown"))}function sl(n){return n.Pa||(n.Pa=function(t,r,s){const a=Fe(t);return a.Y_(),new vO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:SO.bind(null,n),Jo:xO.bind(null,n),Zo:AO.bind(null,n),Q_:CO.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Ug(n)?jg(n):n.la.set("Unknown")):(await n.Pa.stop(),nS(n))})),n.Pa}function Us(n){return n.Ta||(n.Ta=function(t,r,s){const a=Fe(t);return a.Y_(),new _O(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:PO.bind(null,n),Zo:DO.bind(null,n),z_:kO.bind(null,n),j_:NO.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await zf(n)):(await n.Ta.stop(),n.oa.length>0&&(ye(Do,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new $g(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(n,e){if($i("AsyncQueue",`${e}: ${n}`),rl(n))return new pe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ce.comparator(t.key,r.key):(t,r)=>Ce.comparator(t.key,r.key),this.keyedMap=ru(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.Ia=new vt(Ce.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Oe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qa{constructor(e,t,r,s,a,u,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Qa(e,t,Fa.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class LO{constructor(){this.queries=C0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const s=Fe(t),a=s.queries;s.queries=C0(),a.forEach((u,d)=>{for(const h of d.Ra)h.onError(r)})})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function C0(){return new Fo(n=>AI(n),Mf)}async function oS(n,e){const t=Fe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Va()&&e.ma()&&(r=2):(a=new MO,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(s,!0);break;case 1:a.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=zg(u,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Bg(t)}async function aS(n,e){const t=Fe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function VO(n,e){const t=Fe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.Ra)d.pa(s)&&(r=!0);u.Aa=s}}r&&Bg(t)}function FO(n,e,t){const r=Fe(n),s=r.queries.get(e);if(s)for(const a of s.Ra)a.onError(t);r.queries.delete(e)}function Bg(n){n.fa.forEach(e=>{e.next()})}var zm,R0;(R0=zm||(zm={})).ya="default",R0.Cache="cache";class lS{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.key=e}}class cS{constructor(e){this.key=e}}class jO{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=We(),this.mutatedKeys=We(),this.Ua=CI(e),this.Ka=new Fa(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new A0,s=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,g)=>{const E=s.get(y),S=Lf(this.query,g)?g:null,A=!!E&&this.mutatedKeys.has(E.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;E&&S?E.data.isEqual(S.data)?A!==b&&(r.track({type:3,doc:S}),R=!0):this.ja(E,S)||(r.track({type:2,doc:S}),R=!0,(h&&this.Ua(S,h)>0||p&&this.Ua(S,p)<0)&&(d=!0)):!E&&S?(r.track({type:0,doc:S}),R=!0):E&&!S&&(r.track({type:1,doc:E}),R=!0,(h||p)&&(d=!0)),R&&(S?(u=u.add(S),a=b?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:d,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,g)=>function(S,A){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:R})}};return b(S)-b(A)}(y.type,g.type)||this.Ua(y.doc,g.doc)),this.Ha(r),s=s!=null&&s;const d=t&&!s?this.Ja():[],h=this.$a.size===0&&this.current&&!s?1:0,p=h!==this.Qa;return this.Qa=h,u.length!==0||p?{snapshot:new Qa(this.query,e.Ka,a,u,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new A0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=We(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new cS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new uS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=We();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Qa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Wg="SyncEngine";class UO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $O{constructor(e){this.key=e,this.tu=!1}}class zO{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Fo(d=>AI(d),Mf),this.iu=new Map,this.su=new Set,this.ou=new vt(Ce.comparator),this._u=new Map,this.au=new Dg,this.uu={},this.cu=new Map,this.lu=Ka.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function BO(n,e,t=!0){const r=gS(n);let s;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await dS(r,e,t,!0),s}async function WO(n,e){const t=gS(n);await dS(t,e,!0,!1)}async function dS(n,e,t,r){const s=await cO(n.localStore,oi(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await HO(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&eS(n.remoteStore,s),d}async function HO(n,e,t,r,s){n.Pu=(g,E,S)=>async function(b,R,O,B){let $=R.view.Ga(O);$.ys&&($=await w0(b.localStore,R.query,!1).then(({documents:N})=>R.view.Ga(N,$)));const K=B&&B.targetChanges.get(R.targetId),Z=B&&B.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges($,b.isPrimaryClient,K,Z);return P0(b,R.targetId,ne.Ya),ne.snapshot}(n,g,E,S);const a=await w0(n.localStore,e,!0),u=new jO(e,a.Ns),d=u.Ga(a.documents),h=Lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,h);P0(n,t,p.Ya);const y=new UO(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function GO(n,e,t){const r=Fe(n),s=r.ru.get(e),a=r.iu.get(s.targetId);if(a.length>1)return r.iu.set(s.targetId,a.filter(u=>!Mf(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Um(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Vg(r.remoteStore,s.targetId),Bm(r,s.targetId)}).catch(nl)):(Bm(r,s.targetId),await Um(r.localStore,s.targetId,!0))}async function qO(n,e){const t=Fe(n),r=t.ru.get(e),s=t.iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vg(t.remoteStore,r.targetId))}async function KO(n,e,t){const r=tM(n);try{const s=await function(u,d){const h=Fe(u),p=xt.now(),y=d.reduce((S,A)=>S.add(A.key),We());let g,E;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=zi(),b=We();return h.Cs.getEntries(S,y).next(R=>{A=R,A.forEach((O,B)=>{B.isValidDocument()||(b=b.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,A)).next(R=>{g=R;const O=[];for(const B of d){const $=c2(B,g.get(B.key).overlayedDocument);$!=null&&O.push(new qs(B.key,$,vI($.value.mapValue),ur.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,O,d)}).next(R=>{E=R;const O=R.applyToLocalDocumentSet(g,b);return h.documentOverlayCache.saveOverlays(S,R.batchId,O)})}).then(()=>({batchId:E.batchId,changes:bI(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,h){let p=u.uu[u.currentUser.toKey()];p||(p=new vt($e)),p=p.insert(d,h),u.uu[u.currentUser.toKey()]=p}(r,s.batchId,t),await Fu(r,s.changes),await zf(r.remoteStore)}catch(s){const a=zg(s,"Failed to persist write");t.reject(a)}}async function fS(n,e){const t=Fe(n);try{const r=await aO(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t._u.get(a);u&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?Ze(u.tu,14607):s.removedDocuments.size>0&&(Ze(u.tu,42227),u.tu=!1))}),await Fu(t,r,e)}catch(r){await nl(r)}}function b0(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ru.forEach((a,u)=>{const d=u.view.ga(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const h=Fe(u);h.onlineState=d;let p=!1;h.queries.forEach((y,g)=>{for(const E of g.Ra)E.ga(d)&&(p=!0)}),p&&Bg(h)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QO(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r._u.get(e),a=s&&s.key;if(a){let u=new vt(Ce.comparator);u=u.insert(a,an.newNoDocument(a,Ve.min()));const d=We().add(a),h=new jf(Ve.min(),new Map,new vt($e),u,d);await fS(r,h),r.ou=r.ou.remove(a),r._u.delete(e),Hg(r)}else await Um(r.localStore,e,!1).then(()=>Bm(r,e,t)).catch(nl)}async function YO(n,e){const t=Fe(n),r=e.batch.batchId;try{const s=await oO(t.localStore,e);pS(t,r,null),hS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(t,s)}catch(s){await nl(s)}}async function XO(n,e,t){const r=Fe(n);try{const s=await function(u,d){const h=Fe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,d).next(g=>(Ze(g!==null,37113),y=g.keys(),h.mutationQueue.removeMutationBatch(p,g))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);pS(r,e,t),hS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fu(r,s)}catch(s){await nl(s)}}function hS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function pS(n,e,t){const r=Fe(n);let s=r.uu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function Bm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||mS(n,r)})}function mS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Vg(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Hg(n))}function P0(n,e,t){for(const r of t)r instanceof uS?(n.au.addReference(r.key,e),JO(n,r)):r instanceof cS?(ye(Wg,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||mS(n,r.key)):Oe(19791,{Iu:r})}function JO(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ye(Wg,"New document in limbo: "+t),n.su.add(r),Hg(n))}function Hg(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ce(ot.fromString(e)),r=n.lu.next();n._u.set(r,new $O(t)),n.ou=n.ou.insert(t,r),eS(n.remoteStore,new Ps(oi(Cg(t.path)),r,"TargetPurposeLimboResolution",Nf.le))}}async function Fu(n,e,t){const r=Fe(n),s=[],a=[],u=[];r.ru.isEmpty()||(r.ru.forEach((d,h)=>{u.push(r.Pu(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){s.push(p);const g=Mg.Ps(h.targetId,p);a.push(g)}}))}),await Promise.all(u),r.nu.Q_(s),await async function(h,p){const y=Fe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>te.forEach(p,E=>te.forEach(E.ls,S=>y.persistence.referenceDelegate.addReference(g,E.targetId,S)).next(()=>te.forEach(E.hs,S=>y.persistence.referenceDelegate.removeReference(g,E.targetId,S)))))}catch(g){if(!rl(g))throw g;ye(Lg,"Failed to update sequence numbers: "+g)}for(const g of p){const E=g.targetId;if(!g.fromCache){const S=y.Ss.get(E),A=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(A);y.Ss=y.Ss.insert(E,b)}}}(r.localStore,a))}async function ZO(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){ye(Wg,"User change. New user:",e.toKey());const r=await YI(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(d=>{d.forEach(h=>{h.reject(new pe(ee.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(t,r.Ms)}}function eM(n,e){const t=Fe(n),r=t._u.get(e);if(r&&r.tu)return We().add(r.key);{let s=We();const a=t.iu.get(e);if(!a)return s;for(const u of a){const d=t.ru.get(u);s=s.unionWith(d.view.Wa)}return s}}function gS(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QO.bind(null,e),e.nu.Q_=VO.bind(null,e.eventManager),e.nu.Tu=FO.bind(null,e.eventManager),e}function tM(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XO.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return sO(this.persistence,new nO,e.initialUser,this.serializer)}Ru(e){return new QI(Og.Ei,this.serializer)}Au(e){return new fO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class nM extends hf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ze(this.persistence.referenceDelegate instanceof df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $2(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new QI(r=>df.Ei(r,t),this.serializer)}}class Wm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZO.bind(null,this.syncEngine),await OO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LO}()}createDatastore(e){const t=Uf(e.databaseInfo.databaseId),r=function(a){return new yO(a)}(e.databaseInfo);return function(a,u,d,h){return new EO(a,u,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,d){return new IO(r,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>b0(this.syncEngine,t,0),function(){return I0.C()?new I0:new hO}())}createSyncEngine(e,t){return function(s,a,u,d,h,p,y){const g=new zO(s,a,u,d,h,p);return y&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Fe(s);ye(Do,"RemoteStore shutting down."),a.aa.add(5),await Vu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Wm.provider={build:()=>new Wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class rM{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=lI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ye($s,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ye($s,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=zg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tm(n,e){n.asyncQueue.verifyOperationInProgress(),ye($s,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await YI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function k0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await iM(n);ye($s,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>x0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>x0(e.remoteStore,s)),n._onlineComponents=e}async function iM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye($s,"Using user provided OfflineComponentProvider");try{await tm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Wa("Error using user provided cache. Falling back to memory cache: "+t),await tm(n,new hf)}}else ye($s,"Using default OfflineComponentProvider"),await tm(n,new nM(void 0));return n._offlineComponents}async function vS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye($s,"Using user provided OnlineComponentProvider"),await k0(n,n._uninitializedComponentsProvider._online)):(ye($s,"Using default OnlineComponentProvider"),await k0(n,new Wm))),n._onlineComponents}function sM(n){return vS(n).then(e=>e.syncEngine)}async function _S(n){const e=await vS(n),t=e.eventManager;return t.onListen=BO.bind(null,e.syncEngine),t.onUnlisten=GO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qO.bind(null,e.syncEngine),t}function oM(n,e,t={}){const r=new Li;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,h,p){const y=new yS({next:E=>{y.yu(),u.enqueueAndForget(()=>aS(a,g));const S=E.docs.has(d);!S&&E.fromCache?p.reject(new pe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&h&&h.source==="server"?p.reject(new pe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),g=new lS(Cg(d.path),y,{includeMetadataChanges:!0,Fa:!0});return oS(a,g)}(await _S(n),n.asyncQueue,e,t,r)),r.promise}function aM(n,e,t={}){const r=new Li;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,h,p){const y=new yS({next:E=>{y.yu(),u.enqueueAndForget(()=>aS(a,g)),E.fromCache&&h.source==="server"?p.reject(new pe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),g=new lS(d,y,{includeMetadataChanges:!0,Fa:!0});return oS(a,g)}(await _S(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n,e,t){if(!t)throw new pe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lM(n,e,t,r){if(e===!0&&r===!0)throw new pe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function D0(n){if(!Ce.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function O0(n){if(Ce.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bf(n);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function uM(n,e){if(e<=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firestore.googleapis.com",M0=!0;class L0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TS,this.ssl=M0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:M0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gD;switch(r.type){case"firstParty":return new wD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=N0.get(t);r&&(ye("ComponentProvider","Removing Datastore"),N0.delete(t),r.terminate())}(this),Promise.resolve()}}function cM(n,e,t,r={}){var s;const a=(n=Dr(n,Wf))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a.host!==TS&&a.host!==d&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:d,ssl:!1,emulatorOptions:r});if(!Ms(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=on.MOCK_USER;else{p=ZR(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(g)}n._authCredentials=new yD(new oI(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class Os extends Ks{constructor(e,t,r){super(e,t,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Ce(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function W5(n,e,...t){if(n=wt(n),ES("collection","path",e),n instanceof Wf){const r=ot.fromString(e,...t);return O0(r),new Os(n,null,r)}{if(!(n instanceof mn||n instanceof Os))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return O0(r),new Os(n.firestore,null,r)}}function ju(n,e,...t){if(n=wt(n),arguments.length===1&&(e=lI.newId()),ES("doc","path",e),n instanceof Wf){const r=ot.fromString(e,...t);return D0(r),new mn(n,null,new Ce(r))}{if(!(n instanceof mn||n instanceof Os))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return D0(r),new mn(n.firestore,n instanceof Os?n.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="AsyncQueue";class F0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new JI(this,"async_queue_retry"),this.ju=()=>{const r=em();r&&ye(V0,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=em();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=em();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Li;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!rl(e))throw e;ye(V0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,$i("INTERNAL UNHANDLED ERROR: ",j0(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=$g.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Oe(47125,{ec:j0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function j0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Uo extends Wf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new F0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F0(e),this._firestoreClient=void 0,await e}}}function dM(n,e){const t=typeof n=="object"?n:og(),r=typeof n=="string"?n:rf,s=Vo(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=XR("firestore");a&&cM(s,...a)}return s}function Gg(n){if(n._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fM(n),n._firestoreClient}function fM(n){var e,t,r;const s=n._freezeSettings(),a=function(d,h,p,y){return new MD(d,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,wS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new rM(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(Jt.fromBase64String(e))}catch(t){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ya(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=/^__.*__$/;class pM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mu(e,this.data,t,this.fieldTransforms)}}class IS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{oc:n})}}class Yg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return pf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(SS(this.oc)&&hM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class mM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Uf(e)}dc(e,t,r,s=!1){return new Yg({oc:e,methodName:t,Ec:r,path:Xt.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(n){const e=n._freezeSettings(),t=Uf(n._databaseId);return new mM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xS(n,e,t,r,s,a={}){const u=n.dc(a.merge||a.mergeFields?2:0,e,t,s);Xg("Data must be an object, but it was:",u,r);const d=AS(r,u);let h,p;if(a.merge)h=new Kn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const E=Hm(e,g,t);if(!u.contains(E))throw new pe(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);RS(y,E)||y.push(E)}h=new Kn(y),p=u.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,p=u.fieldTransforms;return new pM(new Dn(d),h,p)}class qf extends qg{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function gM(n,e,t,r){const s=n.dc(1,e,t);Xg("Data must be an object, but it was:",s,r);const a=[],u=Dn.empty();Gs(r,(h,p)=>{const y=Jg(e,h,t);p=wt(p);const g=s.hc(y);if(p instanceof qf)a.push(y);else{const E=Uu(p,g);E!=null&&(a.push(y),u.set(y,E))}});const d=new Kn(a);return new IS(u,d,s.fieldTransforms)}function yM(n,e,t,r,s,a){const u=n.dc(1,e,t),d=[Hm(e,r,t)],h=[s];if(a.length%2!=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Hm(e,a[E])),h.push(a[E+1]);const p=[],y=Dn.empty();for(let E=d.length-1;E>=0;--E)if(!RS(p,d[E])){const S=d[E];let A=h[E];A=wt(A);const b=u.hc(S);if(A instanceof qf)p.push(S);else{const R=Uu(A,b);R!=null&&(p.push(S),y.set(S,R))}}const g=new Kn(p);return new IS(y,g,u.fieldTransforms)}function vM(n,e,t,r=!1){return Uu(t,n.dc(r?4:3,e))}function Uu(n,e){if(CS(n=wt(n)))return Xg("Unsupported field value:",e,n),AS(n,e);if(n instanceof qg)return function(r,s){if(!SS(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const d of r){let h=Uu(d,s.Pc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=xt.fromDate(r);return{timestampValue:cf(s.serializer,a)}}if(r instanceof xt){const a=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cf(s.serializer,a)}}if(r instanceof Kg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ya)return{bytesValue:$I(s.serializer,r._byteString)};if(r instanceof mn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ng(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qg)return function(u,d){return{mapValue:{fields:{[gI]:{stringValue:yI},[sf]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return Rg(d.serializer,p)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${Bf(r)}`)}(n,e)}function AS(n,e){const t={};return cI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(n,(r,s)=>{const a=Uu(s,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function CS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Kg||n instanceof Ya||n instanceof mn||n instanceof qg||n instanceof Qg)}function Xg(n,e,t){if(!CS(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Bf(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Hm(n,e,t){if((e=wt(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return Jg(n,e);throw pf("Field path arguments must be of type string or ",n,!1,void 0,t)}const _M=new RegExp("[~\\*/\\[\\]]");function Jg(n,e,t){if(e.search(_M)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hf(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pf(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new pe(ee.INVALID_ARGUMENT,d+n+h)}function RS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wM extends bS{data(){return super.data()}}function Kf(n,e){return typeof e=="string"?Jg(n,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class ey extends Zg{}function H5(n,e,...t){let r=[];e instanceof Zg&&r.push(e),r=r.concat(t),function(a){const u=a.filter(h=>h instanceof ty).length,d=a.filter(h=>h instanceof Qf).length;if(u>1||u>0&&d>0)throw new pe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Qf extends ey{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Qf(e,t,r)}_apply(e){const t=this._parse(e);return PS(e._query,t),new Ks(e.firestore,e.converter,Mm(e._query,t))}_parse(e){const t=Gf(e.firestore);return function(a,u,d,h,p,y,g){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){$0(g,y);const A=[];for(const b of g)A.push(U0(h,a,b));E={arrayValue:{values:A}}}else E=U0(h,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||$0(g,y),E=vM(d,u,g,y==="in"||y==="not-in");return bt.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function G5(n,e,t){const r=e,s=Kf("where",n);return Qf._create(s,r,t)}class ty extends Zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ty(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const d=a.getFlattenedFilters();for(const h of d)PS(u,h),u=Mm(u,h)}(e._query,t),new Ks(e.firestore,e.converter,Mm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ny extends ey{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ny(e,t)}_apply(e){const t=function(s,a,u){if(s.startAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(a,u)}(e._query,this._field,this._direction);return new Ks(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new il(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function q5(n,e="asc"){const t=e,r=Kf("orderBy",n);return ny._create(r,t)}class ry extends ey{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ry(e,t,r)}_apply(e){return new Ks(e.firestore,e.converter,af(e._query,this._limit,this._limitType))}}function K5(n){return uM("limit",n),ry._create("limit",n,"F")}function U0(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new pe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xI(e)&&t.indexOf("/")!==-1)throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!Ce.isDocumentKey(r))throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t0(n,new Ce(r))}if(t instanceof mn)return t0(n,t._key);throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(t)}.`)}function $0(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PS(n,e){const t=function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TM{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Gs(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[sf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>St(u.doubleValue));return new Qg(a)}convertGeoPoint(e){return new Kg(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Of(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);Ze(qI(r),9688,{name:e});const s=new _u(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return s.isEqual(t)||$i(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NS extends bS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Kf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class jd extends NS{data(e={}){return super.data(e)}}class IM{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new su(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jd(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const h=new jd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new su(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const h=new jd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new su(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:SM(d.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function SM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){n=Dr(n,mn);const e=Dr(n.firestore,Uo);return oM(Gg(e),n._key).then(t=>RM(e,n,t))}class OS extends TM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}function Q5(n){n=Dr(n,Ks);const e=Dr(n.firestore,Uo),t=Gg(e),r=new OS(e);return EM(n._query),aM(t,n._query).then(s=>new IM(e,r,n,s))}function xM(n,e,t){n=Dr(n,mn);const r=Dr(n.firestore,Uo),s=kS(n.converter,e);return Yf(r,[xS(Gf(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ur.none())])}function AM(n,e,t,...r){n=Dr(n,mn);const s=Dr(n.firestore,Uo),a=Gf(s);let u;return u=typeof(e=wt(e))=="string"||e instanceof Hf?yM(a,"updateDoc",n._key,e,t,r):gM(a,"updateDoc",n._key,e),Yf(s,[u.toMutation(n._key,ur.exists(!0))])}function CM(n){return Yf(Dr(n.firestore,Uo),[new bg(n._key,ur.none())])}function Y5(n,e){const t=Dr(n.firestore,Uo),r=ju(n),s=kS(n.converter,e);return Yf(t,[xS(Gf(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function Yf(n,e){return function(r,s){const a=new Li;return r.asyncQueue.enqueueAndForget(async()=>KO(await sM(r),s,a)),a.promise}(Gg(n),e)}function RM(n,e,t){const r=t.docs.get(e._key),s=new OS(n);return new NS(n,s,e._key,r,new su(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){tl=s})(Za),ui(new kr("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Uo(new vD(r.getProvider("auth-internal")),new ED(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(p.options.projectId,y)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),lr(Bw,Ww,e),lr(Bw,Ww,"esm2017")})();var bM="firebase",PM="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(bM,PM,"app");const kM={apiKey:"AIzaSyC-DVPD-4CjDQ0nYOjg5y2hMOy1zjx6VeU",authDomain:"grindmode-5d2bb.firebaseapp.com",projectId:"grindmode-5d2bb",storageBucket:"grindmode-5d2bb.firebasestorage.app",messagingSenderId:"1096214127157",appId:"1:1096214127157:web:7b82fd19693d933f3f877c",measurementId:"G-XJN3G8434B"},iy=KE(kM);U1(iy);const Xf=dM(iy),Or=pD(iy),NM=(n,e)=>Bk(Or,n,e),DM=(n,e)=>Wk(Or,n,e),OM=()=>nN(Or),MM=n=>Or.currentUser&&Gk(Or.currentUser,n),LM=()=>Or.currentUser&&rN(Or.currentUser),VM=tN,FM=()=>{const n=new Ni;return IN(Or,n)},jM=Jk;Or.currentUser;const UM=Or,As=n=>{if(!n)return"An unknown error occurred";if(n.code){const t=n;switch(t.code){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or try logging in.";case"auth/invalid-email":return"Invalid email address. Please check your email and try again.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/user-not-found":return"No account found with this email. Please check your email or create a new account.";case"auth/wrong-password":return"Incorrect password. Please try again or reset your password.";case"auth/too-many-requests":return"Too many unsuccessful login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support for assistance.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return`Authentication error: ${t.message}`}}return`Error: ${n instanceof Error?n.message:String(n)}`},Jf=()=>{const n=Or.currentUser;if(!n||!n.uid)throw new Error("User not authenticated");return n.uid},$M=async n=>{const e=ju(Xf,"users",n),t=await DS(e);return t.exists()?t.data():null},zM=async(n,e)=>{const t=ju(Xf,"users",n);if(!(await DS(t)).exists()){const s=xt.now();await xM(t,{...e,createdAt:s,updatedAt:s})}},BM=async(n,e)=>{const t=ju(Xf,"users",n);await AM(t,{...e,updatedAt:xt.now()})},WM=async n=>{const e=ju(Xf,"users",n);await CM(e)},HM=async()=>{try{const n=Jf();return await $M(n)}catch(n){return console.error("Error getting user profile:",n),null}},X5=async n=>{try{const e=Jf();await BM(e,n)}catch(e){throw console.error("Error updating user profile:",e),new Error("Failed to update profile")}},z0=async n=>{try{const e=Jf();await zM(e,n)}catch(e){throw console.error("Error creating user profile:",e),new Error("Failed to create profile")}},J5=async()=>{try{const n=Jf();await WM(n)}catch(n){throw console.error("Error deleting user profile:",n),new Error("Failed to delete profile")}};function MS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=MS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function LS(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=MS(n))&&(r&&(r+=" "),r+=e);return r}const sy="-",GM=n=>{const e=KM(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const d=u.split(sy);return d[0]===""&&d.length!==1&&d.shift(),VS(d,e)||qM(u)},getConflictingClassGroupIds:(u,d)=>{const h=t[u]||[];return d&&r[u]?[...h,...r[u]]:h}}},VS=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?VS(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=n.join(sy);return(u=e.validators.find(({validator:d})=>d(a)))==null?void 0:u.classGroupId},B0=/^\[(.+)\]$/,qM=n=>{if(B0.test(n)){const e=B0.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},KM=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)Gm(t[s],r,s,e);return r},Gm=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?e:W0(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(QM(s)){Gm(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,u])=>{Gm(u,W0(e,a),t,r)})})},W0=(n,e)=>{let t=n;return e.split(sy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},QM=n=>n.isThemeGetter,YM=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return s(a,u),u},set(a,u){t.has(a)?t.set(a,u):s(a,u)}}},qm="!",Km=":",XM=Km.length,JM=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const a=[];let u=0,d=0,h=0,p;for(let A=0;A<s.length;A++){let b=s[A];if(u===0&&d===0){if(b===Km){a.push(s.slice(h,A)),h=A+XM;continue}if(b==="/"){p=A;continue}}b==="["?u++:b==="]"?u--:b==="("?d++:b===")"&&d--}const y=a.length===0?s:s.substring(h),g=ZM(y),E=g!==y,S=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const s=e+Km,a=r;r=u=>u.startsWith(s)?a(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=a=>t({className:a,parseClassName:s})}return r},ZM=n=>n.endsWith(qm)?n.substring(0,n.length-1):n.startsWith(qm)?n.substring(1):n,eL=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(u=>{u[0]==="["||e[u]?(s.push(...a.sort(),u),a=[]):a.push(u)}),s.push(...a.sort()),s}},tL=n=>({cache:YM(n.cacheSize),parseClassName:JM(n),sortModifiers:eL(n),...GM(n)}),nL=/\s+/,rL=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,u=[],d=n.trim().split(nL);let h="";for(let p=d.length-1;p>=0;p-=1){const y=d[p],{isExternal:g,modifiers:E,hasImportantModifier:S,baseClassName:A,maybePostfixModifierPosition:b}=t(y);if(g){h=y+(h.length>0?" "+h:h);continue}let R=!!b,O=r(R?A.substring(0,b):A);if(!O){if(!R){h=y+(h.length>0?" "+h:h);continue}if(O=r(A),!O){h=y+(h.length>0?" "+h:h);continue}R=!1}const B=a(E).join(":"),$=S?B+qm:B,K=$+O;if(u.includes(K))continue;u.push(K);const Z=s(O,R);for(let ne=0;ne<Z.length;++ne){const N=Z[ne];u.push($+N)}h=y+(h.length>0?" "+h:h)}return h};function iL(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=FS(e))&&(r&&(r+=" "),r+=t);return r}const FS=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=FS(n[r]))&&(t&&(t+=" "),t+=e);return t};function sL(n,...e){let t,r,s,a=u;function u(h){const p=e.reduce((y,g)=>g(y),n());return t=tL(p),r=t.cache.get,s=t.cache.set,a=d,d(h)}function d(h){const p=r(h);if(p)return p;const y=rL(h,t);return s(h,y),y}return function(){return a(iL.apply(null,arguments))}}const Lt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},jS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,US=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oL=/^\d+\/\d+$/,aL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xa=n=>oL.test(n),Ue=n=>!!n&&!Number.isNaN(Number(n)),Ss=n=>!!n&&Number.isInteger(Number(n)),nm=n=>n.endsWith("%")&&Ue(n.slice(0,-1)),ki=n=>aL.test(n),fL=()=>!0,hL=n=>lL.test(n)&&!uL.test(n),$S=()=>!1,pL=n=>cL.test(n),mL=n=>dL.test(n),gL=n=>!Ee(n)&&!Te(n),yL=n=>ol(n,WS,$S),Ee=n=>jS.test(n),Io=n=>ol(n,HS,hL),rm=n=>ol(n,TL,Ue),H0=n=>ol(n,zS,$S),vL=n=>ol(n,BS,mL),wd=n=>ol(n,GS,pL),Te=n=>US.test(n),Xl=n=>al(n,HS),_L=n=>al(n,IL),G0=n=>al(n,zS),wL=n=>al(n,WS),EL=n=>al(n,BS),Ed=n=>al(n,GS,!0),ol=(n,e,t)=>{const r=jS.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},al=(n,e,t=!1)=>{const r=US.exec(n);return r?r[1]?e(r[1]):t:!1},zS=n=>n==="position"||n==="percentage",BS=n=>n==="image"||n==="url",WS=n=>n==="length"||n==="size"||n==="bg-size",HS=n=>n==="length",TL=n=>n==="number",IL=n=>n==="family-name",GS=n=>n==="shadow",SL=()=>{const n=Lt("color"),e=Lt("font"),t=Lt("text"),r=Lt("font-weight"),s=Lt("tracking"),a=Lt("leading"),u=Lt("breakpoint"),d=Lt("container"),h=Lt("spacing"),p=Lt("radius"),y=Lt("shadow"),g=Lt("inset-shadow"),E=Lt("text-shadow"),S=Lt("drop-shadow"),A=Lt("blur"),b=Lt("perspective"),R=Lt("aspect"),O=Lt("ease"),B=Lt("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...K(),Te,Ee],ne=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],C=()=>[Te,Ee,h],k=()=>[xa,"full","auto",...C()],L=()=>[Ss,"none","subgrid",Te,Ee],V=()=>["auto",{span:["full",Ss,Te,Ee]},Ss,Te,Ee],U=()=>[Ss,"auto",Te,Ee],D=()=>["auto","min","max","fr",Te,Ee],Pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...C()],me=()=>[xa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[n,Te,Ee],J=()=>[...K(),G0,H0,{position:[Te,Ee]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",wL,yL,{size:[Te,Ee]}],Q=()=>[nm,Xl,Io],ie=()=>["","none","full",p,Te,Ee],fe=()=>["",Ue,Xl,Io],Ae=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Ue,nm,G0,H0],Me=()=>["","none",A,Te,Ee],Ne=()=>["none",Ue,Te,Ee],He=()=>["none",Ue,Te,Ee],jt=()=>[Ue,Te,Ee],Ht=()=>[xa,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ki],breakpoint:[ki],color:[fL],container:[ki],"drop-shadow":[ki],ease:["in","out","in-out"],font:[gL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ki],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ki],shadow:[ki],spacing:["px",Ue],text:[ki],"text-shadow":[ki],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xa,Ee,Te,R]}],container:["container"],columns:[{columns:[Ue,Ee,Te,d]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ss,"auto",Te,Ee]}],basis:[{basis:[xa,"full","auto",d,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,xa,"auto","initial","none",Ee]}],grow:[{grow:["",Ue,Te,Ee]}],shrink:[{shrink:["",Ue,Te,Ee]}],order:[{order:[Ss,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Pe(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...Pe()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Pe()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[d,"screen",...me()]}],"min-w":[{"min-w":[d,"screen","none",...me()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...me()]}],h:[{h:["screen",...me()]}],"min-h":[{"min-h":["screen","none",...me()]}],"max-h":[{"max-h":["screen",...me()]}],"font-size":[{text:["base",t,Xl,Io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,rm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nm,Ee]}],"font-family":[{font:[_L,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Te,Ee]}],"line-clamp":[{"line-clamp":[Ue,"none",Te,rm]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",Te,Io]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Ue,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ss,Te,Ee],radial:["",Te,Ee],conic:[Ss,Te,Ee]},EL,vL]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,Te,Ee]}],"outline-w":[{outline:["",Ue,Xl,Io]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",y,Ed,wd]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",g,Ed,wd]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Ue,Io]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",E,Ed,wd]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Ue,Te,Ee]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:Me()}],brightness:[{brightness:[Ue,Te,Ee]}],contrast:[{contrast:[Ue,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",S,Ed,wd]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Ue,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Ue,Te,Ee]}],invert:[{invert:["",Ue,Te,Ee]}],saturate:[{saturate:[Ue,Te,Ee]}],sepia:[{sepia:["",Ue,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ue,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",Te,Ee]}],ease:[{ease:["linear","initial",O,Te,Ee]}],delay:[{delay:[Ue,Te,Ee]}],animate:[{animate:["none",B,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Te,Ee]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:jt()}],"skew-x":[{"skew-x":jt()}],"skew-y":[{"skew-y":jt()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ht()}],"translate-x":[{"translate-x":Ht()}],"translate-y":[{"translate-y":Ht()}],"translate-z":[{"translate-z":Ht()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Ue,Xl,Io,rm]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xL=sL(SL);function Je(...n){return xL(LS(n))}const $u=T.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:Je("rounded-xl border bg-card text-card-foreground shadow",n),...e}));$u.displayName="Card";const zu=T.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:Je("flex flex-col space-y-1.5 p-6",n),...e}));zu.displayName="CardHeader";const Bu=T.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:Je("font-semibold leading-none tracking-tight",n),...e}));Bu.displayName="CardTitle";const oy=T.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:Je("text-sm text-muted-foreground",n),...e}));oy.displayName="CardDescription";const Wu=T.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:Je("p-6 pt-0",n),...e}));Wu.displayName="CardContent";const Hu=T.forwardRef(({className:n,...e},t)=>x.jsx("div",{ref:t,className:Je("flex items-center p-6 pt-0",n),...e}));Hu.displayName="CardFooter";var ay=OE();const qS=NE(ay);function q0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Zf(...n){return e=>{let t=!1;const r=n.map(s=>{const a=q0(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():q0(n[s],null)}}}}function Ft(...n){return T.useCallback(Zf(...n),n)}function Xa(n){const e=CL(n),t=T.forwardRef((r,s)=>{const{children:a,...u}=r,d=T.Children.toArray(a),h=d.find(bL);if(h){const p=h.props.children,y=d.map(g=>g===h?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:g);return x.jsx(e,{...u,ref:s,children:T.isValidElement(p)?T.cloneElement(p,void 0,y):null})}return x.jsx(e,{...u,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var AL=Xa("Slot");function CL(n){const e=T.forwardRef((t,r)=>{const{children:s,...a}=t;if(T.isValidElement(s)){const u=kL(s),d=PL(a,s.props);return s.type!==T.Fragment&&(d.ref=r?Zf(r,u):u),T.cloneElement(s,d)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var KS=Symbol("radix.slottable");function RL(n){const e=({children:t})=>x.jsx(x.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=KS,e}function bL(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===KS}function PL(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...d)=>{a(...d),s(...d)}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function kL(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var NL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=NL.reduce((n,e)=>{const t=Xa(`Primitive.${e}`),r=T.forwardRef((s,a)=>{const{asChild:u,...d}=s,h=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(h,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function QS(n,e){n&&ay.flushSync(()=>n.dispatchEvent(e))}var DL="Label",YS=T.forwardRef((n,e)=>x.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));YS.displayName=DL;var OL=YS;function ML({className:n,...e}){return x.jsx(OL,{"data-slot":"label",className:Je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function je(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function LL(n,e){const t=T.createContext(e),r=a=>{const{children:u,...d}=a,h=T.useMemo(()=>d,Object.values(d));return x.jsx(t.Provider,{value:h,children:u})};r.displayName=n+"Provider";function s(a){const u=T.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,s]}function Qs(n,e=[]){let t=[];function r(a,u){const d=T.createContext(u),h=t.length;t=[...t,u];const p=g=>{var O;const{scope:E,children:S,...A}=g,b=((O=E==null?void 0:E[n])==null?void 0:O[h])||d,R=T.useMemo(()=>A,Object.values(A));return x.jsx(b.Provider,{value:R,children:S})};p.displayName=a+"Provider";function y(g,E){var b;const S=((b=E==null?void 0:E[n])==null?void 0:b[h])||d,A=T.useContext(S);if(A)return A;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[p,y]}const s=()=>{const a=t.map(u=>T.createContext(u));return function(d){const h=(d==null?void 0:d[n])||a;return T.useMemo(()=>({[`__scope${n}`]:{...d,[n]:h}}),[d,h])}};return s.scopeName=n,[r,VL(s,...e)]}function VL(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=r.reduce((d,{useScope:h,scopeName:p})=>{const g=h(a)[`__scope${p}`];return{...d,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function XS(n){const e=n+"CollectionProvider",[t,r]=Qs(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:R,children:O}=b,B=le.useRef(null),$=le.useRef(new Map).current;return x.jsx(s,{scope:R,itemMap:$,collectionRef:B,children:O})};u.displayName=e;const d=n+"CollectionSlot",h=Xa(d),p=le.forwardRef((b,R)=>{const{scope:O,children:B}=b,$=a(d,O),K=Ft(R,$.collectionRef);return x.jsx(h,{ref:K,children:B})});p.displayName=d;const y=n+"CollectionItemSlot",g="data-radix-collection-item",E=Xa(y),S=le.forwardRef((b,R)=>{const{scope:O,children:B,...$}=b,K=le.useRef(null),Z=Ft(R,K),ne=a(y,O);return le.useEffect(()=>(ne.itemMap.set(K,{ref:K,...$}),()=>void ne.itemMap.delete(K))),x.jsx(E,{[g]:"",ref:Z,children:B})});S.displayName=y;function A(b){const R=a(n+"CollectionConsumer",b);return le.useCallback(()=>{const B=R.collectionRef.current;if(!B)return[];const $=Array.from(B.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort((ne,N)=>$.indexOf(ne.ref.current)-$.indexOf(N.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:u,Slot:p,ItemSlot:S},A,r]}var FL=T.createContext(void 0);function JS(n){const e=T.useContext(FL);return n||e||"ltr"}function di(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function jL(n,e=globalThis==null?void 0:globalThis.document){const t=di(n);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var UL="DismissableLayer",Qm="dismissableLayer.update",$L="dismissableLayer.pointerDownOutside",zL="dismissableLayer.focusOutside",K0,ZS=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ly=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...h}=n,p=T.useContext(ZS),[y,g]=T.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=T.useState({}),A=Ft(e,N=>g(N)),b=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),O=b.indexOf(R),B=y?b.indexOf(y):-1,$=p.layersWithOutsidePointerEventsDisabled.size>0,K=B>=O,Z=HL(N=>{const C=N.target,k=[...p.branches].some(L=>L.contains(C));!K||k||(s==null||s(N),u==null||u(N),N.defaultPrevented||d==null||d())},E),ne=GL(N=>{const C=N.target;[...p.branches].some(L=>L.contains(C))||(a==null||a(N),u==null||u(N),N.defaultPrevented||d==null||d())},E);return jL(N=>{B===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&d&&(N.preventDefault(),d()))},E),T.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(K0=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Q0(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=K0)}},[y,E,t,p]),T.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Q0())},[y,p]),T.useEffect(()=>{const N=()=>S({});return document.addEventListener(Qm,N),()=>document.removeEventListener(Qm,N)},[]),x.jsx(ht.div,{...h,ref:A,style:{pointerEvents:$?K?"auto":"none":void 0,...n.style},onFocusCapture:je(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:je(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:je(n.onPointerDownCapture,Z.onPointerDownCapture)})});ly.displayName=UL;var BL="DismissableLayerBranch",WL=T.forwardRef((n,e)=>{const t=T.useContext(ZS),r=T.useRef(null),s=Ft(e,r);return T.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),x.jsx(ht.div,{...n,ref:s})});WL.displayName=BL;function HL(n,e=globalThis==null?void 0:globalThis.document){const t=di(n),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let h=function(){ex($L,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function GL(n,e=globalThis==null?void 0:globalThis.document){const t=di(n),r=T.useRef(!1);return T.useEffect(()=>{const s=a=>{a.target&&!r.current&&ex(zL,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Q0(){const n=new CustomEvent(Qm);document.dispatchEvent(n)}function ex(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?QS(s,a):s.dispatchEvent(a)}var im=0;function tx(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Y0()),document.body.insertAdjacentElement("beforeend",n[1]??Y0()),im++,()=>{im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),im--}},[])}function Y0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var sm="focusScope.autoFocusOnMount",om="focusScope.autoFocusOnUnmount",X0={bubbles:!1,cancelable:!0},qL="FocusScope",uy=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...u}=n,[d,h]=T.useState(null),p=di(s),y=di(a),g=T.useRef(null),E=Ft(e,b=>h(b)),S=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let b=function($){if(S.paused||!d)return;const K=$.target;d.contains(K)?g.current=K:xs(g.current,{select:!0})},R=function($){if(S.paused||!d)return;const K=$.relatedTarget;K!==null&&(d.contains(K)||xs(g.current,{select:!0}))},O=function($){if(document.activeElement===document.body)for(const Z of $)Z.removedNodes.length>0&&xs(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",R);const B=new MutationObserver(O);return d&&B.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",R),B.disconnect()}}},[r,d,S.paused]),T.useEffect(()=>{if(d){Z0.add(S);const b=document.activeElement;if(!d.contains(b)){const O=new CustomEvent(sm,X0);d.addEventListener(sm,p),d.dispatchEvent(O),O.defaultPrevented||(KL(ZL(nx(d)),{select:!0}),document.activeElement===b&&xs(d))}return()=>{d.removeEventListener(sm,p),setTimeout(()=>{const O=new CustomEvent(om,X0);d.addEventListener(om,y),d.dispatchEvent(O),O.defaultPrevented||xs(b??document.body,{select:!0}),d.removeEventListener(om,y),Z0.remove(S)},0)}}},[d,p,y,S]);const A=T.useCallback(b=>{if(!t&&!r||S.paused)return;const R=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,O=document.activeElement;if(R&&O){const B=b.currentTarget,[$,K]=QL(B);$&&K?!b.shiftKey&&O===K?(b.preventDefault(),t&&xs($,{select:!0})):b.shiftKey&&O===$&&(b.preventDefault(),t&&xs(K,{select:!0})):O===B&&b.preventDefault()}},[t,r,S.paused]);return x.jsx(ht.div,{tabIndex:-1,...u,ref:E,onKeyDown:A})});uy.displayName=qL;function KL(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(xs(r,{select:e}),document.activeElement!==t)return}function QL(n){const e=nx(n),t=J0(e,n),r=J0(e.reverse(),n);return[t,r]}function nx(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function J0(n,e){for(const t of n)if(!YL(t,{upTo:e}))return t}function YL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function XL(n){return n instanceof HTMLInputElement&&"select"in n}function xs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&XL(n)&&e&&n.select()}}var Z0=JL();function JL(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=eE(n,e),n.unshift(e)},remove(e){var t;n=eE(n,e),(t=n[0])==null||t.resume()}}}function eE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function ZL(n){return n.filter(e=>e.tagName!=="A")}var Mr=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},eV=DE[" useId ".trim().toString()]||(()=>{}),tV=0;function ja(n){const[e,t]=T.useState(eV());return Mr(()=>{t(r=>r??String(tV++))},[n]),n||(e?`radix-${e}`:"")}const nV=["top","right","bottom","left"],zs=Math.min,Gn=Math.max,mf=Math.round,Td=Math.floor,li=n=>({x:n,y:n}),rV={left:"right",right:"left",bottom:"top",top:"bottom"},iV={start:"end",end:"start"};function Ym(n,e,t){return Gn(n,zs(e,t))}function Bi(n,e){return typeof n=="function"?n(e):n}function Wi(n){return n.split("-")[0]}function ll(n){return n.split("-")[1]}function cy(n){return n==="x"?"y":"x"}function dy(n){return n==="y"?"height":"width"}function Vi(n){return["top","bottom"].includes(Wi(n))?"y":"x"}function fy(n){return cy(Vi(n))}function sV(n,e,t){t===void 0&&(t=!1);const r=ll(n),s=fy(n),a=dy(s);let u=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=gf(u)),[u,gf(u)]}function oV(n){const e=gf(n);return[Xm(n),e,Xm(e)]}function Xm(n){return n.replace(/start|end/g,e=>iV[e])}function aV(n,e,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?a:u;default:return[]}}function lV(n,e,t,r){const s=ll(n);let a=aV(Wi(n),t==="start",r);return s&&(a=a.map(u=>u+"-"+s),e&&(a=a.concat(a.map(Xm)))),a}function gf(n){return n.replace(/left|right|bottom|top/g,e=>rV[e])}function uV(n){return{top:0,right:0,bottom:0,left:0,...n}}function rx(n){return typeof n!="number"?uV(n):{top:n,right:n,bottom:n,left:n}}function yf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function tE(n,e,t){let{reference:r,floating:s}=n;const a=Vi(e),u=fy(e),d=dy(u),h=Wi(e),p=a==="y",y=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,E=r[d]/2-s[d]/2;let S;switch(h){case"top":S={x:y,y:r.y-s.height};break;case"bottom":S={x:y,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:g};break;case"left":S={x:r.x-s.width,y:g};break;default:S={x:r.x,y:r.y}}switch(ll(e)){case"start":S[u]-=E*(t&&p?-1:1);break;case"end":S[u]+=E*(t&&p?-1:1);break}return S}const cV=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:u}=t,d=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:s}),{x:y,y:g}=tE(p,r,h),E=r,S={},A=0;for(let b=0;b<d.length;b++){const{name:R,fn:O}=d[b],{x:B,y:$,data:K,reset:Z}=await O({x:y,y:g,initialPlacement:r,placement:E,strategy:s,middlewareData:S,rects:p,platform:u,elements:{reference:n,floating:e}});y=B??y,g=$??g,S={...S,[R]:{...S[R],...K}},Z&&A<=50&&(A++,typeof Z=="object"&&(Z.placement&&(E=Z.placement),Z.rects&&(p=Z.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:s}):Z.rects),{x:y,y:g}=tE(p,E,h)),b=-1)}return{x:y,y:g,placement:E,strategy:s,middlewareData:S}};async function Su(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:u,elements:d,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:E=!1,padding:S=0}=Bi(e,n),A=rx(S),R=d[E?g==="floating"?"reference":"floating":g],O=yf(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(R)))==null||t?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:y,strategy:h})),B=g==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),K=await(a.isElement==null?void 0:a.isElement($))?await(a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},Z=yf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:B,offsetParent:$,strategy:h}):B);return{top:(O.top-Z.top+A.top)/K.y,bottom:(Z.bottom-O.bottom+A.bottom)/K.y,left:(O.left-Z.left+A.left)/K.x,right:(Z.right-O.right+A.right)/K.x}}const dV=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:u,elements:d,middlewareData:h}=e,{element:p,padding:y=0}=Bi(n,e)||{};if(p==null)return{};const g=rx(y),E={x:t,y:r},S=fy(s),A=dy(S),b=await u.getDimensions(p),R=S==="y",O=R?"top":"left",B=R?"bottom":"right",$=R?"clientHeight":"clientWidth",K=a.reference[A]+a.reference[S]-E[S]-a.floating[A],Z=E[S]-a.reference[S],ne=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let N=ne?ne[$]:0;(!N||!await(u.isElement==null?void 0:u.isElement(ne)))&&(N=d.floating[$]||a.floating[A]);const C=K/2-Z/2,k=N/2-b[A]/2-1,L=zs(g[O],k),V=zs(g[B],k),U=L,D=N-b[A]-V,Pe=N/2-b[A]/2+C,xe=Ym(U,Pe,D),ce=!h.arrow&&ll(s)!=null&&Pe!==xe&&a.reference[A]/2-(Pe<U?L:V)-b[A]/2<0,me=ce?Pe<U?Pe-U:Pe-D:0;return{[S]:E[S]+me,data:{[S]:xe,centerOffset:Pe-xe-me,...ce&&{alignmentOffset:me}},reset:ce}}}),fV=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:u,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:E,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:b=!0,...R}=Bi(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const O=Wi(s),B=Vi(d),$=Wi(d)===d,K=await(h.isRTL==null?void 0:h.isRTL(p.floating)),Z=E||($||!b?[gf(d)]:oV(d)),ne=A!=="none";!E&&ne&&Z.push(...lV(d,b,A,K));const N=[d,...Z],C=await Su(e,R),k=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&k.push(C[O]),g){const xe=sV(s,u,K);k.push(C[xe[0]],C[xe[1]])}if(L=[...L,{placement:s,overflows:k}],!k.every(xe=>xe<=0)){var V,U;const xe=(((V=a.flip)==null?void 0:V.index)||0)+1,ce=N[xe];if(ce){var D;const W=g==="alignment"?B!==Vi(ce):!1,J=((D=L[0])==null?void 0:D.overflows[0])>0;if(!W||J)return{data:{index:xe,overflows:L},reset:{placement:ce}}}let me=(U=L.filter(W=>W.overflows[0]<=0).sort((W,J)=>W.overflows[1]-J.overflows[1])[0])==null?void 0:U.placement;if(!me)switch(S){case"bestFit":{var Pe;const W=(Pe=L.filter(J=>{if(ne){const re=Vi(J.placement);return re===B||re==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(re=>re>0).reduce((re,F)=>re+F,0)]).sort((J,re)=>J[1]-re[1])[0])==null?void 0:Pe[0];W&&(me=W);break}case"initialPlacement":me=d;break}if(s!==me)return{reset:{placement:me}}}return{}}}};function nE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function rE(n){return nV.some(e=>n[e]>=0)}const hV=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=Bi(n,e);switch(r){case"referenceHidden":{const a=await Su(e,{...s,elementContext:"reference"}),u=nE(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:rE(u)}}}case"escaped":{const a=await Su(e,{...s,altBoundary:!0}),u=nE(a,t.floating);return{data:{escapedOffsets:u,escaped:rE(u)}}}default:return{}}}}};async function pV(n,e){const{placement:t,platform:r,elements:s}=n,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=Wi(t),d=ll(t),h=Vi(t)==="y",p=["left","top"].includes(u)?-1:1,y=a&&h?-1:1,g=Bi(e,n);let{mainAxis:E,crossAxis:S,alignmentAxis:A}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof A=="number"&&(S=d==="end"?A*-1:A),h?{x:S*y,y:E*p}:{x:E*p,y:S*y}}const mV=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:a,placement:u,middlewareData:d}=e,h=await pV(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:u}}}}},gV=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:R=>{let{x:O,y:B}=R;return{x:O,y:B}}},...h}=Bi(n,e),p={x:t,y:r},y=await Su(e,h),g=Vi(Wi(s)),E=cy(g);let S=p[E],A=p[g];if(a){const R=E==="y"?"top":"left",O=E==="y"?"bottom":"right",B=S+y[R],$=S-y[O];S=Ym(B,S,$)}if(u){const R=g==="y"?"top":"left",O=g==="y"?"bottom":"right",B=A+y[R],$=A-y[O];A=Ym(B,A,$)}const b=d.fn({...e,[E]:S,[g]:A});return{...b,data:{x:b.x-t,y:b.y-r,enabled:{[E]:a,[g]:u}}}}}},yV=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=Bi(n,e),y={x:t,y:r},g=Vi(s),E=cy(g);let S=y[E],A=y[g];const b=Bi(d,e),R=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const $=E==="y"?"height":"width",K=a.reference[E]-a.floating[$]+R.mainAxis,Z=a.reference[E]+a.reference[$]-R.mainAxis;S<K?S=K:S>Z&&(S=Z)}if(p){var O,B;const $=E==="y"?"width":"height",K=["top","left"].includes(Wi(s)),Z=a.reference[g]-a.floating[$]+(K&&((O=u.offset)==null?void 0:O[g])||0)+(K?0:R.crossAxis),ne=a.reference[g]+a.reference[$]+(K?0:((B=u.offset)==null?void 0:B[g])||0)-(K?R.crossAxis:0);A<Z?A=Z:A>ne&&(A=ne)}return{[E]:S,[g]:A}}}},vV=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:a,platform:u,elements:d}=e,{apply:h=()=>{},...p}=Bi(n,e),y=await Su(e,p),g=Wi(s),E=ll(s),S=Vi(s)==="y",{width:A,height:b}=a.floating;let R,O;g==="top"||g==="bottom"?(R=g,O=E===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(O=g,R=E==="end"?"top":"bottom");const B=b-y.top-y.bottom,$=A-y.left-y.right,K=zs(b-y[R],B),Z=zs(A-y[O],$),ne=!e.middlewareData.shift;let N=K,C=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=$),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=B),ne&&!E){const L=Gn(y.left,0),V=Gn(y.right,0),U=Gn(y.top,0),D=Gn(y.bottom,0);S?C=A-2*(L!==0||V!==0?L+V:Gn(y.left,y.right)):N=b-2*(U!==0||D!==0?U+D:Gn(y.top,y.bottom))}await h({...e,availableWidth:C,availableHeight:N});const k=await u.getDimensions(d.floating);return A!==k.width||b!==k.height?{reset:{rects:!0}}:{}}}};function eh(){return typeof window<"u"}function ul(n){return ix(n)?(n.nodeName||"").toLowerCase():"#document"}function Yn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function pi(n){var e;return(e=(ix(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function ix(n){return eh()?n instanceof Node||n instanceof Yn(n).Node:!1}function Lr(n){return eh()?n instanceof Element||n instanceof Yn(n).Element:!1}function fi(n){return eh()?n instanceof HTMLElement||n instanceof Yn(n).HTMLElement:!1}function iE(n){return!eh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Yn(n).ShadowRoot}function Gu(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Vr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function _V(n){return["table","td","th"].includes(ul(n))}function th(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function hy(n){const e=py(),t=Lr(n)?Vr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function wV(n){let e=Bs(n);for(;fi(e)&&!Ja(e);){if(hy(e))return e;if(th(e))return null;e=Bs(e)}return null}function py(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ja(n){return["html","body","#document"].includes(ul(n))}function Vr(n){return Yn(n).getComputedStyle(n)}function nh(n){return Lr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Bs(n){if(ul(n)==="html")return n;const e=n.assignedSlot||n.parentNode||iE(n)&&n.host||pi(n);return iE(e)?e.host:e}function sx(n){const e=Bs(n);return Ja(e)?n.ownerDocument?n.ownerDocument.body:n.body:fi(e)&&Gu(e)?e:sx(e)}function xu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=sx(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),u=Yn(s);if(a){const d=Jm(u);return e.concat(u,u.visualViewport||[],Gu(s)?s:[],d&&t?xu(d):[])}return e.concat(s,xu(s,[],t))}function Jm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function ox(n){const e=Vr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fi(n),a=s?n.offsetWidth:t,u=s?n.offsetHeight:r,d=mf(t)!==a||mf(r)!==u;return d&&(t=a,r=u),{width:t,height:r,$:d}}function my(n){return Lr(n)?n:n.contextElement}function Ua(n){const e=my(n);if(!fi(e))return li(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=ox(e);let u=(a?mf(t.width):t.width)/r,d=(a?mf(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const EV=li(0);function ax(n){const e=Yn(n);return!py()||!e.visualViewport?EV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Yn(n)?!1:e}function Oo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=my(n);let u=li(1);e&&(r?Lr(r)&&(u=Ua(r)):u=Ua(n));const d=TV(a,t,r)?ax(a):li(0);let h=(s.left+d.x)/u.x,p=(s.top+d.y)/u.y,y=s.width/u.x,g=s.height/u.y;if(a){const E=Yn(a),S=r&&Lr(r)?Yn(r):r;let A=E,b=Jm(A);for(;b&&r&&S!==A;){const R=Ua(b),O=b.getBoundingClientRect(),B=Vr(b),$=O.left+(b.clientLeft+parseFloat(B.paddingLeft))*R.x,K=O.top+(b.clientTop+parseFloat(B.paddingTop))*R.y;h*=R.x,p*=R.y,y*=R.x,g*=R.y,h+=$,p+=K,A=Yn(b),b=Jm(A)}}return yf({width:y,height:g,x:h,y:p})}function gy(n,e){const t=nh(n).scrollLeft;return e?e.left+t:Oo(pi(n)).left+t}function lx(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:gy(n,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function IV(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const a=s==="fixed",u=pi(r),d=e?th(e.floating):!1;if(r===u||d&&a)return t;let h={scrollLeft:0,scrollTop:0},p=li(1);const y=li(0),g=fi(r);if((g||!g&&!a)&&((ul(r)!=="body"||Gu(u))&&(h=nh(r)),fi(r))){const S=Oo(r);p=Ua(r),y.x=S.x+r.clientLeft,y.y=S.y+r.clientTop}const E=u&&!g&&!a?lx(u,h,!0):li(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+y.x+E.x,y:t.y*p.y-h.scrollTop*p.y+y.y+E.y}}function SV(n){return Array.from(n.getClientRects())}function xV(n){const e=pi(n),t=nh(n),r=n.ownerDocument.body,s=Gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+gy(n);const d=-t.scrollTop;return Vr(r).direction==="rtl"&&(u+=Gn(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:u,y:d}}function AV(n,e){const t=Yn(n),r=pi(n),s=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,d=0,h=0;if(s){a=s.width,u=s.height;const p=py();(!p||p&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}return{width:a,height:u,x:d,y:h}}function CV(n,e){const t=Oo(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,a=fi(n)?Ua(n):li(1),u=n.clientWidth*a.x,d=n.clientHeight*a.y,h=s*a.x,p=r*a.y;return{width:u,height:d,x:h,y:p}}function sE(n,e,t){let r;if(e==="viewport")r=AV(n,t);else if(e==="document")r=xV(pi(n));else if(Lr(e))r=CV(e,t);else{const s=ax(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return yf(r)}function ux(n,e){const t=Bs(n);return t===e||!Lr(t)||Ja(t)?!1:Vr(t).position==="fixed"||ux(t,e)}function RV(n,e){const t=e.get(n);if(t)return t;let r=xu(n,[],!1).filter(d=>Lr(d)&&ul(d)!=="body"),s=null;const a=Vr(n).position==="fixed";let u=a?Bs(n):n;for(;Lr(u)&&!Ja(u);){const d=Vr(u),h=hy(u);!h&&d.position==="fixed"&&(s=null),(a?!h&&!s:!h&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gu(u)&&!h&&ux(n,u))?r=r.filter(y=>y!==u):s=d,u=Bs(u)}return e.set(n,r),r}function bV(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const u=[...t==="clippingAncestors"?th(e)?[]:RV(e,this._c):[].concat(t),r],d=u[0],h=u.reduce((p,y)=>{const g=sE(e,y,s);return p.top=Gn(g.top,p.top),p.right=zs(g.right,p.right),p.bottom=zs(g.bottom,p.bottom),p.left=Gn(g.left,p.left),p},sE(e,d,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function PV(n){const{width:e,height:t}=ox(n);return{width:e,height:t}}function kV(n,e,t){const r=fi(e),s=pi(e),a=t==="fixed",u=Oo(n,!0,a,e);let d={scrollLeft:0,scrollTop:0};const h=li(0);function p(){h.x=gy(s)}if(r||!r&&!a)if((ul(e)!=="body"||Gu(s))&&(d=nh(e)),r){const S=Oo(e,!0,a,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else s&&p();a&&!r&&s&&p();const y=s&&!r&&!a?lx(s,d):li(0),g=u.left+d.scrollLeft-h.x-y.x,E=u.top+d.scrollTop-h.y-y.y;return{x:g,y:E,width:u.width,height:u.height}}function am(n){return Vr(n).position==="static"}function oE(n,e){if(!fi(n)||Vr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return pi(n)===t&&(t=t.ownerDocument.body),t}function cx(n,e){const t=Yn(n);if(th(n))return t;if(!fi(n)){let s=Bs(n);for(;s&&!Ja(s);){if(Lr(s)&&!am(s))return s;s=Bs(s)}return t}let r=oE(n,e);for(;r&&_V(r)&&am(r);)r=oE(r,e);return r&&Ja(r)&&am(r)&&!hy(r)?t:r||wV(n)||t}const NV=async function(n){const e=this.getOffsetParent||cx,t=this.getDimensions,r=await t(n.floating);return{reference:kV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DV(n){return Vr(n).direction==="rtl"}const OV={convertOffsetParentRelativeRectToViewportRelativeRect:IV,getDocumentElement:pi,getClippingRect:bV,getOffsetParent:cx,getElementRects:NV,getClientRects:SV,getDimensions:PV,getScale:Ua,isElement:Lr,isRTL:DV};function dx(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function MV(n,e){let t=null,r;const s=pi(n);function a(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const p=n.getBoundingClientRect(),{left:y,top:g,width:E,height:S}=p;if(d||e(),!E||!S)return;const A=Td(g),b=Td(s.clientWidth-(y+E)),R=Td(s.clientHeight-(g+S)),O=Td(y),$={rootMargin:-A+"px "+-b+"px "+-R+"px "+-O+"px",threshold:Gn(0,zs(1,h))||1};let K=!0;function Z(ne){const N=ne[0].intersectionRatio;if(N!==h){if(!K)return u();N?u(!1,N):r=setTimeout(()=>{u(!1,1e-7)},1e3)}N===1&&!dx(p,n.getBoundingClientRect())&&u(),K=!1}try{t=new IntersectionObserver(Z,{...$,root:s.ownerDocument})}catch{t=new IntersectionObserver(Z,$)}t.observe(n)}return u(!0),a}function LV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=my(n),y=s||a?[...p?xu(p):[],...xu(e)]:[];y.forEach(O=>{s&&O.addEventListener("scroll",t,{passive:!0}),a&&O.addEventListener("resize",t)});const g=p&&d?MV(p,t):null;let E=-1,S=null;u&&(S=new ResizeObserver(O=>{let[B]=O;B&&B.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var $;($=S)==null||$.observe(e)})),t()}),p&&!h&&S.observe(p),S.observe(e));let A,b=h?Oo(n):null;h&&R();function R(){const O=Oo(n);b&&!dx(b,O)&&t(),b=O,A=requestAnimationFrame(R)}return t(),()=>{var O;y.forEach(B=>{s&&B.removeEventListener("scroll",t),a&&B.removeEventListener("resize",t)}),g==null||g(),(O=S)==null||O.disconnect(),S=null,h&&cancelAnimationFrame(A)}}const VV=mV,FV=gV,jV=fV,UV=vV,$V=hV,aE=dV,zV=yV,BV=(n,e,t)=>{const r=new Map,s={platform:OV,...t},a={...s.platform,_c:r};return cV(n,e,{...s,platform:a})};var Ud=typeof document<"u"?T.useLayoutEffect:T.useEffect;function vf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!vf(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&n.$$typeof)&&!vf(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function fx(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function lE(n,e){const t=fx(n);return Math.round(e*t)/t}function lm(n){const e=T.useRef(n);return Ud(()=>{e.current=n}),e}function WV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:h,open:p}=n,[y,g]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,S]=T.useState(r);vf(E,r)||S(r);const[A,b]=T.useState(null),[R,O]=T.useState(null),B=T.useCallback(W=>{W!==ne.current&&(ne.current=W,b(W))},[]),$=T.useCallback(W=>{W!==N.current&&(N.current=W,O(W))},[]),K=a||A,Z=u||R,ne=T.useRef(null),N=T.useRef(null),C=T.useRef(y),k=h!=null,L=lm(h),V=lm(s),U=lm(p),D=T.useCallback(()=>{if(!ne.current||!N.current)return;const W={placement:e,strategy:t,middleware:E};V.current&&(W.platform=V.current),BV(ne.current,N.current,W).then(J=>{const re={...J,isPositioned:U.current!==!1};Pe.current&&!vf(C.current,re)&&(C.current=re,ay.flushSync(()=>{g(re)}))})},[E,e,t,V,U]);Ud(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(W=>({...W,isPositioned:!1})))},[p]);const Pe=T.useRef(!1);Ud(()=>(Pe.current=!0,()=>{Pe.current=!1}),[]),Ud(()=>{if(K&&(ne.current=K),Z&&(N.current=Z),K&&Z){if(L.current)return L.current(K,Z,D);D()}},[K,Z,D,L,k]);const xe=T.useMemo(()=>({reference:ne,floating:N,setReference:B,setFloating:$}),[B,$]),ce=T.useMemo(()=>({reference:K,floating:Z}),[K,Z]),me=T.useMemo(()=>{const W={position:t,left:0,top:0};if(!ce.floating)return W;const J=lE(ce.floating,y.x),re=lE(ce.floating,y.y);return d?{...W,transform:"translate("+J+"px, "+re+"px)",...fx(ce.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:J,top:re}},[t,d,ce.floating,y.x,y.y]);return T.useMemo(()=>({...y,update:D,refs:xe,elements:ce,floatingStyles:me}),[y,D,xe,ce,me])}const HV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?aE({element:r.current,padding:s}).fn(t):{}:r?aE({element:r,padding:s}).fn(t):{}}}},GV=(n,e)=>({...VV(n),options:[n,e]}),qV=(n,e)=>({...FV(n),options:[n,e]}),KV=(n,e)=>({...zV(n),options:[n,e]}),QV=(n,e)=>({...jV(n),options:[n,e]}),YV=(n,e)=>({...UV(n),options:[n,e]}),XV=(n,e)=>({...$V(n),options:[n,e]}),JV=(n,e)=>({...HV(n),options:[n,e]});var ZV="Arrow",hx=T.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...a}=n;return x.jsx(ht.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});hx.displayName=ZV;var e4=hx;function t4(n){const[e,t]=T.useState(void 0);return Mr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let u,d;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,d=p.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var yy="Popper",[px,mx]=Qs(yy),[n4,gx]=px(yy),yx=n=>{const{__scopePopper:e,children:t}=n,[r,s]=T.useState(null);return x.jsx(n4,{scope:e,anchor:r,onAnchorChange:s,children:t})};yx.displayName=yy;var vx="PopperAnchor",_x=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,a=gx(vx,t),u=T.useRef(null),d=Ft(e,u);return T.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:x.jsx(ht.div,{...s,ref:d})});_x.displayName=vx;var vy="PopperContent",[r4,i4]=px(vy),wx=T.forwardRef((n,e)=>{var ve,Me,Ne,He,jt,Ht;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:E=!1,updatePositionStrategy:S="optimized",onPlaced:A,...b}=n,R=gx(vy,t),[O,B]=T.useState(null),$=Ft(e,Zt=>B(Zt)),[K,Z]=T.useState(null),ne=t4(K),N=(ne==null?void 0:ne.width)??0,C=(ne==null?void 0:ne.height)??0,k=r+(a!=="center"?"-"+a:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(p)?p:[p],U=V.length>0,D={padding:L,boundary:V.filter(o4),altBoundary:U},{refs:Pe,floatingStyles:xe,placement:ce,isPositioned:me,middlewareData:W}=WV({strategy:"fixed",placement:k,whileElementsMounted:(...Zt)=>LV(...Zt,{animationFrame:S==="always"}),elements:{reference:R.anchor},middleware:[GV({mainAxis:s+C,alignmentAxis:u}),h&&qV({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?KV():void 0,...D}),h&&QV({...D}),YV({...D,apply:({elements:Zt,rects:vn,availableWidth:Br,availableHeight:Wr})=>{const{width:Mn,height:mi}=vn.reference,Et=Zt.floating.style;Et.setProperty("--radix-popper-available-width",`${Br}px`),Et.setProperty("--radix-popper-available-height",`${Wr}px`),Et.setProperty("--radix-popper-anchor-width",`${Mn}px`),Et.setProperty("--radix-popper-anchor-height",`${mi}px`)}}),K&&JV({element:K,padding:d}),a4({arrowWidth:N,arrowHeight:C}),E&&XV({strategy:"referenceHidden",...D})]}),[J,re]=Ix(ce),F=di(A);Mr(()=>{me&&(F==null||F())},[me,F]);const Q=(ve=W.arrow)==null?void 0:ve.x,ie=(Me=W.arrow)==null?void 0:Me.y,fe=((Ne=W.arrow)==null?void 0:Ne.centerOffset)!==0,[Ae,ge]=T.useState();return Mr(()=>{O&&ge(window.getComputedStyle(O).zIndex)},[O]),x.jsx("div",{ref:Pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:me?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(He=W.transformOrigin)==null?void 0:He.x,(jt=W.transformOrigin)==null?void 0:jt.y].join(" "),...((Ht=W.hide)==null?void 0:Ht.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:x.jsx(r4,{scope:t,placedSide:J,onArrowChange:Z,arrowX:Q,arrowY:ie,shouldHideArrow:fe,children:x.jsx(ht.div,{"data-side":J,"data-align":re,...b,ref:$,style:{...b.style,animation:me?void 0:"none"}})})})});wx.displayName=vy;var Ex="PopperArrow",s4={top:"bottom",right:"left",bottom:"top",left:"right"},Tx=T.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,a=i4(Ex,r),u=s4[a.placedSide];return x.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:x.jsx(e4,{...s,ref:t,style:{...s.style,display:"block"}})})});Tx.displayName=Ex;function o4(n){return n!==null}var a4=n=>({name:"transformOrigin",options:n,fn(e){var R,O,B;const{placement:t,rects:r,middlewareData:s}=e,u=((R=s.arrow)==null?void 0:R.centerOffset)!==0,d=u?0:n.arrowWidth,h=u?0:n.arrowHeight,[p,y]=Ix(t),g={start:"0%",center:"50%",end:"100%"}[y],E=(((O=s.arrow)==null?void 0:O.x)??0)+d/2,S=(((B=s.arrow)==null?void 0:B.y)??0)+h/2;let A="",b="";return p==="bottom"?(A=u?g:`${E}px`,b=`${-h}px`):p==="top"?(A=u?g:`${E}px`,b=`${r.floating.height+h}px`):p==="right"?(A=`${-h}px`,b=u?g:`${S}px`):p==="left"&&(A=`${r.floating.width+h}px`,b=u?g:`${S}px`),{data:{x:A,y:b}}}});function Ix(n){const[e,t="center"]=n.split("-");return[e,t]}var l4=yx,u4=_x,c4=wx,d4=Tx,f4="Portal",_y=T.forwardRef((n,e)=>{var d;const{container:t,...r}=n,[s,a]=T.useState(!1);Mr(()=>a(!0),[]);const u=t||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?qS.createPortal(x.jsx(ht.div,{...r,ref:e}),u):null});_y.displayName=f4;var h4=DE[" useInsertionEffect ".trim().toString()]||Mr;function wy({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,a,u]=p4({defaultProp:e,onChange:t}),d=n!==void 0,h=d?n:s;{const y=T.useRef(n!==void 0);T.useEffect(()=>{const g=y.current;g!==d&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,r])}const p=T.useCallback(y=>{var g;if(d){const E=m4(y)?y(n):y;E!==n&&((g=u.current)==null||g.call(u,E))}else a(y)},[d,n,a,u]);return[h,p]}function p4({defaultProp:n,onChange:e}){const[t,r]=T.useState(n),s=T.useRef(t),a=T.useRef(e);return h4(()=>{a.current=e},[e]),T.useEffect(()=>{var u;s.current!==t&&((u=a.current)==null||u.call(a,t),s.current=t)},[t,s]),[t,r,a]}function m4(n){return typeof n=="function"}var g4=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Aa=new WeakMap,Id=new WeakMap,Sd={},um=0,Sx=function(n){return n&&(n.host||Sx(n.parentNode))},y4=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Sx(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},v4=function(n,e,t,r){var s=y4(e,Array.isArray(n)?n:[n]);Sd[t]||(Sd[t]=new WeakMap);var a=Sd[t],u=[],d=new Set,h=new Set(s),p=function(g){!g||d.has(g)||(d.add(g),p(g.parentNode))};s.forEach(p);var y=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(E){if(d.has(E))y(E);else try{var S=E.getAttribute(r),A=S!==null&&S!=="false",b=(Aa.get(E)||0)+1,R=(a.get(E)||0)+1;Aa.set(E,b),a.set(E,R),u.push(E),b===1&&A&&Id.set(E,!0),R===1&&E.setAttribute(t,"true"),A||E.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",E,O)}})};return y(e),d.clear(),um++,function(){u.forEach(function(g){var E=Aa.get(g)-1,S=a.get(g)-1;Aa.set(g,E),a.set(g,S),E||(Id.has(g)||g.removeAttribute(r),Id.delete(g)),S||g.removeAttribute(t)}),um--,um||(Aa=new WeakMap,Aa=new WeakMap,Id=new WeakMap,Sd={})}},xx=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=g4(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),v4(r,s,t,"aria-hidden")):function(){return null}},$d="right-scroll-bar-position",zd="width-before-scroll-bar",_4="with-scroll-bars-hidden",w4="--removed-body-scroll-bar-size";function cm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function E4(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var T4=typeof window<"u"?T.useLayoutEffect:T.useEffect,uE=new WeakMap;function I4(n,e){var t=E4(null,function(r){return n.forEach(function(s){return cm(s,r)})});return T4(function(){var r=uE.get(t);if(r){var s=new Set(r),a=new Set(n),u=t.current;s.forEach(function(d){a.has(d)||cm(d,null)}),a.forEach(function(d){s.has(d)||cm(d,u)})}uE.set(t,n)},[n]),t}function S4(n){return n}function x4(n,e){e===void 0&&(e=S4);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,r);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(r=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(d){return a(d)},filter:function(){return t}}},assignMedium:function(a){r=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(a),u=t}var h=function(){var y=u;u=[],y.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),t}}}};return s}function A4(n){n===void 0&&(n={});var e=x4(null);return e.options=ii({async:!0,ssr:!1},n),e}var Ax=function(n){var e=n.sideCar,t=Pu(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,ii({},t))};Ax.isSideCarExport=!0;function C4(n,e){return n.useMedium(e),Ax}var Cx=A4(),dm=function(){},rh=T.forwardRef(function(n,e){var t=T.useRef(null),r=T.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),s=r[0],a=r[1],u=n.forwardProps,d=n.children,h=n.className,p=n.removeScrollBar,y=n.enabled,g=n.shards,E=n.sideCar,S=n.noIsolation,A=n.inert,b=n.allowPinchZoom,R=n.as,O=R===void 0?"div":R,B=n.gapMode,$=Pu(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=E,Z=I4([t,e]),ne=ii(ii({},$),s);return T.createElement(T.Fragment,null,y&&T.createElement(K,{sideCar:Cx,removeScrollBar:p,shards:g,noIsolation:S,inert:A,setCallbacks:a,allowPinchZoom:!!b,lockRef:t,gapMode:B}),u?T.cloneElement(T.Children.only(d),ii(ii({},ne),{ref:Z})):T.createElement(O,ii({},ne,{className:h,ref:Z}),d))});rh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rh.classNames={fullWidth:zd,zeroRight:$d};var R4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function b4(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=R4();return e&&n.setAttribute("nonce",e),n}function P4(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function k4(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var N4=function(){var n=0,e=null;return{add:function(t){n==0&&(e=b4())&&(P4(e,t),k4(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},D4=function(){var n=N4();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Rx=function(){var n=D4(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},O4={left:0,top:0,right:0,gap:0},fm=function(n){return parseInt(n||"",10)||0},M4=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[fm(t),fm(r),fm(s)]},L4=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return O4;var e=M4(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},V4=Rx(),$a="data-scroll-locked",F4=function(n,e,t,r){var s=n.left,a=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(_4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat($a,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($d,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(zd,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat($d," .").concat($d,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($a,`] {
    `).concat(w4,": ").concat(d,`px;
  }
`)},cE=function(){var n=parseInt(document.body.getAttribute($a)||"0",10);return isFinite(n)?n:0},j4=function(){T.useEffect(function(){return document.body.setAttribute($a,(cE()+1).toString()),function(){var n=cE()-1;n<=0?document.body.removeAttribute($a):document.body.setAttribute($a,n.toString())}},[])},U4=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;j4();var a=T.useMemo(function(){return L4(s)},[s]);return T.createElement(V4,{styles:F4(a,!e,s,t?"":"!important")})},Zm=!1;if(typeof window<"u")try{var xd=Object.defineProperty({},"passive",{get:function(){return Zm=!0,!0}});window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Zm=!1}var Ca=Zm?{passive:!1}:!1,$4=function(n){return n.tagName==="TEXTAREA"},bx=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!$4(n)&&t[e]==="visible")},z4=function(n){return bx(n,"overflowY")},B4=function(n){return bx(n,"overflowX")},dE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Px(n,r);if(s){var a=kx(n,r),u=a[1],d=a[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},W4=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},H4=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Px=function(n,e){return n==="v"?z4(e):B4(e)},kx=function(n,e){return n==="v"?W4(e):H4(e)},G4=function(n,e){return n==="h"&&e==="rtl"?-1:1},q4=function(n,e,t,r,s){var a=G4(n,window.getComputedStyle(e).direction),u=a*r,d=t.target,h=e.contains(d),p=!1,y=u>0,g=0,E=0;do{var S=kx(n,d),A=S[0],b=S[1],R=S[2],O=b-R-a*A;(A||O)&&Px(n,d)&&(g+=O,E+=A),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(y&&Math.abs(g)<1||!y&&Math.abs(E)<1)&&(p=!0),p},Ad=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},fE=function(n){return[n.deltaX,n.deltaY]},hE=function(n){return n&&"current"in n?n.current:n},K4=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Q4=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Y4=0,Ra=[];function X4(n){var e=T.useRef([]),t=T.useRef([0,0]),r=T.useRef(),s=T.useState(Y4++)[0],a=T.useState(Rx)[0],u=T.useRef(n);T.useEffect(function(){u.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var b=W1([n.lockRef.current],(n.shards||[]).map(hE),!0).filter(Boolean);return b.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var d=T.useCallback(function(b,R){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var O=Ad(b),B=t.current,$="deltaX"in b?b.deltaX:B[0]-O[0],K="deltaY"in b?b.deltaY:B[1]-O[1],Z,ne=b.target,N=Math.abs($)>Math.abs(K)?"h":"v";if("touches"in b&&N==="h"&&ne.type==="range")return!1;var C=dE(N,ne);if(!C)return!0;if(C?Z=N:(Z=N==="v"?"h":"v",C=dE(N,ne)),!C)return!1;if(!r.current&&"changedTouches"in b&&($||K)&&(r.current=Z),!Z)return!0;var k=r.current||Z;return q4(k,R,b,k==="h"?$:K)},[]),h=T.useCallback(function(b){var R=b;if(!(!Ra.length||Ra[Ra.length-1]!==a)){var O="deltaY"in R?fE(R):Ad(R),B=e.current.filter(function(Z){return Z.name===R.type&&(Z.target===R.target||R.target===Z.shadowParent)&&K4(Z.delta,O)})[0];if(B&&B.should){R.cancelable&&R.preventDefault();return}if(!B){var $=(u.current.shards||[]).map(hE).filter(Boolean).filter(function(Z){return Z.contains(R.target)}),K=$.length>0?d(R,$[0]):!u.current.noIsolation;K&&R.cancelable&&R.preventDefault()}}},[]),p=T.useCallback(function(b,R,O,B){var $={name:b,delta:R,target:O,should:B,shadowParent:J4(O)};e.current.push($),setTimeout(function(){e.current=e.current.filter(function(K){return K!==$})},1)},[]),y=T.useCallback(function(b){t.current=Ad(b),r.current=void 0},[]),g=T.useCallback(function(b){p(b.type,fE(b),b.target,d(b,n.lockRef.current))},[]),E=T.useCallback(function(b){p(b.type,Ad(b),b.target,d(b,n.lockRef.current))},[]);T.useEffect(function(){return Ra.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:E}),document.addEventListener("wheel",h,Ca),document.addEventListener("touchmove",h,Ca),document.addEventListener("touchstart",y,Ca),function(){Ra=Ra.filter(function(b){return b!==a}),document.removeEventListener("wheel",h,Ca),document.removeEventListener("touchmove",h,Ca),document.removeEventListener("touchstart",y,Ca)}},[]);var S=n.removeScrollBar,A=n.inert;return T.createElement(T.Fragment,null,A?T.createElement(a,{styles:Q4(s)}):null,S?T.createElement(U4,{gapMode:n.gapMode}):null)}function J4(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Z4=C4(Cx,X4);var Ey=T.forwardRef(function(n,e){return T.createElement(rh,ii({},n,{ref:e,sideCar:Z4}))});Ey.classNames=rh.classNames;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tF=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),pE=n=>{const e=tF(n);return e.charAt(0).toUpperCase()+e.slice(1)},Nx=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),nF=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...d},h)=>T.createElement("svg",{ref:h,...rF,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Nx("lucide",s),...!a&&!nF(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>T.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=(n,e)=>{const t=T.forwardRef(({className:r,...s},a)=>T.createElement(iF,{ref:a,iconNode:e,className:Nx(`lucide-${eF(pE(n))}`,`lucide-${n}`,r),...s}));return t.displayName=pE(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],oF=gn("chart-no-axes-column-increasing",sF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lF=gn("chevron-down",aF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cF=gn("chevron-left",uF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fF=gn("chevron-right",dF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],pF=gn("dumbbell",hF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],gF=gn("house",mF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vF=gn("layout-dashboard",yF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ty=gn("loader-circle",_F);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],EF=gn("log-out",wF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],IF=gn("moon",TF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xF=gn("sun",SF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],CF=gn("target",AF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dx=gn("triangle-alert",RF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PF=gn("user",bF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],NF=gn("utensils-crossed",kF),mE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gE=LS,Ox=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return gE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,u=Object.keys(s).map(p=>{const y=t==null?void 0:t[p],g=a==null?void 0:a[p];if(y===null)return null;const E=mE(y)||mE(g);return s[p][E]}),d=t&&Object.entries(t).reduce((p,y)=>{let[g,E]=y;return E===void 0||(p[g]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:g,className:E,...S}=y;return Object.entries(S).every(A=>{let[b,R]=A;return Array.isArray(R)?R.includes({...a,...d}[b]):{...a,...d}[b]===R})?[...p,g,E]:p},[]);return gE(n,u,h,t==null?void 0:t.class,t==null?void 0:t.className)},DF=Ox("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Mx({className:n,variant:e,...t}){return x.jsx("div",{"data-slot":"alert",role:"alert",className:Je(DF({variant:e}),n),...t})}function Lx({className:n,...e}){return x.jsx("div",{"data-slot":"alert-description",className:Je("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}var hm={exports:{}},pm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function OF(){if(yE)return pm;yE=1;var n=If();function e(g,E){return g===E&&(g!==0||1/g===1/E)||g!==g&&E!==E}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function d(g,E){var S=E(),A=r({inst:{value:S,getSnapshot:E}}),b=A[0].inst,R=A[1];return a(function(){b.value=S,b.getSnapshot=E,h(b)&&R({inst:b})},[g,S,E]),s(function(){return h(b)&&R({inst:b}),g(function(){h(b)&&R({inst:b})})},[g]),u(S),S}function h(g){var E=g.getSnapshot;g=g.value;try{var S=E();return!t(g,S)}catch{return!0}}function p(g,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return pm.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,pm}var vE;function MF(){return vE||(vE=1,hm.exports=OF()),hm.exports}var LF=MF();function VF(){return LF.useSyncExternalStore(FF,()=>!0,()=>!1)}function FF(){return()=>{}}var Iy="Avatar",[jF,Z5]=Qs(Iy),[UF,Vx]=jF(Iy),Fx=T.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[s,a]=T.useState("idle");return x.jsx(UF,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:x.jsx(ht.span,{...r,ref:e})})});Fx.displayName=Iy;var jx="AvatarImage",Ux=T.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:s=()=>{},...a}=n,u=Vx(jx,t),d=zF(r,a),h=di(p=>{s(p),u.onImageLoadingStatusChange(p)});return Mr(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?x.jsx(ht.img,{...a,ref:e,src:r}):null});Ux.displayName=jx;var $x="AvatarFallback",$F=T.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...s}=n,a=Vx($x,t),[u,d]=T.useState(r===void 0);return T.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(h)}},[r]),u&&a.imageLoadingStatus!=="loaded"?x.jsx(ht.span,{...s,ref:e}):null});$F.displayName=$x;function _E(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zF(n,{referrerPolicy:e,crossOrigin:t}){const r=VF(),s=T.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[u,d]=T.useState(()=>_E(a,n));return Mr(()=>{d(_E(a,n))},[a,n]),Mr(()=>{const h=g=>()=>{d(g)};if(!a)return;const p=h("loaded"),y=h("error");return a.addEventListener("load",p),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",p),a.removeEventListener("error",y)}},[a,t,e]),u}var BF=Fx,WF=Ux;function HF({className:n,...e}){return x.jsx(BF,{"data-slot":"avatar",className:Je("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function GF({className:n,...e}){return x.jsx(WF,{"data-slot":"avatar-image",className:Je("aspect-square size-full",n),...e})}const Sy=Ox("inline-flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Hi=T.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},a)=>{const u=r?AL:"button";return x.jsx(u,{className:Je(Sy({variant:e,size:t,className:n})),ref:a,...s})});Hi.displayName="Button";var hu=function(){return hu=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},hu.apply(this,arguments)};var qF=T.createContext(void 0);function KF(){var n=T.useContext(qF);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}T.createContext(void 0);T.forwardRef(function(n,e){var t=KF(),r=t.classNames,s=t.styles,a=[r.button_reset,r.button];n.className&&a.push(n.className);var u=a.join(" "),d=hu(hu({},s.button_reset),s.button);return n.style&&Object.assign(d,n.style),x.jsx("button",hu({},n,{ref:e,type:"button",className:u,style:d}))});T.createContext(void 0);T.createContext(void 0);var hi;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(hi||(hi={}));hi.Selected;hi.Disabled;hi.Hidden;hi.Today;hi.RangeEnd;hi.RangeMiddle;hi.RangeStart;hi.Outside;T.createContext(void 0);T.createContext(void 0);T.createContext(void 0);function QF(n,e){return T.useReducer((t,r)=>e[t][r]??t,n)}var Ys=n=>{const{present:e,children:t}=n,r=YF(e),s=typeof t=="function"?t({present:r.isPresent}):T.Children.only(t),a=Ft(r.ref,XF(s));return typeof t=="function"||r.isPresent?T.cloneElement(s,{ref:a}):null};Ys.displayName="Presence";function YF(n){const[e,t]=T.useState(),r=T.useRef(null),s=T.useRef(n),a=T.useRef("none"),u=n?"mounted":"unmounted",[d,h]=QF(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=Cd(r.current);a.current=d==="mounted"?p:"none"},[d]),Mr(()=>{const p=r.current,y=s.current;if(y!==n){const E=a.current,S=Cd(p);n?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(y&&E!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),Mr(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,g=S=>{const b=Cd(r.current).includes(S.animationName);if(S.target===e&&b&&(h("ANIMATION_END"),!s.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=S=>{S.target===e&&(a.current=Cd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:T.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Cd(n){return(n==null?void 0:n.animationName)||"none"}function XF(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var mm="rovingFocusGroup.onEntryFocus",JF={bubbles:!1,cancelable:!0},qu="RovingFocusGroup",[eg,zx,ZF]=XS(qu),[ej,Bx]=Qs(qu,[ZF]),[tj,nj]=ej(qu),Wx=T.forwardRef((n,e)=>x.jsx(eg.Provider,{scope:n.__scopeRovingFocusGroup,children:x.jsx(eg.Slot,{scope:n.__scopeRovingFocusGroup,children:x.jsx(rj,{...n,ref:e})})}));Wx.displayName=qu;var rj=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...g}=n,E=T.useRef(null),S=Ft(e,E),A=JS(a),[b,R]=wy({prop:u,defaultProp:d??null,onChange:h,caller:qu}),[O,B]=T.useState(!1),$=di(p),K=zx(t),Z=T.useRef(!1),[ne,N]=T.useState(0);return T.useEffect(()=>{const C=E.current;if(C)return C.addEventListener(mm,$),()=>C.removeEventListener(mm,$)},[$]),x.jsx(tj,{scope:t,orientation:r,dir:A,loop:s,currentTabStopId:b,onItemFocus:T.useCallback(C=>R(C),[R]),onItemShiftTab:T.useCallback(()=>B(!0),[]),onFocusableItemAdd:T.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:T.useCallback(()=>N(C=>C-1),[]),children:x.jsx(ht.div,{tabIndex:O||ne===0?-1:0,"data-orientation":r,...g,ref:S,style:{outline:"none",...n.style},onMouseDown:je(n.onMouseDown,()=>{Z.current=!0}),onFocus:je(n.onFocus,C=>{const k=!Z.current;if(C.target===C.currentTarget&&k&&!O){const L=new CustomEvent(mm,JF);if(C.currentTarget.dispatchEvent(L),!L.defaultPrevented){const V=K().filter(ce=>ce.focusable),U=V.find(ce=>ce.active),D=V.find(ce=>ce.id===b),xe=[U,D,...V].filter(Boolean).map(ce=>ce.ref.current);qx(xe,y)}}Z.current=!1}),onBlur:je(n.onBlur,()=>B(!1))})})}),Hx="RovingFocusGroupItem",Gx=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:a,children:u,...d}=n,h=ja(),p=a||h,y=nj(Hx,t),g=y.currentTabStopId===p,E=zx(t),{onFocusableItemAdd:S,onFocusableItemRemove:A,currentTabStopId:b}=y;return T.useEffect(()=>{if(r)return S(),()=>A()},[r,S,A]),x.jsx(eg.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:x.jsx(ht.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...d,ref:e,onMouseDown:je(n.onMouseDown,R=>{r?y.onItemFocus(p):R.preventDefault()}),onFocus:je(n.onFocus,()=>y.onItemFocus(p)),onKeyDown:je(n.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){y.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const O=oj(R,y.orientation,y.dir);if(O!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let $=E().filter(K=>K.focusable).map(K=>K.ref.current);if(O==="last")$.reverse();else if(O==="prev"||O==="next"){O==="prev"&&$.reverse();const K=$.indexOf(R.currentTarget);$=y.loop?aj($,K+1):$.slice(K+1)}setTimeout(()=>qx($))}}),children:typeof u=="function"?u({isCurrentTabStop:g,hasTabStop:b!=null}):u})})});Gx.displayName=Hx;var ij={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sj(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function oj(n,e,t){const r=sj(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ij[r]}function qx(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function aj(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var lj=Wx,uj=Gx,tg=["Enter"," "],cj=["ArrowDown","PageUp","Home"],Kx=["ArrowUp","PageDown","End"],dj=[...cj,...Kx],fj={ltr:[...tg,"ArrowRight"],rtl:[...tg,"ArrowLeft"]},hj={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ku="Menu",[Au,pj,mj]=XS(Ku),[$o,Qx]=Qs(Ku,[mj,mx,Bx]),ih=mx(),Yx=Bx(),[gj,zo]=$o(Ku),[yj,Qu]=$o(Ku),Xx=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:a,modal:u=!0}=n,d=ih(e),[h,p]=T.useState(null),y=T.useRef(!1),g=di(a),E=JS(s);return T.useEffect(()=>{const S=()=>{y.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>y.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),x.jsx(l4,{...d,children:x.jsx(gj,{scope:e,open:t,onOpenChange:g,content:h,onContentChange:p,children:x.jsx(yj,{scope:e,onClose:T.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:E,modal:u,children:r})})})};Xx.displayName=Ku;var vj="MenuAnchor",xy=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=ih(t);return x.jsx(u4,{...s,...r,ref:e})});xy.displayName=vj;var Ay="MenuPortal",[_j,Jx]=$o(Ay,{forceMount:void 0}),Zx=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,a=zo(Ay,e);return x.jsx(_j,{scope:e,forceMount:t,children:x.jsx(Ys,{present:t||a.open,children:x.jsx(_y,{asChild:!0,container:s,children:r})})})};Zx.displayName=Ay;var cr="MenuContent",[wj,Cy]=$o(cr),eA=T.forwardRef((n,e)=>{const t=Jx(cr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,a=zo(cr,n.__scopeMenu),u=Qu(cr,n.__scopeMenu);return x.jsx(Au.Provider,{scope:n.__scopeMenu,children:x.jsx(Ys,{present:r||a.open,children:x.jsx(Au.Slot,{scope:n.__scopeMenu,children:u.modal?x.jsx(Ej,{...s,ref:e}):x.jsx(Tj,{...s,ref:e})})})})}),Ej=T.forwardRef((n,e)=>{const t=zo(cr,n.__scopeMenu),r=T.useRef(null),s=Ft(e,r);return T.useEffect(()=>{const a=r.current;if(a)return xx(a)},[]),x.jsx(Ry,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:je(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Tj=T.forwardRef((n,e)=>{const t=zo(cr,n.__scopeMenu);return x.jsx(Ry,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Ij=Xa("MenuContent.ScrollLock"),Ry=T.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:S,disableOutsideScroll:A,...b}=n,R=zo(cr,t),O=Qu(cr,t),B=ih(t),$=Yx(t),K=pj(t),[Z,ne]=T.useState(null),N=T.useRef(null),C=Ft(e,N,R.onContentChange),k=T.useRef(0),L=T.useRef(""),V=T.useRef(0),U=T.useRef(null),D=T.useRef("right"),Pe=T.useRef(0),xe=A?Ey:T.Fragment,ce=A?{as:Ij,allowPinchZoom:!0}:void 0,me=J=>{var ve,Me;const re=L.current+J,F=K().filter(Ne=>!Ne.disabled),Q=document.activeElement,ie=(ve=F.find(Ne=>Ne.ref.current===Q))==null?void 0:ve.textValue,fe=F.map(Ne=>Ne.textValue),Ae=Mj(fe,re,ie),ge=(Me=F.find(Ne=>Ne.textValue===Ae))==null?void 0:Me.ref.current;(function Ne(He){L.current=He,window.clearTimeout(k.current),He!==""&&(k.current=window.setTimeout(()=>Ne(""),1e3))})(re),ge&&setTimeout(()=>ge.focus())};T.useEffect(()=>()=>window.clearTimeout(k.current),[]),tx();const W=T.useCallback(J=>{var F,Q;return D.current===((F=U.current)==null?void 0:F.side)&&Vj(J,(Q=U.current)==null?void 0:Q.area)},[]);return x.jsx(wj,{scope:t,searchRef:L,onItemEnter:T.useCallback(J=>{W(J)&&J.preventDefault()},[W]),onItemLeave:T.useCallback(J=>{var re;W(J)||((re=N.current)==null||re.focus(),ne(null))},[W]),onTriggerLeave:T.useCallback(J=>{W(J)&&J.preventDefault()},[W]),pointerGraceTimerRef:V,onPointerGraceIntentChange:T.useCallback(J=>{U.current=J},[]),children:x.jsx(xe,{...ce,children:x.jsx(uy,{asChild:!0,trapped:s,onMountAutoFocus:je(a,J=>{var re;J.preventDefault(),(re=N.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:x.jsx(ly,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:S,children:x.jsx(lj,{asChild:!0,...$,dir:O.dir,orientation:"vertical",loop:r,currentTabStopId:Z,onCurrentTabStopIdChange:ne,onEntryFocus:je(h,J=>{O.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(c4,{role:"menu","aria-orientation":"vertical","data-state":gA(R.open),"data-radix-menu-content":"",dir:O.dir,...B,...b,ref:C,style:{outline:"none",...b.style},onKeyDown:je(b.onKeyDown,J=>{const F=J.target.closest("[data-radix-menu-content]")===J.currentTarget,Q=J.ctrlKey||J.altKey||J.metaKey,ie=J.key.length===1;F&&(J.key==="Tab"&&J.preventDefault(),!Q&&ie&&me(J.key));const fe=N.current;if(J.target!==fe||!dj.includes(J.key))return;J.preventDefault();const ge=K().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);Kx.includes(J.key)&&ge.reverse(),Dj(ge)}),onBlur:je(n.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(k.current),L.current="")}),onPointerMove:je(n.onPointerMove,Cu(J=>{const re=J.target,F=Pe.current!==J.clientX;if(J.currentTarget.contains(re)&&F){const Q=J.clientX>Pe.current?"right":"left";D.current=Q,Pe.current=J.clientX}}))})})})})})})});eA.displayName=cr;var Sj="MenuGroup",by=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(ht.div,{role:"group",...r,ref:e})});by.displayName=Sj;var xj="MenuLabel",tA=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(ht.div,{...r,ref:e})});tA.displayName=xj;var _f="MenuItem",wE="menu.itemSelect",sh=T.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,a=T.useRef(null),u=Qu(_f,n.__scopeMenu),d=Cy(_f,n.__scopeMenu),h=Ft(e,a),p=T.useRef(!1),y=()=>{const g=a.current;if(!t&&g){const E=new CustomEvent(wE,{bubbles:!0,cancelable:!0});g.addEventListener(wE,S=>r==null?void 0:r(S),{once:!0}),QS(g,E),E.defaultPrevented?p.current=!1:u.onClose()}};return x.jsx(nA,{...s,ref:h,disabled:t,onClick:je(n.onClick,y),onPointerDown:g=>{var E;(E=n.onPointerDown)==null||E.call(n,g),p.current=!0},onPointerUp:je(n.onPointerUp,g=>{var E;p.current||(E=g.currentTarget)==null||E.click()}),onKeyDown:je(n.onKeyDown,g=>{const E=d.searchRef.current!=="";t||E&&g.key===" "||tg.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});sh.displayName=_f;var nA=T.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...a}=n,u=Cy(_f,t),d=Yx(t),h=T.useRef(null),p=Ft(e,h),[y,g]=T.useState(!1),[E,S]=T.useState("");return T.useEffect(()=>{const A=h.current;A&&S((A.textContent??"").trim())},[a.children]),x.jsx(Au.ItemSlot,{scope:t,disabled:r,textValue:s??E,children:x.jsx(uj,{asChild:!0,...d,focusable:!r,children:x.jsx(ht.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:p,onPointerMove:je(n.onPointerMove,Cu(A=>{r?u.onItemLeave(A):(u.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(n.onPointerLeave,Cu(A=>u.onItemLeave(A))),onFocus:je(n.onFocus,()=>g(!0)),onBlur:je(n.onBlur,()=>g(!1))})})})}),Aj="MenuCheckboxItem",rA=T.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return x.jsx(lA,{scope:n.__scopeMenu,checked:t,children:x.jsx(sh,{role:"menuitemcheckbox","aria-checked":wf(t)?"mixed":t,...s,ref:e,"data-state":ky(t),onSelect:je(s.onSelect,()=>r==null?void 0:r(wf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});rA.displayName=Aj;var iA="MenuRadioGroup",[Cj,Rj]=$o(iA,{value:void 0,onValueChange:()=>{}}),sA=T.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,a=di(r);return x.jsx(Cj,{scope:n.__scopeMenu,value:t,onValueChange:a,children:x.jsx(by,{...s,ref:e})})});sA.displayName=iA;var oA="MenuRadioItem",aA=T.forwardRef((n,e)=>{const{value:t,...r}=n,s=Rj(oA,n.__scopeMenu),a=t===s.value;return x.jsx(lA,{scope:n.__scopeMenu,checked:a,children:x.jsx(sh,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":ky(a),onSelect:je(r.onSelect,()=>{var u;return(u=s.onValueChange)==null?void 0:u.call(s,t)},{checkForDefaultPrevented:!1})})})});aA.displayName=oA;var Py="MenuItemIndicator",[lA,bj]=$o(Py,{checked:!1}),uA=T.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,a=bj(Py,t);return x.jsx(Ys,{present:r||wf(a.checked)||a.checked===!0,children:x.jsx(ht.span,{...s,ref:e,"data-state":ky(a.checked)})})});uA.displayName=Py;var Pj="MenuSeparator",cA=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});cA.displayName=Pj;var kj="MenuArrow",dA=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=ih(t);return x.jsx(d4,{...s,...r,ref:e})});dA.displayName=kj;var Nj="MenuSub",[e6,fA]=$o(Nj),ou="MenuSubTrigger",hA=T.forwardRef((n,e)=>{const t=zo(ou,n.__scopeMenu),r=Qu(ou,n.__scopeMenu),s=fA(ou,n.__scopeMenu),a=Cy(ou,n.__scopeMenu),u=T.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=a,p={__scopeMenu:n.__scopeMenu},y=T.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return T.useEffect(()=>y,[y]),T.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),h(null)}},[d,h]),x.jsx(xy,{asChild:!0,...p,children:x.jsx(nA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":gA(t.open),...n,ref:Zf(e,s.onTriggerChange),onClick:g=>{var E;(E=n.onClick)==null||E.call(n,g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:je(n.onPointerMove,Cu(g=>{a.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:je(n.onPointerLeave,Cu(g=>{var S,A;y();const E=(S=t.content)==null?void 0:S.getBoundingClientRect();if(E){const b=(A=t.content)==null?void 0:A.dataset.side,R=b==="right",O=R?-5:5,B=E[R?"left":"right"],$=E[R?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+O,y:g.clientY},{x:B,y:E.top},{x:$,y:E.top},{x:$,y:E.bottom},{x:B,y:E.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:je(n.onKeyDown,g=>{var S;const E=a.searchRef.current!=="";n.disabled||E&&g.key===" "||fj[r.dir].includes(g.key)&&(t.onOpenChange(!0),(S=t.content)==null||S.focus(),g.preventDefault())})})})});hA.displayName=ou;var pA="MenuSubContent",mA=T.forwardRef((n,e)=>{const t=Jx(cr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,a=zo(cr,n.__scopeMenu),u=Qu(cr,n.__scopeMenu),d=fA(pA,n.__scopeMenu),h=T.useRef(null),p=Ft(e,h);return x.jsx(Au.Provider,{scope:n.__scopeMenu,children:x.jsx(Ys,{present:r||a.open,children:x.jsx(Au.Slot,{scope:n.__scopeMenu,children:x.jsx(Ry,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;u.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:je(n.onFocusOutside,y=>{y.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:je(n.onEscapeKeyDown,y=>{u.onClose(),y.preventDefault()}),onKeyDown:je(n.onKeyDown,y=>{var S;const g=y.currentTarget.contains(y.target),E=hj[u.dir].includes(y.key);g&&E&&(a.onOpenChange(!1),(S=d.trigger)==null||S.focus(),y.preventDefault())})})})})})});mA.displayName=pA;function gA(n){return n?"open":"closed"}function wf(n){return n==="indeterminate"}function ky(n){return wf(n)?"indeterminate":n?"checked":"unchecked"}function Dj(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Oj(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function Mj(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let u=Oj(n,Math.max(a,0));s.length===1&&(u=u.filter(p=>p!==t));const h=u.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function Lj(n,e){const{x:t,y:r}=n;let s=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const d=e[a],h=e[u],p=d.x,y=d.y,g=h.x,E=h.y;y>r!=E>r&&t<(g-p)*(r-y)/(E-y)+p&&(s=!s)}return s}function Vj(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Lj(t,e)}function Cu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Fj=Xx,jj=xy,Uj=Zx,$j=eA,zj=by,Bj=tA,Wj=sh,Hj=rA,Gj=sA,qj=aA,Kj=uA,Qj=cA,Yj=dA,Xj=hA,Jj=mA,oh="DropdownMenu",[Zj,t6]=Qs(oh,[Qx]),yn=Qx(),[eU,yA]=Zj(oh),vA=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:a,onOpenChange:u,modal:d=!0}=n,h=yn(e),p=T.useRef(null),[y,g]=wy({prop:s,defaultProp:a??!1,onChange:u,caller:oh});return x.jsx(eU,{scope:e,triggerId:ja(),triggerRef:p,contentId:ja(),open:y,onOpenChange:g,onOpenToggle:T.useCallback(()=>g(E=>!E),[g]),modal:d,children:x.jsx(Fj,{...h,open:y,onOpenChange:g,dir:r,modal:d,children:t})})};vA.displayName=oh;var _A="DropdownMenuTrigger",wA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,a=yA(_A,t),u=yn(t);return x.jsx(jj,{asChild:!0,...u,children:x.jsx(ht.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Zf(e,a.triggerRef),onPointerDown:je(n.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:je(n.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});wA.displayName=_A;var tU="DropdownMenuPortal",EA=n=>{const{__scopeDropdownMenu:e,...t}=n,r=yn(e);return x.jsx(Uj,{...r,...t})};EA.displayName=tU;var TA="DropdownMenuContent",IA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yA(TA,t),a=yn(t),u=T.useRef(!1);return x.jsx($j,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:e,onCloseAutoFocus:je(n.onCloseAutoFocus,d=>{var h;u.current||(h=s.triggerRef.current)==null||h.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:je(n.onInteractOutside,d=>{const h=d.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,y=h.button===2||p;(!s.modal||y)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IA.displayName=TA;var nU="DropdownMenuGroup",rU=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(zj,{...s,...r,ref:e})});rU.displayName=nU;var iU="DropdownMenuLabel",SA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Bj,{...s,...r,ref:e})});SA.displayName=iU;var sU="DropdownMenuItem",xA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Wj,{...s,...r,ref:e})});xA.displayName=sU;var oU="DropdownMenuCheckboxItem",aU=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Hj,{...s,...r,ref:e})});aU.displayName=oU;var lU="DropdownMenuRadioGroup",uU=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Gj,{...s,...r,ref:e})});uU.displayName=lU;var cU="DropdownMenuRadioItem",dU=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(qj,{...s,...r,ref:e})});dU.displayName=cU;var fU="DropdownMenuItemIndicator",hU=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Kj,{...s,...r,ref:e})});hU.displayName=fU;var pU="DropdownMenuSeparator",AA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Qj,{...s,...r,ref:e})});AA.displayName=pU;var mU="DropdownMenuArrow",gU=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Yj,{...s,...r,ref:e})});gU.displayName=mU;var yU="DropdownMenuSubTrigger",vU=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Xj,{...s,...r,ref:e})});vU.displayName=yU;var _U="DropdownMenuSubContent",wU=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=yn(t);return x.jsx(Jj,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wU.displayName=_U;var EU=vA,TU=wA,IU=EA,SU=IA,xU=SA,AU=xA,CU=AA;function RU({...n}){return x.jsx(EU,{"data-slot":"dropdown-menu",...n})}function bU({...n}){return x.jsx(TU,{"data-slot":"dropdown-menu-trigger",...n})}function PU({className:n,sideOffset:e=4,...t}){return x.jsx(IU,{children:x.jsx(SU,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function gm({className:n,inset:e,variant:t="default",...r}){return x.jsx(AU,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Je("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function kU({className:n,inset:e,...t}){return x.jsx(xU,{"data-slot":"dropdown-menu-label","data-inset":e,className:Je("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...t})}function EE({className:n,...e}){return x.jsx(CU,{"data-slot":"dropdown-menu-separator",className:Je("bg-border -mx-1 my-1 h-px",n),...e})}T.createContext({});T.createContext({});const CA=T.forwardRef(({className:n,type:e,...t},r)=>x.jsx("input",{type:e,className:Je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));CA.displayName="Input";var ah="Dialog",[RA,bA]=Qs(ah),[NU,Ur]=RA(ah),PA=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:a,modal:u=!0}=n,d=T.useRef(null),h=T.useRef(null),[p,y]=wy({prop:r,defaultProp:s??!1,onChange:a,caller:ah});return x.jsx(NU,{scope:e,triggerRef:d,contentRef:h,contentId:ja(),titleId:ja(),descriptionId:ja(),open:p,onOpenChange:y,onOpenToggle:T.useCallback(()=>y(g=>!g),[y]),modal:u,children:t})};PA.displayName=ah;var kA="DialogTrigger",NA=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ur(kA,t),a=Ft(e,s.triggerRef);return x.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Oy(s.open),...r,ref:a,onClick:je(n.onClick,s.onOpenToggle)})});NA.displayName=kA;var Ny="DialogPortal",[DU,DA]=RA(Ny,{forceMount:void 0}),OA=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,a=Ur(Ny,e);return x.jsx(DU,{scope:e,forceMount:t,children:T.Children.map(r,u=>x.jsx(Ys,{present:t||a.open,children:x.jsx(_y,{asChild:!0,container:s,children:u})}))})};OA.displayName=Ny;var Ef="DialogOverlay",MA=T.forwardRef((n,e)=>{const t=DA(Ef,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=Ur(Ef,n.__scopeDialog);return a.modal?x.jsx(Ys,{present:r||a.open,children:x.jsx(MU,{...s,ref:e})}):null});MA.displayName=Ef;var OU=Xa("DialogOverlay.RemoveScroll"),MU=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ur(Ef,t);return x.jsx(Ey,{as:OU,allowPinchZoom:!0,shards:[s.contentRef],children:x.jsx(ht.div,{"data-state":Oy(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Mo="DialogContent",LA=T.forwardRef((n,e)=>{const t=DA(Mo,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=Ur(Mo,n.__scopeDialog);return x.jsx(Ys,{present:r||a.open,children:a.modal?x.jsx(LU,{...s,ref:e}):x.jsx(VU,{...s,ref:e})})});LA.displayName=Mo;var LU=T.forwardRef((n,e)=>{const t=Ur(Mo,n.__scopeDialog),r=T.useRef(null),s=Ft(e,t.contentRef,r);return T.useEffect(()=>{const a=r.current;if(a)return xx(a)},[]),x.jsx(VA,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(n.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:je(n.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:je(n.onFocusOutside,a=>a.preventDefault())})}),VU=T.forwardRef((n,e)=>{const t=Ur(Mo,n.__scopeDialog),r=T.useRef(!1),s=T.useRef(!1);return x.jsx(VA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,d;(u=n.onCloseAutoFocus)==null||u.call(n,a),a.defaultPrevented||(r.current||(d=t.triggerRef.current)==null||d.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var h,p;(h=n.onInteractOutside)==null||h.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=a.target;((p=t.triggerRef.current)==null?void 0:p.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),VA=T.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...u}=n,d=Ur(Mo,t),h=T.useRef(null),p=Ft(e,h);return tx(),x.jsxs(x.Fragment,{children:[x.jsx(uy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:x.jsx(ly,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Oy(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(jU,{titleId:d.titleId}),x.jsx($U,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Dy="DialogTitle",FA=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ur(Dy,t);return x.jsx(ht.h2,{id:s.titleId,...r,ref:e})});FA.displayName=Dy;var jA="DialogDescription",UA=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ur(jA,t);return x.jsx(ht.p,{id:s.descriptionId,...r,ref:e})});UA.displayName=jA;var $A="DialogClose",zA=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Ur($A,t);return x.jsx(ht.button,{type:"button",...r,ref:e,onClick:je(n.onClick,()=>s.onOpenChange(!1))})});zA.displayName=$A;function Oy(n){return n?"open":"closed"}var BA="DialogTitleWarning",[FU,WA]=LL(BA,{contentName:Mo,titleName:Dy,docsSlug:"dialog"}),jU=({titleId:n})=>{const e=WA(BA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},UU="DialogDescriptionWarning",$U=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WA(UU).contentName}}.`;return T.useEffect(()=>{var a;const s=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},zU=PA,BU=NA,WU=OA,HU=MA,GU=LA,qU=FA,KU=UA,HA=zA,GA="AlertDialog",[QU,n6]=Qs(GA,[bA]),Ki=bA(),qA=n=>{const{__scopeAlertDialog:e,...t}=n,r=Ki(e);return x.jsx(zU,{...r,...t,modal:!0})};qA.displayName=GA;var YU="AlertDialogTrigger",KA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ki(t);return x.jsx(BU,{...s,...r,ref:e})});KA.displayName=YU;var XU="AlertDialogPortal",QA=n=>{const{__scopeAlertDialog:e,...t}=n,r=Ki(e);return x.jsx(WU,{...r,...t})};QA.displayName=XU;var JU="AlertDialogOverlay",YA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ki(t);return x.jsx(HU,{...s,...r,ref:e})});YA.displayName=JU;var za="AlertDialogContent",[ZU,e9]=QU(za),t9=RL("AlertDialogContent"),XA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...s}=n,a=Ki(t),u=T.useRef(null),d=Ft(e,u),h=T.useRef(null);return x.jsx(FU,{contentName:za,titleName:JA,docsSlug:"alert-dialog",children:x.jsx(ZU,{scope:t,cancelRef:h,children:x.jsxs(GU,{role:"alertdialog",...a,...s,ref:d,onOpenAutoFocus:je(s.onOpenAutoFocus,p=>{var y;p.preventDefault(),(y=h.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[x.jsx(t9,{children:r}),x.jsx(r9,{contentRef:u})]})})})});XA.displayName=za;var JA="AlertDialogTitle",ZA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ki(t);return x.jsx(qU,{...s,...r,ref:e})});ZA.displayName=JA;var eC="AlertDialogDescription",tC=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ki(t);return x.jsx(KU,{...s,...r,ref:e})});tC.displayName=eC;var n9="AlertDialogAction",nC=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ki(t);return x.jsx(HA,{...s,...r,ref:e})});nC.displayName=n9;var rC="AlertDialogCancel",iC=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:s}=e9(rC,t),a=Ki(t),u=Ft(e,s);return x.jsx(HA,{...a,...r,ref:u})});iC.displayName=rC;var r9=({contentRef:n})=>{const e=`\`${za}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${za}\` by passing a \`${eC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${za}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},i9=qA,s9=KA,o9=QA,sC=YA,oC=XA,aC=nC,lC=iC,uC=ZA,cC=tC;const r6=i9,i6=s9,a9=o9,dC=T.forwardRef(({className:n,...e},t)=>x.jsx(sC,{className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));dC.displayName=sC.displayName;const l9=T.forwardRef(({className:n,...e},t)=>x.jsxs(a9,{children:[x.jsx(dC,{}),x.jsx(oC,{ref:t,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));l9.displayName=oC.displayName;const u9=({className:n,...e})=>x.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",n),...e});u9.displayName="AlertDialogHeader";const c9=({className:n,...e})=>x.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});c9.displayName="AlertDialogFooter";const d9=T.forwardRef(({className:n,...e},t)=>x.jsx(uC,{ref:t,className:Je("text-lg font-semibold",n),...e}));d9.displayName=uC.displayName;const f9=T.forwardRef(({className:n,...e},t)=>x.jsx(cC,{ref:t,className:Je("text-sm text-muted-foreground",n),...e}));f9.displayName=cC.displayName;const h9=T.forwardRef(({className:n,...e},t)=>x.jsx(aC,{ref:t,className:Je(Sy(),n),...e}));h9.displayName=aC.displayName;const p9=T.forwardRef(({className:n,...e},t)=>x.jsx(lC,{ref:t,className:Je(Sy({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));p9.displayName=lC.displayName;const Bd={userPreferences:{theme:"light",heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",notificationsEnabled:!0,workoutDaysPerWeek:3},ui:{sidebarOpen:!0,activeDashboardTab:"home"},dashboardData:{needsRefresh:!1,lastUpdated:null}},fC=le.createContext({state:Bd,setHeightUnit:()=>{},setWeightUnit:()=>{},setDateFormat:()=>{},setSidebarOpen:()=>{},setTheme:()=>{},setWorkoutDaysPerWeek:()=>{}}),m9=()=>{const n=T.useContext(fC);if(!n)throw new Error("useAppState must be used within an AppProvider");const{state:e,setHeightUnit:t,setWeightUnit:r,setDateFormat:s,setSidebarOpen:a,setTheme:u,setWorkoutDaysPerWeek:d}=n;return{state:e,setHeightUnit:t,setWeightUnit:r,setDateFormat:s,setSidebarOpen:a,setTheme:u,setWorkoutDaysPerWeek:d}},cl=()=>{const n=T.useContext(ME);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return{...n}};var Jl={},TE;function g9(){if(TE)return Jl;TE=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.parse=u,Jl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,S){const A=new a,b=E.length;if(b<2)return A;const R=(S==null?void 0:S.decode)||y;let O=0;do{const B=E.indexOf("=",O);if(B===-1)break;const $=E.indexOf(";",O),K=$===-1?b:$;if(B>K){O=E.lastIndexOf(";",B-1)+1;continue}const Z=d(E,O,B),ne=h(E,B,Z),N=E.slice(Z,ne);if(A[N]===void 0){let C=d(E,B+1,K),k=h(E,K,C);const L=R(E.slice(C,k));A[N]=L}O=K+1}while(O<b);return A}function d(E,S,A){do{const b=E.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<A);return A}function h(E,S,A){for(;S>A;){const b=E.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return A}function p(E,S,A){const b=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=b(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let O=E+"="+R;if(!A)return O;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);O+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);O+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);O+="; Path="+A.path}if(A.expires){if(!g(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);O+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(O+="; HttpOnly"),A.secure&&(O+="; Secure"),A.partitioned&&(O+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return O}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function g(E){return s.call(E)==="[object Date]"}return Jl}g9();var IE="popstate";function y9(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return ng("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Ru(s)}return _9(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v9(){return Math.random().toString(36).substring(2,10)}function SE(n,e){return{usr:n.state,key:n.key,idx:e}}function ng(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?dl(e):e,state:t,key:e&&e.key||r||v9()}}function Ru({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function dl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function _9(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",h=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function g(){d="POP";let R=y(),O=R==null?null:R-p;p=R,h&&h({action:d,location:b.location,delta:O})}function E(R,O){d="PUSH";let B=ng(b.location,R,O);p=y()+1;let $=SE(B,p),K=b.createHref(B);try{u.pushState($,"",K)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;s.location.assign(K)}a&&h&&h({action:d,location:b.location,delta:1})}function S(R,O){d="REPLACE";let B=ng(b.location,R,O);p=y();let $=SE(B,p),K=b.createHref(B);u.replaceState($,"",K),a&&h&&h({action:d,location:b.location,delta:0})}function A(R){let O=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof R=="string"?R:Ru(R);return B=B.replace(/ $/,"%20"),ft(O,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,O)}let b={get action(){return d},get location(){return n(s,u)},listen(R){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(IE,g),h=R,()=>{s.removeEventListener(IE,g),h=null}},createHref(R){return e(s,R)},createURL:A,encodeLocation(R){let O=A(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:S,go(R){return u.go(R)}};return b}function hC(n,e,t="/"){return w9(n,e,t,!1)}function w9(n,e,t,r){let s=typeof e=="string"?dl(e):e,a=Gi(s.pathname||"/",t);if(a==null)return null;let u=pC(n);E9(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=N9(a);d=P9(u[h],p,r)}return d}function pC(n,e=[],t=[],r=""){let s=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(ft(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Fi([r,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),pC(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:R9(p,a.index),routesMeta:y})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let h of mC(a.path))s(a,u,h)}),e}function mC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=mC(r.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...u),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function E9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:b9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var T9=/^:[\w-]+$/,I9=3,S9=2,x9=1,A9=10,C9=-2,xE=n=>n==="*";function R9(n,e){let t=n.split("/"),r=t.length;return t.some(xE)&&(r+=C9),e&&(r+=S9),t.filter(s=>!xE(s)).reduce((s,a)=>s+(T9.test(a)?I9:a===""?x9:A9),r)}function b9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function P9(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=Tf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),E=h.route;if(!g&&p&&t&&!r[r.length-1].route.index&&(g=Tf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!g)return null;Object.assign(s,g.params),u.push({params:s,pathname:Fi([a,g.pathname]),pathnameBase:L9(Fi([a,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(a=Fi([a,g.pathnameBase]))}return u}function Tf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=k9(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:g},E)=>{if(y==="*"){let A=d[E]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const S=d[E];return g&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function k9(n,e=!1,t=!0){Fr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function N9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function D9(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?dl(n):n;return{pathname:t?t.startsWith("/")?t:O9(t,e):e,search:V9(r),hash:F9(s)}}function O9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ym(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function My(n){let e=M9(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ly(n,e,t,r=!1){let s;typeof n=="string"?s=dl(n):(s={...n},ft(!s.pathname||!s.pathname.includes("?"),ym("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),ym("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),ym("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let g=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),g-=1;s.pathname=E.join("/")}d=g>=0?e[g]:"/"}let h=D9(s,d),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var Fi=n=>n.join("/").replace(/\/\/+/g,"/"),L9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),V9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,F9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function j9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var gC=["POST","PUT","PATCH","DELETE"];new Set(gC);var U9=["GET",...gC];new Set(U9);var fl=T.createContext(null);fl.displayName="DataRouter";var lh=T.createContext(null);lh.displayName="DataRouterState";var yC=T.createContext({isTransitioning:!1});yC.displayName="ViewTransition";var $9=T.createContext(new Map);$9.displayName="Fetchers";var z9=T.createContext(null);z9.displayName="Await";var $r=T.createContext(null);$r.displayName="Navigation";var Yu=T.createContext(null);Yu.displayName="Location";var zr=T.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Vy=T.createContext(null);Vy.displayName="RouteError";function B9(n,{relative:e}={}){ft(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext($r),{hash:s,pathname:a,search:u}=Ju(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Fi([t,a])),r.createHref({pathname:d,search:u,hash:s})}function hl(){return T.useContext(Yu)!=null}function Qi(){return ft(hl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Yu).location}var vC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _C(n){T.useContext($r).static||T.useLayoutEffect(n)}function Xu(){let{isDataRoute:n}=T.useContext(zr);return n?i3():W9()}function W9(){ft(hl(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(fl),{basename:e,navigator:t}=T.useContext($r),{matches:r}=T.useContext(zr),{pathname:s}=Qi(),a=JSON.stringify(My(r)),u=T.useRef(!1);return _C(()=>{u.current=!0}),T.useCallback((h,p={})=>{if(Fr(u.current,vC),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=Ly(h,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Fi([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,s,n])}var H9=T.createContext(null);function G9(n){let e=T.useContext(zr).outlet;return e&&T.createElement(H9.Provider,{value:n},e)}function Ju(n,{relative:e}={}){let{matches:t}=T.useContext(zr),{pathname:r}=Qi(),s=JSON.stringify(My(t));return T.useMemo(()=>Ly(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function q9(n,e){return wC(n,e)}function wC(n,e,t,r){var B;ft(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=T.useContext($r),{matches:u}=T.useContext(zr),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",g=d&&d.route;{let $=g&&g.path||"";EC(p,!g||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=Qi(),S;if(e){let $=typeof e=="string"?dl(e):e;ft(y==="/"||((B=$.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=E;let A=S.pathname||"/",b=A;if(y!=="/"){let $=y.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice($.length).join("/")}let R=!a&&t&&t.matches&&t.matches.length>0?t.matches:hC(n,{pathname:b});Fr(g||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Fr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=J9(R&&R.map($=>Object.assign({},$,{params:Object.assign({},h,$.params),pathname:Fi([y,s.encodeLocation?s.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Fi([y,s.encodeLocation?s.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,t,r);return e&&O?T.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function K9(){let n=r3(),e=j9(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:s},t):null,u)}var Q9=T.createElement(K9,null),Y9=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(zr.Provider,{value:this.props.routeContext},T.createElement(Vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X9({routeContext:n,match:e,children:t}){let r=T.useContext(fl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(zr.Provider,{value:n},t)}function J9(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ft(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,d=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:y,errors:g}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let g,E=!1,S=null,A=null;t&&(g=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||Q9,u&&(d<0&&y===0?(EC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):d===y&&(E=!0,A=p.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,y+1)),R=()=>{let O;return g?O=S:E?O=A:p.route.Component?O=T.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,T.createElement(X9,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?T.createElement(Y9,{location:t.location,revalidation:t.revalidation,component:S,error:g,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}function Fy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z9(n){let e=T.useContext(fl);return ft(e,Fy(n)),e}function e3(n){let e=T.useContext(lh);return ft(e,Fy(n)),e}function t3(n){let e=T.useContext(zr);return ft(e,Fy(n)),e}function jy(n){let e=t3(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function n3(){return jy("useRouteId")}function r3(){var r;let n=T.useContext(Vy),e=e3("useRouteError"),t=jy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function i3(){let{router:n}=Z9("useNavigate"),e=jy("useNavigate"),t=T.useRef(!1);return _C(()=>{t.current=!0}),T.useCallback(async(s,a={})=>{Fr(t.current,vC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var AE={};function EC(n,e,t){!e&&!AE[n]&&(AE[n]=!0,Fr(!1,t))}T.memo(s3);function s3({routes:n,future:e,state:t}){return wC(n,void 0,t,e)}function pu({to:n,replace:e,state:t,relative:r}){ft(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext($r);Fr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(zr),{pathname:u}=Qi(),d=Xu(),h=Ly(n,My(a),u,r==="path"),p=JSON.stringify(h);return T.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function Uy(n){return G9(n.context)}function Hn(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o3({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){ft(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=dl(t));let{pathname:h="/",search:p="",hash:y="",state:g=null,key:E="default"}=t,S=T.useMemo(()=>{let A=Gi(h,u);return A==null?null:{location:{pathname:A,search:p,hash:y,state:g,key:E},navigationType:r}},[u,h,p,y,g,E,r]);return Fr(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:T.createElement($r.Provider,{value:d},T.createElement(Yu.Provider,{children:e,value:S}))}function a3({children:n,location:e}){return q9(rg(n),e)}function rg(n,e=[]){let t=[];return T.Children.forEach(n,(r,s)=>{if(!T.isValidElement(r))return;let a=[...e,s];if(r.type===T.Fragment){t.push.apply(t,rg(r.props.children,a));return}ft(r.type===Hn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=rg(r.props.children,a)),t.push(u)}),t}var Wd="get",Hd="application/x-www-form-urlencoded";function uh(n){return n!=null&&typeof n.tagName=="string"}function l3(n){return uh(n)&&n.tagName.toLowerCase()==="button"}function u3(n){return uh(n)&&n.tagName.toLowerCase()==="form"}function c3(n){return uh(n)&&n.tagName.toLowerCase()==="input"}function d3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function f3(n,e){return n.button===0&&(!e||e==="_self")&&!d3(n)}var Rd=null;function h3(){if(Rd===null)try{new FormData(document.createElement("form"),0),Rd=!1}catch{Rd=!0}return Rd}var p3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(n){return n!=null&&!p3.has(n)?(Fr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hd}"`),null):n}function m3(n,e){let t,r,s,a,u;if(u3(n)){let d=n.getAttribute("action");r=d?Gi(d,e):null,t=n.getAttribute("method")||Wd,s=vm(n.getAttribute("enctype"))||Hd,a=new FormData(n)}else if(l3(n)||c3(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(r=h?Gi(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Wd,s=vm(n.getAttribute("formenctype"))||vm(d.getAttribute("enctype"))||Hd,a=new FormData(d,n),!h3()){let{name:p,type:y,value:g}=n;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,g)}}else{if(uh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wd,r=null,s=Hd,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function $y(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function g3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function v3(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await g3(a,t);return u.links?u.links():[]}return[]}));return T3(r.flat(1).filter(y3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function CE(n,e,t,r,s,a){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):a==="data"?e.filter((h,p)=>{var g;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function _3(n,e,{includeHydrateFallback:t}={}){return w3(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function w3(n){return[...new Set(n)]}function E3(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function T3(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(E3(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}var I3=new Set([100,101,204,205]);function S3(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Gi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function TC(){let n=T.useContext(fl);return $y(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function x3(){let n=T.useContext(lh);return $y(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zy=T.createContext(void 0);zy.displayName="FrameworkContext";function IC(){let n=T.useContext(zy);return $y(n,"You must render this element inside a <HydratedRouter> element"),n}function A3(n,e){let t=T.useContext(zy),[r,s]=T.useState(!1),[a,u]=T.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:g}=e,E=T.useRef(null);T.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let b=O=>{O.forEach(B=>{u(B.isIntersecting)})},R=new IntersectionObserver(b,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[n]),T.useEffect(()=>{if(r){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{s(!0)},A=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Zl(d,S),onBlur:Zl(h,A),onMouseEnter:Zl(p,S),onMouseLeave:Zl(y,A),onTouchStart:Zl(g,S)}]:[!1,E,{}]}function Zl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function C3({page:n,...e}){let{router:t}=TC(),r=T.useMemo(()=>hC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?T.createElement(b3,{page:n,matches:r,...e}):null}function R3(n){let{manifest:e,routeModules:t}=IC(),[r,s]=T.useState([]);return T.useEffect(()=>{let a=!1;return v3(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function b3({page:n,matches:e,...t}){let r=Qi(),{manifest:s,routeModules:a}=IC(),{basename:u}=TC(),{loaderData:d,matches:h}=x3(),p=T.useMemo(()=>CE(n,e,h,s,r,"data"),[n,e,h,s,r]),y=T.useMemo(()=>CE(n,e,h,s,r,"assets"),[n,e,h,s,r]),g=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,b=!1;if(e.forEach(O=>{var $;let B=s.routes[O.route.id];!B||!B.hasLoader||(!p.some(K=>K.route.id===O.route.id)&&O.route.id in d&&(($=a[O.route.id])!=null&&$.shouldRevalidate)||B.hasClientLoader?b=!0:A.add(O.route.id))}),A.size===0)return[];let R=S3(n,u);return b&&A.size>0&&R.searchParams.set("_routes",e.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[u,d,r,s,p,e,n,a]),E=T.useMemo(()=>_3(y,s),[y,s]),S=R3(y);return T.createElement(T.Fragment,null,g.map(A=>T.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),E.map(A=>T.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),S.map(({key:A,link:b})=>T.createElement("link",{key:A,...b})))}function P3(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SC&&(window.__reactRouterVersion="7.5.2")}catch{}function k3({basename:n,children:e,window:t}){let r=T.useRef();r.current==null&&(r.current=y9({window:t,v5Compat:!0}));let s=r.current,[a,u]=T.useState({action:s.action,location:s.location}),d=T.useCallback(h=>{T.startTransition(()=>u(h))},[u]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(o3,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var xC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pl=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:h,to:p,preventScrollReset:y,viewTransition:g,...E},S){let{basename:A}=T.useContext($r),b=typeof p=="string"&&xC.test(p),R,O=!1;if(typeof p=="string"&&b&&(R=p,SC))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),V=Gi(L.pathname,A);L.origin===k.origin&&V!=null?p=V+L.search+L.hash:O=!0}catch{Fr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=B9(p,{relative:s}),[$,K,Z]=A3(r,E),ne=O3(p,{replace:u,state:d,target:h,preventScrollReset:y,relative:s,viewTransition:g});function N(k){e&&e(k),k.defaultPrevented||ne(k)}let C=T.createElement("a",{...E,...Z,href:R||B,onClick:O||a?e:N,ref:P3(S,K),target:h,"data-discover":!b&&t==="render"?"true":void 0});return $&&!b?T.createElement(T.Fragment,null,C,T.createElement(C3,{page:B})):C});pl.displayName="Link";var AC=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:h,...p},y){let g=Ju(u,{relative:p.relative}),E=Qi(),S=T.useContext(lh),{navigator:A,basename:b}=T.useContext($r),R=S!=null&&j3(g)&&d===!0,O=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,B=E.pathname,$=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(B=B.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&b&&($=Gi($,b)||$);const K=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Z=B===O||!s&&B.startsWith(O)&&B.charAt(K)==="/",ne=$!=null&&($===O||!s&&$.startsWith(O)&&$.charAt(O.length)==="/"),N={isActive:Z,isPending:ne,isTransitioning:R},C=Z?e:void 0,k;typeof r=="function"?k=r(N):k=[r,Z?"active":null,ne?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(N):a;return T.createElement(pl,{...p,"aria-current":C,className:k,ref:y,style:L,to:u,viewTransition:d},typeof h=="function"?h(N):h)});AC.displayName="NavLink";var N3=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Wd,action:d,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:g,...E},S)=>{let A=V3(),b=F3(d,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&xC.test(d),B=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let K=$.nativeEvent.submitter,Z=(K==null?void 0:K.getAttribute("formmethod"))||u;A(K||$.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:s,state:a,relative:p,preventScrollReset:y,viewTransition:g})};return T.createElement("form",{ref:S,method:R,action:b,onSubmit:r?h:B,...E,"data-discover":!O&&n==="render"?"true":void 0})});N3.displayName="Form";function D3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CC(n){let e=T.useContext(fl);return ft(e,D3(n)),e}function O3(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=Xu(),h=Qi(),p=Ju(n,{relative:a});return T.useCallback(y=>{if(f3(y,e)){y.preventDefault();let g=t!==void 0?t:Ru(h)===Ru(p);d(n,{replace:g,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[h,d,p,t,r,e,n,s,a,u])}var M3=0,L3=()=>`__${String(++M3)}__`;function V3(){let{router:n}=CC("useSubmit"),{basename:e}=T.useContext($r),t=n3();return T.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:h,body:p}=m3(r,e);if(s.navigate===!1){let y=s.fetcherKey||L3();await n.fetch(y,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function F3(n,{relative:e}={}){let{basename:t}=T.useContext($r),r=T.useContext(zr);ft(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ju(n||".",{relative:e})},u=Qi();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let y=d.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Fi([t,a.pathname])),Ru(a)}function j3(n,e={}){let t=T.useContext(yC);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CC("useViewTransitionState"),s=Ju(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Gi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Gi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Tf(s.pathname,u)!=null||Tf(s.pathname,a)!=null}new TextEncoder;[...I3];const U3=({children:n})=>{const[e,t]=T.useState(null),[r,s]=T.useState("loading"),[a,u]=T.useState(null);T.useEffect(()=>{const A=VM(UM,async b=>{if(b){let R=b.displayName;const O=b.photoURL;if(!R||!O){const B=await HM();console.log("userProfile",B),B&&(R=B.displayName)}t({uid:b.uid,email:b.email,displayName:R||"",photoURL:O||""}),s("authenticated")}else t(null),s("unauthenticated")});return()=>A()},[]);const S={isAuthenticated:r==="authenticated",isLoading:r==="loading",user:e,error:a,login:async(A,b)=>{u(null);try{await DM(A,b)}catch(R){const O=As(R),B=new Error(O);throw u(B),B}},loginWithGoogle:async()=>{u(null);try{const A=await FM(),b=jM(A);if(!(b!=null&&b.isNewUser))return;await z0({email:A.user.email||"",displayName:A.user.displayName||""}),t({uid:A.user.uid,email:A.user.email,displayName:A.user.displayName||"",photoURL:A.user.photoURL||""})}catch(A){const b=As(A),R=new Error(b);throw u(R),R}},signup:async(A,b,R)=>{u(null);try{const O=await NM(A,b);O.user&&(await z0({email:O.user.email||"",displayName:R}),t({uid:O.user.uid,email:O.user.email,displayName:R,photoURL:O.user.photoURL||""}))}catch(O){const B=As(O),$=new Error(B);throw u($),$}},logout:async()=>{u(null);try{await OM()}catch(A){const b=As(A),R=new Error(b);throw u(R),R}},updateProfile:async A=>{u(null);try{const{displayName:b}=A;b&&await MM({displayName:b})}catch(b){const R=As(b),O=new Error(R);throw u(O),O}},deleteProfile:async()=>{u(null);try{await LM()}catch(A){const b=As(A),R=new Error(b);throw u(R),R}}};return x.jsx(ME.Provider,{value:S,children:n})},$3="modulepreload",z3=function(n){return"/grindmode/"+n},RE={},ch=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(t.map(p=>{if(p=z3(p),p in RE)return;RE[p]=!0;const y=p.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":$3,y||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((S,A)=>{E.addEventListener("load",S),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},B3=()=>x.jsx("footer",{className:"py-4 text-center",children:x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," GrindMode"]})}),W3={theme:"light",setTheme:()=>null},RC=T.createContext(W3),H3=()=>{const n=T.useContext(RC);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},G3=({onLogout:n})=>{const{user:e,isAuthenticated:t}=cl(),{theme:r,setTheme:s}=H3(),a=Xu();return x.jsx("header",{className:"sticky top-0 z-30 flex h-16 items-center bg-white dark:bg-background border-b border-gray-200 dark:border-border px-4",children:x.jsx("div",{className:"ml-auto flex items-center space-x-2",children:t?x.jsx(x.Fragment,{children:x.jsxs(RU,{children:[x.jsx(bU,{children:x.jsxs("div",{className:"flex items-center gap-2 rounded-full pl-1 cursor-pointer",children:[(e==null?void 0:e.photoURL)&&x.jsx(HF,{className:"h-8 w-8",children:x.jsx(GF,{src:e==null?void 0:e.photoURL,alt:"User Avatar"})}),x.jsx("span",{className:"hidden md:inline text-sm font-medium",children:e==null?void 0:e.displayName}),x.jsx(lF,{className:"h-4 w-4 opacity-50"})]})}),x.jsxs(PU,{align:"end",className:"w-56",children:[x.jsx(kU,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:"text-sm font-medium",children:e==null?void 0:e.displayName}),x.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e==null?void 0:e.email})]})}),x.jsx(EE,{}),x.jsxs(gm,{onClick:()=>a("profile"),children:[x.jsx(PF,{className:"mr-2 h-4 w-4"}),x.jsx("span",{children:"Profile"})]}),x.jsx(gm,{onClick:()=>s(r==="dark"?"light":"dark"),children:x.jsxs("span",{className:"flex items-center gap-2",children:[r==="dark"?x.jsx(xF,{className:"h-4 w-4 bg-gray-800 dark:bg-card rounded-full"}):x.jsx(IF,{className:"h-4 w-4 bg-gray-200 dark:bg-card rounded-full"}),x.jsx("span",{children:"Toggle Theme"})]})}),x.jsx(EE,{}),x.jsxs(gm,{onClick:n,children:[x.jsx(EF,{className:"mr-2 h-4 w-4"}),x.jsx("span",{children:"Log out"})]})]})]})}):x.jsxs(x.Fragment,{children:[x.jsx(Hi,{variant:"ghost",size:"sm",onClick:()=>a("/login"),className:"hidden md:inline-flex",children:"Log in"}),x.jsx(Hi,{size:"sm",onClick:()=>a("/signup"),children:"Sign up"})]})})})},q3=({navItems:n,isCollapsed:e=!1})=>x.jsx("ul",{className:Je("space-y-1",e?"px-2":"px-3"),children:n.map(t=>x.jsx("li",{className:"transform transition-all duration-200 ease-in-out",children:x.jsxs(AC,{to:t.path,className:({isActive:r})=>Je("flex items-center rounded-md px-3 py-2 text-sm transition-all duration-300 ease-in-out",r?"bg-sidebar-accent text-sidebar-accent-foreground dark:bg-sidebar-accent dark:text-sidebar-accent-foreground":"hover:bg-accent/50 text-muted-foreground hover:text-foreground dark:hover:bg-sidebar-accent/30 dark:text-sidebar-foreground dark:hover:text-sidebar-foreground",e?"justify-center":"justify-start"),children:[x.jsx("div",{className:Je("flex items-center transition-all duration-300 ease-in-out",e?"w-full justify-center":"mr-3"),children:x.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:t.icon})}),x.jsx("span",{className:Je("whitespace-nowrap transition-all duration-300 ease-in-out",e?"w-0 opacity-0 overflow-hidden":"w-auto opacity-100"),children:t.label})]})},t.path))}),K3=()=>[{path:"/dashboard",label:"Dashboard",icon:x.jsx(vF,{className:"h-4 w-4"})},{path:"/workoutplanner",label:"Workout Planner",icon:x.jsx(pF,{className:"h-4 w-4"})},{path:"/nutrition",label:"Nutrition",icon:x.jsx(NF,{className:"h-4 w-4"})},{path:"/progress",label:"Progress",icon:x.jsx(oF,{className:"h-4 w-4"})},{path:"/goals",label:"Goals",icon:x.jsx(CF,{className:"h-4 w-4"})}],Q3=({isCollapsed:n=!1,toggleSidebar:e})=>{const t=K3();return x.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-sidebar",children:[x.jsx("div",{className:Je("flex h-16 items-center border-b dark:border-sidebar-border",n?"justify-center":"px-4"),children:n?x.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center",children:x.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}):x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"rounded-full bg-primary h-6 w-6 flex items-center justify-center",children:x.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"GM"})}),x.jsx("span",{className:"font-semibold text-lg dark:text-sidebar-foreground",children:"GrindMode"})]})}),x.jsx("nav",{className:"flex-1 overflow-y-auto py-6 no-scrollbar bg-white dark:bg-sidebar",children:x.jsx(q3,{navItems:t,isCollapsed:n})}),x.jsx("div",{className:"flex items-center justify-center border-t dark:border-sidebar-border p-2 bg-white dark:bg-sidebar",children:x.jsx(Hi,{variant:"ghost",size:"icon",onClick:e,className:"w-full h-10 rounded-full hover:bg-accent/50 dark:hover:bg-sidebar-accent/50","aria-label":"Toggle sidebar",children:n?x.jsx(fF,{className:"h-5 w-5 dark:text-sidebar-foreground"}):x.jsx(cF,{className:"h-5 w-5 dark:text-sidebar-foreground"})})})]})},Y3=({isAuthenticated:n})=>n?x.jsx(Uy,{}):x.jsx(pu,{to:"/login"}),X3=()=>{const{state:n,setSidebarOpen:e}=m9(),{logout:t}=cl(),r=Xu(),s=n.ui.sidebarOpen,a=()=>{e(!s)},u=T.useCallback(async()=>{try{t&&await t(),r("/login")}catch(d){console.error("Logout failed:",d)}},[t,r]);return x.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-background",children:[x.jsx("div",{className:`${s?"w-64":"w-20"} transition-all duration-300 ease-in-out bg-white dark:bg-sidebar shadow-lg`,children:x.jsx(Q3,{isCollapsed:!s,toggleSidebar:a})}),x.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[x.jsx(G3,{onLogout:u}),x.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 dark:bg-background",children:x.jsx("div",{className:"container mx-auto",children:x.jsx(Uy,{})})})]})]})};function J3(){return x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-foreground p-4",children:[x.jsxs("header",{className:"text-center mb-12",children:[x.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Welcome to Grind Mode"}),x.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Your ultimate companion for tracking fitness and diet, helping you stay motivated and achieve your health goals. Log workouts, monitor nutrition, and see your progress all in one place."})]}),x.jsxs("main",{className:"text-center",children:[x.jsxs("section",{className:"mb-12",children:[x.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"What Grind Mode Offers"}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[x.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-md",children:[x.jsx("h3",{className:"text-2xl font-semibold mb-2 text-card-foreground",children:"Fitness Tracking"}),x.jsx("p",{className:"text-muted-foreground",children:"Log your workouts with ease. Track sets, reps and weight for various exercises."})]}),x.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-md",children:[x.jsx("h3",{className:"text-2xl font-semibold mb-2 text-card-foreground",children:"Diet Logging"}),x.jsx("p",{className:"text-muted-foreground",children:"Keep a detailed record of your meals and nutritional intake. Understand your calorie consumption and macronutrient breakdown."})]})]})]}),x.jsx(pl,{to:"/login",children:x.jsx(Hi,{size:"lg",className:"text-lg px-8 py-4",children:"Get Started"})})]})]})}const Z3=()=>x.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 dark:from-background dark:to-card",children:[x.jsx("header",{className:"w-full py-6 px-4",children:x.jsxs("div",{className:"container mx-auto flex justify-center",children:[x.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:x.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}),x.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-foreground",children:"Grind Mode"})]})}),x.jsx("main",{className:"flex flex-grow items-center justify-center px-4 py-8",children:x.jsx("div",{className:"w-full max-w-md",children:x.jsx(Uy,{})})}),x.jsx(B3,{})]}),Da=({label:n,id:e,name:t,type:r,autoComplete:s,value:a,onChange:u,className:d})=>x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx(ML,{htmlFor:e,children:n})}),x.jsx(CA,{id:e,name:t,type:r,autoComplete:s,value:a,onChange:u,className:`w-full ${d??""}`})]}),bC=({text:n,onClick:e,isLoading:t})=>x.jsxs(Hi,{type:"button",variant:"outline",onClick:e,disabled:t,className:"w-full mt-2",children:[x.jsx("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:x.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[x.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),x.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),x.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),x.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),n]}),e5=({onSignup:n,onGoogleSignIn:e,isLoading:t,error:r})=>{const[s,a]=le.useState({email:"",password:"",confirmPassword:"",displayName:""}),[u,d]=le.useState(!0),h=y=>{const{name:g,value:E}=y.target;a(S=>({...S,[g]:E})),(g==="password"||g==="confirmPassword")&&d(g==="confirmPassword"?s.password===E:E===s.confirmPassword)},p=async y=>{if(y.preventDefault(),s.password!==s.confirmPassword){d(!1);return}await n(s)};return x.jsxs($u,{className:"w-full max-w-md mx-auto",children:[x.jsx(zu,{children:x.jsx(Bu,{className:"text-2xl text-center font-bold",children:"Sign up"})}),x.jsx(Wu,{children:x.jsxs("form",{onSubmit:p,className:"space-y-4",children:[x.jsx(Da,{label:"Full Name",id:"displayName",name:"displayName",type:"text",autoComplete:"name",value:s.displayName,onChange:h,required:!0}),x.jsx(Da,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:s.email,onChange:h,required:!0}),x.jsx(Da,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"new-password",value:s.password,onChange:h}),x.jsx(Da,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",value:s.confirmPassword,onChange:h,className:` ${!u&&s.confirmPassword?"border-destructive":""}`,autoComplete:"new-password"}),!u&&s.confirmPassword&&x.jsx("p",{className:"text-xs text-destructive mt-1",children:"Passwords don't match"}),r&&x.jsx("p",{className:"text-sm text-destructive",children:r}),x.jsx(Hi,{type:"submit",className:"w-full",disabled:t||!u,children:t?x.jsxs(x.Fragment,{children:[x.jsx(Ty,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})}),x.jsx(Hu,{children:x.jsx(bC,{text:"Continue with Google",onClick:e,isLoading:t})})]})},t5=({onLogin:n,isLoading:e,onGoogleSignIn:t})=>{const[r,s]=T.useState({email:"",password:""}),a=d=>{const{name:h,value:p}=d.target;s(y=>({...y,[h]:p}))},u=async d=>{d.preventDefault(),n(r)};return x.jsxs($u,{className:"w-full max-w-md mx-auto",children:[x.jsx(zu,{children:x.jsx(Bu,{className:"text-2xl text-center font-bold",children:"Login"})}),x.jsx(Wu,{children:x.jsxs("form",{onSubmit:u,className:"space-y-4",children:[x.jsx(Da,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:a,required:!0}),x.jsx(Da,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"current-password",value:r.password,onChange:a,required:!0}),x.jsx(Hi,{type:"submit",className:"w-full",disabled:e,children:e?x.jsxs(x.Fragment,{children:[x.jsx(Ty,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})}),t&&x.jsx(Hu,{children:x.jsx(bC,{onClick:t,isLoading:e,text:"Continue with Google"})})]})},n5=()=>{const[n,e]=le.useState(null),[t,r]=le.useState(!1),{isAuthenticated:s,login:a,loginWithGoogle:u}=cl();if(s)return x.jsx(pu,{to:"/"});const d=async()=>{e(null),r(!0);try{if(!u)throw new Error("Google Sign-In function is not available");await u()}catch(p){e(As(p))}finally{r(!1)}},h=async p=>{e(null),r(!0);try{if(!a)throw new Error("Login function is not available");await a(p.email,p.password)}catch(y){e(As(y))}finally{r(!1)}};return x.jsxs($u,{children:[x.jsxs(zu,{className:"space-y-1",children:[x.jsx(Bu,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),x.jsx(oy,{className:"text-center",children:"Log in to continue your fitness journey"})]}),x.jsxs(Wu,{children:[n&&x.jsxs(Mx,{variant:"destructive",className:"mb-4",children:[x.jsx(Dx,{className:"h-4 w-4"}),x.jsx(Lx,{children:n})]}),x.jsx(t5,{onGoogleSignIn:d,onLogin:h,isLoading:t})]}),x.jsx(Hu,{className:"flex justify-center",children:x.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dont have an account?"," ",x.jsx(pl,{to:"/signup",className:"font-medium text-primary hover:underline",children:"Sign up"})]})})]})},r5=()=>{const[n,e]=T.useState(!1),[t,r]=T.useState(null),s=Xu(),{signup:a,loginWithGoogle:u}=cl(),d=async p=>{const{email:y,password:g,displayName:E}=p;e(!0),r(null);try{a(y,g,E),s("/dashboard")}catch(S){let A="Failed to create account. Please try again.";S instanceof Error&&(S.message.includes("email-already-in-use")?A="This email is already registered. Please use another email or login.":S.message.includes("weak-password")?A="Password should be at least 6 characters long.":S.message.includes("invalid-email")&&(A="Please enter a valid email address.")),r(A)}finally{e(!1)}},h=async()=>{e(!0),r(null);try{u(),s("/dashboard")}catch(p){r("Google sign-in failed. Please try again."),console.error("Google sign-in error:",p)}finally{e(!1)}};return x.jsxs($u,{children:[x.jsxs(zu,{className:"space-y-1",children:[x.jsx(Bu,{className:"text-2xl font-bold text-center",children:"Create your account"}),x.jsx(oy,{className:"text-center",children:"Join GrindMode to track your fitness journey"})]}),x.jsxs(Wu,{children:[t&&x.jsxs(Mx,{variant:"destructive",className:"mb-4",children:[x.jsx(Dx,{className:"h-4 w-4"}),x.jsx(Lx,{children:t})]}),x.jsx(e5,{onSignup:d,isLoading:n,error:t,onGoogleSignIn:h})]}),x.jsx(Hu,{className:"flex justify-center",children:x.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",x.jsx(pl,{to:"/login",className:"font-medium text-primary hover:underline",children:"Log in"})]})})]})},bE=()=>x.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground",children:[x.jsx(Ty,{className:"animate-spin h-12 w-12 text-primary mb-4"}),x.jsx("p",{className:"text-xl font-semibold",children:"Loading..."}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait a moment."})]}),i5=()=>{const n=Qi();return x.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground p-4 text-center",children:[x.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),x.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),x.jsxs("p",{className:"text-muted-foreground mb-6",children:["Sorry, the page you are looking for at"," ",x.jsx("code",{className:"bg-muted p-1 rounded-sm text-sm",children:n.pathname})," ","does not exist."]}),x.jsx(Hi,{asChild:!0,children:x.jsxs(pl,{to:"/",children:[x.jsx(gF,{className:"mr-2 h-4 w-4"}),"Go to Homepage"]})})]})},s5=T.lazy(()=>ch(()=>import("./Dashboard-bDZeyrF1.js"),__vite__mapDeps([0,1,2])).then(n=>({default:n.Dashboard}))),o5=T.lazy(()=>ch(()=>import("./Nutrition-B9YjFWx6.js"),__vite__mapDeps([3,4,5,1,2,6])).then(n=>({default:n.Nutrition}))),a5=T.lazy(()=>ch(()=>import("./index-CRa0VDkr.js"),__vite__mapDeps([7,6,2,5])).then(n=>({default:n.WorkoutPlanner}))),l5=T.lazy(()=>ch(()=>import("./index-BRJUY0l5.js"),__vite__mapDeps([8,4,5])).then(n=>({default:n.Profile}))),u5=()=>{const{isAuthenticated:n,isLoading:e}=cl();return e?x.jsx(bE,{}):x.jsx(T.Suspense,{fallback:x.jsx(bE,{}),children:x.jsxs(a3,{children:[x.jsx(Hn,{path:"/",element:n?x.jsx(pu,{to:"/dashboard"}):x.jsx(J3,{})}),x.jsxs(Hn,{element:x.jsx(Z3,{}),children:[x.jsx(Hn,{path:"/login",element:n?x.jsx(pu,{to:"/dashboard"}):x.jsx(n5,{})}),x.jsx(Hn,{path:"/signup",element:n?x.jsx(pu,{to:"/dashboard"}):x.jsx(r5,{})})]},"auth-layout"),x.jsx(Hn,{element:x.jsx(Y3,{isAuthenticated:n}),children:x.jsxs(Hn,{element:x.jsx(X3,{}),children:[x.jsx(Hn,{path:"/dashboard",element:x.jsx(s5,{})}),x.jsx(Hn,{path:"/nutrition",element:x.jsx(o5,{})}),x.jsx(Hn,{path:"/workoutplanner",element:x.jsx(a5,{})}),x.jsx(Hn,{path:"/profile",element:x.jsx(l5,{})}),x.jsx(Hn,{path:"/progress",element:x.jsx("div",{children:"Progress Tracking"})})]})}),x.jsx(Hn,{path:"*",element:x.jsx(i5,{})})]})})},c5=({children:n})=>{const[e,t]=T.useState(()=>{const S=localStorage.getItem("appState");if(S)try{return JSON.parse(S)}catch(A){console.error("Failed to parse saved app state",A)}return Bd}),{user:r}=cl();T.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(e))},[e]),T.useEffect(()=>{r||t(S=>({...S,ui:Bd.ui,dashboardData:Bd.dashboardData}))},[r]);const E={state:e,setTheme:S=>{t(A=>({...A,userPreferences:{...A.userPreferences,theme:S}}))},setSidebarOpen:S=>{t(A=>({...A,ui:{...A.ui,sidebarOpen:S}}))},setHeightUnit:S=>{t(A=>({...A,userPreferences:{...A.userPreferences,heightUnit:S}}))},setWeightUnit:S=>{t(A=>({...A,userPreferences:{...A.userPreferences,weightUnit:S}}))},setDateFormat:S=>{t(A=>({...A,userPreferences:{...A.userPreferences,dateFormat:S}}))},markDashboardNeedsRefresh:()=>{t(S=>({...S,dashboardData:{...S.dashboardData,needsRefresh:!0}}))},resetDashboardRefreshState:()=>{t(S=>({...S,dashboardData:{needsRefresh:!1,lastUpdated:new Date}}))},setWorkoutDaysPerWeek:S=>{t(A=>({...A,userPreferences:{...A.userPreferences,workoutDaysPerWeek:S}}))}};return x.jsx(fC.Provider,{value:E,children:n})};function d5({children:n,defaultTheme:e="light",storageKey:t="appState",...r}){const[s,a]=T.useState(()=>{var d;try{const h=localStorage.getItem(t);if(h){const p=JSON.parse(h);return((d=p==null?void 0:p.userPreferences)==null?void 0:d.theme)||e}}catch(h){console.error("Error reading theme from localStorage:",h)}return e});T.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),s==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(h);return}d.classList.add(s)},[s]);const u={theme:s,setTheme:d=>{try{const h=localStorage.getItem(t),p=h?JSON.parse(h):{};p.userPreferences||(p.userPreferences={heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",workoutDaysPerWeek:3,theme:d,notificationsEnabled:!0}),p.userPreferences.theme=d,localStorage.setItem(t,JSON.stringify(p)),a(d)}catch(h){console.error("Error saving theme to localStorage:",h),a(d)}}};return x.jsx(RC.Provider,{...r,value:u,children:n})}function f5(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const h5=n=>{switch(n){case"success":return g5;case"info":return v5;case"warning":return y5;case"error":return _5;default:return null}},p5=Array(12).fill(0),m5=({visible:n,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},le.createElement("div",{className:"sonner-spinner"},p5.map((t,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),g5=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),y5=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),v5=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_5=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),w5=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),E5=()=>{const[n,e]=le.useState(document.hidden);return le.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let ig=1;class T5{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ig++,u=this.toasts.find(h=>h.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:r}),{...h,...e,id:a,dismissible:d,title:r}):h):this.addToast({title:r,...s,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,u;const d=s.then(async p=>{if(u=["resolve",p],le.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(S5(p)&&!p.ok){a=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,A=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:E,...A})}else if(p instanceof Error){a=!1;const g=typeof t.error=="function"?await t.error(p):t.error,E=typeof t.description=="function"?await t.description(p):t.description,A=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:E,...A})}else if(t.success!==void 0){a=!1;const g=typeof t.success=="function"?await t.success(p):t.success,E=typeof t.description=="function"?await t.description(p):t.description,A=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:E,...A})}}).catch(async p=>{if(u=["reject",p],t.error!==void 0){a=!1;const y=typeof t.error=="function"?await t.error(p):t.error,g=typeof t.description=="function"?await t.description(p):t.description,S=typeof y=="object"&&!le.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:g,...S})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,y)=>d.then(()=>u[0]==="reject"?y(u[1]):p(u[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||ig++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kn=new T5,I5=(n,e)=>{const t=(e==null?void 0:e.id)||ig++;return kn.addToast({title:n,...e,id:t}),t},S5=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",x5=I5,A5=()=>kn.toasts,C5=()=>kn.getActiveToasts(),s6=Object.assign(x5,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:A5,getToasts:C5});f5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bd(n){return n.label!==void 0}const R5=3,b5="24px",P5="16px",PE=4e3,k5=356,N5=14,D5=45,O5=200;function ni(...n){return n.filter(Boolean).join(" ")}function M5(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const L5=n=>{var e,t,r,s,a,u,d,h,p;const{invert:y,toast:g,unstyled:E,interacting:S,setHeights:A,visibleToasts:b,heights:R,index:O,toasts:B,expanded:$,removeToast:K,defaultRichColors:Z,closeButton:ne,style:N,cancelButtonStyle:C,actionButtonStyle:k,className:L="",descriptionClassName:V="",duration:U,position:D,gap:Pe,expandByDefault:xe,classNames:ce,icons:me,closeButtonAriaLabel:W="Close toast"}=n,[J,re]=le.useState(null),[F,Q]=le.useState(null),[ie,fe]=le.useState(!1),[Ae,ge]=le.useState(!1),[ve,Me]=le.useState(!1),[Ne,He]=le.useState(!1),[jt,Ht]=le.useState(!1),[Zt,vn]=le.useState(0),[Br,Wr]=le.useState(0),Mn=le.useRef(g.duration||U||PE),mi=le.useRef(null),Et=le.useRef(null),fr=O===0,hr=O+1<=b,Pt=g.type,Ln=g.dismissible!==!1,Yi=g.className||"",Xs=g.descriptionClassName||"",at=le.useMemo(()=>R.findIndex(ke=>ke.toastId===g.id)||0,[R,g.id]),Tt=le.useMemo(()=>{var ke;return(ke=g.closeButton)!=null?ke:ne},[g.closeButton,ne]),Xn=le.useMemo(()=>g.duration||U||PE,[g.duration,U]),gi=le.useRef(0),un=le.useRef(0),Hr=le.useRef(0),_n=le.useRef(null),[Js,Zs]=D.split("-"),Xi=le.useMemo(()=>R.reduce((ke,lt,ut)=>ut>=at?ke:ke+lt.height,0),[R,at]),Ji=E5(),eo=g.invert||y,pr=Pt==="loading";un.current=le.useMemo(()=>at*Pe+Xi,[at,Xi]),le.useEffect(()=>{Mn.current=Xn},[Xn]),le.useEffect(()=>{fe(!0)},[]),le.useEffect(()=>{const ke=Et.current;if(ke){const lt=ke.getBoundingClientRect().height;return Wr(lt),A(ut=>[{toastId:g.id,height:lt,position:g.position},...ut]),()=>A(ut=>ut.filter(kt=>kt.toastId!==g.id))}},[A,g.id]),le.useLayoutEffect(()=>{if(!ie)return;const ke=Et.current,lt=ke.style.height;ke.style.height="auto";const ut=ke.getBoundingClientRect().height;ke.style.height=lt,Wr(ut),A(kt=>kt.find(pt=>pt.toastId===g.id)?kt.map(pt=>pt.toastId===g.id?{...pt,height:ut}:pt):[{toastId:g.id,height:ut,position:g.position},...kt])},[ie,g.title,g.description,A,g.id]);const cn=le.useCallback(()=>{ge(!0),vn(un.current),A(ke=>ke.filter(lt=>lt.toastId!==g.id)),setTimeout(()=>{K(g)},O5)},[g,K,A,un]);le.useEffect(()=>{if(g.promise&&Pt==="loading"||g.duration===1/0||g.type==="loading")return;let ke;return $||S||Ji?(()=>{if(Hr.current<gi.current){const kt=new Date().getTime()-gi.current;Mn.current=Mn.current-kt}Hr.current=new Date().getTime()})():(()=>{Mn.current!==1/0&&(gi.current=new Date().getTime(),ke=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),cn()},Mn.current))})(),()=>clearTimeout(ke)},[$,S,g,Pt,Ji,cn]),le.useEffect(()=>{g.delete&&cn()},[cn,g.delete]);function Zi(){var ke;if(me!=null&&me.loading){var lt;return le.createElement("div",{className:ni(ce==null?void 0:ce.loader,g==null||(lt=g.classNames)==null?void 0:lt.loader,"sonner-loader"),"data-visible":Pt==="loading"},me.loading)}return le.createElement(m5,{className:ni(ce==null?void 0:ce.loader,g==null||(ke=g.classNames)==null?void 0:ke.loader),visible:Pt==="loading"})}const wn=g.icon||(me==null?void 0:me[Pt])||h5(Pt);var Vn,yi;return le.createElement("li",{tabIndex:0,ref:Et,className:ni(L,Yi,ce==null?void 0:ce.toast,g==null||(e=g.classNames)==null?void 0:e.toast,ce==null?void 0:ce.default,ce==null?void 0:ce[Pt],g==null||(t=g.classNames)==null?void 0:t[Pt]),"data-sonner-toast":"","data-rich-colors":(Vn=g.richColors)!=null?Vn:Z,"data-styled":!(g.jsx||g.unstyled||E),"data-mounted":ie,"data-promise":!!g.promise,"data-swiped":jt,"data-removed":Ae,"data-visible":hr,"data-y-position":Js,"data-x-position":Zs,"data-index":O,"data-front":fr,"data-swiping":ve,"data-dismissible":Ln,"data-type":Pt,"data-invert":eo,"data-swipe-out":Ne,"data-swipe-direction":F,"data-expanded":!!($||xe&&ie),style:{"--index":O,"--toasts-before":O,"--z-index":B.length-O,"--offset":`${Ae?Zt:un.current}px`,"--initial-height":xe?"auto":`${Br}px`,...N,...g.style},onDragEnd:()=>{Me(!1),re(null),_n.current=null},onPointerDown:ke=>{pr||!Ln||(mi.current=new Date,vn(un.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Me(!0),_n.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,lt,ut;if(Ne||!Ln)return;_n.current=null;const kt=Number(((ke=Et.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),En=Number(((lt=Et.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pt=new Date().getTime()-((ut=mi.current)==null?void 0:ut.getTime()),qe=J==="x"?kt:En,mr=Math.abs(qe)/pt;if(Math.abs(qe)>=D5||mr>.11){vn(un.current),g.onDismiss==null||g.onDismiss.call(g,g),Q(J==="x"?kt>0?"right":"left":En>0?"down":"up"),cn(),He(!0);return}else{var mt,Nt;(mt=Et.current)==null||mt.style.setProperty("--swipe-amount-x","0px"),(Nt=Et.current)==null||Nt.style.setProperty("--swipe-amount-y","0px")}Ht(!1),Me(!1),re(null)},onPointerMove:ke=>{var lt,ut,kt;if(!_n.current||!Ln||((lt=window.getSelection())==null?void 0:lt.toString().length)>0)return;const pt=ke.clientY-_n.current.y,qe=ke.clientX-_n.current.x;var mr;const mt=(mr=n.swipeDirections)!=null?mr:M5(D);!J&&(Math.abs(qe)>1||Math.abs(pt)>1)&&re(Math.abs(qe)>Math.abs(pt)?"x":"y");let Nt={x:0,y:0};const Gr=Tn=>1/(1.5+Math.abs(Tn)/20);if(J==="y"){if(mt.includes("top")||mt.includes("bottom"))if(mt.includes("top")&&pt<0||mt.includes("bottom")&&pt>0)Nt.y=pt;else{const Tn=pt*Gr(pt);Nt.y=Math.abs(Tn)<Math.abs(pt)?Tn:pt}}else if(J==="x"&&(mt.includes("left")||mt.includes("right")))if(mt.includes("left")&&qe<0||mt.includes("right")&&qe>0)Nt.x=qe;else{const Tn=qe*Gr(qe);Nt.x=Math.abs(Tn)<Math.abs(qe)?Tn:qe}(Math.abs(Nt.x)>0||Math.abs(Nt.y)>0)&&Ht(!0),(ut=Et.current)==null||ut.style.setProperty("--swipe-amount-x",`${Nt.x}px`),(kt=Et.current)==null||kt.style.setProperty("--swipe-amount-y",`${Nt.y}px`)}},Tt&&!g.jsx&&Pt!=="loading"?le.createElement("button",{"aria-label":W,"data-disabled":pr,"data-close-button":!0,onClick:pr||!Ln?()=>{}:()=>{cn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ni(ce==null?void 0:ce.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(yi=me==null?void 0:me.close)!=null?yi:w5):null,(Pt||g.icon||g.promise)&&g.icon!==null&&((me==null?void 0:me[Pt])!==null||g.icon)?le.createElement("div",{"data-icon":"",className:ni(ce==null?void 0:ce.icon,g==null||(s=g.classNames)==null?void 0:s.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Zi():null,g.type!=="loading"?wn:null):null,le.createElement("div",{"data-content":"",className:ni(ce==null?void 0:ce.content,g==null||(a=g.classNames)==null?void 0:a.content)},le.createElement("div",{"data-title":"",className:ni(ce==null?void 0:ce.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?le.createElement("div",{"data-description":"",className:ni(V,Xs,ce==null?void 0:ce.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),le.isValidElement(g.cancel)?g.cancel:g.cancel&&bd(g.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||C,onClick:ke=>{bd(g.cancel)&&Ln&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,ke),cn())},className:ni(ce==null?void 0:ce.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,le.isValidElement(g.action)?g.action:g.action&&bd(g.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:ke=>{bd(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,ke),!ke.defaultPrevented&&cn())},className:ni(ce==null?void 0:ce.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function kE(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function V5(n,e){const t={};return[n,e].forEach((r,s)=>{const a=s===1,u=a?"--mobile-offset":"--offset",d=a?P5:b5;function h(p){["top","right","bottom","left"].forEach(y=>{t[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${u}-${p}`]=d:t[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(d)}),t}const F5=le.forwardRef(function(e,t){const{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:u,closeButton:d,className:h,offset:p,mobileOffset:y,theme:g="light",richColors:E,duration:S,style:A,visibleToasts:b=R5,toastOptions:R,dir:O=kE(),gap:B=N5,icons:$,containerAriaLabel:K="Notifications"}=e,[Z,ne]=le.useState([]),N=le.useMemo(()=>Array.from(new Set([s].concat(Z.filter(F=>F.position).map(F=>F.position)))),[Z,s]),[C,k]=le.useState([]),[L,V]=le.useState(!1),[U,D]=le.useState(!1),[Pe,xe]=le.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ce=le.useRef(null),me=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=le.useRef(null),J=le.useRef(!1),re=le.useCallback(F=>{ne(Q=>{var ie;return(ie=Q.find(fe=>fe.id===F.id))!=null&&ie.delete||kn.dismiss(F.id),Q.filter(({id:fe})=>fe!==F.id)})},[]);return le.useEffect(()=>kn.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{ne(Q=>Q.map(ie=>ie.id===F.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{qS.flushSync(()=>{ne(Q=>{const ie=Q.findIndex(fe=>fe.id===F.id);return ie!==-1?[...Q.slice(0,ie),{...Q[ie],...F},...Q.slice(ie+1)]:[F,...Q]})})})}),[Z]),le.useEffect(()=>{if(g!=="system"){xe(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?xe("dark"):xe("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:Q})=>{xe(Q?"dark":"light")})}catch{F.addListener(({matches:ie})=>{try{xe(ie?"dark":"light")}catch(fe){console.error(fe)}})}},[g]),le.useEffect(()=>{Z.length<=1&&V(!1)},[Z]),le.useEffect(()=>{const F=Q=>{var ie;if(a.every(ge=>Q[ge]||Q.code===ge)){var Ae;V(!0),(Ae=ce.current)==null||Ae.focus()}Q.code==="Escape"&&(document.activeElement===ce.current||(ie=ce.current)!=null&&ie.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),le.useEffect(()=>{if(ce.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,J.current=!1)}},[ce.current]),le.createElement("section",{ref:t,"aria-label":`${K} ${me}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((F,Q)=>{var ie;const[fe,Ae]=F.split("-");return Z.length?le.createElement("ol",{key:F,dir:O==="auto"?kE():O,tabIndex:-1,ref:ce,className:h,"data-sonner-toaster":!0,"data-sonner-theme":Pe,"data-y-position":fe,"data-lifted":L&&Z.length>1&&!u,"data-x-position":Ae,style:{"--front-toast-height":`${((ie=C[0])==null?void 0:ie.height)||0}px`,"--width":`${k5}px`,"--gap":`${B}px`,...A,...V5(p,y)},onBlur:ge=>{J.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(J.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||J.current||(J.current=!0,W.current=ge.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{U||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},Z.filter(ge=>!ge.position&&Q===0||ge.position===F).map((ge,ve)=>{var Me,Ne;return le.createElement(L5,{key:ge.id,icons:$,index:ve,toast:ge,defaultRichColors:E,duration:(Me=R==null?void 0:R.duration)!=null?Me:S,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:r,visibleToasts:b,closeButton:(Ne=R==null?void 0:R.closeButton)!=null?Ne:d,interacting:U,position:F,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,closeButtonAriaLabel:R==null?void 0:R.closeButtonAriaLabel,removeToast:re,toasts:Z.filter(He=>He.position==ge.position),heights:C.filter(He=>He.position==ge.position),setHeights:k,expandByDefault:u,gap:B,expanded:L,swipeDirections:e.swipeDirections})})):null}))}),j5=()=>x.jsx(U3,{children:x.jsx(d5,{children:x.jsxs(c5,{children:[x.jsx(u5,{}),x.jsx(F5,{})]})})}),U5="/grindmode/";$R.createRoot(document.getElementById("root")).render(x.jsx(T.StrictMode,{children:x.jsx(k3,{basename:U5,children:x.jsx(j5,{})})}));export{AM as $,GU as A,Hi as B,$u as C,pF as D,HA as E,qU as F,KU as G,m9 as H,CA as I,s6 as J,Jf as K,Ty as L,W5 as M,Xf as N,HU as O,ht as P,Y5 as Q,le as R,AL as S,xt as T,NF as U,H5 as V,K5 as W,q5 as X,Q5 as Y,ju as Z,DS as _,zu as a,CM as a0,G5 as a1,oy as a2,r6 as a3,i6 as a4,l9 as a5,u9 as a6,d9 as a7,f9 as a8,c9 as a9,uy as aA,ly as aB,c4 as aC,d4 as aD,p9 as aa,h9 as ab,PF as ac,EF as ad,ja as ae,Bx as af,lj as ag,uj as ah,X5 as ai,HM as aj,J5 as ak,z0 as al,$M as am,zM as an,BM as ao,WM as ap,mx as aq,l4 as ar,XS as as,u4 as at,_y as au,ay as av,xx as aw,tx as ax,Ey as ay,Xa as az,Bu as b,gn as c,Wu as d,cl as e,Je as f,Ox as g,ML as h,Hu as i,x as j,lF as k,cF as l,fF as m,Ft as n,JS as o,Qs as p,Ys as q,T as r,je as s,di as t,Xu as u,Mr as v,wy as w,t4 as x,zU as y,WU as z};
