var FR=Object.defineProperty;var UR=(n,e,t)=>e in n?FR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var L_=(n,e,t)=>UR(n,typeof e!="symbol"?e+"":e,t);function zR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function _x(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var um={exports:{}},fc={},dm={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function $R(){if(j_)return Be;j_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,I={};function R(B,Z,ue){this.props=B,this.context=Z,this.refs=I,this.updater=ue||T}R.prototype.isReactComponent={},R.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},R.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function D(){}D.prototype=R.prototype;function U(B,Z,ue){this.props=B,this.context=Z,this.refs=I,this.updater=ue||T}var V=U.prototype=new D;V.constructor=U,b(V,R.prototype),V.isPureReactComponent=!0;var z=Array.isArray,W=Object.prototype.hasOwnProperty,Y={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(B,Z,ue){var ge,Re={},De=null,ie=null;if(Z!=null)for(ge in Z.ref!==void 0&&(ie=Z.ref),Z.key!==void 0&&(De=""+Z.key),Z)W.call(Z,ge)&&!N.hasOwnProperty(ge)&&(Re[ge]=Z[ge]);var Ee=arguments.length-2;if(Ee===1)Re.children=ue;else if(1<Ee){for(var Ie=Array(Ee),ke=0;ke<Ee;ke++)Ie[ke]=arguments[ke+2];Re.children=Ie}if(B&&B.defaultProps)for(ge in Ee=B.defaultProps,Ee)Re[ge]===void 0&&(Re[ge]=Ee[ge]);return{$$typeof:n,type:B,key:De,ref:ie,props:Re,_owner:Y.current}}function k(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return Z[ue]})}var F=/\/+/g;function O(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):Z.toString(36)}function Se(B,Z,ue,ge,Re){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var ie=!1;if(B===null)ie=!0;else switch(De){case"string":case"number":ie=!0;break;case"object":switch(B.$$typeof){case n:case e:ie=!0}}if(ie)return ie=B,Re=Re(ie),B=ge===""?"."+O(ie,0):ge,z(Re)?(ue="",B!=null&&(ue=B.replace(F,"$&/")+"/"),Se(Re,Z,ue,"",function(ke){return ke})):Re!=null&&(M(Re)&&(Re=k(Re,ue+(!Re.key||ie&&ie.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+B)),Z.push(Re)),1;if(ie=0,ge=ge===""?".":ge+":",z(B))for(var Ee=0;Ee<B.length;Ee++){De=B[Ee];var Ie=ge+O(De,Ee);ie+=Se(De,Z,ue,Ie,Re)}else if(Ie=E(B),typeof Ie=="function")for(B=Ie.call(B),Ee=0;!(De=B.next()).done;)De=De.value,Ie=ge+O(De,Ee++),ie+=Se(De,Z,ue,Ie,Re);else if(De==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ie}function be(B,Z,ue){if(B==null)return B;var ge=[],Re=0;return Se(B,ge,"","",function(De){return Z.call(ue,De,Re++)}),ge}function he(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var me={current:null},q={transition:null},ee={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:q,ReactCurrentOwner:Y};function re(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:be,forEach:function(B,Z,ue){be(B,function(){Z.apply(this,arguments)},ue)},count:function(B){var Z=0;return be(B,function(){Z++}),Z},toArray:function(B){return be(B,function(Z){return Z})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Be.Component=R,Be.Fragment=t,Be.Profiler=i,Be.PureComponent=U,Be.StrictMode=r,Be.Suspense=h,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Be.act=re,Be.cloneElement=function(B,Z,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ge=b({},B.props),Re=B.key,De=B.ref,ie=B._owner;if(Z!=null){if(Z.ref!==void 0&&(De=Z.ref,ie=Y.current),Z.key!==void 0&&(Re=""+Z.key),B.type&&B.type.defaultProps)var Ee=B.type.defaultProps;for(Ie in Z)W.call(Z,Ie)&&!N.hasOwnProperty(Ie)&&(ge[Ie]=Z[Ie]===void 0&&Ee!==void 0?Ee[Ie]:Z[Ie])}var Ie=arguments.length-2;if(Ie===1)ge.children=ue;else if(1<Ie){Ee=Array(Ie);for(var ke=0;ke<Ie;ke++)Ee[ke]=arguments[ke+2];ge.children=Ee}return{$$typeof:n,type:B.type,key:Re,ref:De,props:ge,_owner:ie}},Be.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Be.createElement=A,Be.createFactory=function(B){var Z=A.bind(null,B);return Z.type=B,Z},Be.createRef=function(){return{current:null}},Be.forwardRef=function(B){return{$$typeof:u,render:B}},Be.isValidElement=M,Be.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:he}},Be.memo=function(B,Z){return{$$typeof:p,type:B,compare:Z===void 0?null:Z}},Be.startTransition=function(B){var Z=q.transition;q.transition={};try{B()}finally{q.transition=Z}},Be.unstable_act=re,Be.useCallback=function(B,Z){return me.current.useCallback(B,Z)},Be.useContext=function(B){return me.current.useContext(B)},Be.useDebugValue=function(){},Be.useDeferredValue=function(B){return me.current.useDeferredValue(B)},Be.useEffect=function(B,Z){return me.current.useEffect(B,Z)},Be.useId=function(){return me.current.useId()},Be.useImperativeHandle=function(B,Z,ue){return me.current.useImperativeHandle(B,Z,ue)},Be.useInsertionEffect=function(B,Z){return me.current.useInsertionEffect(B,Z)},Be.useLayoutEffect=function(B,Z){return me.current.useLayoutEffect(B,Z)},Be.useMemo=function(B,Z){return me.current.useMemo(B,Z)},Be.useReducer=function(B,Z,ue){return me.current.useReducer(B,Z,ue)},Be.useRef=function(B){return me.current.useRef(B)},Be.useState=function(B){return me.current.useState(B)},Be.useSyncExternalStore=function(B,Z,ue){return me.current.useSyncExternalStore(B,Z,ue)},Be.useTransition=function(){return me.current.useTransition()},Be.version="18.3.1",Be}var V_;function Wh(){return V_||(V_=1,dm.exports=$R()),dm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function BR(){if(F_)return fc;F_=1;var n=Wh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var y,v={},E=null,T=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(T=h.ref);for(y in h)r.call(h,y)&&!a.hasOwnProperty(y)&&(v[y]=h[y]);if(u&&u.defaultProps)for(y in h=u.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:e,type:u,key:E,ref:T,props:v,_owner:i.current}}return fc.Fragment=t,fc.jsx=l,fc.jsxs=l,fc}var U_;function WR(){return U_||(U_=1,um.exports=BR()),um.exports}var m=WR(),x=Wh();const St=_x(x),Ex=zR({__proto__:null,default:St},[x]);var bd={},hm={exports:{}},_n={},fm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function HR(){return z_||(z_=1,function(n){function e(q,ee){var re=q.length;q.push(ee);e:for(;0<re;){var B=re-1>>>1,Z=q[B];if(0<i(Z,ee))q[B]=ee,q[re]=Z,re=B;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ee=q[0],re=q.pop();if(re!==ee){q[0]=re;e:for(var B=0,Z=q.length,ue=Z>>>1;B<ue;){var ge=2*(B+1)-1,Re=q[ge],De=ge+1,ie=q[De];if(0>i(Re,re))De<Z&&0>i(ie,Re)?(q[B]=ie,q[De]=re,B=De):(q[B]=Re,q[ge]=re,B=ge);else if(De<Z&&0>i(ie,re))q[B]=ie,q[De]=re,B=De;else break e}}return ee}function i(q,ee){var re=q.sortIndex-ee.sortIndex;return re!==0?re:q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],y=1,v=null,E=3,T=!1,b=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(q){for(var ee=t(p);ee!==null;){if(ee.callback===null)r(p);else if(ee.startTime<=q)r(p),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=t(p)}}function z(q){if(I=!1,V(q),!b)if(t(h)!==null)b=!0,he(W);else{var ee=t(p);ee!==null&&me(z,ee.startTime-q)}}function W(q,ee){b=!1,I&&(I=!1,D(A),A=-1),T=!0;var re=E;try{for(V(ee),v=t(h);v!==null&&(!(v.expirationTime>ee)||q&&!L());){var B=v.callback;if(typeof B=="function"){v.callback=null,E=v.priorityLevel;var Z=B(v.expirationTime<=ee);ee=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(h)&&r(h),V(ee)}else r(h);v=t(h)}if(v!==null)var ue=!0;else{var ge=t(p);ge!==null&&me(z,ge.startTime-ee),ue=!1}return ue}finally{v=null,E=re,T=!1}}var Y=!1,N=null,A=-1,k=5,M=-1;function L(){return!(n.unstable_now()-M<k)}function F(){if(N!==null){var q=n.unstable_now();M=q;var ee=!0;try{ee=N(!0,q)}finally{ee?O():(Y=!1,N=null)}}else Y=!1}var O;if(typeof U=="function")O=function(){U(F)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,be=Se.port2;Se.port1.onmessage=F,O=function(){be.postMessage(null)}}else O=function(){R(F,0)};function he(q){N=q,Y||(Y=!0,O())}function me(q,ee){A=R(function(){q(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){b||T||(b=!0,he(W))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(q){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var re=E;E=ee;try{return q()}finally{E=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=E;E=q;try{return ee()}finally{E=re}},n.unstable_scheduleCallback=function(q,ee,re){var B=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?B+re:B):re=B,q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=re+Z,q={id:y++,callback:ee,priorityLevel:q,startTime:re,expirationTime:Z,sortIndex:-1},re>B?(q.sortIndex=re,e(p,q),t(h)===null&&q===t(p)&&(I?(D(A),A=-1):I=!0,me(z,re-B))):(q.sortIndex=Z,e(h,q),b||T||(b=!0,he(W))),q},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(q){var ee=E;return function(){var re=E;E=ee;try{return q.apply(this,arguments)}finally{E=re}}}}(pm)),pm}var $_;function qR(){return $_||($_=1,fm.exports=HR()),fm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function GR(){if(B_)return _n;B_=1;var n=Wh(),e=qR();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function E(s){return h.call(v,s)?!0:h.call(y,s)?!1:p.test(s)?v[s]=!0:(y[s]=!0,!1)}function T(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,c,f){if(o===null||typeof o>"u"||T(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function I(s,o,c,f,g,_,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=C}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new I(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(D,U);R[o]=new I(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(D,U);R[o]=new I(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(D,U);R[o]=new I(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,o,c,f){var g=R.hasOwnProperty(o)?R[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,c,g,f)&&(c=null),f||g===null?E(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),Y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),q=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,B;function Z(s){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ue=!1;function ge(s,o){if(!s||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var f=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){f=X}s.call(o.prototype)}else{try{throw Error()}catch(X){f=X}s()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),_=f.stack.split(`
`),C=g.length-1,j=_.length-1;1<=C&&0<=j&&g[C]!==_[j];)j--;for(;1<=C&&0<=j;C--,j--)if(g[C]!==_[j]){if(C!==1||j!==1)do if(C--,j--,0>j||g[C]!==_[j]){var $=`
`+g[C].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=C&&0<=j);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Re(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=ge(s.type,!1),s;case 11:return s=ge(s.type.render,!1),s;case 1:return s=ge(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case Y:return"Portal";case k:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case Se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return o=s.displayName||null,o!==null?o:De(s.type)||"Memo";case he:o=s._payload,s=s._init;try{return De(s(o))}catch{}}return null}function ie(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ie(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(s){var o=Ie(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(C){f=""+C,_.call(this,C)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Fe(s){s._valueTracker||(s._valueTracker=ke(s))}function Ue(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Ie(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function yt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Lt(s,o){var c=o.checked;return re({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Un(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=Ee(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function rr(s,o){o=o.checked,o!=null&&V(s,"checked",o,!1)}function sr(s,o){rr(s,o);var c=Ee(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ir(s,o.type,c):o.hasOwnProperty("defaultValue")&&ir(s,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Fo(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ir(s,o,c){(o!=="number"||yt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var is=Array.isArray;function os(s,o,c,f){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Ee(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function El(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Uo(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(is(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Ee(c)}}function zo(s,o){var c=Ee(o.value),f=Ee(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function xl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Rt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Rt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var as,Sl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=as.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function zs(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bi=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(s){Bi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),$i[o]=$i[s]})});function Tl(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||$i.hasOwnProperty(s)&&$i[s]?(""+o).trim():o+"px"}function Il(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Tl(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var Cl=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(s,o){if(o){if(Cl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Al(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wi=null;function $o(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bo=null,zn=null,Or=null;function Wo(s){if(s=Jl(s)){if(typeof Bo!="function")throw Error(t(280));var o=s.stateNode;o&&(o=$u(o),Bo(s.stateNode,s.type,o))}}function Lr(s){zn?Or?Or.push(s):Or=[s]:zn=s}function Rl(){if(zn){var s=zn,o=Or;if(Or=zn=null,Wo(s),o)for(s=0;s<o.length;s++)Wo(o[s])}}function Hi(s,o){return s(o)}function kl(){}var ls=!1;function Pl(s,o,c){if(ls)return s(o,c);ls=!0;try{return Hi(s,o,c)}finally{ls=!1,(zn!==null||Or!==null)&&(kl(),Rl())}}function _t(s,o){var c=s.stateNode;if(c===null)return null;var f=$u(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var Ho=!1;if(u)try{var or={};Object.defineProperty(or,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Ho=!1}function qi(s,o,c,f,g,_,C,j,$){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(oe){this.onError(oe)}}var Gi=!1,qo=null,ar=!1,Nl=null,Vf={onError:function(s){Gi=!0,qo=s}};function Go(s,o,c,f,g,_,C,j,$){Gi=!1,qo=null,qi.apply(Vf,arguments)}function fu(s,o,c,f,g,_,C,j,$){if(Go.apply(this,arguments),Gi){if(Gi){var X=qo;Gi=!1,qo=null}else throw Error(t(198));ar||(ar=!0,Nl=X)}}function lr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Ki(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function cr(s){if(lr(s)!==s)throw Error(t(188))}function pu(s){var o=s.alternate;if(!o){if(o=lr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,f=o;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return cr(g),s;if(_===f)return cr(g),o;_=_.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=_;else{for(var C=!1,j=g.child;j;){if(j===c){C=!0,c=g,f=_;break}if(j===f){C=!0,f=g,c=_;break}j=j.sibling}if(!C){for(j=_.child;j;){if(j===c){C=!0,c=_,f=g;break}if(j===f){C=!0,f=_,c=g;break}j=j.sibling}if(!C)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Dl(s){return s=pu(s),s!==null?Ko(s):null}function Ko(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ko(s);if(o!==null)return o;s=s.sibling}return null}var Qo=e.unstable_scheduleCallback,Ml=e.unstable_cancelCallback,mu=e.unstable_shouldYield,Ff=e.unstable_requestPaint,ot=e.unstable_now,gu=e.unstable_getCurrentPriorityLevel,Qi=e.unstable_ImmediatePriority,$s=e.unstable_UserBlockingPriority,$n=e.unstable_NormalPriority,Ol=e.unstable_LowPriority,yu=e.unstable_IdlePriority,Yi=null,In=null;function vu(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Yi,s,void 0,(s.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:_u,Ll=Math.log,wu=Math.LN2;function _u(s){return s>>>=0,s===0?32:31-(Ll(s)/wu|0)|0}var Yo=64,Xo=4194304;function Bs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Xi(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes,C=c&268435455;if(C!==0){var j=C&~g;j!==0?f=Bs(j):(_&=C,_!==0&&(f=Bs(_)))}else C=c&~g,C!==0?f=Bs(C):_!==0&&(f=Bs(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-an(o),g=1<<c,f|=s[c],o&=~g;return f}function Uf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var C=31-an(_),j=1<<C,$=g[C];$===-1?((j&c)===0||(j&f)!==0)&&(g[C]=Uf(j,o)):$<=o&&(s.expiredLanes|=j),_&=~j}}function Cn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ji(){var s=Yo;return Yo<<=1,(Yo&4194240)===0&&(Yo=64),s}function Ws(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Hs(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-an(o),s[o]=c}function it(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-an(c),_=1<<g;o[g]=0,f[g]=-1,s[g]=-1,c&=~_}}function qs(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-an(c),g=1<<f;g&o|s[f]&o&&(s[f]|=o),c&=~g}}var Qe=0;function Gs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Eu,Jo,xu,Su,Tu,jl=!1,jr=[],Wt=null,ur=null,dr=null,Ks=new Map,Bn=new Map,Vr=[],zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(s,o){switch(s){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Ks.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(o.pointerId)}}function fn(s,o,c,f,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Jl(o),o!==null&&Jo(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function $f(s,o,c,f,g){switch(o){case"focusin":return Wt=fn(Wt,s,o,c,f,g),!0;case"dragenter":return ur=fn(ur,s,o,c,f,g),!0;case"mouseover":return dr=fn(dr,s,o,c,f,g),!0;case"pointerover":var _=g.pointerId;return Ks.set(_,fn(Ks.get(_)||null,s,o,c,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Bn.set(_,fn(Bn.get(_)||null,s,o,c,f,g)),!0}return!1}function Cu(s){var o=ro(s.target);if(o!==null){var c=lr(o);if(c!==null){if(o=c.tag,o===13){if(o=Ki(c),o!==null){s.blockedOn=o,Tu(s.priority,function(){xu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function us(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Zo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Wi=f,c.target.dispatchEvent(f),Wi=null}else return o=Jl(c),o!==null&&Jo(o),s.blockedOn=c,!1;o.shift()}return!0}function Zi(s,o,c){us(s)&&c.delete(o)}function bu(){jl=!1,Wt!==null&&us(Wt)&&(Wt=null),ur!==null&&us(ur)&&(ur=null),dr!==null&&us(dr)&&(dr=null),Ks.forEach(Zi),Bn.forEach(Zi)}function hr(s,o){s.blockedOn===o&&(s.blockedOn=null,jl||(jl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bu)))}function fr(s){function o(g){return hr(g,s)}if(0<jr.length){hr(jr[0],s);for(var c=1;c<jr.length;c++){var f=jr[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Wt!==null&&hr(Wt,s),ur!==null&&hr(ur,s),dr!==null&&hr(dr,s),Ks.forEach(o),Bn.forEach(o),c=0;c<Vr.length;c++)f=Vr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Vr.length&&(c=Vr[0],c.blockedOn===null);)Cu(c),c.blockedOn===null&&Vr.shift()}var ds=z.ReactCurrentBatchConfig,Qs=!0;function dt(s,o,c,f){var g=Qe,_=ds.transition;ds.transition=null;try{Qe=1,Vl(s,o,c,f)}finally{Qe=g,ds.transition=_}}function Bf(s,o,c,f){var g=Qe,_=ds.transition;ds.transition=null;try{Qe=4,Vl(s,o,c,f)}finally{Qe=g,ds.transition=_}}function Vl(s,o,c,f){if(Qs){var g=Zo(s,o,c,f);if(g===null)ep(s,o,f,eo,c),Iu(s,f);else if($f(g,s,o,c,f))f.stopPropagation();else if(Iu(s,f),o&4&&-1<zf.indexOf(s)){for(;g!==null;){var _=Jl(g);if(_!==null&&Eu(_),_=Zo(s,o,c,f),_===null&&ep(s,o,f,eo,c),_===g)break;g=_}g!==null&&f.stopPropagation()}else ep(s,o,f,null,c)}}var eo=null;function Zo(s,o,c,f){if(eo=null,s=$o(f),s=ro(s),s!==null)if(o=lr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Ki(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return eo=s,null}function Fl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gu()){case Qi:return 1;case $s:return 4;case $n:case Ol:return 16;case yu:return 536870912;default:return 16}default:return 16}}var bn=null,ea=null,pn=null;function Ul(){if(pn)return pn;var s,o=ea,c=o.length,f,g="value"in bn?bn.value:bn.textContent,_=g.length;for(s=0;s<c&&o[s]===g[s];s++);var C=c-s;for(f=1;f<=C&&o[c-f]===g[_-f];f++);return pn=g.slice(s,1<f?1-f:void 0)}function ta(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Fr(){return!0}function zl(){return!1}function Ht(s){function o(c,f,g,_,C){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Fr:zl,this.isPropagationStopped=zl,this}return re(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),o}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Ht(pr),Ur=re({},pr,{view:0,detail:0}),Wf=Ht(Ur),ra,hs,Ys,to=re({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ys&&(Ys&&s.type==="mousemove"?(ra=s.screenX-Ys.screenX,hs=s.screenY-Ys.screenY):hs=ra=0,Ys=s),ra)},movementY:function(s){return"movementY"in s?s.movementY:hs}}),sa=Ht(to),$l=re({},to,{dataTransfer:0}),Au=Ht($l),ia=re({},Ur,{relatedTarget:0}),oa=Ht(ia),Ru=re({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),fs=Ht(Ru),ku=re({},pr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pu=Ht(ku),Nu=re({},pr,{data:0}),Bl=Ht(Nu),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Du[s])?!!o[s]:!1}function zr(){return Mu}var d=re({},Ur,{key:function(s){if(s.key){var o=aa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ln[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(s){return s.type==="keypress"?ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=Ht(d),S=re({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Ht(S),G=re({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),J=Ht(G),ce=re({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=Ht(ce),Pt=re({},to,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Ht(Pt),jt=[9,13,27,32],Tt=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var An=u&&"TextEvent"in window&&!Wn,no=u&&(!Tt||Wn&&8<Wn&&11>=Wn),la=" ",kv=!1;function Pv(s,o){switch(s){case"keyup":return jt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ca=!1;function LA(s,o){switch(s){case"compositionend":return Nv(o);case"keypress":return o.which!==32?null:(kv=!0,la);case"textInput":return s=o.data,s===la&&kv?null:s;default:return null}}function jA(s,o){if(ca)return s==="compositionend"||!Tt&&Pv(s,o)?(s=Ul(),pn=ea=bn=null,ca=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return no&&o.locale!=="ko"?null:o.data;default:return null}}var VA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!VA[s.type]:o==="textarea"}function Mv(s,o,c,f){Lr(f),o=Fu(o,"onChange"),0<o.length&&(c=new na("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var Wl=null,Hl=null;function FA(s){Jv(s,0)}function Ou(s){var o=pa(s);if(Ue(o))return s}function UA(s,o){if(s==="change")return o}var Ov=!1;if(u){var Hf;if(u){var qf="oninput"in document;if(!qf){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),qf=typeof Lv.oninput=="function"}Hf=qf}else Hf=!1;Ov=Hf&&(!document.documentMode||9<document.documentMode)}function jv(){Wl&&(Wl.detachEvent("onpropertychange",Vv),Hl=Wl=null)}function Vv(s){if(s.propertyName==="value"&&Ou(Hl)){var o=[];Mv(o,Hl,s,$o(s)),Pl(FA,o)}}function zA(s,o,c){s==="focusin"?(jv(),Wl=o,Hl=c,Wl.attachEvent("onpropertychange",Vv)):s==="focusout"&&jv()}function $A(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ou(Hl)}function BA(s,o){if(s==="click")return Ou(o)}function WA(s,o){if(s==="input"||s==="change")return Ou(o)}function HA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var mr=typeof Object.is=="function"?Object.is:HA;function ql(s,o){if(mr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(o,g)||!mr(s[g],o[g]))return!1}return!0}function Fv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uv(s,o){var c=Fv(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Fv(c)}}function zv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?zv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function $v(){for(var s=window,o=yt();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=yt(s.document)}return o}function Gf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function qA(s){var o=$v(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&zv(c.ownerDocument.documentElement,c)){if(f!==null&&Gf(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!s.extend&&_>f&&(g=f,f=_,_=g),g=Uv(c,_);var C=Uv(c,f);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),_>f?(s.addRange(o),s.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var GA=u&&"documentMode"in document&&11>=document.documentMode,ua=null,Kf=null,Gl=null,Qf=!1;function Bv(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qf||ua==null||ua!==yt(f)||(f=ua,"selectionStart"in f&&Gf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Gl&&ql(Gl,f)||(Gl=f,f=Fu(Kf,"onSelect"),0<f.length&&(o=new na("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=ua)))}function Lu(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var da={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},Yf={},Wv={};u&&(Wv=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function ju(s){if(Yf[s])return Yf[s];if(!da[s])return s;var o=da[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Wv)return Yf[s]=o[c];return s}var Hv=ju("animationend"),qv=ju("animationiteration"),Gv=ju("animationstart"),Kv=ju("transitionend"),Qv=new Map,Yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(s,o){Qv.set(s,o),a(o,[s])}for(var Xf=0;Xf<Yv.length;Xf++){var Jf=Yv[Xf],KA=Jf.toLowerCase(),QA=Jf[0].toUpperCase()+Jf.slice(1);Xs(KA,"on"+QA)}Xs(Hv,"onAnimationEnd"),Xs(qv,"onAnimationIteration"),Xs(Gv,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(Kv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function Xv(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,fu(f,o,void 0,s),s.currentTarget=null}function Jv(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var C=f.length-1;0<=C;C--){var j=f[C],$=j.instance,X=j.currentTarget;if(j=j.listener,$!==_&&g.isPropagationStopped())break e;Xv(g,j,X),_=$}else for(C=0;C<f.length;C++){if(j=f[C],$=j.instance,X=j.currentTarget,j=j.listener,$!==_&&g.isPropagationStopped())break e;Xv(g,j,X),_=$}}}if(ar)throw s=Nl,ar=!1,Nl=null,s}function lt(s,o){var c=o[op];c===void 0&&(c=o[op]=new Set);var f=s+"__bubble";c.has(f)||(Zv(o,s,2,!1),c.add(f))}function Zf(s,o,c){var f=0;o&&(f|=4),Zv(c,s,f,o)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Ql(s){if(!s[Vu]){s[Vu]=!0,r.forEach(function(c){c!=="selectionchange"&&(YA.has(c)||Zf(c,!1,s),Zf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Vu]||(o[Vu]=!0,Zf("selectionchange",!1,o))}}function Zv(s,o,c,f){switch(Fl(o)){case 1:var g=dt;break;case 4:g=Bf;break;default:g=Vl}c=g.bind(null,o,c,s),g=void 0,!Ho||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function ep(s,o,c,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var j=f.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(C===4)for(C=f.return;C!==null;){var $=C.tag;if(($===3||$===4)&&($=C.stateNode.containerInfo,$===g||$.nodeType===8&&$.parentNode===g))return;C=C.return}for(;j!==null;){if(C=ro(j),C===null)return;if($=C.tag,$===5||$===6){f=_=C;continue e}j=j.parentNode}}f=f.return}Pl(function(){var X=_,oe=$o(c),ae=[];e:{var se=Qv.get(s);if(se!==void 0){var de=na,ve=s;switch(s){case"keypress":if(ta(c)===0)break e;case"keydown":case"keyup":de=w;break;case"focusin":ve="focus",de=oa;break;case"focusout":ve="blur",de=oa;break;case"beforeblur":case"afterblur":de=oa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=J;break;case Hv:case qv:case Gv:de=fs;break;case Kv:de=st;break;case"scroll":de=Wf;break;case"wheel":de=Xe;break;case"copy":case"cut":case"paste":de=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=P}var xe=(o&4)!==0,Et=!xe&&s==="scroll",K=xe?se!==null?se+"Capture":null:se;xe=[];for(var H=X,Q;H!==null;){Q=H;var le=Q.stateNode;if(Q.tag===5&&le!==null&&(Q=le,K!==null&&(le=_t(H,K),le!=null&&xe.push(Yl(H,le,Q)))),Et)break;H=H.return}0<xe.length&&(se=new de(se,ve,null,c,oe),ae.push({event:se,listeners:xe}))}}if((o&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",se&&c!==Wi&&(ve=c.relatedTarget||c.fromElement)&&(ro(ve)||ve[ps]))break e;if((de||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,de?(ve=c.relatedTarget||c.toElement,de=X,ve=ve?ro(ve):null,ve!==null&&(Et=lr(ve),ve!==Et||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(de=null,ve=X),de!==ve)){if(xe=sa,le="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(xe=P,le="onPointerLeave",K="onPointerEnter",H="pointer"),Et=de==null?se:pa(de),Q=ve==null?se:pa(ve),se=new xe(le,H+"leave",de,c,oe),se.target=Et,se.relatedTarget=Q,le=null,ro(oe)===X&&(xe=new xe(K,H+"enter",ve,c,oe),xe.target=Q,xe.relatedTarget=Et,le=xe),Et=le,de&&ve)t:{for(xe=de,K=ve,H=0,Q=xe;Q;Q=ha(Q))H++;for(Q=0,le=K;le;le=ha(le))Q++;for(;0<H-Q;)xe=ha(xe),H--;for(;0<Q-H;)K=ha(K),Q--;for(;H--;){if(xe===K||K!==null&&xe===K.alternate)break t;xe=ha(xe),K=ha(K)}xe=null}else xe=null;de!==null&&ew(ae,se,de,xe,!1),ve!==null&&Et!==null&&ew(ae,Et,ve,xe,!0)}}e:{if(se=X?pa(X):window,de=se.nodeName&&se.nodeName.toLowerCase(),de==="select"||de==="input"&&se.type==="file")var Te=UA;else if(Dv(se))if(Ov)Te=WA;else{Te=$A;var Pe=zA}else(de=se.nodeName)&&de.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=BA);if(Te&&(Te=Te(s,X))){Mv(ae,Te,c,oe);break e}Pe&&Pe(s,se,X),s==="focusout"&&(Pe=se._wrapperState)&&Pe.controlled&&se.type==="number"&&ir(se,"number",se.value)}switch(Pe=X?pa(X):window,s){case"focusin":(Dv(Pe)||Pe.contentEditable==="true")&&(ua=Pe,Kf=X,Gl=null);break;case"focusout":Gl=Kf=ua=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Bv(ae,c,oe);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":Bv(ae,c,oe)}var Ne;if(Tt)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ca?Pv(s,c)&&(Le="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(no&&c.locale!=="ko"&&(ca||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ca&&(Ne=Ul()):(bn=oe,ea="value"in bn?bn.value:bn.textContent,ca=!0)),Pe=Fu(X,Le),0<Pe.length&&(Le=new Bl(Le,s,null,c,oe),ae.push({event:Le,listeners:Pe}),Ne?Le.data=Ne:(Ne=Nv(c),Ne!==null&&(Le.data=Ne)))),(Ne=An?LA(s,c):jA(s,c))&&(X=Fu(X,"onBeforeInput"),0<X.length&&(oe=new Bl("onBeforeInput","beforeinput",null,c,oe),ae.push({event:oe,listeners:X}),oe.data=Ne))}Jv(ae,o)})}function Yl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Fu(s,o){for(var c=o+"Capture",f=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=_t(s,c),_!=null&&f.unshift(Yl(s,_,g)),_=_t(s,o),_!=null&&f.push(Yl(s,_,g))),s=s.return}return f}function ha(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ew(s,o,c,f,g){for(var _=o._reactName,C=[];c!==null&&c!==f;){var j=c,$=j.alternate,X=j.stateNode;if($!==null&&$===f)break;j.tag===5&&X!==null&&(j=X,g?($=_t(c,_),$!=null&&C.unshift(Yl(c,$,j))):g||($=_t(c,_),$!=null&&C.push(Yl(c,$,j)))),c=c.return}C.length!==0&&s.push({event:o,listeners:C})}var XA=/\r\n?/g,JA=/\u0000|\uFFFD/g;function tw(s){return(typeof s=="string"?s:""+s).replace(XA,`
`).replace(JA,"")}function Uu(s,o,c){if(o=tw(o),tw(s)!==o&&c)throw Error(t(425))}function zu(){}var tp=null,np=null;function rp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,nw=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof nw<"u"?function(s){return nw.resolve(null).then(s).catch(tR)}:sp;function tR(s){setTimeout(function(){throw s})}function ip(s,o){var c=o,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),fr(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);fr(o)}function Js(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function rw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var fa=Math.random().toString(36).slice(2),$r="__reactFiber$"+fa,Xl="__reactProps$"+fa,ps="__reactContainer$"+fa,op="__reactEvents$"+fa,nR="__reactListeners$"+fa,rR="__reactHandles$"+fa;function ro(s){var o=s[$r];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ps]||c[$r]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=rw(s);s!==null;){if(c=s[$r])return c;s=rw(s)}return o}s=c,c=s.parentNode}return null}function Jl(s){return s=s[$r]||s[ps],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function pa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function $u(s){return s[Xl]||null}var ap=[],ma=-1;function Zs(s){return{current:s}}function ct(s){0>ma||(s.current=ap[ma],ap[ma]=null,ma--)}function at(s,o){ma++,ap[ma]=s.current,s.current=o}var ei={},Xt=Zs(ei),mn=Zs(!1),so=ei;function ga(s,o){var c=s.type.contextTypes;if(!c)return ei;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=o[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function gn(s){return s=s.childContextTypes,s!=null}function Bu(){ct(mn),ct(Xt)}function sw(s,o,c){if(Xt.current!==ei)throw Error(t(168));at(Xt,o),at(mn,c)}function iw(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,ie(s)||"Unknown",g));return re({},c,f)}function Wu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ei,so=Xt.current,at(Xt,s),at(mn,mn.current),!0}function ow(s,o,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=iw(s,o,so),f.__reactInternalMemoizedMergedChildContext=s,ct(mn),ct(Xt),at(Xt,s)):ct(mn),at(mn,c)}var ms=null,Hu=!1,lp=!1;function aw(s){ms===null?ms=[s]:ms.push(s)}function sR(s){Hu=!0,aw(s)}function ti(){if(!lp&&ms!==null){lp=!0;var s=0,o=Qe;try{var c=ms;for(Qe=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}ms=null,Hu=!1}catch(g){throw ms!==null&&(ms=ms.slice(s+1)),Qo(Qi,ti),g}finally{Qe=o,lp=!1}}return null}var ya=[],va=0,qu=null,Gu=0,Hn=[],qn=0,io=null,gs=1,ys="";function oo(s,o){ya[va++]=Gu,ya[va++]=qu,qu=s,Gu=o}function lw(s,o,c){Hn[qn++]=gs,Hn[qn++]=ys,Hn[qn++]=io,io=s;var f=gs;s=ys;var g=32-an(f)-1;f&=~(1<<g),c+=1;var _=32-an(o)+g;if(30<_){var C=g-g%5;_=(f&(1<<C)-1).toString(32),f>>=C,g-=C,gs=1<<32-an(o)+g|c<<g|f,ys=_+s}else gs=1<<_|c<<g|f,ys=s}function cp(s){s.return!==null&&(oo(s,1),lw(s,1,0))}function up(s){for(;s===qu;)qu=ya[--va],ya[va]=null,Gu=ya[--va],ya[va]=null;for(;s===io;)io=Hn[--qn],Hn[qn]=null,ys=Hn[--qn],Hn[qn]=null,gs=Hn[--qn],Hn[qn]=null}var Rn=null,kn=null,ht=!1,gr=null;function cw(s,o){var c=Yn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function uw(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Rn=s,kn=Js(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Rn=s,kn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=io!==null?{id:gs,overflow:ys}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Yn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Rn=s,kn=null,!0):!1;default:return!1}}function dp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function hp(s){if(ht){var o=kn;if(o){var c=o;if(!uw(s,o)){if(dp(s))throw Error(t(418));o=Js(c.nextSibling);var f=Rn;o&&uw(s,o)?cw(f,c):(s.flags=s.flags&-4097|2,ht=!1,Rn=s)}}else{if(dp(s))throw Error(t(418));s.flags=s.flags&-4097|2,ht=!1,Rn=s}}}function dw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Rn=s}function Ku(s){if(s!==Rn)return!1;if(!ht)return dw(s),ht=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!rp(s.type,s.memoizedProps)),o&&(o=kn)){if(dp(s))throw hw(),Error(t(418));for(;o;)cw(s,o),o=Js(o.nextSibling)}if(dw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){kn=Js(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}kn=null}}else kn=Rn?Js(s.stateNode.nextSibling):null;return!0}function hw(){for(var s=kn;s;)s=Js(s.nextSibling)}function wa(){kn=Rn=null,ht=!1}function fp(s){gr===null?gr=[s]:gr.push(s)}var iR=z.ReactCurrentBatchConfig;function Zl(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(C){var j=g.refs;C===null?delete j[_]:j[_]=C},o._stringRef=_,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Qu(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function fw(s){var o=s._init;return o(s._payload)}function pw(s){function o(K,H){if(s){var Q=K.deletions;Q===null?(K.deletions=[H],K.flags|=16):Q.push(H)}}function c(K,H){if(!s)return null;for(;H!==null;)o(K,H),H=H.sibling;return null}function f(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function g(K,H){return K=ci(K,H),K.index=0,K.sibling=null,K}function _(K,H,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<H?(K.flags|=2,H):Q):(K.flags|=2,H)):(K.flags|=1048576,H)}function C(K){return s&&K.alternate===null&&(K.flags|=2),K}function j(K,H,Q,le){return H===null||H.tag!==6?(H=sm(Q,K.mode,le),H.return=K,H):(H=g(H,Q),H.return=K,H)}function $(K,H,Q,le){var Te=Q.type;return Te===N?oe(K,H,Q.props.children,le,Q.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===he&&fw(Te)===H.type)?(le=g(H,Q.props),le.ref=Zl(K,H,Q),le.return=K,le):(le=wd(Q.type,Q.key,Q.props,null,K.mode,le),le.ref=Zl(K,H,Q),le.return=K,le)}function X(K,H,Q,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=im(Q,K.mode,le),H.return=K,H):(H=g(H,Q.children||[]),H.return=K,H)}function oe(K,H,Q,le,Te){return H===null||H.tag!==7?(H=mo(Q,K.mode,le,Te),H.return=K,H):(H=g(H,Q),H.return=K,H)}function ae(K,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=sm(""+H,K.mode,Q),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case W:return Q=wd(H.type,H.key,H.props,null,K.mode,Q),Q.ref=Zl(K,null,H),Q.return=K,Q;case Y:return H=im(H,K.mode,Q),H.return=K,H;case he:var le=H._init;return ae(K,le(H._payload),Q)}if(is(H)||ee(H))return H=mo(H,K.mode,Q,null),H.return=K,H;Qu(K,H)}return null}function se(K,H,Q,le){var Te=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Te!==null?null:j(K,H,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===Te?$(K,H,Q,le):null;case Y:return Q.key===Te?X(K,H,Q,le):null;case he:return Te=Q._init,se(K,H,Te(Q._payload),le)}if(is(Q)||ee(Q))return Te!==null?null:oe(K,H,Q,le,null);Qu(K,Q)}return null}function de(K,H,Q,le,Te){if(typeof le=="string"&&le!==""||typeof le=="number")return K=K.get(Q)||null,j(H,K,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case W:return K=K.get(le.key===null?Q:le.key)||null,$(H,K,le,Te);case Y:return K=K.get(le.key===null?Q:le.key)||null,X(H,K,le,Te);case he:var Pe=le._init;return de(K,H,Q,Pe(le._payload),Te)}if(is(le)||ee(le))return K=K.get(Q)||null,oe(H,K,le,Te,null);Qu(H,le)}return null}function ve(K,H,Q,le){for(var Te=null,Pe=null,Ne=H,Le=H=0,Ut=null;Ne!==null&&Le<Q.length;Le++){Ne.index>Le?(Ut=Ne,Ne=null):Ut=Ne.sibling;var et=se(K,Ne,Q[Le],le);if(et===null){Ne===null&&(Ne=Ut);break}s&&Ne&&et.alternate===null&&o(K,Ne),H=_(et,H,Le),Pe===null?Te=et:Pe.sibling=et,Pe=et,Ne=Ut}if(Le===Q.length)return c(K,Ne),ht&&oo(K,Le),Te;if(Ne===null){for(;Le<Q.length;Le++)Ne=ae(K,Q[Le],le),Ne!==null&&(H=_(Ne,H,Le),Pe===null?Te=Ne:Pe.sibling=Ne,Pe=Ne);return ht&&oo(K,Le),Te}for(Ne=f(K,Ne);Le<Q.length;Le++)Ut=de(Ne,K,Le,Q[Le],le),Ut!==null&&(s&&Ut.alternate!==null&&Ne.delete(Ut.key===null?Le:Ut.key),H=_(Ut,H,Le),Pe===null?Te=Ut:Pe.sibling=Ut,Pe=Ut);return s&&Ne.forEach(function(ui){return o(K,ui)}),ht&&oo(K,Le),Te}function xe(K,H,Q,le){var Te=ee(Q);if(typeof Te!="function")throw Error(t(150));if(Q=Te.call(Q),Q==null)throw Error(t(151));for(var Pe=Te=null,Ne=H,Le=H=0,Ut=null,et=Q.next();Ne!==null&&!et.done;Le++,et=Q.next()){Ne.index>Le?(Ut=Ne,Ne=null):Ut=Ne.sibling;var ui=se(K,Ne,et.value,le);if(ui===null){Ne===null&&(Ne=Ut);break}s&&Ne&&ui.alternate===null&&o(K,Ne),H=_(ui,H,Le),Pe===null?Te=ui:Pe.sibling=ui,Pe=ui,Ne=Ut}if(et.done)return c(K,Ne),ht&&oo(K,Le),Te;if(Ne===null){for(;!et.done;Le++,et=Q.next())et=ae(K,et.value,le),et!==null&&(H=_(et,H,Le),Pe===null?Te=et:Pe.sibling=et,Pe=et);return ht&&oo(K,Le),Te}for(Ne=f(K,Ne);!et.done;Le++,et=Q.next())et=de(Ne,K,Le,et.value,le),et!==null&&(s&&et.alternate!==null&&Ne.delete(et.key===null?Le:et.key),H=_(et,H,Le),Pe===null?Te=et:Pe.sibling=et,Pe=et);return s&&Ne.forEach(function(VR){return o(K,VR)}),ht&&oo(K,Le),Te}function Et(K,H,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===N&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var Te=Q.key,Pe=H;Pe!==null;){if(Pe.key===Te){if(Te=Q.type,Te===N){if(Pe.tag===7){c(K,Pe.sibling),H=g(Pe,Q.props.children),H.return=K,K=H;break e}}else if(Pe.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===he&&fw(Te)===Pe.type){c(K,Pe.sibling),H=g(Pe,Q.props),H.ref=Zl(K,Pe,Q),H.return=K,K=H;break e}c(K,Pe);break}else o(K,Pe);Pe=Pe.sibling}Q.type===N?(H=mo(Q.props.children,K.mode,le,Q.key),H.return=K,K=H):(le=wd(Q.type,Q.key,Q.props,null,K.mode,le),le.ref=Zl(K,H,Q),le.return=K,K=le)}return C(K);case Y:e:{for(Pe=Q.key;H!==null;){if(H.key===Pe)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){c(K,H.sibling),H=g(H,Q.children||[]),H.return=K,K=H;break e}else{c(K,H);break}else o(K,H);H=H.sibling}H=im(Q,K.mode,le),H.return=K,K=H}return C(K);case he:return Pe=Q._init,Et(K,H,Pe(Q._payload),le)}if(is(Q))return ve(K,H,Q,le);if(ee(Q))return xe(K,H,Q,le);Qu(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(c(K,H.sibling),H=g(H,Q),H.return=K,K=H):(c(K,H),H=sm(Q,K.mode,le),H.return=K,K=H),C(K)):c(K,H)}return Et}var _a=pw(!0),mw=pw(!1),Yu=Zs(null),Xu=null,Ea=null,pp=null;function mp(){pp=Ea=Xu=null}function gp(s){var o=Yu.current;ct(Yu),s._currentValue=o}function yp(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function xa(s,o){Xu=s,pp=Ea=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(yn=!0),s.firstContext=null)}function Gn(s){var o=s._currentValue;if(pp!==s)if(s={context:s,memoizedValue:o,next:null},Ea===null){if(Xu===null)throw Error(t(308));Ea=s,Xu.dependencies={lanes:0,firstContext:s}}else Ea=Ea.next=s;return o}var ao=null;function vp(s){ao===null?ao=[s]:ao.push(s)}function gw(s,o,c,f){var g=o.interleaved;return g===null?(c.next=c,vp(o)):(c.next=g.next,g.next=c),o.interleaved=c,vs(s,f)}function vs(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ni=!1;function wp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ws(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ri(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ze&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,vs(s,c)}return g=f.interleaved,g===null?(o.next=o,vp(f)):(o.next=g.next,g.next=o),f.interleaved=o,vs(s,c)}function Ju(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,qs(s,c)}}function vw(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=C:_=_.next=C,c=c.next}while(c!==null);_===null?g=_=o:_=_.next=o}else g=_=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Zu(s,o,c,f){var g=s.updateQueue;ni=!1;var _=g.firstBaseUpdate,C=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var $=j,X=$.next;$.next=null,C===null?_=X:C.next=X,C=$;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,j=oe.lastBaseUpdate,j!==C&&(j===null?oe.firstBaseUpdate=X:j.next=X,oe.lastBaseUpdate=$))}if(_!==null){var ae=g.baseState;C=0,oe=X=$=null,j=_;do{var se=j.lane,de=j.eventTime;if((f&se)===se){oe!==null&&(oe=oe.next={eventTime:de,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ve=s,xe=j;switch(se=o,de=c,xe.tag){case 1:if(ve=xe.payload,typeof ve=="function"){ae=ve.call(de,ae,se);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=xe.payload,se=typeof ve=="function"?ve.call(de,ae,se):ve,se==null)break e;ae=re({},ae,se);break e;case 2:ni=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[j]:se.push(j))}else de={eventTime:de,lane:se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},oe===null?(X=oe=de,$=ae):oe=oe.next=de,C|=se;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;se=j,j=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&($=ae),g.baseState=$,g.firstBaseUpdate=X,g.lastBaseUpdate=oe,o=g.shared.interleaved,o!==null){g=o;do C|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);uo|=C,s.lanes=C,s.memoizedState=ae}}function ww(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var ec={},Br=Zs(ec),tc=Zs(ec),nc=Zs(ec);function lo(s){if(s===ec)throw Error(t(174));return s}function _p(s,o){switch(at(nc,o),at(tc,s),at(Br,ec),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:kt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=kt(o,s)}ct(Br),at(Br,o)}function Sa(){ct(Br),ct(tc),ct(nc)}function _w(s){lo(nc.current);var o=lo(Br.current),c=kt(o,s.type);o!==c&&(at(tc,s),at(Br,c))}function Ep(s){tc.current===s&&(ct(Br),ct(tc))}var pt=Zs(0);function ed(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xp=[];function Sp(){for(var s=0;s<xp.length;s++)xp[s]._workInProgressVersionPrimary=null;xp.length=0}var td=z.ReactCurrentDispatcher,Tp=z.ReactCurrentBatchConfig,co=0,mt=null,Nt=null,Vt=null,nd=!1,rc=!1,sc=0,oR=0;function Jt(){throw Error(t(321))}function Ip(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!mr(s[c],o[c]))return!1;return!0}function Cp(s,o,c,f,g,_){if(co=_,mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,td.current=s===null||s.memoizedState===null?uR:dR,s=c(f,g),rc){_=0;do{if(rc=!1,sc=0,25<=_)throw Error(t(301));_+=1,Vt=Nt=null,o.updateQueue=null,td.current=hR,s=c(f,g)}while(rc)}if(td.current=id,o=Nt!==null&&Nt.next!==null,co=0,Vt=Nt=mt=null,nd=!1,o)throw Error(t(300));return s}function bp(){var s=sc!==0;return sc=0,s}function Wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?mt.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Kn(){if(Nt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var o=Vt===null?mt.memoizedState:Vt.next;if(o!==null)Vt=o,Nt=s;else{if(s===null)throw Error(t(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Vt===null?mt.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function ic(s,o){return typeof o=="function"?o(s):o}function Ap(s){var o=Kn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Nt,g=f.baseQueue,_=c.pending;if(_!==null){if(g!==null){var C=g.next;g.next=_.next,_.next=C}f.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,f=f.baseState;var j=C=null,$=null,X=_;do{var oe=X.lane;if((co&oe)===oe)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:s(f,X.action);else{var ae={lane:oe,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(j=$=ae,C=f):$=$.next=ae,mt.lanes|=oe,uo|=oe}X=X.next}while(X!==null&&X!==_);$===null?C=f:$.next=j,mr(f,o.memoizedState)||(yn=!0),o.memoizedState=f,o.baseState=C,o.baseQueue=$,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do _=g.lane,mt.lanes|=_,uo|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Rp(s){var o=Kn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,_=o.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do _=s(_,C.action),C=C.next;while(C!==g);mr(_,o.memoizedState)||(yn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,f]}function Ew(){}function xw(s,o){var c=mt,f=Kn(),g=o(),_=!mr(f.memoizedState,g);if(_&&(f.memoizedState=g,yn=!0),f=f.queue,kp(Iw.bind(null,c,f,s),[s]),f.getSnapshot!==o||_||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,oc(9,Tw.bind(null,c,f,g,o),void 0,null),Ft===null)throw Error(t(349));(co&30)!==0||Sw(c,o,g)}return g}function Sw(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Tw(s,o,c,f){o.value=c,o.getSnapshot=f,Cw(o)&&bw(s)}function Iw(s,o,c){return c(function(){Cw(o)&&bw(s)})}function Cw(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!mr(s,c)}catch{return!0}}function bw(s){var o=vs(s,1);o!==null&&_r(o,s,1,-1)}function Aw(s){var o=Wr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:s},o.queue=s,s=s.dispatch=cR.bind(null,mt,s),[o.memoizedState,s]}function oc(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function Rw(){return Kn().memoizedState}function rd(s,o,c,f){var g=Wr();mt.flags|=s,g.memoizedState=oc(1|o,c,void 0,f===void 0?null:f)}function sd(s,o,c,f){var g=Kn();f=f===void 0?null:f;var _=void 0;if(Nt!==null){var C=Nt.memoizedState;if(_=C.destroy,f!==null&&Ip(f,C.deps)){g.memoizedState=oc(o,c,_,f);return}}mt.flags|=s,g.memoizedState=oc(1|o,c,_,f)}function kw(s,o){return rd(8390656,8,s,o)}function kp(s,o){return sd(2048,8,s,o)}function Pw(s,o){return sd(4,2,s,o)}function Nw(s,o){return sd(4,4,s,o)}function Dw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Mw(s,o,c){return c=c!=null?c.concat([s]):null,sd(4,4,Dw.bind(null,o,s),c)}function Pp(){}function Ow(s,o){var c=Kn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Ip(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function Lw(s,o){var c=Kn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Ip(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function jw(s,o,c){return(co&21)===0?(s.baseState&&(s.baseState=!1,yn=!0),s.memoizedState=c):(mr(c,o)||(c=Ji(),mt.lanes|=c,uo|=c,s.baseState=!0),o)}function aR(s,o){var c=Qe;Qe=c!==0&&4>c?c:4,s(!0);var f=Tp.transition;Tp.transition={};try{s(!1),o()}finally{Qe=c,Tp.transition=f}}function Vw(){return Kn().memoizedState}function lR(s,o,c){var f=ai(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Fw(s))Uw(o,c);else if(c=gw(s,o,c,f),c!==null){var g=un();_r(c,s,f,g),zw(c,o,f)}}function cR(s,o,c){var f=ai(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Fw(s))Uw(o,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var C=o.lastRenderedState,j=_(C,c);if(g.hasEagerState=!0,g.eagerState=j,mr(j,C)){var $=o.interleaved;$===null?(g.next=g,vp(o)):(g.next=$.next,$.next=g),o.interleaved=g;return}}catch{}finally{}c=gw(s,o,g,f),c!==null&&(g=un(),_r(c,s,f,g),zw(c,o,f))}}function Fw(s){var o=s.alternate;return s===mt||o!==null&&o===mt}function Uw(s,o){rc=nd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function zw(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,qs(s,c)}}var id={readContext:Gn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},uR={readContext:Gn,useCallback:function(s,o){return Wr().memoizedState=[s,o===void 0?null:o],s},useContext:Gn,useEffect:kw,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,rd(4194308,4,Dw.bind(null,o,s),c)},useLayoutEffect:function(s,o){return rd(4194308,4,s,o)},useInsertionEffect:function(s,o){return rd(4,2,s,o)},useMemo:function(s,o){var c=Wr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=Wr();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=lR.bind(null,mt,s),[f.memoizedState,s]},useRef:function(s){var o=Wr();return s={current:s},o.memoizedState=s},useState:Aw,useDebugValue:Pp,useDeferredValue:function(s){return Wr().memoizedState=s},useTransition:function(){var s=Aw(!1),o=s[0];return s=aR.bind(null,s[1]),Wr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=mt,g=Wr();if(ht){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Ft===null)throw Error(t(349));(co&30)!==0||Sw(f,o,c)}g.memoizedState=c;var _={value:c,getSnapshot:o};return g.queue=_,kw(Iw.bind(null,f,_,s),[s]),f.flags|=2048,oc(9,Tw.bind(null,f,_,c,o),void 0,null),c},useId:function(){var s=Wr(),o=Ft.identifierPrefix;if(ht){var c=ys,f=gs;c=(f&~(1<<32-an(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=sc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=oR++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},dR={readContext:Gn,useCallback:Ow,useContext:Gn,useEffect:kp,useImperativeHandle:Mw,useInsertionEffect:Pw,useLayoutEffect:Nw,useMemo:Lw,useReducer:Ap,useRef:Rw,useState:function(){return Ap(ic)},useDebugValue:Pp,useDeferredValue:function(s){var o=Kn();return jw(o,Nt.memoizedState,s)},useTransition:function(){var s=Ap(ic)[0],o=Kn().memoizedState;return[s,o]},useMutableSource:Ew,useSyncExternalStore:xw,useId:Vw,unstable_isNewReconciler:!1},hR={readContext:Gn,useCallback:Ow,useContext:Gn,useEffect:kp,useImperativeHandle:Mw,useInsertionEffect:Pw,useLayoutEffect:Nw,useMemo:Lw,useReducer:Rp,useRef:Rw,useState:function(){return Rp(ic)},useDebugValue:Pp,useDeferredValue:function(s){var o=Kn();return Nt===null?o.memoizedState=s:jw(o,Nt.memoizedState,s)},useTransition:function(){var s=Rp(ic)[0],o=Kn().memoizedState;return[s,o]},useMutableSource:Ew,useSyncExternalStore:xw,useId:Vw,unstable_isNewReconciler:!1};function yr(s,o){if(s&&s.defaultProps){o=re({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Np(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:re({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var od={isMounted:function(s){return(s=s._reactInternals)?lr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=un(),g=ai(s),_=ws(f,g);_.payload=o,c!=null&&(_.callback=c),o=ri(s,_,g),o!==null&&(_r(o,s,g,f),Ju(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=un(),g=ai(s),_=ws(f,g);_.tag=1,_.payload=o,c!=null&&(_.callback=c),o=ri(s,_,g),o!==null&&(_r(o,s,g,f),Ju(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=un(),f=ai(s),g=ws(c,f);g.tag=2,o!=null&&(g.callback=o),o=ri(s,g,f),o!==null&&(_r(o,s,f,c),Ju(o,s,f))}};function $w(s,o,c,f,g,_,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,C):o.prototype&&o.prototype.isPureReactComponent?!ql(c,f)||!ql(g,_):!0}function Bw(s,o,c){var f=!1,g=ei,_=o.contextType;return typeof _=="object"&&_!==null?_=Gn(_):(g=gn(o)?so:Xt.current,f=o.contextTypes,_=(f=f!=null)?ga(s,g):ei),o=new o(c,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=od,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),o}function Ww(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&od.enqueueReplaceState(o,o.state,null)}function Dp(s,o,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},wp(s);var _=o.contextType;typeof _=="object"&&_!==null?g.context=Gn(_):(_=gn(o)?so:Xt.current,g.context=ga(s,_)),g.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Np(s,o,_,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&od.enqueueReplaceState(g,g.state,null),Zu(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ta(s,o){try{var c="",f=o;do c+=Re(f),f=f.return;while(f);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:g,digest:null}}function Mp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Op(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var fR=typeof WeakMap=="function"?WeakMap:Map;function Hw(s,o,c){c=ws(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){fd||(fd=!0,Yp=f),Op(s,o)},c}function qw(s,o,c){c=ws(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;c.payload=function(){return f(g)},c.callback=function(){Op(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Op(s,o),typeof f!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),c}function Gw(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new fR;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(g.add(c),s=bR.bind(null,s,o,c),o.then(s,s))}function Kw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Qw(s,o,c,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ws(-1,1),o.tag=2,ri(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var pR=z.ReactCurrentOwner,yn=!1;function cn(s,o,c,f){o.child=s===null?mw(o,null,c,f):_a(o,s.child,c,f)}function Yw(s,o,c,f,g){c=c.render;var _=o.ref;return xa(o,g),f=Cp(s,o,c,f,_,g),c=bp(),s!==null&&!yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,_s(s,o,g)):(ht&&c&&cp(o),o.flags|=1,cn(s,o,f,g),o.child)}function Xw(s,o,c,f,g){if(s===null){var _=c.type;return typeof _=="function"&&!rm(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=_,Jw(s,o,_,f,g)):(s=wd(c.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&g)===0){var C=_.memoizedProps;if(c=c.compare,c=c!==null?c:ql,c(C,f)&&s.ref===o.ref)return _s(s,o,g)}return o.flags|=1,s=ci(_,f),s.ref=o.ref,s.return=o,o.child=s}function Jw(s,o,c,f,g){if(s!==null){var _=s.memoizedProps;if(ql(_,f)&&s.ref===o.ref)if(yn=!1,o.pendingProps=f=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(yn=!0);else return o.lanes=s.lanes,_s(s,o,g)}return Lp(s,o,c,f,g)}function Zw(s,o,c){var f=o.pendingProps,g=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ca,Pn),Pn|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,at(Ca,Pn),Pn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:c,at(Ca,Pn),Pn|=f}else _!==null?(f=_.baseLanes|c,o.memoizedState=null):f=c,at(Ca,Pn),Pn|=f;return cn(s,o,g,c),o.child}function e_(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Lp(s,o,c,f,g){var _=gn(c)?so:Xt.current;return _=ga(o,_),xa(o,g),c=Cp(s,o,c,f,_,g),f=bp(),s!==null&&!yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,_s(s,o,g)):(ht&&f&&cp(o),o.flags|=1,cn(s,o,c,g),o.child)}function t_(s,o,c,f,g){if(gn(c)){var _=!0;Wu(o)}else _=!1;if(xa(o,g),o.stateNode===null)ld(s,o),Bw(o,c,f),Dp(o,c,f,g),f=!0;else if(s===null){var C=o.stateNode,j=o.memoizedProps;C.props=j;var $=C.context,X=c.contextType;typeof X=="object"&&X!==null?X=Gn(X):(X=gn(c)?so:Xt.current,X=ga(o,X));var oe=c.getDerivedStateFromProps,ae=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function";ae||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==f||$!==X)&&Ww(o,C,f,X),ni=!1;var se=o.memoizedState;C.state=se,Zu(o,f,C,g),$=o.memoizedState,j!==f||se!==$||mn.current||ni?(typeof oe=="function"&&(Np(o,c,oe,f),$=o.memoizedState),(j=ni||$w(o,c,j,f,se,$,X))?(ae||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=$),C.props=f,C.state=$,C.context=X,f=j):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{C=o.stateNode,yw(s,o),j=o.memoizedProps,X=o.type===o.elementType?j:yr(o.type,j),C.props=X,ae=o.pendingProps,se=C.context,$=c.contextType,typeof $=="object"&&$!==null?$=Gn($):($=gn(c)?so:Xt.current,$=ga(o,$));var de=c.getDerivedStateFromProps;(oe=typeof de=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==ae||se!==$)&&Ww(o,C,f,$),ni=!1,se=o.memoizedState,C.state=se,Zu(o,f,C,g);var ve=o.memoizedState;j!==ae||se!==ve||mn.current||ni?(typeof de=="function"&&(Np(o,c,de,f),ve=o.memoizedState),(X=ni||$w(o,c,X,f,se,ve,$)||!1)?(oe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,ve,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,ve,$)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ve),C.props=f,C.state=ve,C.context=$,f=X):(typeof C.componentDidUpdate!="function"||j===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),f=!1)}return jp(s,o,c,f,_,g)}function jp(s,o,c,f,g,_){e_(s,o);var C=(o.flags&128)!==0;if(!f&&!C)return g&&ow(o,c,!1),_s(s,o,_);f=o.stateNode,pR.current=o;var j=C&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&C?(o.child=_a(o,s.child,null,_),o.child=_a(o,null,j,_)):cn(s,o,j,_),o.memoizedState=f.state,g&&ow(o,c,!0),o.child}function n_(s){var o=s.stateNode;o.pendingContext?sw(s,o.pendingContext,o.pendingContext!==o.context):o.context&&sw(s,o.context,!1),_p(s,o.containerInfo)}function r_(s,o,c,f,g){return wa(),fp(g),o.flags|=256,cn(s,o,c,f),o.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function Fp(s){return{baseLanes:s,cachePool:null,transitions:null}}function s_(s,o,c){var f=o.pendingProps,g=pt.current,_=!1,C=(o.flags&128)!==0,j;if((j=C)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),at(pt,g&1),s===null)return hp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=f.children,s=f.fallback,_?(f=o.mode,_=o.child,C={mode:"hidden",children:C},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=_d(C,f,0,null),s=mo(s,f,c,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Fp(c),o.memoizedState=Vp,s):Up(o,C));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return mR(s,o,C,f,j,g,c);if(_){_=f.fallback,C=o.mode,g=s.child,j=g.sibling;var $={mode:"hidden",children:f.children};return(C&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=$,o.deletions=null):(f=ci(g,$),f.subtreeFlags=g.subtreeFlags&14680064),j!==null?_=ci(j,_):(_=mo(_,C,c,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,C=s.child.memoizedState,C=C===null?Fp(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=s.childLanes&~c,o.memoizedState=Vp,f}return _=s.child,s=_.sibling,f=ci(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function Up(s,o){return o=_d({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function ad(s,o,c,f){return f!==null&&fp(f),_a(o,s.child,null,c),s=Up(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function mR(s,o,c,f,g,_,C){if(c)return o.flags&256?(o.flags&=-257,f=Mp(Error(t(422))),ad(s,o,C,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=f.fallback,g=o.mode,f=_d({mode:"visible",children:f.children},g,0,null),_=mo(_,g,C,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&_a(o,s.child,null,C),o.child.memoizedState=Fp(C),o.memoizedState=Vp,_);if((o.mode&1)===0)return ad(s,o,C,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var j=f.dgst;return f=j,_=Error(t(419)),f=Mp(_,f,void 0),ad(s,o,C,f)}if(j=(C&s.childLanes)!==0,yn||j){if(f=Ft,f!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|C))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,vs(s,g),_r(f,s,g,-1))}return nm(),f=Mp(Error(t(421))),ad(s,o,C,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=AR.bind(null,s),g._reactRetry=o,null):(s=_.treeContext,kn=Js(g.nextSibling),Rn=o,ht=!0,gr=null,s!==null&&(Hn[qn++]=gs,Hn[qn++]=ys,Hn[qn++]=io,gs=s.id,ys=s.overflow,io=o),o=Up(o,f.children),o.flags|=4096,o)}function i_(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),yp(s.return,o,c)}function zp(s,o,c,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=g)}function o_(s,o,c){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(cn(s,o,f.children,c),f=pt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&i_(s,c,o);else if(s.tag===19)i_(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(at(pt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&ed(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),zp(o,!1,g,c,_);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&ed(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}zp(o,!0,c,null,_);break;case"together":zp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ld(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function _s(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),uo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=ci(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ci(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function gR(s,o,c){switch(o.tag){case 3:n_(o),wa();break;case 5:_w(o);break;case 1:gn(o.type)&&Wu(o);break;case 4:_p(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;at(Yu,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(at(pt,pt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?s_(s,o,c):(at(pt,pt.current&1),s=_s(s,o,c),s!==null?s.sibling:null);at(pt,pt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return o_(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(pt,pt.current),f)break;return null;case 22:case 23:return o.lanes=0,Zw(s,o,c)}return _s(s,o,c)}var a_,$p,l_,c_;a_=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},$p=function(){},l_=function(s,o,c,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,lo(Br.current);var _=null;switch(c){case"input":g=Lt(s,g),f=Lt(s,f),_=[];break;case"select":g=re({},g,{value:void 0}),f=re({},f,{value:void 0}),_=[];break;case"textarea":g=El(s,g),f=El(s,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=zu)}bl(c,f);var C;c=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var j=g[X];for(C in j)j.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in f){var $=f[X];if(j=g!=null?g[X]:void 0,f.hasOwnProperty(X)&&$!==j&&($!=null||j!=null))if(X==="style")if(j){for(C in j)!j.hasOwnProperty(C)||$&&$.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in $)$.hasOwnProperty(C)&&j[C]!==$[C]&&(c||(c={}),c[C]=$[C])}else c||(_||(_=[]),_.push(X,c)),c=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(_=_||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(_=_||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?($!=null&&X==="onScroll"&&lt("scroll",s),_||j===$||(_=[])):(_=_||[]).push(X,$))}c&&(_=_||[]).push("style",c);var X=_;(o.updateQueue=X)&&(o.flags|=4)}},c_=function(s,o,c,f){c!==f&&(o.flags|=4)};function ac(s,o){if(!ht)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Zt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function yR(s,o,c){var f=o.pendingProps;switch(up(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(o),null;case 1:return gn(o.type)&&Bu(),Zt(o),null;case 3:return f=o.stateNode,Sa(),ct(mn),ct(Xt),Sp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Ku(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gr!==null&&(Zp(gr),gr=null))),$p(s,o),Zt(o),null;case 5:Ep(o);var g=lo(nc.current);if(c=o.type,s!==null&&o.stateNode!=null)l_(s,o,c,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Zt(o),null}if(s=lo(Br.current),Ku(o)){f=o.stateNode,c=o.type;var _=o.memoizedProps;switch(f[$r]=o,f[Xl]=_,s=(o.mode&1)!==0,c){case"dialog":lt("cancel",f),lt("close",f);break;case"iframe":case"object":case"embed":lt("load",f);break;case"video":case"audio":for(g=0;g<Kl.length;g++)lt(Kl[g],f);break;case"source":lt("error",f);break;case"img":case"image":case"link":lt("error",f),lt("load",f);break;case"details":lt("toggle",f);break;case"input":Un(f,_),lt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},lt("invalid",f);break;case"textarea":Uo(f,_),lt("invalid",f)}bl(c,_),g=null;for(var C in _)if(_.hasOwnProperty(C)){var j=_[C];C==="children"?typeof j=="string"?f.textContent!==j&&(_.suppressHydrationWarning!==!0&&Uu(f.textContent,j,s),g=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(_.suppressHydrationWarning!==!0&&Uu(f.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(C)&&j!=null&&C==="onScroll"&&lt("scroll",f)}switch(c){case"input":Fe(f),Fo(f,_,!0);break;case"textarea":Fe(f),xl(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=zu)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=C.createElement(c,{is:f.is}):(s=C.createElement(c),c==="select"&&(C=s,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):s=C.createElementNS(s,c),s[$r]=o,s[Xl]=f,a_(s,o,!1,!1),o.stateNode=s;e:{switch(C=Al(c,f),c){case"dialog":lt("cancel",s),lt("close",s),g=f;break;case"iframe":case"object":case"embed":lt("load",s),g=f;break;case"video":case"audio":for(g=0;g<Kl.length;g++)lt(Kl[g],s);g=f;break;case"source":lt("error",s),g=f;break;case"img":case"image":case"link":lt("error",s),lt("load",s),g=f;break;case"details":lt("toggle",s),g=f;break;case"input":Un(s,f),g=Lt(s,f),lt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=re({},f,{value:void 0}),lt("invalid",s);break;case"textarea":Uo(s,f),g=El(s,f),lt("invalid",s);break;default:g=f}bl(c,g),j=g;for(_ in j)if(j.hasOwnProperty(_)){var $=j[_];_==="style"?Il(s,$):_==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Sl(s,$)):_==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&zs(s,$):typeof $=="number"&&zs(s,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?$!=null&&_==="onScroll"&&lt("scroll",s):$!=null&&V(s,_,$,C))}switch(c){case"input":Fe(s),Fo(s,f,!1);break;case"textarea":Fe(s),xl(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ee(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?os(s,!!f.multiple,_,!1):f.defaultValue!=null&&os(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=zu)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Zt(o),null;case 6:if(s&&o.stateNode!=null)c_(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(c=lo(nc.current),lo(Br.current),Ku(o)){if(f=o.stateNode,c=o.memoizedProps,f[$r]=o,(_=f.nodeValue!==c)&&(s=Rn,s!==null))switch(s.tag){case 3:Uu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Uu(f.nodeValue,c,(s.mode&1)!==0)}_&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[$r]=o,o.stateNode=f}return Zt(o),null;case 13:if(ct(pt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&kn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)hw(),wa(),o.flags|=98560,_=!1;else if(_=Ku(o),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[$r]=o}else wa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),_=!1}else gr!==null&&(Zp(gr),gr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(pt.current&1)!==0?Dt===0&&(Dt=3):nm())),o.updateQueue!==null&&(o.flags|=4),Zt(o),null);case 4:return Sa(),$p(s,o),s===null&&Ql(o.stateNode.containerInfo),Zt(o),null;case 10:return gp(o.type._context),Zt(o),null;case 17:return gn(o.type)&&Bu(),Zt(o),null;case 19:if(ct(pt),_=o.memoizedState,_===null)return Zt(o),null;if(f=(o.flags&128)!==0,C=_.rendering,C===null)if(f)ac(_,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(C=ed(s),C!==null){for(o.flags|=128,ac(_,!1),f=C.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)_=c,s=f,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,s=C.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return at(pt,pt.current&1|2),o.child}s=s.sibling}_.tail!==null&&ot()>ba&&(o.flags|=128,f=!0,ac(_,!1),o.lanes=4194304)}else{if(!f)if(s=ed(C),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),ac(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!ht)return Zt(o),null}else 2*ot()-_.renderingStartTime>ba&&c!==1073741824&&(o.flags|=128,f=!0,ac(_,!1),o.lanes=4194304);_.isBackwards?(C.sibling=o.child,o.child=C):(c=_.last,c!==null?c.sibling=C:o.child=C,_.last=C)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=ot(),o.sibling=null,c=pt.current,at(pt,f?c&1|2:c&1),o):(Zt(o),null);case 22:case 23:return tm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Pn&1073741824)!==0&&(Zt(o),o.subtreeFlags&6&&(o.flags|=8192)):Zt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function vR(s,o){switch(up(o),o.tag){case 1:return gn(o.type)&&Bu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Sa(),ct(mn),ct(Xt),Sp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Ep(o),null;case 13:if(ct(pt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));wa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ct(pt),null;case 4:return Sa(),null;case 10:return gp(o.type._context),null;case 22:case 23:return tm(),null;case 24:return null;default:return null}}var cd=!1,en=!1,wR=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ia(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){vt(s,o,f)}else c.current=null}function Bp(s,o,c){try{c()}catch(f){vt(s,o,f)}}var u_=!1;function _R(s,o){if(tp=Qs,s=$v(),Gf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var C=0,j=-1,$=-1,X=0,oe=0,ae=s,se=null;t:for(;;){for(var de;ae!==c||g!==0&&ae.nodeType!==3||(j=C+g),ae!==_||f!==0&&ae.nodeType!==3||($=C+f),ae.nodeType===3&&(C+=ae.nodeValue.length),(de=ae.firstChild)!==null;)se=ae,ae=de;for(;;){if(ae===s)break t;if(se===c&&++X===g&&(j=C),se===_&&++oe===f&&($=C),(de=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=de}c=j===-1||$===-1?null:{start:j,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(np={focusedElem:s,selectionRange:c},Qs=!1,ye=o;ye!==null;)if(o=ye,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ye=s;else for(;ye!==null;){o=ye;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var xe=ve.memoizedProps,Et=ve.memoizedState,K=o.stateNode,H=K.getSnapshotBeforeUpdate(o.elementType===o.type?xe:yr(o.type,xe),Et);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){vt(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ye=s;break}ye=o.return}return ve=u_,u_=!1,ve}function lc(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&Bp(o,c,_)}g=g.next}while(g!==f)}}function ud(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Wp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function d_(s){var o=s.alternate;o!==null&&(s.alternate=null,d_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[$r],delete o[Xl],delete o[op],delete o[nR],delete o[rR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function h_(s){return s.tag===5||s.tag===3||s.tag===4}function f_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||h_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hp(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=zu));else if(f!==4&&(s=s.child,s!==null))for(Hp(s,o,c),s=s.sibling;s!==null;)Hp(s,o,c),s=s.sibling}function qp(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(qp(s,o,c),s=s.sibling;s!==null;)qp(s,o,c),s=s.sibling}var qt=null,vr=!1;function si(s,o,c){for(c=c.child;c!==null;)p_(s,o,c),c=c.sibling}function p_(s,o,c){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Yi,c)}catch{}switch(c.tag){case 5:en||Ia(c,o);case 6:var f=qt,g=vr;qt=null,si(s,o,c),qt=f,vr=g,qt!==null&&(vr?(s=qt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):qt.removeChild(c.stateNode));break;case 18:qt!==null&&(vr?(s=qt,c=c.stateNode,s.nodeType===8?ip(s.parentNode,c):s.nodeType===1&&ip(s,c),fr(s)):ip(qt,c.stateNode));break;case 4:f=qt,g=vr,qt=c.stateNode.containerInfo,vr=!0,si(s,o,c),qt=f,vr=g;break;case 0:case 11:case 14:case 15:if(!en&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&Bp(c,o,C),g=g.next}while(g!==f)}si(s,o,c);break;case 1:if(!en&&(Ia(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(j){vt(c,o,j)}si(s,o,c);break;case 21:si(s,o,c);break;case 22:c.mode&1?(en=(f=en)||c.memoizedState!==null,si(s,o,c),en=f):si(s,o,c);break;default:si(s,o,c)}}function m_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new wR),o.forEach(function(f){var g=RR.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function wr(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var _=s,C=o,j=C;e:for(;j!==null;){switch(j.tag){case 5:qt=j.stateNode,vr=!1;break e;case 3:qt=j.stateNode.containerInfo,vr=!0;break e;case 4:qt=j.stateNode.containerInfo,vr=!0;break e}j=j.return}if(qt===null)throw Error(t(160));p_(_,C,g),qt=null,vr=!1;var $=g.alternate;$!==null&&($.return=null),g.return=null}catch(X){vt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)g_(o,s),o=o.sibling}function g_(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(wr(o,s),Hr(s),f&4){try{lc(3,s,s.return),ud(3,s)}catch(xe){vt(s,s.return,xe)}try{lc(5,s,s.return)}catch(xe){vt(s,s.return,xe)}}break;case 1:wr(o,s),Hr(s),f&512&&c!==null&&Ia(c,c.return);break;case 5:if(wr(o,s),Hr(s),f&512&&c!==null&&Ia(c,c.return),s.flags&32){var g=s.stateNode;try{zs(g,"")}catch(xe){vt(s,s.return,xe)}}if(f&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,C=c!==null?c.memoizedProps:_,j=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{j==="input"&&_.type==="radio"&&_.name!=null&&rr(g,_),Al(j,C);var X=Al(j,_);for(C=0;C<$.length;C+=2){var oe=$[C],ae=$[C+1];oe==="style"?Il(g,ae):oe==="dangerouslySetInnerHTML"?Sl(g,ae):oe==="children"?zs(g,ae):V(g,oe,ae,X)}switch(j){case"input":sr(g,_);break;case"textarea":zo(g,_);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var de=_.value;de!=null?os(g,!!_.multiple,de,!1):se!==!!_.multiple&&(_.defaultValue!=null?os(g,!!_.multiple,_.defaultValue,!0):os(g,!!_.multiple,_.multiple?[]:"",!1))}g[Xl]=_}catch(xe){vt(s,s.return,xe)}}break;case 6:if(wr(o,s),Hr(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(xe){vt(s,s.return,xe)}}break;case 3:if(wr(o,s),Hr(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{fr(o.containerInfo)}catch(xe){vt(s,s.return,xe)}break;case 4:wr(o,s),Hr(s);break;case 13:wr(o,s),Hr(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(Qp=ot())),f&4&&m_(s);break;case 22:if(oe=c!==null&&c.memoizedState!==null,s.mode&1?(en=(X=en)||oe,wr(o,s),en=X):wr(o,s),Hr(s),f&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!oe&&(s.mode&1)!==0)for(ye=s,oe=s.child;oe!==null;){for(ae=ye=oe;ye!==null;){switch(se=ye,de=se.child,se.tag){case 0:case 11:case 14:case 15:lc(4,se,se.return);break;case 1:Ia(se,se.return);var ve=se.stateNode;if(typeof ve.componentWillUnmount=="function"){f=se,c=se.return;try{o=f,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(xe){vt(f,c,xe)}}break;case 5:Ia(se,se.return);break;case 22:if(se.memoizedState!==null){w_(ae);continue}}de!==null?(de.return=se,ye=de):w_(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{g=ae.stateNode,X?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(j=ae.stateNode,$=ae.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=Tl("display",C))}catch(xe){vt(s,s.return,xe)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=X?"":ae.memoizedProps}catch(xe){vt(s,s.return,xe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:wr(o,s),Hr(s),f&4&&m_(s);break;case 21:break;default:wr(o,s),Hr(s)}}function Hr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(h_(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(zs(g,""),f.flags&=-33);var _=f_(s);qp(s,_,g);break;case 3:case 4:var C=f.stateNode.containerInfo,j=f_(s);Hp(s,j,C);break;default:throw Error(t(161))}}catch($){vt(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function ER(s,o,c){ye=s,y_(s)}function y_(s,o,c){for(var f=(s.mode&1)!==0;ye!==null;){var g=ye,_=g.child;if(g.tag===22&&f){var C=g.memoizedState!==null||cd;if(!C){var j=g.alternate,$=j!==null&&j.memoizedState!==null||en;j=cd;var X=en;if(cd=C,(en=$)&&!X)for(ye=g;ye!==null;)C=ye,$=C.child,C.tag===22&&C.memoizedState!==null?__(g):$!==null?($.return=C,ye=$):__(g);for(;_!==null;)ye=_,y_(_),_=_.sibling;ye=g,cd=j,en=X}v_(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,ye=_):v_(s)}}function v_(s){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:en||ud(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!en)if(c===null)f.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:yr(o.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&ww(o,_,f);break;case 3:var C=o.updateQueue;if(C!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}ww(o,C,c)}break;case 5:var j=o.stateNode;if(c===null&&o.flags&4){c=j;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var oe=X.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&fr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}en||o.flags&512&&Wp(o)}catch(se){vt(o,o.return,se)}}if(o===s){ye=null;break}if(c=o.sibling,c!==null){c.return=o.return,ye=c;break}ye=o.return}}function w_(s){for(;ye!==null;){var o=ye;if(o===s){ye=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ye=c;break}ye=o.return}}function __(s){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{ud(4,o)}catch($){vt(o,c,$)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch($){vt(o,g,$)}}var _=o.return;try{Wp(o)}catch($){vt(o,_,$)}break;case 5:var C=o.return;try{Wp(o)}catch($){vt(o,C,$)}}}catch($){vt(o,o.return,$)}if(o===s){ye=null;break}var j=o.sibling;if(j!==null){j.return=o.return,ye=j;break}ye=o.return}}var xR=Math.ceil,dd=z.ReactCurrentDispatcher,Gp=z.ReactCurrentOwner,Qn=z.ReactCurrentBatchConfig,Ze=0,Ft=null,It=null,Gt=0,Pn=0,Ca=Zs(0),Dt=0,cc=null,uo=0,hd=0,Kp=0,uc=null,vn=null,Qp=0,ba=1/0,Es=null,fd=!1,Yp=null,ii=null,pd=!1,oi=null,md=0,dc=0,Xp=null,gd=-1,yd=0;function un(){return(Ze&6)!==0?ot():gd!==-1?gd:gd=ot()}function ai(s){return(s.mode&1)===0?1:(Ze&2)!==0&&Gt!==0?Gt&-Gt:iR.transition!==null?(yd===0&&(yd=Ji()),yd):(s=Qe,s!==0||(s=window.event,s=s===void 0?16:Fl(s.type)),s)}function _r(s,o,c,f){if(50<dc)throw dc=0,Xp=null,Error(t(185));Hs(s,c,f),((Ze&2)===0||s!==Ft)&&(s===Ft&&((Ze&2)===0&&(hd|=c),Dt===4&&li(s,Gt)),wn(s,f),c===1&&Ze===0&&(o.mode&1)===0&&(ba=ot()+500,Hu&&ti()))}function wn(s,o){var c=s.callbackNode;cs(s,o);var f=Xi(s,s===Ft?Gt:0);if(f===0)c!==null&&Ml(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&Ml(c),o===1)s.tag===0?sR(x_.bind(null,s)):aw(x_.bind(null,s)),eR(function(){(Ze&6)===0&&ti()}),c=null;else{switch(Gs(f)){case 1:c=Qi;break;case 4:c=$s;break;case 16:c=$n;break;case 536870912:c=yu;break;default:c=$n}c=k_(c,E_.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function E_(s,o){if(gd=-1,yd=0,(Ze&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Aa()&&s.callbackNode!==c)return null;var f=Xi(s,s===Ft?Gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=vd(s,f);else{o=f;var g=Ze;Ze|=2;var _=T_();(Ft!==s||Gt!==o)&&(Es=null,ba=ot()+500,fo(s,o));do try{IR();break}catch(j){S_(s,j)}while(!0);mp(),dd.current=_,Ze=g,It!==null?o=0:(Ft=null,Gt=0,o=Dt)}if(o!==0){if(o===2&&(g=Cn(s),g!==0&&(f=g,o=Jp(s,g))),o===1)throw c=cc,fo(s,0),li(s,f),wn(s,ot()),c;if(o===6)li(s,f);else{if(g=s.current.alternate,(f&30)===0&&!SR(g)&&(o=vd(s,f),o===2&&(_=Cn(s),_!==0&&(f=_,o=Jp(s,_))),o===1))throw c=cc,fo(s,0),li(s,f),wn(s,ot()),c;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:po(s,vn,Es);break;case 3:if(li(s,f),(f&130023424)===f&&(o=Qp+500-ot(),10<o)){if(Xi(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){un(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=sp(po.bind(null,s,vn,Es),o);break}po(s,vn,Es);break;case 4:if(li(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var C=31-an(f);_=1<<C,C=o[C],C>g&&(g=C),f&=~_}if(f=g,f=ot()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*xR(f/1960))-f,10<f){s.timeoutHandle=sp(po.bind(null,s,vn,Es),f);break}po(s,vn,Es);break;case 5:po(s,vn,Es);break;default:throw Error(t(329))}}}return wn(s,ot()),s.callbackNode===c?E_.bind(null,s):null}function Jp(s,o){var c=uc;return s.current.memoizedState.isDehydrated&&(fo(s,o).flags|=256),s=vd(s,o),s!==2&&(o=vn,vn=c,o!==null&&Zp(o)),s}function Zp(s){vn===null?vn=s:vn.push.apply(vn,s)}function SR(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],_=g.getSnapshot;g=g.value;try{if(!mr(_(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function li(s,o){for(o&=~Kp,o&=~hd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-an(o),f=1<<c;s[c]=-1,o&=~f}}function x_(s){if((Ze&6)!==0)throw Error(t(327));Aa();var o=Xi(s,0);if((o&1)===0)return wn(s,ot()),null;var c=vd(s,o);if(s.tag!==0&&c===2){var f=Cn(s);f!==0&&(o=f,c=Jp(s,f))}if(c===1)throw c=cc,fo(s,0),li(s,o),wn(s,ot()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,po(s,vn,Es),wn(s,ot()),null}function em(s,o){var c=Ze;Ze|=1;try{return s(o)}finally{Ze=c,Ze===0&&(ba=ot()+500,Hu&&ti())}}function ho(s){oi!==null&&oi.tag===0&&(Ze&6)===0&&Aa();var o=Ze;Ze|=1;var c=Qn.transition,f=Qe;try{if(Qn.transition=null,Qe=1,s)return s()}finally{Qe=f,Qn.transition=c,Ze=o,(Ze&6)===0&&ti()}}function tm(){Pn=Ca.current,ct(Ca)}function fo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,ZA(c)),It!==null)for(c=It.return;c!==null;){var f=c;switch(up(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Bu();break;case 3:Sa(),ct(mn),ct(Xt),Sp();break;case 5:Ep(f);break;case 4:Sa();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:gp(f.type._context);break;case 22:case 23:tm()}c=c.return}if(Ft=s,It=s=ci(s.current,null),Gt=Pn=o,Dt=0,cc=null,Kp=hd=uo=0,vn=uc=null,ao!==null){for(o=0;o<ao.length;o++)if(c=ao[o],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,_=c.pending;if(_!==null){var C=_.next;_.next=g,f.next=C}c.pending=f}ao=null}return s}function S_(s,o){do{var c=It;try{if(mp(),td.current=id,nd){for(var f=mt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}nd=!1}if(co=0,Vt=Nt=mt=null,rc=!1,sc=0,Gp.current=null,c===null||c.return===null){Dt=1,cc=o,It=null;break}e:{var _=s,C=c.return,j=c,$=o;if(o=Gt,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,oe=j,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var de=Kw(C);if(de!==null){de.flags&=-257,Qw(de,C,j,_,o),de.mode&1&&Gw(_,X,o),o=de,$=X;var ve=o.updateQueue;if(ve===null){var xe=new Set;xe.add($),o.updateQueue=xe}else ve.add($);break e}else{if((o&1)===0){Gw(_,X,o),nm();break e}$=Error(t(426))}}else if(ht&&j.mode&1){var Et=Kw(C);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),Qw(Et,C,j,_,o),fp(Ta($,j));break e}}_=$=Ta($,j),Dt!==4&&(Dt=2),uc===null?uc=[_]:uc.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var K=Hw(_,$,o);vw(_,K);break e;case 1:j=$;var H=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ii===null||!ii.has(Q)))){_.flags|=65536,o&=-o,_.lanes|=o;var le=qw(_,j,o);vw(_,le);break e}}_=_.return}while(_!==null)}C_(c)}catch(Te){o=Te,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function T_(){var s=dd.current;return dd.current=id,s===null?id:s}function nm(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||(uo&268435455)===0&&(hd&268435455)===0||li(Ft,Gt)}function vd(s,o){var c=Ze;Ze|=2;var f=T_();(Ft!==s||Gt!==o)&&(Es=null,fo(s,o));do try{TR();break}catch(g){S_(s,g)}while(!0);if(mp(),Ze=c,dd.current=f,It!==null)throw Error(t(261));return Ft=null,Gt=0,Dt}function TR(){for(;It!==null;)I_(It)}function IR(){for(;It!==null&&!mu();)I_(It)}function I_(s){var o=R_(s.alternate,s,Pn);s.memoizedProps=s.pendingProps,o===null?C_(s):It=o,Gp.current=null}function C_(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=yR(c,o,Pn),c!==null){It=c;return}}else{if(c=vR(c,o),c!==null){c.flags&=32767,It=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=s}while(o!==null);Dt===0&&(Dt=5)}function po(s,o,c){var f=Qe,g=Qn.transition;try{Qn.transition=null,Qe=1,CR(s,o,c,f)}finally{Qn.transition=g,Qe=f}return null}function CR(s,o,c,f){do Aa();while(oi!==null);if((Ze&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(it(s,_),s===Ft&&(It=Ft=null,Gt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||pd||(pd=!0,k_($n,function(){return Aa(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Qn.transition,Qn.transition=null;var C=Qe;Qe=1;var j=Ze;Ze|=4,Gp.current=null,_R(s,c),g_(c,s),qA(np),Qs=!!tp,np=tp=null,s.current=c,ER(c),Ff(),Ze=j,Qe=C,Qn.transition=_}else s.current=c;if(pd&&(pd=!1,oi=s,md=g),_=s.pendingLanes,_===0&&(ii=null),vu(c.stateNode),wn(s,ot()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(fd)throw fd=!1,s=Yp,Yp=null,s;return(md&1)!==0&&s.tag!==0&&Aa(),_=s.pendingLanes,(_&1)!==0?s===Xp?dc++:(dc=0,Xp=s):dc=0,ti(),null}function Aa(){if(oi!==null){var s=Gs(md),o=Qn.transition,c=Qe;try{if(Qn.transition=null,Qe=16>s?16:s,oi===null)var f=!1;else{if(s=oi,oi=null,md=0,(Ze&6)!==0)throw Error(t(331));var g=Ze;for(Ze|=4,ye=s.current;ye!==null;){var _=ye,C=_.child;if((ye.flags&16)!==0){var j=_.deletions;if(j!==null){for(var $=0;$<j.length;$++){var X=j[$];for(ye=X;ye!==null;){var oe=ye;switch(oe.tag){case 0:case 11:case 15:lc(8,oe,_)}var ae=oe.child;if(ae!==null)ae.return=oe,ye=ae;else for(;ye!==null;){oe=ye;var se=oe.sibling,de=oe.return;if(d_(oe),oe===X){ye=null;break}if(se!==null){se.return=de,ye=se;break}ye=de}}}var ve=_.alternate;if(ve!==null){var xe=ve.child;if(xe!==null){ve.child=null;do{var Et=xe.sibling;xe.sibling=null,xe=Et}while(xe!==null)}}ye=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,ye=C;else e:for(;ye!==null;){if(_=ye,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:lc(9,_,_.return)}var K=_.sibling;if(K!==null){K.return=_.return,ye=K;break e}ye=_.return}}var H=s.current;for(ye=H;ye!==null;){C=ye;var Q=C.child;if((C.subtreeFlags&2064)!==0&&Q!==null)Q.return=C,ye=Q;else e:for(C=H;ye!==null;){if(j=ye,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:ud(9,j)}}catch(Te){vt(j,j.return,Te)}if(j===C){ye=null;break e}var le=j.sibling;if(le!==null){le.return=j.return,ye=le;break e}ye=j.return}}if(Ze=g,ti(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Yi,s)}catch{}f=!0}return f}finally{Qe=c,Qn.transition=o}}return!1}function b_(s,o,c){o=Ta(c,o),o=Hw(s,o,1),s=ri(s,o,1),o=un(),s!==null&&(Hs(s,1,o),wn(s,o))}function vt(s,o,c){if(s.tag===3)b_(s,s,c);else for(;o!==null;){if(o.tag===3){b_(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ii===null||!ii.has(f))){s=Ta(c,s),s=qw(o,s,1),o=ri(o,s,1),s=un(),o!==null&&(Hs(o,1,s),wn(o,s));break}}o=o.return}}function bR(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=un(),s.pingedLanes|=s.suspendedLanes&c,Ft===s&&(Gt&c)===c&&(Dt===4||Dt===3&&(Gt&130023424)===Gt&&500>ot()-Qp?fo(s,0):Kp|=c),wn(s,o)}function A_(s,o){o===0&&((s.mode&1)===0?o=1:(o=Xo,Xo<<=1,(Xo&130023424)===0&&(Xo=4194304)));var c=un();s=vs(s,o),s!==null&&(Hs(s,o,c),wn(s,c))}function AR(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),A_(s,c)}function RR(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),A_(s,c)}var R_;R_=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||mn.current)yn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return yn=!1,gR(s,o,c);yn=(s.flags&131072)!==0}else yn=!1,ht&&(o.flags&1048576)!==0&&lw(o,Gu,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;ld(s,o),s=o.pendingProps;var g=ga(o,Xt.current);xa(o,c),g=Cp(null,o,f,s,g,c);var _=bp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,gn(f)?(_=!0,Wu(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,wp(o),g.updater=od,o.stateNode=g,g._reactInternals=o,Dp(o,f,s,c),o=jp(null,o,f,!0,_,c)):(o.tag=0,ht&&_&&cp(o),cn(null,o,g,c),o=o.child),o;case 16:f=o.elementType;e:{switch(ld(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=PR(f),s=yr(f,s),g){case 0:o=Lp(null,o,f,s,c);break e;case 1:o=t_(null,o,f,s,c);break e;case 11:o=Yw(null,o,f,s,c);break e;case 14:o=Xw(null,o,f,yr(f.type,s),c);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:yr(f,g),Lp(s,o,f,g,c);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:yr(f,g),t_(s,o,f,g,c);case 3:e:{if(n_(o),s===null)throw Error(t(387));f=o.pendingProps,_=o.memoizedState,g=_.element,yw(s,o),Zu(o,f,null,c);var C=o.memoizedState;if(f=C.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=Ta(Error(t(423)),o),o=r_(s,o,f,c,g);break e}else if(f!==g){g=Ta(Error(t(424)),o),o=r_(s,o,f,c,g);break e}else for(kn=Js(o.stateNode.containerInfo.firstChild),Rn=o,ht=!0,gr=null,c=mw(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(wa(),f===g){o=_s(s,o,c);break e}cn(s,o,f,c)}o=o.child}return o;case 5:return _w(o),s===null&&hp(o),f=o.type,g=o.pendingProps,_=s!==null?s.memoizedProps:null,C=g.children,rp(f,g)?C=null:_!==null&&rp(f,_)&&(o.flags|=32),e_(s,o),cn(s,o,C,c),o.child;case 6:return s===null&&hp(o),null;case 13:return s_(s,o,c);case 4:return _p(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=_a(o,null,f,c):cn(s,o,f,c),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:yr(f,g),Yw(s,o,f,g,c);case 7:return cn(s,o,o.pendingProps,c),o.child;case 8:return cn(s,o,o.pendingProps.children,c),o.child;case 12:return cn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,_=o.memoizedProps,C=g.value,at(Yu,f._currentValue),f._currentValue=C,_!==null)if(mr(_.value,C)){if(_.children===g.children&&!mn.current){o=_s(s,o,c);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var j=_.dependencies;if(j!==null){C=_.child;for(var $=j.firstContext;$!==null;){if($.context===f){if(_.tag===1){$=ws(-1,c&-c),$.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var oe=X.pending;oe===null?$.next=$:($.next=oe.next,oe.next=$),X.pending=$}}_.lanes|=c,$=_.alternate,$!==null&&($.lanes|=c),yp(_.return,c,o),j.lanes|=c;break}$=$.next}}else if(_.tag===10)C=_.type===o.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(t(341));C.lanes|=c,j=C.alternate,j!==null&&(j.lanes|=c),yp(C,c,o),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===o){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}cn(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,xa(o,c),g=Gn(g),f=f(g),o.flags|=1,cn(s,o,f,c),o.child;case 14:return f=o.type,g=yr(f,o.pendingProps),g=yr(f.type,g),Xw(s,o,f,g,c);case 15:return Jw(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:yr(f,g),ld(s,o),o.tag=1,gn(f)?(s=!0,Wu(o)):s=!1,xa(o,c),Bw(o,f,g),Dp(o,f,g,c),jp(null,o,f,!0,s,c);case 19:return o_(s,o,c);case 22:return Zw(s,o,c)}throw Error(t(156,o.tag))};function k_(s,o){return Qo(s,o)}function kR(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(s,o,c,f){return new kR(s,o,c,f)}function rm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function PR(s){if(typeof s=="function")return rm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===be)return 14}return 2}function ci(s,o){var c=s.alternate;return c===null?(c=Yn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function wd(s,o,c,f,g,_){var C=2;if(f=s,typeof s=="function")rm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case N:return mo(c.children,g,_,o);case A:C=8,g|=8;break;case k:return s=Yn(12,c,o,g|2),s.elementType=k,s.lanes=_,s;case O:return s=Yn(13,c,o,g),s.elementType=O,s.lanes=_,s;case Se:return s=Yn(19,c,o,g),s.elementType=Se,s.lanes=_,s;case me:return _d(c,g,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:C=10;break e;case L:C=9;break e;case F:C=11;break e;case be:C=14;break e;case he:C=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Yn(C,c,o,g),o.elementType=s,o.type=f,o.lanes=_,o}function mo(s,o,c,f){return s=Yn(7,s,f,o),s.lanes=c,s}function _d(s,o,c,f){return s=Yn(22,s,f,o),s.elementType=me,s.lanes=c,s.stateNode={isHidden:!1},s}function sm(s,o,c){return s=Yn(6,s,null,o),s.lanes=c,s}function im(s,o,c){return o=Yn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function NR(s,o,c,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ws(0),this.expirationTimes=Ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function om(s,o,c,f,g,_,C,j,$){return s=new NR(s,o,c,j,$),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Yn(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(_),s}function DR(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function P_(s){if(!s)return ei;s=s._reactInternals;e:{if(lr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(gn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(gn(c))return iw(s,c,o)}return o}function N_(s,o,c,f,g,_,C,j,$){return s=om(c,f,!0,s,g,_,C,j,$),s.context=P_(null),c=s.current,f=un(),g=ai(c),_=ws(f,g),_.callback=o??null,ri(c,_,g),s.current.lanes=g,Hs(s,g,f),wn(s,f),s}function Ed(s,o,c,f){var g=o.current,_=un(),C=ai(g);return c=P_(c),o.context===null?o.context=c:o.pendingContext=c,o=ws(_,C),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ri(g,o,C),s!==null&&(_r(s,g,C,_),Ju(s,g,C)),C}function xd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function D_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function am(s,o){D_(s,o),(s=s.alternate)&&D_(s,o)}function MR(){return null}var M_=typeof reportError=="function"?reportError:function(s){console.error(s)};function lm(s){this._internalRoot=s}Sd.prototype.render=lm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Ed(s,o,null,null)},Sd.prototype.unmount=lm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ho(function(){Ed(null,s,null,null)}),o[ps]=null}};function Sd(s){this._internalRoot=s}Sd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Su();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Vr.length&&o!==0&&o<Vr[c].priority;c++);Vr.splice(c,0,s),c===0&&Cu(s)}};function cm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Td(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function O_(){}function OR(s,o,c,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var X=xd(C);_.call(X)}}var C=N_(o,f,s,0,null,!1,!1,"",O_);return s._reactRootContainer=C,s[ps]=C.current,Ql(s.nodeType===8?s.parentNode:s),ho(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var j=f;f=function(){var X=xd($);j.call(X)}}var $=om(s,0,!1,null,null,!1,!1,"",O_);return s._reactRootContainer=$,s[ps]=$.current,Ql(s.nodeType===8?s.parentNode:s),ho(function(){Ed(o,$,c,f)}),$}function Id(s,o,c,f,g){var _=c._reactRootContainer;if(_){var C=_;if(typeof g=="function"){var j=g;g=function(){var $=xd(C);j.call($)}}Ed(o,C,s,g)}else C=OR(c,o,s,g,f);return xd(C)}Eu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Bs(o.pendingLanes);c!==0&&(qs(o,c|1),wn(o,ot()),(Ze&6)===0&&(ba=ot()+500,ti()))}break;case 13:ho(function(){var f=vs(s,1);if(f!==null){var g=un();_r(f,s,1,g)}}),am(s,1)}},Jo=function(s){if(s.tag===13){var o=vs(s,134217728);if(o!==null){var c=un();_r(o,s,134217728,c)}am(s,134217728)}},xu=function(s){if(s.tag===13){var o=ai(s),c=vs(s,o);if(c!==null){var f=un();_r(c,s,o,f)}am(s,o)}},Su=function(){return Qe},Tu=function(s,o){var c=Qe;try{return Qe=s,o()}finally{Qe=c}},Bo=function(s,o,c){switch(o){case"input":if(sr(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var g=$u(f);if(!g)throw Error(t(90));Ue(f),sr(f,g)}}}break;case"textarea":zo(s,c);break;case"select":o=c.value,o!=null&&os(s,!!c.multiple,o,!1)}},Hi=em,kl=ho;var LR={usingClientEntryPoint:!1,Events:[Jl,pa,$u,Lr,Rl,em]},hc={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Dl(s),s===null?null:s.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||MR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Yi=Cd.inject(jR),In=Cd}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LR,_n.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cm(o))throw Error(t(200));return DR(s,o,null,c)},_n.createRoot=function(s,o){if(!cm(s))throw Error(t(299));var c=!1,f="",g=M_;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=om(s,1,!1,null,null,c,!1,f,g),s[ps]=o.current,Ql(s.nodeType===8?s.parentNode:s),new lm(o)},_n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Dl(o),s=s===null?null:s.stateNode,s},_n.flushSync=function(s){return ho(s)},_n.hydrate=function(s,o,c){if(!Td(o))throw Error(t(200));return Id(null,s,o,!0,c)},_n.hydrateRoot=function(s,o,c){if(!cm(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,_="",C=M_;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),o=N_(o,null,s,1,c??null,g,!1,_,C),s[ps]=o.current,Ql(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Sd(o)},_n.render=function(s,o,c){if(!Td(o))throw Error(t(200));return Id(null,s,o,!1,c)},_n.unmountComponentAtNode=function(s){if(!Td(s))throw Error(t(40));return s._reactRootContainer?(ho(function(){Id(null,null,s,!1,function(){s._reactRootContainer=null,s[ps]=null})}),!0):!1},_n.unstable_batchedUpdates=em,_n.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!Td(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Id(s,o,c,!1,f)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var W_;function xx(){if(W_)return hm.exports;W_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hm.exports=GR(),hm.exports}var H_;function KR(){if(H_)return bd;H_=1;var n=xx();return bd.createRoot=n.createRoot,bd.hydrateRoot=n.hydrateRoot,bd}var QR=KR(),pc={},q_;function YR(){if(q_)return pc;q_=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.parse=l,pc.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,T){const b=new a,I=E.length;if(I<2)return b;const R=(T==null?void 0:T.decode)||y;let D=0;do{const U=E.indexOf("=",D);if(U===-1)break;const V=E.indexOf(";",D),z=V===-1?I:V;if(U>z){D=E.lastIndexOf(";",U-1)+1;continue}const W=u(E,D,U),Y=h(E,U,W),N=E.slice(W,Y);if(b[N]===void 0){let A=u(E,U+1,z),k=h(E,z,A);const M=R(E.slice(A,k));b[N]=M}D=z+1}while(D<I);return b}function u(E,T,b){do{const I=E.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<b);return b}function h(E,T,b){for(;T>b;){const I=E.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return b}function p(E,T,b){const I=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=I(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let D=E+"="+R;if(!b)return D;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);D+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);D+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);D+="; Path="+b.path}if(b.expires){if(!v(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);D+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(D+="; HttpOnly"),b.secure&&(D+="; Secure"),b.partitioned&&(D+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return D}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return i.call(E)==="[object Date]"}return pc}YR();var G_="popstate";function XR(n={}){function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return Gm("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Oc(i)}return ZR(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JR(){return Math.random().toString(36).substring(2,10)}function K_(n,e){return{usr:n.state,key:n.key,idx:e}}function Gm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:t,key:e&&e.key||r||JR()}}function Oc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function sl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ZR(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",h=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function v(){u="POP";let R=y(),D=R==null?null:R-p;p=R,h&&h({action:u,location:I.location,delta:D})}function E(R,D){u="PUSH";let U=Gm(I.location,R,D);p=y()+1;let V=K_(U,p),z=I.createHref(U);try{l.pushState(V,"",z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(z)}a&&h&&h({action:u,location:I.location,delta:1})}function T(R,D){u="REPLACE";let U=Gm(I.location,R,D);p=y();let V=K_(U,p),z=I.createHref(U);l.replaceState(V,"",z),a&&h&&h({action:u,location:I.location,delta:0})}function b(R){let D=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof R=="string"?R:Oc(R);return U=U.replace(/ $/,"%20"),ft(D,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,D)}let I={get action(){return u},get location(){return n(i,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(G_,v),h=R,()=>{i.removeEventListener(G_,v),h=null}},createHref(R){return e(i,R)},createURL:b,encodeLocation(R){let D=b(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:T,go(R){return l.go(R)}};return I}function Sx(n,e,t="/"){return e1(n,e,t,!1)}function e1(n,e,t,r){let i=typeof e=="string"?sl(e):e,a=Ps(i.pathname||"/",t);if(a==null)return null;let l=Tx(n);t1(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=h1(a);u=u1(l[h],p,r)}return u}function Tx(n,e=[],t=[],r=""){let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ft(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Cs([r,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Tx(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:l1(p,a.index),routesMeta:y})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let h of Ix(a.path))i(a,l,h)}),e}function Ix(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Ix(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function t1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:c1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var n1=/^:[\w-]+$/,r1=3,s1=2,i1=1,o1=10,a1=-2,Q_=n=>n==="*";function l1(n,e){let t=n.split("/"),r=t.length;return t.some(Q_)&&(r+=a1),e&&(r+=s1),t.filter(i=>!Q_(i)).reduce((i,a)=>i+(n1.test(a)?r1:a===""?i1:o1),r)}function c1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function u1(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",v=ch({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),E=h.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=ch({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Cs([a,v.pathname]),pathnameBase:g1(Cs([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=Cs([a,v.pathnameBase]))}return l}function ch(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=d1(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let b=u[E]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const T=u[E];return v&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function d1(n,e=!1,t=!0){Tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function h1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ps(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function f1(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?sl(n):n;return{pathname:t?t.startsWith("/")?t:p1(t,e):e,search:y1(r),hash:v1(i)}}function p1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function mm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ug(n){let e=m1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function zg(n,e,t,r=!1){let i;typeof n=="string"?i=sl(n):(i={...n},ft(!i.pathname||!i.pathname.includes("?"),mm("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),mm("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),mm("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}u=v>=0?e[v]:"/"}let h=f1(i,u),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var Cs=n=>n.join("/").replace(/\/\/+/g,"/"),g1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),y1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,v1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function w1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Cx=["POST","PUT","PATCH","DELETE"];new Set(Cx);var _1=["GET",...Cx];new Set(_1);var il=x.createContext(null);il.displayName="DataRouter";var Hh=x.createContext(null);Hh.displayName="DataRouterState";var bx=x.createContext({isTransitioning:!1});bx.displayName="ViewTransition";var E1=x.createContext(new Map);E1.displayName="Fetchers";var x1=x.createContext(null);x1.displayName="Await";var Nr=x.createContext(null);Nr.displayName="Navigation";var Qc=x.createContext(null);Qc.displayName="Location";var Dr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var $g=x.createContext(null);$g.displayName="RouteError";function S1(n,{relative:e}={}){ft(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=x.useContext(Nr),{hash:i,pathname:a,search:l}=Yc(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Cs([t,a])),r.createHref({pathname:u,search:l,hash:i})}function ol(){return x.useContext(Qc)!=null}function Vs(){return ft(ol(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Qc).location}var Ax="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rx(n){x.useContext(Nr).static||x.useLayoutEffect(n)}function ko(){let{isDataRoute:n}=x.useContext(Dr);return n?V1():T1()}function T1(){ft(ol(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(il),{basename:e,navigator:t}=x.useContext(Nr),{matches:r}=x.useContext(Dr),{pathname:i}=Vs(),a=JSON.stringify(Ug(r)),l=x.useRef(!1);return Rx(()=>{l.current=!0}),x.useCallback((h,p={})=>{if(Tr(l.current,Ax),!l.current)return;if(typeof h=="number"){t.go(h);return}let y=zg(h,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Cs([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,i,n])}var I1=x.createContext(null);function C1(n){let e=x.useContext(Dr).outlet;return e&&x.createElement(I1.Provider,{value:n},e)}function Yc(n,{relative:e}={}){let{matches:t}=x.useContext(Dr),{pathname:r}=Vs(),i=JSON.stringify(Ug(t));return x.useMemo(()=>zg(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function b1(n,e){return kx(n,e)}function kx(n,e,t,r){var U;ft(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=x.useContext(Nr),{matches:l}=x.useContext(Dr),u=l[l.length-1],h=u?u.params:{},p=u?u.pathname:"/",y=u?u.pathnameBase:"/",v=u&&u.route;{let V=v&&v.path||"";Px(p,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let E=Vs(),T;if(e){let V=typeof e=="string"?sl(e):e;ft(y==="/"||((U=V.pathname)==null?void 0:U.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=E;let b=T.pathname||"/",I=b;if(y!=="/"){let V=y.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(V.length).join("/")}let R=!a&&t&&t.matches&&t.matches.length>0?t.matches:Sx(n,{pathname:I});Tr(v||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Tr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=N1(R&&R.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Cs([y,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?y:Cs([y,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,t,r);return e&&D?x.createElement(Qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function A1(){let n=j1(),e=w1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:i},t):null,l)}var R1=x.createElement(A1,null),k1=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement(Dr.Provider,{value:this.props.routeContext},x.createElement($g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P1({routeContext:n,match:e,children:t}){let r=x.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Dr.Provider,{value:n},t)}function N1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ft(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:y,errors:v}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,p,y)=>{let v,E=!1,T=null,b=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||R1,l&&(u<0&&y===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):u===y&&(E=!0,b=p.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,y+1)),R=()=>{let D;return v?D=T:E?D=b:p.route.Component?D=x.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,x.createElement(P1,{match:p,routeContext:{outlet:h,matches:I,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?x.createElement(k1,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}function Bg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(n){let e=x.useContext(il);return ft(e,Bg(n)),e}function M1(n){let e=x.useContext(Hh);return ft(e,Bg(n)),e}function O1(n){let e=x.useContext(Dr);return ft(e,Bg(n)),e}function Wg(n){let e=O1(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function L1(){return Wg("useRouteId")}function j1(){var r;let n=x.useContext($g),e=M1("useRouteError"),t=Wg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function V1(){let{router:n}=D1("useNavigate"),e=Wg("useNavigate"),t=x.useRef(!1);return Rx(()=>{t.current=!0}),x.useCallback(async(i,a={})=>{Tr(t.current,Ax),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var Y_={};function Px(n,e,t){!e&&!Y_[n]&&(Y_[n]=!0,Tr(!1,t))}x.memo(F1);function F1({routes:n,future:e,state:t}){return kx(n,void 0,t,e)}function ja({to:n,replace:e,state:t,relative:r}){ft(ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Nr);Tr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=x.useContext(Dr),{pathname:l}=Vs(),u=ko(),h=zg(n,Ug(a),l,r==="path"),p=JSON.stringify(h);return x.useEffect(()=>{u(JSON.parse(p),{replace:e,state:t,relative:r})},[u,p,r,e,t]),null}function Hg(n){return C1(n.context)}function Nn(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){ft(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=sl(t));let{pathname:h="/",search:p="",hash:y="",state:v=null,key:E="default"}=t,T=x.useMemo(()=>{let b=Ps(h,l);return b==null?null:{location:{pathname:b,search:p,hash:y,state:v,key:E},navigationType:r}},[l,h,p,y,v,E,r]);return Tr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:x.createElement(Nr.Provider,{value:u},x.createElement(Qc.Provider,{children:e,value:T}))}function z1({children:n,location:e}){return b1(Km(n),e)}function Km(n,e=[]){let t=[];return x.Children.forEach(n,(r,i)=>{if(!x.isValidElement(r))return;let a=[...e,i];if(r.type===x.Fragment){t.push.apply(t,Km(r.props.children,a));return}ft(r.type===Nn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Km(r.props.children,a)),t.push(l)}),t}var Gd="get",Kd="application/x-www-form-urlencoded";function qh(n){return n!=null&&typeof n.tagName=="string"}function $1(n){return qh(n)&&n.tagName.toLowerCase()==="button"}function B1(n){return qh(n)&&n.tagName.toLowerCase()==="form"}function W1(n){return qh(n)&&n.tagName.toLowerCase()==="input"}function H1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function q1(n,e){return n.button===0&&(!e||e==="_self")&&!H1(n)}var Ad=null;function G1(){if(Ad===null)try{new FormData(document.createElement("form"),0),Ad=!1}catch{Ad=!0}return Ad}var K1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(n){return n!=null&&!K1.has(n)?(Tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):n}function Q1(n,e){let t,r,i,a,l;if(B1(n)){let u=n.getAttribute("action");r=u?Ps(u,e):null,t=n.getAttribute("method")||Gd,i=gm(n.getAttribute("enctype"))||Kd,a=new FormData(n)}else if($1(n)||W1(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?Ps(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Gd,i=gm(n.getAttribute("formenctype"))||gm(u.getAttribute("enctype"))||Kd,a=new FormData(u,n),!G1()){let{name:p,type:y,value:v}=n;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,v)}}else{if(qh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gd,r=null,i=Kd,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function qg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Y1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function J1(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await Y1(a,t);return l.links?l.links():[]}return[]}));return nk(r.flat(1).filter(X1).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function X_(n,e,t,r,i,a){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):a==="data"?e.filter((h,p)=>{var v;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Z1(n,e,{includeHydrateFallback:t}={}){return ek(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function ek(n){return[...new Set(n)]}function tk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function nk(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(tk(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}var rk=new Set([100,101,204,205]);function sk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ps(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Nx(){let n=x.useContext(il);return qg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ik(){let n=x.useContext(Hh);return qg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gg=x.createContext(void 0);Gg.displayName="FrameworkContext";function Dx(){let n=x.useContext(Gg);return qg(n,"You must render this element inside a <HydratedRouter> element"),n}function ok(n,e){let t=x.useContext(Gg),[r,i]=x.useState(!1),[a,l]=x.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=x.useRef(null);x.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=D=>{D.forEach(U=>{l(U.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[n]),x.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:mc(u,T),onBlur:mc(h,b),onMouseEnter:mc(p,T),onMouseLeave:mc(y,b),onTouchStart:mc(v,T)}]:[!1,E,{}]}function mc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ak({page:n,...e}){let{router:t}=Nx(),r=x.useMemo(()=>Sx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?x.createElement(ck,{page:n,matches:r,...e}):null}function lk(n){let{manifest:e,routeModules:t}=Dx(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return J1(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function ck({page:n,matches:e,...t}){let r=Vs(),{manifest:i,routeModules:a}=Dx(),{basename:l}=Nx(),{loaderData:u,matches:h}=ik(),p=x.useMemo(()=>X_(n,e,h,i,r,"data"),[n,e,h,i,r]),y=x.useMemo(()=>X_(n,e,h,i,r,"assets"),[n,e,h,i,r]),v=x.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,I=!1;if(e.forEach(D=>{var V;let U=i.routes[D.route.id];!U||!U.hasLoader||(!p.some(z=>z.route.id===D.route.id)&&D.route.id in u&&((V=a[D.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?I=!0:b.add(D.route.id))}),b.size===0)return[];let R=sk(n,l);return I&&b.size>0&&R.searchParams.set("_routes",e.filter(D=>b.has(D.route.id)).map(D=>D.route.id).join(",")),[R.pathname+R.search]},[l,u,r,i,p,e,n,a]),E=x.useMemo(()=>Z1(y,i),[y,i]),T=lk(y);return x.createElement(x.Fragment,null,v.map(b=>x.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),E.map(b=>x.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:I})=>x.createElement("link",{key:b,...I})))}function uk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mx&&(window.__reactRouterVersion="7.5.2")}catch{}function dk({basename:n,children:e,window:t}){let r=x.useRef();r.current==null&&(r.current=XR({window:t,v5Compat:!0}));let i=r.current,[a,l]=x.useState({action:i.action,location:i.location}),u=x.useCallback(h=>{x.startTransition(()=>l(h))},[l]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(U1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var Ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bs=x.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:h,to:p,preventScrollReset:y,viewTransition:v,...E},T){let{basename:b}=x.useContext(Nr),I=typeof p=="string"&&Ox.test(p),R,D=!1;if(typeof p=="string"&&I&&(R=p,Mx))try{let k=new URL(window.location.href),M=p.startsWith("//")?new URL(k.protocol+p):new URL(p),L=Ps(M.pathname,b);M.origin===k.origin&&L!=null?p=L+M.search+M.hash:D=!0}catch{Tr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=S1(p,{relative:i}),[V,z,W]=ok(r,E),Y=pk(p,{replace:l,state:u,target:h,preventScrollReset:y,relative:i,viewTransition:v});function N(k){e&&e(k),k.defaultPrevented||Y(k)}let A=x.createElement("a",{...E,...W,href:R||U,onClick:D||a?e:N,ref:uk(T,z),target:h,"data-discover":!I&&t==="render"?"true":void 0});return V&&!I?x.createElement(x.Fragment,null,A,x.createElement(ak,{page:U})):A});bs.displayName="Link";var Lx=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:h,...p},y){let v=Yc(l,{relative:p.relative}),E=Vs(),T=x.useContext(Hh),{navigator:b,basename:I}=x.useContext(Nr),R=T!=null&&wk(v)&&u===!0,D=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,U=E.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(U=U.toLowerCase(),V=V?V.toLowerCase():null,D=D.toLowerCase()),V&&I&&(V=Ps(V,I)||V);const z=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let W=U===D||!i&&U.startsWith(D)&&U.charAt(z)==="/",Y=V!=null&&(V===D||!i&&V.startsWith(D)&&V.charAt(D.length)==="/"),N={isActive:W,isPending:Y,isTransitioning:R},A=W?e:void 0,k;typeof r=="function"?k=r(N):k=[r,W?"active":null,Y?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(N):a;return x.createElement(bs,{...p,"aria-current":A,className:k,ref:y,style:M,to:l,viewTransition:u},typeof h=="function"?h(N):h)});Lx.displayName="NavLink";var hk=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Gd,action:u,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:v,...E},T)=>{let b=yk(),I=vk(u,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&Ox.test(u),U=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let z=V.nativeEvent.submitter,W=(z==null?void 0:z.getAttribute("formmethod"))||l;b(z||V.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:i,state:a,relative:p,preventScrollReset:y,viewTransition:v})};return x.createElement("form",{ref:T,method:R,action:I,onSubmit:r?h:U,...E,"data-discover":!D&&n==="render"?"true":void 0})});hk.displayName="Form";function fk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jx(n){let e=x.useContext(il);return ft(e,fk(n)),e}function pk(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=ko(),h=Vs(),p=Yc(n,{relative:a});return x.useCallback(y=>{if(q1(y,e)){y.preventDefault();let v=t!==void 0?t:Oc(h)===Oc(p);u(n,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,u,p,t,r,e,n,i,a,l])}var mk=0,gk=()=>`__${String(++mk)}__`;function yk(){let{router:n}=jx("useSubmit"),{basename:e}=x.useContext(Nr),t=L1();return x.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:h,body:p}=Q1(r,e);if(i.navigate===!1){let y=i.fetcherKey||gk();await n.fetch(y,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function vk(n,{relative:e}={}){let{basename:t}=x.useContext(Nr),r=x.useContext(Dr);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Yc(n||".",{relative:e})},l=Vs();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(y=>y==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let y=u.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Cs([t,a.pathname])),Oc(a)}function wk(n,e={}){let t=x.useContext(bx);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jx("useViewTransitionState"),i=Yc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ps(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ps(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ch(i.pathname,l)!=null||ch(i.pathname,a)!=null}new TextEncoder;[...rk];var Xc=xx();const _k=_x(Xc),Qd={userPreferences:{theme:"light",measeurementSystem:"metric",notificationsEnabled:!0},ui:{sidebarOpen:!1,activeDashboardTab:"home"},dashboardData:{needsRefresh:!1,lastUpdated:null}},Ek={isAuthenticated:!1,isLoading:!0,user:null,error:null,login:async()=>{throw new Error("login not implemented")},loginWithGoogle:async()=>{throw new Error("loginWithGoogle not implemented")},signup:async()=>{throw new Error("signup not implemented")},logout:async()=>{throw new Error("logout not implemented")},editUser:async()=>{throw new Error("editUser not implemented")},deleteUser:async()=>{throw new Error("deleteUser not implemented")}},Vx=x.createContext(Ek),xk=()=>{};var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Sk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,y=a>>2,v=(a&3)<<4|u>>4;let E=(u&15)<<2|p>>6,T=p&63;h||(T=64,l||(E=64)),r.push(t[y],t[v],t[E],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Fx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Sk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||p==null||v==null)throw new Tk;const E=a<<2|u>>4;if(r.push(E),p!==64){const T=u<<4&240|p>>2;if(r.push(T),v!==64){const b=p<<6&192|v;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Tk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ik=function(n){const e=Fx(n);return Ux.encodeByteArray(e,!0)},uh=function(n){return Ik(n).replace(/\./g,"")},zx=function(n){try{return Ux.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=()=>Ck().__FIREBASE_DEFAULTS__,Ak=()=>{if(typeof process>"u"||typeof J_>"u")return;const n=J_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Rk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zx(n[1]);return e&&JSON.parse(e)},Gh=()=>{try{return xk()||bk()||Ak()||Rk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$x=n=>{var e,t;return(t=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kk=n=>{const e=$x(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Bx=()=>{var n;return(n=Gh())===null||n===void 0?void 0:n.config},Wx=n=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uh(JSON.stringify(t)),uh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Mk(){var n;const e=(n=Gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ok(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Lk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jk(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Vk(){return!Mk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qx(){try{return typeof indexedDB=="object"}catch{return!1}}function Gx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Fk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="FirebaseError";class Mr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Uk,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?zk(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Mr(i,u,r)}}function zk(n,e){return n.replace($k,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $k=/\{\$([^}]+)}/g;function Bk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ti(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(Z_(a)&&Z_(l)){if(!Ti(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Z_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function vc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Wk(n,e){const t=new Hk(n,e);return t.subscribe.bind(t)}class Hk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");qk(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ym),i.error===void 0&&(i.error=ym),i.complete===void 0&&(i.complete=ym);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,Kk=2,Qk=4*60*60*1e3,Yk=.5;function e0(n,e=Gk,t=Kk){const r=e*Math.pow(t,n),i=Math.round(Yk*r*(Math.random()-.5)*2);return Math.min(Qk,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n){return n&&n._delegate?n._delegate:n}class Ir{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Pk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zk(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jk(n){return n===yo?void 0:n}function Zk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const tP={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},nP=He.INFO,rP={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},sP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=rP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kh{constructor(e){this.name=e,this._logLevel=nP,this._logHandler=sP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const iP=(n,e)=>e.some(t=>n instanceof t);let t0,n0;function oP(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aP(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kx=new WeakMap,Qm=new WeakMap,Qx=new WeakMap,vm=new WeakMap,Kg=new WeakMap;function lP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(_i(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Kx.set(t,n)}).catch(()=>{}),Kg.set(e,n),e}function cP(n){if(Qm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Qm.set(n,e)}let Ym={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Qx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uP(n){Ym=n(Ym)}function dP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(wm(this),e,...t);return Qx.set(r,e.sort?e.sort():[e]),_i(r)}:aP().includes(n)?function(...e){return n.apply(wm(this),e),_i(Kx.get(this))}:function(...e){return _i(n.apply(wm(this),e))}}function hP(n){return typeof n=="function"?dP(n):(n instanceof IDBTransaction&&cP(n),iP(n,oP())?new Proxy(n,Ym):n)}function _i(n){if(n instanceof IDBRequest)return lP(n);if(vm.has(n))return vm.get(n);const e=hP(n);return e!==n&&(vm.set(n,e),Kg.set(e,n)),e}const wm=n=>Kg.get(n);function Yx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=_i(l);return r&&l.addEventListener("upgradeneeded",h=>{r(_i(l.result),h.oldVersion,h.newVersion,_i(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const fP=["get","getKey","getAll","getAllKeys","count"],pP=["put","add","delete","clear"],_m=new Map;function r0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=pP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fP.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&h.done]))[0]};return _m.set(e,a),a}uP(n=>({...n,get:(e,t,r)=>r0(e,t)||n.get(e,t,r),has:(e,t)=>!!r0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function gP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xm="@firebase/app",s0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Kh("@firebase/app"),yP="@firebase/app-compat",vP="@firebase/analytics-compat",wP="@firebase/analytics",_P="@firebase/app-check-compat",EP="@firebase/app-check",xP="@firebase/auth",SP="@firebase/auth-compat",TP="@firebase/database",IP="@firebase/data-connect",CP="@firebase/database-compat",bP="@firebase/functions",AP="@firebase/functions-compat",RP="@firebase/installations",kP="@firebase/installations-compat",PP="@firebase/messaging",NP="@firebase/messaging-compat",DP="@firebase/performance",MP="@firebase/performance-compat",OP="@firebase/remote-config",LP="@firebase/remote-config-compat",jP="@firebase/storage",VP="@firebase/storage-compat",FP="@firebase/firestore",UP="@firebase/vertexai",zP="@firebase/firestore-compat",$P="firebase",BP="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",WP={[Xm]:"fire-core",[yP]:"fire-core-compat",[wP]:"fire-analytics",[vP]:"fire-analytics-compat",[EP]:"fire-app-check",[_P]:"fire-app-check-compat",[xP]:"fire-auth",[SP]:"fire-auth-compat",[TP]:"fire-rtdb",[IP]:"fire-data-connect",[CP]:"fire-rtdb-compat",[bP]:"fire-fn",[AP]:"fire-fn-compat",[RP]:"fire-iid",[kP]:"fire-iid-compat",[PP]:"fire-fcm",[NP]:"fire-fcm-compat",[DP]:"fire-perf",[MP]:"fire-perf-compat",[OP]:"fire-rc",[LP]:"fire-rc-compat",[jP]:"fire-gcs",[VP]:"fire-gcs-compat",[FP]:"fire-fst",[zP]:"fire-fst-compat",[UP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,HP=new Map,Zm=new Map;function i0(n,e){try{n.container.addComponent(e)}catch(t){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zr(n){const e=n.name;if(Zm.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,n);for(const t of dh.values())i0(t,n);for(const t of HP.values())i0(t,n);return!0}function No(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Po("app","Firebase",qP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=BP;function Xx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(t||(t=Bx()),!t)throw Ei.create("no-options");const a=dh.get(i);if(a){if(Ti(t,a.options)&&Ti(r,a.config))return a;throw Ei.create("duplicate-app",{appName:i})}const l=new eP(i);for(const h of Zm.values())l.addComponent(h);const u=new GP(t,r,l);return dh.set(i,u),u}function Qg(n=Jm){const e=dh.get(n);if(!e&&n===Jm&&Bx())return Xx();if(!e)throw Ei.create("no-app",{appName:n});return e}function Jn(n,e,t){var r;let i=(r=WP[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(u.join(" "));return}Zr(new Ir(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-heartbeat-database",QP=1,Lc="firebase-heartbeat-store";let Em=null;function Jx(){return Em||(Em=Yx(KP,QP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ei.create("idb-open",{originalErrorMessage:n.message})})),Em}async function YP(n){try{const t=(await Jx()).transaction(Lc),r=await t.objectStore(Lc).get(Zx(n));return await t.done,r}catch(e){if(e instanceof Mr)Ns.warn(e.message);else{const t=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(t.message)}}}async function o0(n,e){try{const r=(await Jx()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,Zx(n)),await r.done}catch(t){if(t instanceof Mr)Ns.warn(t.message);else{const r=Ei.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ns.warn(r.message)}}}function Zx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=1024,JP=30;class ZP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>JP){const l=nN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a0(),{heartbeatsToSend:r,unsentEntries:i}=eN(this._heartbeatsCache.heartbeats),a=uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ns.warn(t),""}}}function a0(){return new Date().toISOString().substring(0,10)}function eN(n,e=XP){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),l0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),l0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class tN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qx()?Gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return o0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return o0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function l0(n){return uh(JSON.stringify({version:2,heartbeats:n})).length}function nN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){Zr(new Ir("platform-logger",e=>new mP(e),"PRIVATE")),Zr(new Ir("heartbeat",e=>new ZP(e),"PRIVATE")),Jn(Xm,s0,n),Jn(Xm,s0,"esm2017"),Jn("fire-js","")}rN("");var Kr=function(){return Kr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Kr.apply(this,arguments)};function Zc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function sN(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iN=eS,tS=new Po("auth","Firebase",eS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Kh("@firebase/auth");function oN(n,...e){hh.logLevel<=He.WARN&&hh.warn(`Auth (${al}): ${n}`,...e)}function Yd(n,...e){hh.logLevel<=He.ERROR&&hh.error(`Auth (${al}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw Xg(n,...e)}function Sr(n,...e){return Xg(n,...e)}function Yg(n,e,t){const r=Object.assign(Object.assign({},iN()),{[e]:t});return new Po("auth","Firebase",r).create(e,{appName:n.name})}function As(n){return Yg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&tr(n,"argument-error"),Yg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return tS.create(n,...e)}function Me(n,e,...t){if(!n)throw Xg(e,...t)}function Ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yd(e),new Error(e)}function Ds(n,e){n||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function lN(){return c0()==="http:"||c0()==="https:"}function c0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lN()||Hx()||"connection"in navigator)?navigator.onLine:!0}function uN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ds(t>e,"Short delay should be less than long delay!"),this.isMobile=Dk()||Lk()}get(){return cN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(n,e){Ds(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fN=new eu(3e4,6e4);function Di(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fs(n,e,t,r,i={}){return rS(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Jc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return Ok()||(p.referrerPolicy="no-referrer"),nS.fetch()(await sS(n,n.config.apiHost,t,u),p)})}async function rS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},dN),e);try{const i=new mN(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Rd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Rd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Rd(n,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Yg(n,y,p);tr(n,y)}}catch(i){if(i instanceof Mr)throw i;tr(n,"network-request-failed",{message:String(i)})}}async function tu(n,e,t,r,i={}){const a=await Fs(n,e,t,r,i);return"mfaPendingCredential"in a&&tr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function sS(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?Jg(n.config,i):`${n.config.apiScheme}://${i}`;return hN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function pN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),fN.get())})}}function Rd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Sr(n,e,r);return i.customData._tokenResponse=t,i}function u0(n){return n!==void 0&&n.enterprise!==void 0}class gN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yN(n,e){return Fs(n,"GET","/v2/recaptchaConfig",Di(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,e){return Fs(n,"POST","/v1/accounts:delete",e)}async function fh(n,e){return Fs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(n,e=!1){const t=wt(n),r=await t.getIdToken(e),i=Qh(r);Me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ic(xm(i.auth_time)),issuedAtTime:Ic(xm(i.iat)),expirationTime:Ic(xm(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xm(n){return Number(n)*1e3}function Qh(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=zx(t);return i?JSON.parse(i):(Yd("Failed to decode base64 JWT payload"),null)}catch(i){return Yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function d0(n){const e=Qh(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Mr&&_N(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function _N({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){var e;const t=n.auth,r=await n.getIdToken(),i=await qa(n,fh(t,{idToken:r}));Me(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?iS(a.providerUserInfo):[],u=SN(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),y=h?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new tg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function xN(n){const e=wt(n);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iS(n){return n.map(e=>{var{providerId:t}=e,r=Zc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e){const t=await rS(n,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await sS(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",nS.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IN(n,e){return Fs(n,"POST","/v2/accounts:revokeToken",Di(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=d0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await TN(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Fa;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Me(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Zc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new tg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await qa(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wN(this,e)}reload(){return xN(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await qa(this,vN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,u,h,p,y;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,T=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(u=t.tenantId)!==null&&u!==void 0?u:void 0,R=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:V,emailVerified:z,isAnonymous:W,providerData:Y,stsTokenManager:N}=t;Me(V&&N,e,"internal-error");const A=Fa.fromJSON(this.name,N);Me(typeof V=="string",e,"internal-error"),di(v,e.name),di(E,e.name),Me(typeof z=="boolean",e,"internal-error"),Me(typeof W=="boolean",e,"internal-error"),di(T,e.name),di(b,e.name),di(I,e.name),di(R,e.name),di(D,e.name),di(U,e.name);const k=new xr({uid:V,auth:e,email:E,emailVerified:z,displayName:v,isAnonymous:W,photoURL:b,phoneNumber:T,tenantId:I,stsTokenManager:A,createdAt:D,lastLoginAt:U});return Y&&Array.isArray(Y)&&(k.providerData=Y.map(M=>Object.assign({},M))),R&&(k._redirectEventId=R),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Fa;i.updateFromServerResponse(t);const a=new xr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ph(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?iS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Fa;u.updateFromIdToken(r);const h=new xr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function Is(n){Ds(n instanceof Function,"Expected a class definition");let e=h0.get(n);return e?(Ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oS.type="NONE";const f0=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ua{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Xd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Xd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fh(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ua(Is(f0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Is(f0);const l=Xd(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const y=await p._get(l);if(y){let v;if(typeof y=="string"){const E=await fh(e,{idToken:y}).catch(()=>{});if(!E)break;v=await xr._fromGetAccountInfoResponse(e,E,y)}else v=xr._fromJSON(e,y);p!==a&&(u=v),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ua(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ua(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hS(e))return"Blackberry";if(fS(e))return"Webos";if(lS(e))return"Safari";if((e.includes("chrome/")||cS(e))&&!e.includes("edge/"))return"Chrome";if(dS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aS(n=on()){return/firefox\//i.test(n)}function lS(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cS(n=on()){return/crios\//i.test(n)}function uS(n=on()){return/iemobile/i.test(n)}function dS(n=on()){return/android/i.test(n)}function hS(n=on()){return/blackberry/i.test(n)}function fS(n=on()){return/webos/i.test(n)}function Zg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CN(n=on()){var e;return Zg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bN(){return jk()&&document.documentMode===10}function pS(n=on()){return Zg(n)||dS(n)||fS(n)||hS(n)||/windows phone/i.test(n)||uS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n,e=[]){let t;switch(n){case"Browser":t=p0(on());break;case"Worker":t=`${p0(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(n,e={}){return Fs(n,"GET","/v2/passwordPolicy",Di(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=6;class PN{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:kN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new AN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Is(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fh(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(As(this));const t=e?wt(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RN(this),t=new PN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await IN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Is(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[Is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&oN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mi(n){return wt(n)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wk(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DN(n){Yh=n}function gS(n){return Yh.loadJS(n)}function MN(){return Yh.recaptchaEnterpriseScript}function ON(){return Yh.gapiScript}function LN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jN{constructor(){this.enterprise=new VN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const FN="recaptcha-enterprise",yS="NO_RECAPTCHA";class UN{constructor(e){this.type=FN,this.auth=Mi(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{yN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new gN(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;u0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(yS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&u0(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=MN();h.length!==0&&(h+=u),gS(h).then(()=>{i(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function g0(n,e,t,r=!1,i=!1){const a=new UN(n);let l;if(i)l=yS;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ng(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await g0(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await g0(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n,e){const t=No(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Ti(a,e??{}))return i;tr(i,"already-initialized")}return t.initialize({options:e})}function $N(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Is);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BN(n,e,t){const r=Mi(n);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=vS(e),{host:l,port:u}=WN(e),h=u===null?"":`:${u}`,p={url:`${a}//${l}${h}/`},y=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Ti(p,r.config.emulator)&&Ti(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,HN()}function vS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function WN(n){const e=vS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:y0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:y0(l)}}}function y0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function HN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,t){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function qN(n,e){return Fs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e){return tu(n,"POST","/v1/accounts:signInWithPassword",Di(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Di(n,e))}async function QN(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Di(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends ey{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new jc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new jc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,t,"signInWithPassword",GN);case"emailLink":return KN(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,r,"signUpPassword",qN);case"emailLink":return QN(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(n,e){return tu(n,"POST","/v1/accounts:signInWithIdp",Di(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="http://localhost";class Eo extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Zc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Eo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return za(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,za(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,za(e,t)}buildRequest(){const e={requestUri:YN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JN(n){const e=yc(vc(n)).link,t=e?yc(vc(e)).deep_link_id:null,r=yc(vc(n)).deep_link_id;return(r?yc(vc(r)).link:null)||r||t||e||n}class ty{constructor(e){var t,r,i,a,l,u;const h=yc(vc(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,v=XN((i=h.mode)!==null&&i!==void 0?i:null);Me(p&&y&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=JN(e);try{return new ty(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,t){return jc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ty.parseLink(t);return Me(r,"argument-error"),jc._fromEmailAndCode(e,r.code,r.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends ny{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends nu{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Eo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ss.credential(t,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends nu{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends nu{constructor(){super("twitter.com")}static credential(e,t){return Eo._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return vi.credential(t,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e){return tu(n,"POST","/v1/accounts:signUp",Di(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await xr._fromIdTokenResponse(e,r,i),l=v0(r);return new xo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=v0(r);return new xo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function v0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Mr{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new mh(e,t,r,i)}}function wS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,a,e,r):a})}async function e2(n,e,t=!1){const r=await qa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(n,e,t=!1){const{auth:r}=n;if(Mn(r.app))return Promise.reject(As(r));const i="reauthenticate";try{const a=await qa(n,wS(r,i,e,n),t);Me(a.idToken,r,"internal-error");const l=Qh(a.idToken);Me(l,r,"internal-error");const{sub:u}=l;return Me(n.uid===u,r,"user-mismatch"),xo._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(n,e,t=!1){if(Mn(n.app))return Promise.reject(As(n));const r="signIn",i=await wS(n,r,e),a=await xo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function n2(n,e){return _S(Mi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(n){const e=Mi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r2(n,e,t){if(Mn(n.app))return Promise.reject(As(n));const r=Mi(n),l=await ng(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ES(n),h}),u=await xo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function s2(n,e,t){return Mn(n.app)?Promise.reject(As(n)):n2(wt(n),ll.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ES(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(n,e){return Fs(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ry(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=wt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await qa(r,i2(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Qh(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new $a(a,u)}}if(!r)return null;switch(r){case"facebook.com":return new a2(a,i);case"github.com":return new l2(a,i);case"google.com":return new c2(a,i);case"twitter.com":return new u2(a,i,n.screenName||null);case"custom":case"anonymous":return new $a(a,null);default:return new $a(a,r,i)}}class $a{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class xS extends $a{constructor(e,t,r,i){super(e,t,r),this.username=i}}class a2 extends $a{constructor(e,t){super(e,"facebook.com",t)}}class l2 extends xS{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class c2 extends $a{constructor(e,t){super(e,"google.com",t)}}class u2 extends xS{constructor(e,t,r){super(e,"twitter.com",t,r)}}function d2(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:o2(t)}function h2(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function f2(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function p2(n,e,t,r){return wt(n).onAuthStateChanged(e,t,r)}function m2(n){return wt(n).signOut()}async function g2(n){return wt(n).delete()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=1e3,v2=10;class TS extends SS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);bN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,v2):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}TS.type="LOCAL";const w2=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends SS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IS.type="SESSION";const CS=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,a)),h=await _2(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=sy("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(E.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function x2(n){Qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function S2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function I2(){return bS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firebaseLocalStorageDb",C2=1,yh="firebaseLocalStorage",RS="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(n,e){return n.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function b2(){const n=indexedDB.deleteDatabase(AS);return new ru(n).toPromise()}function rg(){const n=indexedDB.open(AS,C2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yh,{keyPath:RS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await b2(),e(await rg()))})})}async function w0(n,e,t){const r=Jh(n,!0).put({[RS]:e,value:t});return new ru(r).toPromise()}async function A2(n,e){const t=Jh(n,!1).get(e),r=await new ru(t).toPromise();return r===void 0?null:r.value}function _0(n,e){const t=Jh(n,!0).delete(e);return new ru(t).toPromise()}const R2=800,k2=3;class kS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>k2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(I2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await S2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await w0(e,gh,"1"),await _0(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>w0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>A2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Jh(i,!1).getAll();return new ru(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kS.type="LOCAL";const P2=kS;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n,e){return e?Is(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return za(e,this._buildIdpRequest())}_linkToIdToken(e,t){return za(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return za(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function N2(n){return _S(n.auth,new iy(n),n.bypassAuthState)}function D2(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),t2(t,new iy(n),n.bypassAuthState)}async function M2(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),e2(t,new iy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return M2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:tr(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new eu(2e3,1e4);async function L2(n,e,t){if(Mn(n.app))return Promise.reject(Sr(n,"operation-not-supported-in-this-environment"));const r=Mi(n);aN(n,e,ny);const i=PS(r,t);return new vo(r,"signInViaPopup",e,i).executeNotNull()}class vo extends NS{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O2.get())};e()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="pendingRedirect",Jd=new Map;class V2 extends NS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await F2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F2(n,e){const t=$2(e),r=z2(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function U2(n,e){Jd.set(n._key(),e)}function z2(n){return Is(n._redirectPersistence)}function $2(n){return Xd(j2,n.config.apiKey,n.name)}async function B2(n,e,t=!1){if(Mn(n.app))return Promise.reject(As(n));const r=Mi(n),i=PS(r,e),l=await new V2(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=10*60*1e3;class H2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!DS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W2&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}}function E0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,e={}){return Fs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;async function Y2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await G2(n);for(const t of e)try{if(X2(t))return}catch{}tr(n,"unauthorized-domain")}function X2(n){const e=eg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!Q2.test(t))return!1;if(K2.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new eu(3e4,6e4);function x0(){const n=Qr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Z2(n){return new Promise((e,t)=>{var r,i,a;function l(){x0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x0(),t(Sr(n,"network-request-failed"))},timeout:J2.get()})}if(!((i=(r=Qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Qr().gapi)===null||a===void 0)&&a.load)l();else{const u=LN("iframefcb");return Qr()[u]=()=>{gapi.load?l():t(Sr(n,"network-request-failed"))},gS(`${ON()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function eD(n){return Zd=Zd||Z2(n),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new eu(5e3,15e3),nD="__/auth/iframe",rD="emulator/auth/iframe",sD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Jg(e,rD):`https://${n.config.authDomain}/${nD}`,r={apiKey:e.apiKey,appName:n.name,v:al},i=iD.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Jc(r).slice(1)}`}async function aD(n){const e=await eD(n),t=Qr().gapi;return Me(t,n,"internal-error"),e.open({where:document.body,url:oD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sD,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Sr(n,"network-request-failed"),u=Qr().setTimeout(()=>{a(l)},tD.get());function h(){Qr().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cD=500,uD=600,dD="_blank",hD="http://localhost";class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fD(n,e,t,r=cD,i=uD){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},lD),{width:r.toString(),height:i.toString(),top:a,left:l}),p=on().toLowerCase();t&&(u=cS(p)?dD:t),aS(p)&&(e=e||hD,h.scrollbars="yes");const y=Object.entries(h).reduce((E,[T,b])=>`${E}${T}=${b},`,"");if(CN(p)&&u!=="_self")return pD(e||"",u),new S0(null);const v=window.open(e||"",u,y);Me(v,n,"popup-blocked");try{v.focus()}catch{}return new S0(v)}function pD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="__/auth/handler",gD="emulator/auth/handler",yD=encodeURIComponent("fac");async function T0(n,e,t,r,i,a){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:al,eventId:i};if(e instanceof ny){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Bk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))l[y]=v}if(e instanceof nu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const h=await n._getAppCheckToken(),p=h?`#${yD}=${encodeURIComponent(h)}`:"";return`${vD(n)}?${Jc(u).slice(1)}${p}`}function vD({config:n}){return n.emulator?Jg(n,gD):`https://${n.authDomain}/${mD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class wD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=B2,this._overrideRedirectResult=U2}async _openPopup(e,t,r,i){var a;Ds((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await T0(e,t,r,eg(),i);return fD(e,l,sy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await T0(e,t,r,eg(),i);return x2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await aD(e),r=new H2(e);return t.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sm,{type:Sm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Sm];l!==void 0&&t(!!l),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Y2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pS()||lS()||Zg()}}const _D=wD;var I0="@firebase/auth",C0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SD(n){Zr(new Ir("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mS(n)},p=new NN(r,i,a,h);return $N(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zr(new Ir("auth-internal",e=>{const t=Mi(e.getProvider("auth").getImmediate());return(r=>new ED(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(I0,C0,xD(n)),Jn(I0,C0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=5*60,ID=Wx("authIdTokenMaxAge")||TD;let b0=null;const CD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ID)return;const i=t==null?void 0:t.token;b0!==i&&(b0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bD(n=Qg()){const e=No(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zN(n,{popupRedirectResolver:_D,persistence:[P2,w2,CS]}),r=Wx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=CD(a.toString());f2(t,l,()=>l(t.currentUser)),h2(t,u=>l(u))}}const i=$x("auth");return i&&BN(t,`http://${i}`),t}function AD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}DN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Sr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",AD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SD("Browser");const MS="@firebase/installations",oy="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1e4,LS=`w:${oy}`,jS="FIS_v2",RD="https://firebaseinstallations.googleapis.com/v1",kD=60*60*1e3,PD="installations",ND="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},So=new Po(PD,ND,DD);function VS(n){return n instanceof Mr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS({projectId:n}){return`${RD}/projects/${n}/installations`}function US(n){return{token:n.token,requestStatus:2,expiresIn:OD(n.expiresIn),creationTime:Date.now()}}async function zS(n,e){const r=(await e.json()).error;return So.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $S({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function MD(n,{refreshToken:e}){const t=$S(n);return t.append("Authorization",LD(e)),t}async function BS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function OD(n){return Number(n.replace("s","000"))}function LD(n){return`${jS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=FS(n),i=$S(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:t,authVersion:jS,appId:n.appId,sdkVersion:LS},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await BS(()=>fetch(r,u));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:US(p.authToken)}}else throw await zS("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/^[cdef][\w-]{21}$/,sg="";function UD(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=zD(n);return FD.test(t)?t:sg}catch{return sg}}function zD(n){return VD(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Map;function qS(n,e){const t=Zh(n);GS(t,e),$D(t,e)}function GS(n,e){const t=HS.get(n);if(t)for(const r of t)r(e)}function $D(n,e){const t=BD();t&&t.postMessage({key:n,fid:e}),WD()}let wo=null;function BD(){return!wo&&"BroadcastChannel"in self&&(wo=new BroadcastChannel("[Firebase] FID Change"),wo.onmessage=n=>{GS(n.data.key,n.data.fid)}),wo}function WD(){HS.size===0&&wo&&(wo.close(),wo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebase-installations-database",qD=1,To="firebase-installations-store";let Tm=null;function ay(){return Tm||(Tm=Yx(HD,qD,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(To)}}})),Tm}async function vh(n,e){const t=Zh(n),i=(await ay()).transaction(To,"readwrite"),a=i.objectStore(To),l=await a.get(t);return await a.put(e,t),await i.done,(!l||l.fid!==e.fid)&&qS(n,e.fid),e}async function KS(n){const e=Zh(n),r=(await ay()).transaction(To,"readwrite");await r.objectStore(To).delete(e),await r.done}async function ef(n,e){const t=Zh(n),i=(await ay()).transaction(To,"readwrite"),a=i.objectStore(To),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await i.done,u&&(!l||l.fid!==u.fid)&&qS(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ly(n){let e;const t=await ef(n.appConfig,r=>{const i=GD(r),a=KD(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===sg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function GD(n){const e=n||{fid:UD(),registrationStatus:0};return QS(e)}function KD(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(So.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=QD(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YD(n)}:{installationEntry:e}}async function QD(n,e){try{const t=await jD(n,e);return vh(n.appConfig,t)}catch(t){throw VS(t)&&t.customData.serverCode===409?await KS(n.appConfig):await vh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function YD(n){let e=await A0(n.appConfig);for(;e.registrationStatus===1;)await WS(100),e=await A0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await ly(n);return r||t}return e}function A0(n){return ef(n,e=>{if(!e)throw So.create("installation-not-found");return QS(e)})}function QS(n){return XD(n)?{fid:n.fid,registrationStatus:0}:n}function XD(n){return n.registrationStatus===1&&n.registrationTime+OS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD({appConfig:n,heartbeatServiceProvider:e},t){const r=ZD(n,t),i=MD(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:LS,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await BS(()=>fetch(r,u));if(h.ok){const p=await h.json();return US(p)}else throw await zS("Generate Auth Token",h)}function ZD(n,{fid:e}){return`${FS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cy(n,e=!1){let t;const r=await ef(n.appConfig,a=>{if(!YS(a))throw So.create("not-registered");const l=a.authToken;if(!e&&nM(l))return a;if(l.requestStatus===1)return t=eM(n,e),a;{if(!navigator.onLine)throw So.create("app-offline");const u=sM(a);return t=tM(n,u),u}});return t?await t:r.authToken}async function eM(n,e){let t=await R0(n.appConfig);for(;t.authToken.requestStatus===1;)await WS(100),t=await R0(n.appConfig);const r=t.authToken;return r.requestStatus===0?cy(n,e):r}function R0(n){return ef(n,e=>{if(!YS(e))throw So.create("not-registered");const t=e.authToken;return iM(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tM(n,e){try{const t=await JD(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await vh(n.appConfig,r),t}catch(t){if(VS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await KS(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vh(n.appConfig,r)}throw t}}function YS(n){return n!==void 0&&n.registrationStatus===2}function nM(n){return n.requestStatus===2&&!rM(n)}function rM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+kD}function sM(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function iM(n){return n.requestStatus===1&&n.requestTime+OS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(n){const e=n,{installationEntry:t,registrationPromise:r}=await ly(e);return r?r.catch(console.error):cy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(n,e=!1){const t=n;return await lM(t),(await cy(t,e)).token}async function lM(n){const{registrationPromise:e}=await ly(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(n){if(!n||!n.options)throw Im("App Configuration");if(!n.name)throw Im("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Im(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Im(n){return So.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="installations",uM="installations-internal",dM=n=>{const e=n.getProvider("app").getImmediate(),t=cM(e),r=No(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hM=n=>{const e=n.getProvider("app").getImmediate(),t=No(e,XS).getImmediate();return{getId:()=>oM(t),getToken:i=>aM(t,i)}};function fM(){Zr(new Ir(XS,dM,"PUBLIC")),Zr(new Ir(uM,hM,"PRIVATE"))}fM();Jn(MS,oy);Jn(MS,oy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="analytics",pM="firebase_id",mM="origin",gM=60*1e3,yM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Kh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new Po("analytics","Analytics",vM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(n){if(!n.startsWith(uy)){const e=jn.create("invalid-gtag-resource",{gtagURL:n});return Sn.warn(e.message),""}return n}function JS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function _M(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function EM(n,e){const t=_M("firebase-js-sdk-policy",{createScriptURL:wM}),r=document.createElement("script"),i=`${uy}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function xM(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function SM(n,e,t,r,i,a){const l=r[i];try{if(l)await e[l];else{const h=(await JS(t)).find(p=>p.measurementId===i);h&&await e[h.appId]}}catch(u){Sn.error(u)}n("config",i,a)}async function TM(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await JS(t);for(const h of l){const p=u.find(v=>v.measurementId===h),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){Sn.error(a)}}function IM(n,e,t,r){async function i(a,...l){try{if(a==="event"){const[u,h]=l;await TM(n,e,t,u,h)}else if(a==="config"){const[u,h]=l;await SM(n,e,t,r,u,h)}else if(a==="consent"){const[u,h]=l;n("consent",u,h)}else if(a==="get"){const[u,h,p]=l;n("get",u,h,p)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){Sn.error(u)}}return i}function CM(n,e,t,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=IM(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function bM(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(uy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=30,RM=1e3;class kM{constructor(e={},t=RM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZS=new kM;function PM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function NM(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:PM(r)},a=yM.replace("{app-id}",t),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function DM(n,e=ZS,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw jn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw jn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new LM;return setTimeout(async()=>{u.abort()},gM),eT({appId:r,apiKey:i,measurementId:a},l,u,e)}async function eT(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=ZS){var a;const{appId:l,measurementId:u}=n;try{await MM(r,e)}catch(h){if(u)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await NM(n);return i.deleteThrottleMetadata(l),h}catch(h){const p=h;if(!OM(p)){if(i.deleteThrottleMetadata(l),u)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:u};throw h}const y=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?e0(t,i.intervalMillis,AM):e0(t,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(l,v),Sn.debug(`Calling attemptFetch again in ${y} millis`),eT(n,v,r,i)}}function MM(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OM(n){if(!(n instanceof Mr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class LM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jM(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(){if(qx())try{await Gx()}catch(n){return Sn.warn(jn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Sn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FM(n,e,t,r,i,a,l){var u;const h=DM(n);h.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Sn.error(T)),e.push(h);const p=VM().then(T=>{if(T)return r.getId()}),[y,v]=await Promise.all([h,p]);bM(a)||EM(a,y.measurementId),i("js",new Date);const E=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return E[mM]="firebase",E.update=!0,v!=null&&(E[pM]=v),i("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.app=e}_delete(){return delete Cc[this.app.options.appId],Promise.resolve()}}let Cc={},k0=[];const P0={};let Cm="dataLayer",zM="gtag",N0,tT,D0=!1;function $M(){const n=[];if(Hx()&&n.push("This is a browser extension environment."),Fk()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=jn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(t.message)}}function BM(n,e,t){$M();const r=n.options.appId;if(!r)throw jn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(Cc[r]!=null)throw jn.create("already-exists",{id:r});if(!D0){xM(Cm);const{wrappedGtag:a,gtagCore:l}=CM(Cc,k0,P0,Cm,zM);tT=a,N0=l,D0=!0}return Cc[r]=FM(n,k0,P0,e,N0,Cm,t),new UM(n)}function WM(n=Qg()){n=wt(n);const e=No(n,wh);return e.isInitialized()?e.getImmediate():HM(n)}function HM(n,e={}){const t=No(n,wh);if(t.isInitialized()){const i=t.getImmediate();if(Ti(e,t.getOptions()))return i;throw jn.create("already-initialized")}return t.initialize({options:e})}function qM(n,e,t,r){n=wt(n),jM(tT,Cc[n.app.options.appId],e,t,r).catch(i=>Sn.error(i))}const M0="@firebase/analytics",O0="0.10.12";function GM(){Zr(new Ir(wh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return BM(r,i,t)},"PUBLIC")),Zr(new Ir("analytics-internal",n,"PRIVATE")),Jn(M0,O0),Jn(M0,O0,"esm2017");function n(e){try{const t=e.getProvider(wh).getImmediate();return{logEvent:(r,i,a)=>qM(t,r,i,a)}}catch(t){throw jn.create("interop-component-reg-failed",{reason:t})}}}GM();var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,nT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function k(){}k.prototype=A.prototype,N.D=A.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(M,L,F){for(var O=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)O[Se-2]=arguments[Se];return A.prototype[L].apply(M,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,A,k){k||(k=0);var M=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)M[L]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(L=0;16>L;++L)M[L]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=N.g[0],k=N.g[1],L=N.g[2];var F=N.g[3],O=A+(F^k&(L^F))+M[0]+3614090360&4294967295;A=k+(O<<7&4294967295|O>>>25),O=F+(L^A&(k^L))+M[1]+3905402710&4294967295,F=A+(O<<12&4294967295|O>>>20),O=L+(k^F&(A^k))+M[2]+606105819&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(A^L&(F^A))+M[3]+3250441966&4294967295,k=L+(O<<22&4294967295|O>>>10),O=A+(F^k&(L^F))+M[4]+4118548399&4294967295,A=k+(O<<7&4294967295|O>>>25),O=F+(L^A&(k^L))+M[5]+1200080426&4294967295,F=A+(O<<12&4294967295|O>>>20),O=L+(k^F&(A^k))+M[6]+2821735955&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(A^L&(F^A))+M[7]+4249261313&4294967295,k=L+(O<<22&4294967295|O>>>10),O=A+(F^k&(L^F))+M[8]+1770035416&4294967295,A=k+(O<<7&4294967295|O>>>25),O=F+(L^A&(k^L))+M[9]+2336552879&4294967295,F=A+(O<<12&4294967295|O>>>20),O=L+(k^F&(A^k))+M[10]+4294925233&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(A^L&(F^A))+M[11]+2304563134&4294967295,k=L+(O<<22&4294967295|O>>>10),O=A+(F^k&(L^F))+M[12]+1804603682&4294967295,A=k+(O<<7&4294967295|O>>>25),O=F+(L^A&(k^L))+M[13]+4254626195&4294967295,F=A+(O<<12&4294967295|O>>>20),O=L+(k^F&(A^k))+M[14]+2792965006&4294967295,L=F+(O<<17&4294967295|O>>>15),O=k+(A^L&(F^A))+M[15]+1236535329&4294967295,k=L+(O<<22&4294967295|O>>>10),O=A+(L^F&(k^L))+M[1]+4129170786&4294967295,A=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(A^k))+M[6]+3225465664&4294967295,F=A+(O<<9&4294967295|O>>>23),O=L+(A^k&(F^A))+M[11]+643717713&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^A&(L^F))+M[0]+3921069994&4294967295,k=L+(O<<20&4294967295|O>>>12),O=A+(L^F&(k^L))+M[5]+3593408605&4294967295,A=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(A^k))+M[10]+38016083&4294967295,F=A+(O<<9&4294967295|O>>>23),O=L+(A^k&(F^A))+M[15]+3634488961&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^A&(L^F))+M[4]+3889429448&4294967295,k=L+(O<<20&4294967295|O>>>12),O=A+(L^F&(k^L))+M[9]+568446438&4294967295,A=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(A^k))+M[14]+3275163606&4294967295,F=A+(O<<9&4294967295|O>>>23),O=L+(A^k&(F^A))+M[3]+4107603335&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^A&(L^F))+M[8]+1163531501&4294967295,k=L+(O<<20&4294967295|O>>>12),O=A+(L^F&(k^L))+M[13]+2850285829&4294967295,A=k+(O<<5&4294967295|O>>>27),O=F+(k^L&(A^k))+M[2]+4243563512&4294967295,F=A+(O<<9&4294967295|O>>>23),O=L+(A^k&(F^A))+M[7]+1735328473&4294967295,L=F+(O<<14&4294967295|O>>>18),O=k+(F^A&(L^F))+M[12]+2368359562&4294967295,k=L+(O<<20&4294967295|O>>>12),O=A+(k^L^F)+M[5]+4294588738&4294967295,A=k+(O<<4&4294967295|O>>>28),O=F+(A^k^L)+M[8]+2272392833&4294967295,F=A+(O<<11&4294967295|O>>>21),O=L+(F^A^k)+M[11]+1839030562&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^A)+M[14]+4259657740&4294967295,k=L+(O<<23&4294967295|O>>>9),O=A+(k^L^F)+M[1]+2763975236&4294967295,A=k+(O<<4&4294967295|O>>>28),O=F+(A^k^L)+M[4]+1272893353&4294967295,F=A+(O<<11&4294967295|O>>>21),O=L+(F^A^k)+M[7]+4139469664&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^A)+M[10]+3200236656&4294967295,k=L+(O<<23&4294967295|O>>>9),O=A+(k^L^F)+M[13]+681279174&4294967295,A=k+(O<<4&4294967295|O>>>28),O=F+(A^k^L)+M[0]+3936430074&4294967295,F=A+(O<<11&4294967295|O>>>21),O=L+(F^A^k)+M[3]+3572445317&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^A)+M[6]+76029189&4294967295,k=L+(O<<23&4294967295|O>>>9),O=A+(k^L^F)+M[9]+3654602809&4294967295,A=k+(O<<4&4294967295|O>>>28),O=F+(A^k^L)+M[12]+3873151461&4294967295,F=A+(O<<11&4294967295|O>>>21),O=L+(F^A^k)+M[15]+530742520&4294967295,L=F+(O<<16&4294967295|O>>>16),O=k+(L^F^A)+M[2]+3299628645&4294967295,k=L+(O<<23&4294967295|O>>>9),O=A+(L^(k|~F))+M[0]+4096336452&4294967295,A=k+(O<<6&4294967295|O>>>26),O=F+(k^(A|~L))+M[7]+1126891415&4294967295,F=A+(O<<10&4294967295|O>>>22),O=L+(A^(F|~k))+M[14]+2878612391&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~A))+M[5]+4237533241&4294967295,k=L+(O<<21&4294967295|O>>>11),O=A+(L^(k|~F))+M[12]+1700485571&4294967295,A=k+(O<<6&4294967295|O>>>26),O=F+(k^(A|~L))+M[3]+2399980690&4294967295,F=A+(O<<10&4294967295|O>>>22),O=L+(A^(F|~k))+M[10]+4293915773&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~A))+M[1]+2240044497&4294967295,k=L+(O<<21&4294967295|O>>>11),O=A+(L^(k|~F))+M[8]+1873313359&4294967295,A=k+(O<<6&4294967295|O>>>26),O=F+(k^(A|~L))+M[15]+4264355552&4294967295,F=A+(O<<10&4294967295|O>>>22),O=L+(A^(F|~k))+M[6]+2734768916&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~A))+M[13]+1309151649&4294967295,k=L+(O<<21&4294967295|O>>>11),O=A+(L^(k|~F))+M[4]+4149444226&4294967295,A=k+(O<<6&4294967295|O>>>26),O=F+(k^(A|~L))+M[11]+3174756917&4294967295,F=A+(O<<10&4294967295|O>>>22),O=L+(A^(F|~k))+M[2]+718787259&4294967295,L=F+(O<<15&4294967295|O>>>17),O=k+(F^(L|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var k=A-this.blockSize,M=this.B,L=this.h,F=0;F<A;){if(L==0)for(;F<=k;)i(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<A;)if(M[L++]=N.charCodeAt(F++),L==this.blockSize){i(this,M),L=0;break}}else for(;F<A;)if(M[L++]=N[F++],L==this.blockSize){i(this,M),L=0;break}}this.h=L,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var k=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=k&255,k/=256;for(this.u(N),N=Array(16),A=k=0;4>A;++A)for(var M=0;32>M;M+=8)N[k++]=this.g[A]>>>M&255;return N};function a(N,A){var k=u;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=A(N)}function l(N,A){this.h=A;for(var k=[],M=!0,L=N.length-1;0<=L;L--){var F=N[L]|0;M&&F==A||(k[L]=F,M=!1)}this.g=k}var u={};function h(N){return-128<=N&&128>N?a(N,function(A){return new l([A|0],0>A?-1:0)}):new l([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return R(p(-N));for(var A=[],k=1,M=0;N>=k;M++)A[M]=N/k|0,k*=4294967296;return new l(A,0)}function y(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return R(y(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(A,8)),M=v,L=0;L<N.length;L+=8){var F=Math.min(8,N.length-L),O=parseInt(N.substring(L,L+F),A);8>F?(F=p(Math.pow(A,F)),M=M.j(F).add(p(O))):(M=M.j(k),M=M.add(p(O)))}return M}var v=h(0),E=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(I(this))return-R(this).m();for(var N=0,A=1,k=0;k<this.g.length;k++){var M=this.i(k);N+=(0<=M?M:4294967296+M)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(I(this))return"-"+R(this).toString(N);for(var A=p(Math.pow(N,6)),k=this,M="";;){var L=z(k,A).g;k=D(k,L.j(A));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=L,b(k))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function I(N){return N.h==-1}n.l=function(N){return N=D(this,N),I(N)?-1:b(N)?0:1};function R(N){for(var A=N.g.length,k=[],M=0;M<A;M++)k[M]=~N.g[M];return new l(k,~N.h).add(E)}n.abs=function(){return I(this)?R(this):this},n.add=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],M=0,L=0;L<=A;L++){var F=M+(this.i(L)&65535)+(N.i(L)&65535),O=(F>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);M=O>>>16,F&=65535,O&=65535,k[L]=O<<16|F}return new l(k,k[k.length-1]&-2147483648?-1:0)};function D(N,A){return N.add(R(A))}n.j=function(N){if(b(this)||b(N))return v;if(I(this))return I(N)?R(this).j(R(N)):R(R(this).j(N));if(I(N))return R(this.j(R(N)));if(0>this.l(T)&&0>N.l(T))return p(this.m()*N.m());for(var A=this.g.length+N.g.length,k=[],M=0;M<2*A;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<N.g.length;L++){var F=this.i(M)>>>16,O=this.i(M)&65535,Se=N.i(L)>>>16,be=N.i(L)&65535;k[2*M+2*L]+=O*be,U(k,2*M+2*L),k[2*M+2*L+1]+=F*be,U(k,2*M+2*L+1),k[2*M+2*L+1]+=O*Se,U(k,2*M+2*L+1),k[2*M+2*L+2]+=F*Se,U(k,2*M+2*L+2)}for(M=0;M<A;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=A;M<2*A;M++)k[M]=0;return new l(k,0)};function U(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function V(N,A){this.g=N,this.h=A}function z(N,A){if(b(A))throw Error("division by zero");if(b(N))return new V(v,v);if(I(N))return A=z(R(N),A),new V(R(A.g),R(A.h));if(I(A))return A=z(N,R(A)),new V(R(A.g),A.h);if(30<N.g.length){if(I(N)||I(A))throw Error("slowDivide_ only works with positive integers.");for(var k=E,M=A;0>=M.l(N);)k=W(k),M=W(M);var L=Y(k,1),F=Y(M,1);for(M=Y(M,2),k=Y(k,2);!b(M);){var O=F.add(M);0>=O.l(N)&&(L=L.add(k),F=O),M=Y(M,1),k=Y(k,1)}return A=D(N,L.j(A)),new V(L,A)}for(L=v;0<=N.l(A);){for(k=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=p(k),O=F.j(A);I(O)||0<O.l(N);)k-=M,F=p(k),O=F.j(A);b(F)&&(F=E),L=L.add(F),N=D(N,O)}return new V(L,N)}n.A=function(N){return z(this,N).h},n.and=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)&N.i(M);return new l(k,this.h&N.h)},n.or=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)|N.i(M);return new l(k,this.h|N.h)},n.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)^N.i(M);return new l(k,this.h^N.h)};function W(N){for(var A=N.g.length+1,k=[],M=0;M<A;M++)k[M]=N.i(M)<<1|N.i(M-1)>>>31;return new l(k,N.h)}function Y(N,A){var k=A>>5;A%=32;for(var M=N.g.length-k,L=[],F=0;F<M;F++)L[F]=0<A?N.i(F+k)>>>A|N.i(F+k+1)<<32-A:N.i(F+k);return new l(L,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,xi=l}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rT,wc,sT,eh,ig,iT,oT,aT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,S){return d==Array.prototype||d==Object.prototype||(d[w]=S.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var w=0;w<d.length;++w){var S=d[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(d,w){if(w)e:{var S=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var G=d[P];if(!(G in S))break e;S=S[G]}d=d[d.length-1],P=S[d],w=w(P),w!=P&&w!=null&&e(S,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var S=0,P=!1,G={next:function(){if(!P&&S<d.length){var J=S++;return{value:w(J,d[J]),done:!1}}return P=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function p(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function y(d,w,S){return d.call.apply(d.bind,arguments)}function v(d,w,S){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,P),d.apply(w,G)}}return function(){return d.apply(w,arguments)}}function E(d,w,S){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,E.apply(null,arguments)}function T(d,w){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function b(d,w){function S(){}S.prototype=w.prototype,d.aa=w.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(P,G,J){for(var ce=Array(arguments.length-2),st=2;st<arguments.length;st++)ce[st-2]=arguments[st];return w.prototype[G].apply(P,ce)}}function I(d){const w=d.length;if(0<w){const S=Array(w);for(let P=0;P<w;P++)S[P]=d[P];return S}return[]}function R(d,w){for(let S=1;S<arguments.length;S++){const P=arguments[S];if(h(P)){const G=d.length||0,J=P.length||0;d.length=G+J;for(let ce=0;ce<J;ce++)d[G+ce]=P[ce]}else d.push(P)}}class D{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function U(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var W=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Y(d,w,S){for(const P in d)w.call(S,d[P],P,d)}function N(d,w){for(const S in d)w.call(void 0,d[S],S,d)}function A(d){const w={};for(const S in d)w[S]=d[S];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,w){let S,P;for(let G=1;G<arguments.length;G++){P=arguments[G];for(S in P)d[S]=P[S];for(let J=0;J<k.length;J++)S=k[J],Object.prototype.hasOwnProperty.call(P,S)&&(d[S]=P[S])}}function L(d){var w=1;d=d.split(":");const S=[];for(;0<w&&d.length;)S.push(d.shift()),w--;return d.length&&S.push(d.join(":")),S}function F(d){u.setTimeout(()=>{throw d},0)}function O(){var d=ee;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Se{constructor(){this.h=this.g=null}add(w,S){const P=be.get();P.set(w,S),this.h?this.h.next=P:this.g=P,this.h=P}}var be=new D(()=>new he,d=>d.reset());class he{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let me,q=!1,ee=new Se,re=()=>{const d=u.Promise.resolve(void 0);me=()=>{d.then(B)}};var B=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(S){F(S)}var w=be;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}q=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};u.addEventListener("test",S,w),u.removeEventListener("test",S,w)}catch{}return d}();function Re(d,w){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(W){e:{try{z(w.nodeName);var G=!0;break e}catch{}G=!1}G||(w=null)}}else S=="mouseover"?w=d.fromElement:S=="mouseout"&&(w=d.toElement);this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}b(Re,ue);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ie(d,w,S,P,G){this.listener=d,this.proxy=null,this.src=w,this.type=S,this.capture=!!P,this.ha=G,this.key=++Ee,this.da=this.fa=!1}function ke(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Fe(d){this.src=d,this.g={},this.h=0}Fe.prototype.add=function(d,w,S,P,G){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var ce=yt(d,w,P,G);return-1<ce?(w=d[ce],S||(w.fa=!1)):(w=new Ie(w,this.src,J,!!P,G),w.fa=S,d.push(w)),w};function Ue(d,w){var S=w.type;if(S in d.g){var P=d.g[S],G=Array.prototype.indexOf.call(P,w,void 0),J;(J=0<=G)&&Array.prototype.splice.call(P,G,1),J&&(ke(w),d.g[S].length==0&&(delete d.g[S],d.h--))}}function yt(d,w,S,P){for(var G=0;G<d.length;++G){var J=d[G];if(!J.da&&J.listener==w&&J.capture==!!S&&J.ha==P)return G}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),Un={};function rr(d,w,S,P,G){if(Array.isArray(w)){for(var J=0;J<w.length;J++)rr(d,w[J],S,P,G);return null}return S=xl(S),d&&d[ie]?d.K(w,S,p(P)?!!P.capture:!1,G):sr(d,w,S,!1,P,G)}function sr(d,w,S,P,G,J){if(!w)throw Error("Invalid event type");var ce=p(G)?!!G.capture:!!G,st=Uo(d);if(st||(d[Lt]=st=new Fe(d)),S=st.add(w,S,P,ce,J),S.proxy)return S;if(P=Fo(),S.proxy=P,P.src=d,P.listener=S,d.addEventListener)ge||(G=ce),G===void 0&&(G=!1),d.addEventListener(w.toString(),P,G);else if(d.attachEvent)d.attachEvent(os(w.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Fo(){function d(S){return w.call(d.src,d.listener,S)}const w=El;return d}function ir(d,w,S,P,G){if(Array.isArray(w))for(var J=0;J<w.length;J++)ir(d,w[J],S,P,G);else P=p(P)?!!P.capture:!!P,S=xl(S),d&&d[ie]?(d=d.i,w=String(w).toString(),w in d.g&&(J=d.g[w],S=yt(J,S,P,G),-1<S&&(ke(J[S]),Array.prototype.splice.call(J,S,1),J.length==0&&(delete d.g[w],d.h--)))):d&&(d=Uo(d))&&(w=d.g[w.toString()],d=-1,w&&(d=yt(w,S,P,G)),(S=-1<d?w[d]:null)&&is(S))}function is(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[ie])Ue(w.i,d);else{var S=d.type,P=d.proxy;w.removeEventListener?w.removeEventListener(S,P,d.capture):w.detachEvent?w.detachEvent(os(S),P):w.addListener&&w.removeListener&&w.removeListener(P),(S=Uo(w))?(Ue(S,d),S.h==0&&(S.src=null,w[Lt]=null)):ke(d)}}}function os(d){return d in Un?Un[d]:Un[d]="on"+d}function El(d,w){if(d.da)d=!0;else{w=new Re(w,this);var S=d.listener,P=d.ha||d.src;d.fa&&is(d),d=S.call(P,w)}return d}function Uo(d){return d=d[Lt],d instanceof Fe?d:null}var zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function xl(d){return typeof d=="function"?d:(d[zo]||(d[zo]=function(w){return d.handleEvent(w)}),d[zo])}function Rt(){Z.call(this),this.i=new Fe(this),this.M=this,this.F=null}b(Rt,Z),Rt.prototype[ie]=!0,Rt.prototype.removeEventListener=function(d,w,S,P){ir(this,d,w,S,P)};function kt(d,w){var S,P=d.F;if(P)for(S=[];P;P=P.F)S.push(P);if(d=d.M,P=w.type||w,typeof w=="string")w=new ue(w,d);else if(w instanceof ue)w.target=w.target||d;else{var G=w;w=new ue(P,d),M(w,G)}if(G=!0,S)for(var J=S.length-1;0<=J;J--){var ce=w.g=S[J];G=as(ce,P,!0,w)&&G}if(ce=w.g=d,G=as(ce,P,!0,w)&&G,G=as(ce,P,!1,w)&&G,S)for(J=0;J<S.length;J++)ce=w.g=S[J],G=as(ce,P,!1,w)&&G}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var S=d.g[w],P=0;P<S.length;P++)ke(S[P]);delete d.g[w],d.h--}}this.F=null},Rt.prototype.K=function(d,w,S,P){return this.i.add(String(d),w,!1,S,P)},Rt.prototype.L=function(d,w,S,P){return this.i.add(String(d),w,!0,S,P)};function as(d,w,S,P){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var G=!0,J=0;J<w.length;++J){var ce=w[J];if(ce&&!ce.da&&ce.capture==S){var st=ce.listener,Pt=ce.ha||ce.src;ce.fa&&Ue(d.i,ce),G=st.call(Pt,P)!==!1&&G}}return G&&!P.defaultPrevented}function Sl(d,w,S){if(typeof d=="function")S&&(d=E(d,S));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(d,w||0)}function zs(d){d.g=Sl(()=>{d.g=null,d.i&&(d.i=!1,zs(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class $i extends Z{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(d){Z.call(this),this.h=d,this.g={}}b(Bi,Z);var Tl=[];function Il(d){Y(d.g,function(w,S){this.g.hasOwnProperty(S)&&is(w)},d),d.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),Il(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cl=u.JSON.stringify,bl=u.JSON.parse,Al=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Wi(){}Wi.prototype.h=null;function $o(d){return d.h||(d.h=d.i())}function Bo(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){ue.call(this,"d")}b(Or,ue);function Wo(){ue.call(this,"c")}b(Wo,ue);var Lr={},Rl=null;function Hi(){return Rl=Rl||new Rt}Lr.La="serverreachability";function kl(d){ue.call(this,Lr.La,d)}b(kl,ue);function ls(d){const w=Hi();kt(w,new kl(w))}Lr.STAT_EVENT="statevent";function Pl(d,w){ue.call(this,Lr.STAT_EVENT,d),this.stat=w}b(Pl,ue);function _t(d){const w=Hi();kt(w,new Pl(w,d))}Lr.Ma="timingevent";function Ho(d,w){ue.call(this,Lr.Ma,d),this.size=w}b(Ho,ue);function or(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},w)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function Gi(d,w,S,P,G,J){d.info(function(){if(d.g)if(J)for(var ce="",st=J.split("&"),Pt=0;Pt<st.length;Pt++){var Xe=st[Pt].split("=");if(1<Xe.length){var jt=Xe[0];Xe=Xe[1];var Tt=jt.split("_");ce=2<=Tt.length&&Tt[1]=="type"?ce+(jt+"="+Xe+"&"):ce+(jt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+P+") [attempt "+G+"]: "+w+`
`+S+`
`+ce})}function qo(d,w,S,P,G,J,ce){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+G+"]: "+w+`
`+S+`
`+J+" "+ce})}function ar(d,w,S,P){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Vf(d,S)+(P?" "+P:"")})}function Nl(d,w){d.info(function(){return"TIMEOUT: "+w})}qi.prototype.info=function(){};function Vf(d,w){if(!d.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var P=S[d];if(!(2>P.length)){var G=P[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return Cl(S)}catch{return w}}var Go={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lr;function Ki(){}b(Ki,Wi),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},lr=new Ki;function cr(d,w,S,P){this.j=d,this.i=w,this.l=S,this.R=P||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pu}function pu(){this.i=null,this.g="",this.h=!1}var Dl={},Ko={};function Qo(d,w,S){d.L=1,d.v=qs(Cn(w)),d.m=S,d.P=!0,Ml(d,null)}function Ml(d,w){d.F=Date.now(),ot(d),d.A=Cn(d.v);var S=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),Ks(S.i,"t",P),d.C=0,S=d.j.J,d.h=new pu,d.g=Nu(d.j,S?w:null,!d.m),0<d.O&&(d.M=new $i(E(d.Y,d,d.g),d.O)),w=d.U,S=d.g,P=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Tl[0]=G.toString()),G=Tl);for(var J=0;J<G.length;J++){var ce=rr(S,G[J],P||w.handleEvent,!1,w.h||w);if(!ce)break;w.g[ce.key]=ce}w=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),ls(),Gi(d.i,d.u,d.A,d.l,d.R,d.m)}cr.prototype.ca=function(d){d=d.target;const w=this.M;w&&pn(d)==3?w.j():this.Y(d)},cr.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=pn(this.g);var w=this.g.Ba();const Wn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Ul(this.g)))){this.J||Tt!=4||w==7||(w==8||0>=Wn?ls(3):ls(2)),Qi(this);var S=this.g.Z();this.X=S;t:if(mu(this)){var P=Ul(this.g);d="";var G=P.length,J=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),$s(this);var ce="";break t}this.h.i=new u.TextDecoder}for(w=0;w<G;w++)this.h.h=!0,d+=this.h.i.decode(P[w],{stream:!(J&&w==G-1)});P.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=S==200,qo(this.i,this.u,this.A,this.l,this.R,Tt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Pt=this.g;if((st=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(st)){var Xe=st;break t}}Xe=null}if(S=Xe)ar(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ol(this,S);else{this.o=!1,this.s=3,_t(12),$n(this),$s(this);break e}}if(this.P){S=!0;let An;for(;!this.J&&this.C<ce.length;)if(An=Ff(this,ce),An==Ko){Tt==4&&(this.s=4,_t(14),S=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Dl){this.s=4,_t(15),ar(this.i,this.l,ce,"[Invalid Chunk]"),S=!1;break}else ar(this.i,this.l,An,null),Ol(this,An);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ce.length!=0||this.h.h||(this.s=1,_t(16),S=!1),this.o=this.o&&S,!S)ar(this.i,this.l,ce,"[Invalid Chunked Response]"),$n(this),$s(this);else if(0<ce.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),$l(jt),jt.M=!0,_t(11))}}else ar(this.i,this.l,ce,null),Ol(this,ce);Tt==4&&$n(this),this.o&&!this.J&&(Tt==4?oa(this.j,this):(this.o=!1,ot(this)))}else ta(this.g),S==400&&0<ce.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),$n(this),$s(this)}}}catch{}finally{}};function mu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ff(d,w){var S=d.C,P=w.indexOf(`
`,S);return P==-1?Ko:(S=Number(w.substring(S,P)),isNaN(S)?Dl:(P+=1,P+S>w.length?Ko:(w=w.slice(P,P+S),d.C=P+S,w)))}cr.prototype.cancel=function(){this.J=!0,$n(this)};function ot(d){d.S=Date.now()+d.I,gu(d,d.I)}function gu(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=or(E(d.ba,d),w)}function Qi(d){d.B&&(u.clearTimeout(d.B),d.B=null)}cr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Nl(this.i,this.A),this.L!=2&&(ls(),_t(17)),$n(this),this.s=2,$s(this)):gu(this,this.S-d)};function $s(d){d.j.G==0||d.J||oa(d.j,d)}function $n(d){Qi(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Il(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Ol(d,w){try{var S=d.j;if(S.G!=0&&(S.g==d||an(S.h,d))){if(!d.K&&an(S.h,d)&&S.G==3){try{var P=S.Da.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var G=P;if(G[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)ia(S),pr(S);else break e;sa(S),_t(18)}}else S.za=G[1],0<S.za-S.T&&37500>G[2]&&S.F&&S.v==0&&!S.C&&(S.C=or(E(S.Za,S),6e3));if(1>=vu(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else fs(S,11)}else if((d.K||S.g==d)&&ia(S),!U(w))for(G=S.Da.g.parse(w),w=0;w<G.length;w++){let Xe=G[w];if(S.T=Xe[0],Xe=Xe[1],S.G==2)if(Xe[0]=="c"){S.K=Xe[1],S.ia=Xe[2];const jt=Xe[3];jt!=null&&(S.la=jt,S.j.info("VER="+S.la));const Tt=Xe[4];Tt!=null&&(S.Aa=Tt,S.j.info("SVER="+S.Aa));const Wn=Xe[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(P=1.5*Wn,S.L=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const An=d.g;if(An){const no=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(no){var J=P.h;J.g||no.indexOf("spdy")==-1&&no.indexOf("quic")==-1&&no.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ll(J,J.h),J.h=null))}if(P.D){const la=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(P.ya=la,it(P.I,P.D,la))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),P=S;var ce=d;if(P.qa=Pu(P,P.J?P.ia:null,P.W),ce.K){wu(P.h,ce);var st=ce,Pt=P.L;Pt&&(st.I=Pt),st.B&&(Qi(st),ot(st)),P.g=ce}else to(P);0<S.i.length&&Ur(S)}else Xe[0]!="stop"&&Xe[0]!="close"||fs(S,7);else S.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?fs(S,7):Ht(S):Xe[0]!="noop"&&S.l&&S.l.ta(Xe),S.v=0)}}ls(4)}catch{}}var yu=class{constructor(d,w){this.g=d,this.map=w}};function Yi(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function vu(d){return d.h?1:d.g?d.g.size:0}function an(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Ll(d,w){d.g?d.g.add(w):d.h=w}function wu(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Yi.prototype.cancel=function(){if(this.i=_u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function _u(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const S of d.g.values())w=w.concat(S.D);return w}return I(d.i)}function Yo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var w=[],S=d.length,P=0;P<S;P++)w.push(d[P]);return w}w=[],S=0;for(P in d)w[S++]=d[P];return w}function Xo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var w=[];d=d.length;for(var S=0;S<d;S++)w.push(S);return w}w=[],S=0;for(const P in d)w[S++]=P;return w}}}function Bs(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var S=Xo(d),P=Yo(d),G=P.length,J=0;J<G;J++)w.call(void 0,P[J],S&&S[J],d)}var Xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uf(d,w){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var P=d[S].indexOf("="),G=null;if(0<=P){var J=d[S].substring(0,P);G=d[S].substring(P+1)}else J=d[S];w(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function cs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof cs){this.h=d.h,Ji(this,d.j),this.o=d.o,this.g=d.g,Ws(this,d.s),this.l=d.l;var w=d.i,S=new jr;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),Hs(this,S),this.m=d.m}else d&&(w=String(d).match(Xi))?(this.h=!1,Ji(this,w[1]||"",!0),this.o=Qe(w[2]||""),this.g=Qe(w[3]||"",!0),Ws(this,w[4]),this.l=Qe(w[5]||"",!0),Hs(this,w[6]||"",!0),this.m=Qe(w[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}cs.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Gs(w,Jo,!0),":");var S=this.g;return(S||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Gs(w,Jo,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Gs(S,S.charAt(0)=="/"?Su:xu,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Gs(S,jl)),d.join("")};function Cn(d){return new cs(d)}function Ji(d,w,S){d.j=S?Qe(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Ws(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Hs(d,w,S){w instanceof jr?(d.i=w,Vr(d.i,d.h)):(S||(w=Gs(w,Tu)),d.i=new jr(w,d.h))}function it(d,w,S){d.i.set(w,S)}function qs(d){return it(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Qe(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gs(d,w,S){return typeof d=="string"?(d=encodeURI(d).replace(w,Eu),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Eu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Jo=/[#\/\?@]/g,xu=/[#\?:]/g,Su=/[#\?]/g,Tu=/[#\?@]/g,jl=/#/g;function jr(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Wt(d){d.g||(d.g=new Map,d.h=0,d.i&&Uf(d.i,function(w,S){d.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}n=jr.prototype,n.add=function(d,w){Wt(this),this.i=null,d=Bn(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(w),this.h+=1,this};function ur(d,w){Wt(d),w=Bn(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function dr(d,w){return Wt(d),w=Bn(d,w),d.g.has(w)}n.forEach=function(d,w){Wt(this),this.g.forEach(function(S,P){S.forEach(function(G){d.call(w,G,P,this)},this)},this)},n.na=function(){Wt(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let P=0;P<w.length;P++){const G=d[P];for(let J=0;J<G.length;J++)S.push(w[P])}return S},n.V=function(d){Wt(this);let w=[];if(typeof d=="string")dr(this,d)&&(w=w.concat(this.g.get(Bn(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)w=w.concat(d[S])}return w},n.set=function(d,w){return Wt(this),this.i=null,d=Bn(this,d),dr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Ks(d,w,S){ur(d,w),0<S.length&&(d.i=null,d.g.set(Bn(d,w),I(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var P=w[S];const J=encodeURIComponent(String(P)),ce=this.V(P);for(P=0;P<ce.length;P++){var G=J;ce[P]!==""&&(G+="="+encodeURIComponent(String(ce[P]))),d.push(G)}}return this.i=d.join("&")};function Bn(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Vr(d,w){w&&!d.j&&(Wt(d),d.i=null,d.g.forEach(function(S,P){var G=P.toLowerCase();P!=G&&(ur(this,P),Ks(this,G,S))},d)),d.j=w}function zf(d,w){const S=new qi;if(u.Image){const P=new Image;P.onload=T(fn,S,"TestLoadImage: loaded",!0,w,P),P.onerror=T(fn,S,"TestLoadImage: error",!1,w,P),P.onabort=T(fn,S,"TestLoadImage: abort",!1,w,P),P.ontimeout=T(fn,S,"TestLoadImage: timeout",!1,w,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else w(!1)}function Iu(d,w){const S=new qi,P=new AbortController,G=setTimeout(()=>{P.abort(),fn(S,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:P.signal}).then(J=>{clearTimeout(G),J.ok?fn(S,"TestPingServer: ok",!0,w):fn(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),fn(S,"TestPingServer: error",!1,w)})}function fn(d,w,S,P,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),P(S)}catch{}}function $f(){this.g=new Al}function Cu(d,w,S){const P=S||"";try{Bs(d,function(G,J){let ce=G;p(G)&&(ce=Cl(G)),w.push(P+J+"="+encodeURIComponent(ce))})}catch(G){throw w.push(P+"type="+encodeURIComponent("_badmap")),G}}function us(d){this.l=d.Ub||null,this.j=d.eb||!1}b(us,Wi),us.prototype.g=function(){return new Zi(this.l,this.j)},us.prototype.i=function(d){return function(){return d}}({});function Zi(d,w){Rt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Zi,Rt),n=Zi.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,fr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function bu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?hr(this):fr(this),this.readyState==3&&bu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,hr(this))},n.Qa=function(d){this.g&&(this.response=d,hr(this))},n.ga=function(){this.g&&hr(this)};function hr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,fr(d)}n.setRequestHeader=function(d,w){this.u.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=w.next();return d.join(`\r
`)};function fr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ds(d){let w="";return Y(d,function(S,P){w+=P,w+=":",w+=S,w+=`\r
`}),w}function Qs(d,w,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=ds(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):it(d,w,S))}function dt(d){Rt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(dt,Rt);var Bf=/^https?$/i,Vl=["POST","PUT"];n=dt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,w,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=this.o?$o(this.o):$o(lr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(J){eo(this,J);return}if(d=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var G in P)S.set(G,P[G]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const J of P.keys())S.set(J,P.get(J));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),G=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Vl,w,void 0))||P||G||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of S)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){eo(this,J)}};function eo(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,Zo(d),bn(d)}function Zo(d){d.A||(d.A=!0,kt(d,"complete"),kt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,kt(this,"complete"),kt(this,"abort"),bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bn(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},n.bb=function(){Fl(this)};function Fl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||pn(d)!=4||d.Z()!=2)){if(d.u&&pn(d)==4)Sl(d.Ea,0,d);else if(kt(d,"readystatechange"),pn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var P;if(P=ce===0){var G=String(d.D).match(Xi)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),P=!Bf.test(G?G.toLowerCase():"")}S=P}if(S)kt(d,"complete"),kt(d,"success");else{d.m=6;try{var J=2<pn(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",Zo(d)}}finally{bn(d)}}}}function bn(d,w){if(d.g){ea(d);const S=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||kt(d,"ready");try{S.onreadystatechange=P}catch{}}}function ea(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function pn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),bl(w)}};function Ul(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ta(d){const w={};d=(d.g&&2<=pn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(U(d[P]))continue;var S=L(d[P]);const G=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=w[G]||[];w[G]=J,J.push(S)}N(w,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(d,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||w}function zl(d){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,d),this.cb=Fr("retryDelaySeedMs",1e4,d),this.Wa=Fr("forwardChannelMaxRetries",2,d),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Yi(d&&d.concurrentRequestLimit),this.Da=new $f,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=zl.prototype,n.la=8,n.G=1,n.connect=function(d,w,S,P){_t(0),this.W=d,this.H=w||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.I=Pu(this,null,this.W),Ur(this)};function Ht(d){if(na(d),d.G==3){var w=d.U++,S=Cn(d.I);if(it(S,"SID",d.K),it(S,"RID",w),it(S,"TYPE","terminate"),hs(d,S),w=new cr(d,d.j,w),w.L=2,w.v=qs(Cn(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=w.v,S=!0),S||(w.g=Nu(w.j,null),w.g.ea(w.v)),w.F=Date.now(),ot(w)}ku(d)}function pr(d){d.g&&($l(d),d.g.cancel(),d.g=null)}function na(d){pr(d),d.u&&(u.clearTimeout(d.u),d.u=null),ia(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Ur(d){if(!In(d.h)&&!d.s){d.s=!0;var w=d.Ga;me||re(),q||(me(),q=!0),ee.add(w,d),d.B=0}}function Wf(d,w){return vu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=or(E(d.Ga,d,w),Ru(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new cr(this,this.j,d);let J=this.o;if(this.S&&(J?(J=A(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Ys(this,G,w),S=Cn(this.I),it(S,"RID",d),it(S,"CVER",22),this.D&&it(S,"X-HTTP-Session-Id",this.D),hs(this,S),J&&(this.O?w="headers="+encodeURIComponent(String(ds(J)))+"&"+w:this.m&&Qs(S,this.m,J)),Ll(this.h,G),this.Ua&&it(S,"TYPE","init"),this.P?(it(S,"$req",w),it(S,"SID","null"),G.T=!0,Qo(G,S,null)):Qo(G,S,w),this.G=2}}else this.G==3&&(d?ra(this,d):this.i.length==0||In(this.h)||ra(this))};function ra(d,w){var S;w?S=w.l:S=d.U++;const P=Cn(d.I);it(P,"SID",d.K),it(P,"RID",S),it(P,"AID",d.T),hs(d,P),d.m&&d.o&&Qs(P,d.m,d.o),S=new cr(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),w&&(d.i=w.D.concat(d.i)),w=Ys(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ll(d.h,S),Qo(S,P,w)}function hs(d,w){d.H&&Y(d.H,function(S,P){it(w,P,S)}),d.l&&Bs({},function(S,P){it(w,P,S)})}function Ys(d,w,S){S=Math.min(d.i.length,S);var P=d.l?E(d.l.Na,d.l,d):null;e:{var G=d.i;let J=-1;for(;;){const ce=["count="+S];J==-1?0<S?(J=G[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let st=!0;for(let Pt=0;Pt<S;Pt++){let Xe=G[Pt].g;const jt=G[Pt].map;if(Xe-=J,0>Xe)J=Math.max(0,G[Pt].g-100),st=!1;else try{Cu(jt,ce,"req"+Xe+"_")}catch{P&&P(jt)}}if(st){P=ce.join("&");break e}}}return d=d.i.splice(0,S),w.D=d,P}function to(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;me||re(),q||(me(),q=!0),ee.add(w,d),d.v=0}}function sa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=or(E(d.Fa,d),Ru(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=or(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),pr(this),Au(this))};function $l(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Au(d){d.g=new cr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Cn(d.qa);it(w,"RID","rpc"),it(w,"SID",d.K),it(w,"AID",d.T),it(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&it(w,"TO",d.ja),it(w,"TYPE","xmlhttp"),hs(d,w),d.m&&d.o&&Qs(w,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=qs(Cn(w)),S.m=null,S.P=!0,Ml(S,d)}n.Za=function(){this.C!=null&&(this.C=null,pr(this),sa(this),_t(19))};function ia(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function oa(d,w){var S=null;if(d.g==w){ia(d),$l(d),d.g=null;var P=2}else if(an(d.h,w))S=w.D,wu(d.h,w),P=1;else return;if(d.G!=0){if(w.o)if(P==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var G=d.B;P=Hi(),kt(P,new Ho(P,S)),Ur(d)}else to(d);else if(G=w.s,G==3||G==0&&0<w.X||!(P==1&&Wf(d,w)||P==2&&sa(d)))switch(S&&0<S.length&&(w=d.h,w.i=w.i.concat(S)),G){case 1:fs(d,5);break;case 4:fs(d,10);break;case 3:fs(d,6);break;default:fs(d,2)}}}function Ru(d,w){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*w}function fs(d,w){if(d.j.info("Error code "+w),w==2){var S=E(d.fb,d),P=d.Xa;const G=!P;P=new cs(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ji(P,"https"),qs(P),G?zf(P.toString(),S):Iu(P.toString(),S)}else _t(2);d.G=0,d.l&&d.l.sa(w),ku(d),na(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function ku(d){if(d.G=0,d.ka=[],d.l){const w=_u(d.h);(w.length!=0||d.i.length!=0)&&(R(d.ka,w),R(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Pu(d,w,S){var P=S instanceof cs?Cn(S):new cs(S);if(P.g!="")w&&(P.g=w+"."+P.g),Ws(P,P.s);else{var G=u.location;P=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;var J=new cs(null);P&&Ji(J,P),w&&(J.g=w),G&&Ws(J,G),S&&(J.l=S),P=J}return S=d.D,w=d.ya,S&&w&&it(P,S,w),it(P,"VER",d.la),hs(d,P),P}function Nu(d,w,S){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new dt(new us({eb:S})):new dt(d.pa),w.Ha(d.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bl(){}n=Bl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function aa(){}aa.prototype.g=function(d,w){return new ln(d,w)};function ln(d,w){Rt.call(this),this.g=new zl(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!U(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new zr(this)}b(ln,Rt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Ht(this.g)},ln.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=Cl(d),d=S);w.i.push(new yu(w.Ya++,d)),w.G==3&&Ur(w)},ln.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,ln.aa.N.call(this)};function Du(d){Or.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const S in w){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}b(Du,Or);function Mu(){Wo.call(this),this.status=1}b(Mu,Wo);function zr(d){this.g=d}b(zr,Bl),zr.prototype.ua=function(){kt(this.g,"a")},zr.prototype.ta=function(d){kt(this.g,new Du(d))},zr.prototype.sa=function(d){kt(this.g,new Mu)},zr.prototype.ra=function(){kt(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,aT=function(){return new aa},oT=function(){return Hi()},iT=Lr,ig={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Go.NO_ERROR=0,Go.TIMEOUT=8,Go.HTTP_ERROR=6,eh=Go,fu.COMPLETE="complete",sT=fu,Bo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,wc=Bo,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,rT=dt}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",V0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Kh("@firebase/firestore");function Da(){return Io.logLevel}function pe(n,...e){if(Io.logLevel<=He.DEBUG){const t=e.map(dy);Io.debug(`Firestore (${cl}): ${n}`,...t)}}function Ms(n,...e){if(Io.logLevel<=He.ERROR){const t=e.map(dy);Io.error(`Firestore (${cl}): ${n}`,...t)}}function Ga(n,...e){if(Io.logLevel<=He.WARN){const t=e.map(dy);Io.warn(`Firestore (${cl}): ${n}`,...t)}}function dy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lT(n,r,t)}function lT(n,e,t){let r=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ms(r),new Error(r)}function nt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||lT(e,i,r)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class QM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YM{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Rs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new cT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class XM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new XM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new F0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=eO(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function $e(n,e){return n<e?-1:n>e?1:0}function og(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return $e(r,i);{const a=uT(),l=tO(a.encode(U0(n,t)),a.encode(U0(e,t)));return l!==0?l:$e(r,i)}}t+=r>65535?2:1}return $e(n.length,e.length)}function U0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function tO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return $e(n[t],e[t]);return $e(n.length,e.length)}function Ka(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=-62135596800,$0=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$0);return new tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<z0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new tt(0,0))}static max(){return new je(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class qr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=qr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return $e(e.length,t.length)}static compareSegments(e,t){const r=qr.isNumericId(e),i=qr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?qr.extractNumericId(e).compare(qr.extractNumericId(t)):og(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class ut extends qr{construct(e,t,r){return new ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const nO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends qr{construct(e,t,r){return new Qt(e,t,r)}static isValidIdentifier(e){return nO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new Qt([B0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ut.fromString(e))}static fromName(e){return new Ae(ut.fromString(e).popFirst(5))}static empty(){return new Ae(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;function rO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new Ii(i,Ae.empty(),e)}function sO(n){return new Ii(n.readTime,n.key,Vc)}class Ii{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ii(je.min(),Ae.empty(),Vc)}static max(){return new Ii(je.max(),Ae.empty(),Vc)}}function iO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==oO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},h=>r(h))}),l=!0,a===i&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(i=>i?ne.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(y=>{l[p]=y,++u,u===a&&r(l)},y=>i(y))}})}static doWhile(e,t){return new ne((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function lO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}tf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function nf(n){return n==null}function _h(n){return n===0&&1/n==-1/0}function cO(n){return typeof n=="number"&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="";function uO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=W0(e)),e=dO(n.get(t),e);return W0(e)}function dO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case hT:t+="";break;default:t+=a}}return t}function W0(n){return n+hT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Kt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Ot(Qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pT("Invalid base64 string: "+a):a}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const hO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=hO.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bi(n){return typeof n=="string"?Yt.fromBase64String(n):Yt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="server_timestamp",gT="__type__",yT="__previous_value__",vT="__local_write_time__";function fy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gT])===null||t===void 0?void 0:t.stringValue)===mT}function rf(n){const e=n.mapValue.fields[yT];return fy(e)?rf(e):e}function Fc(n){const e=Ci(n.mapValue.fields[vT].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t,r,i,a,l,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p}}const Eh="(default)";class Uc{constructor(e,t){this.projectId=e,this.database=t||Eh}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__type__",pO="__max__",Nd={mapValue:{}},_T="__vector__",xh="value";function Ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fy(n)?4:gO(n)?9007199254740991:mO(n)?10:11:Oe(28295,{value:n})}function es(n,e){if(n===e)return!0;const t=Ai(n);if(t!==Ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fc(n).isEqual(Fc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ci(i.timestampValue),u=Ci(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return bi(i.bytesValue).isEqual(bi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return xt(i.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return xt(i.integerValue)===xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=xt(i.doubleValue),u=xt(a.doubleValue);return l===u?_h(l)===_h(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Ka(n.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(H0(l)!==H0(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!es(l[h],u[h])))return!1;return!0}(n,e);default:return Oe(52216,{left:n})}}function zc(n,e){return(n.values||[]).find(t=>es(t,e))!==void 0}function Qa(n,e){if(n===e)return 0;const t=Ai(n),r=Ai(e);if(t!==r)return $e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=xt(a.integerValue||a.doubleValue),h=xt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return G0(n.timestampValue,e.timestampValue);case 4:return G0(Fc(n),Fc(e));case 5:return og(n.stringValue,e.stringValue);case 6:return function(a,l){const u=bi(a),h=bi(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=$e(u[p],h[p]);if(y!==0)return y}return $e(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=$e(xt(a.latitude),xt(l.latitude));return u!==0?u:$e(xt(a.longitude),xt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return K0(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,p,y;const v=a.fields||{},E=l.fields||{},T=(u=v[xh])===null||u===void 0?void 0:u.arrayValue,b=(h=E[xh])===null||h===void 0?void 0:h.arrayValue,I=$e(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:K0(T,b)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Nd.mapValue&&l===Nd.mapValue)return 0;if(a===Nd.mapValue)return 1;if(l===Nd.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),p=l.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let v=0;v<h.length&&v<y.length;++v){const E=og(h[v],y[v]);if(E!==0)return E;const T=Qa(u[h[v]],p[y[v]]);if(T!==0)return T}return $e(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Oe(23264,{Pe:t})}}function G0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Ci(n),r=Ci(e),i=$e(t.seconds,r.seconds);return i!==0?i:$e(t.nanos,r.nanos)}function K0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Qa(t[i],r[i]);if(a)return a}return $e(t.length,r.length)}function Ya(n){return ag(n)}function ag(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ci(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=ag(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${ag(t.fields[l])}`;return i+"}"}(n.mapValue):Oe(61005,{value:n})}function th(n){switch(Ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(n);return e?16+th(e):16;case 5:return 2*n.stringValue.length;case 6:return bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+th(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Oi(r.fields,(a,l)=>{i+=a.length+th(l)}),i}(n.mapValue);default:throw Oe(13486,{value:n})}}function Q0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lg(n){return!!n&&"integerValue"in n}function py(n){return!!n&&"arrayValue"in n}function Y0(n){return!!n&&"nullValue"in n}function X0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nh(n){return!!n&&"mapValue"in n}function mO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wT])===null||t===void 0?void 0:t.stringValue)===_T}function bc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Oi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===pO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=bc(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];nh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Oi(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new xn(bc(this.value))}}function ET(n){const e=[];return Oi(n.fields,(t,r)=>{const i=new Qt([t]);if(nh(r)){const a=ET(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new rn(e,0,je.min(),je.min(),je.min(),xn.empty(),0)}static newFoundDocument(e,t,r,i){return new rn(e,1,t,je.min(),r,i,0)}static newNoDocument(e,t){return new rn(e,2,t,je.min(),je.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,je.min(),je.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function J0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),t.key):r=Qa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!es(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t="asc"){this.field=e,this.dir=t}}function yO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class bt extends xT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new wO(e,t,r):t==="array-contains"?new xO(e,r):t==="in"?new SO(e,r):t==="not-in"?new TO(e,r):t==="array-contains-any"?new IO(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _O(e,r):new EO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qa(t,this.value)):t!==null&&Ai(this.value)===Ai(t)&&this.matchesComparison(Qa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends xT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Cr(e,t)}matches(e){return ST(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ST(n){return n.op==="and"}function TT(n){return vO(n)&&ST(n)}function vO(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function cg(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+Ya(n.value);if(TT(n))return n.filters.map(e=>cg(e)).join(",");{const e=n.filters.map(t=>cg(t)).join(",");return`${n.op}(${e})`}}function IT(n,e){return n instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&es(r.value,i.value)}(n,e):n instanceof Cr?function(r,i){return i instanceof Cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&IT(l,i.filters[u]),!0):!1}(n,e):void Oe(19439)}function CT(n){return n instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ya(t.value)}`}(n):n instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(CT).join(" ,")+"}"}(n):"Filter"}class wO extends bt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class _O extends bt{constructor(e,t){super(e,"in",t),this.keys=bT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class EO extends bt{constructor(e,t){super(e,"not-in",t),this.keys=bT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class xO extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return py(t)&&zc(t.arrayValue,this.value)}}class SO extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zc(this.value.arrayValue,t)}}class TO extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zc(this.value.arrayValue,t)}}class IO extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!py(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function eE(n,e=null,t=[],r=[],i=null,a=null,l=null){return new CO(n,e,t,r,i,a,l)}function my(n){const e=Ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ya(r)).join(",")),e.Ie=t}return e.Ie}function gy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Z0(n.startAt,e.startAt)&&Z0(n.endAt,e.endAt)}function ug(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bO(n,e,t,r,i,a,l,u){return new hl(n,e,t,r,i,a,l,u)}function yy(n){return new hl(n)}function tE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AT(n){return n.collectionGroup!==null}function Ac(n){const e=Ve(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ot(Qt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new $c(a,r))}),t.has(Qt.keyField().canonicalString())||e.Ee.push(new $c(Qt.keyField(),r))}return e.Ee}function Yr(n){const e=Ve(n);return e.de||(e.de=AO(e,Ac(n))),e.de}function AO(n,e){if(n.limitType==="F")return eE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new $c(i.field,a)});const t=n.endAt?new Sh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sh(n.startAt.position,n.startAt.inclusive):null;return eE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dg(n,e){const t=n.filters.concat([e]);return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Th(n,e,t){return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sf(n,e){return gy(Yr(n),Yr(e))&&n.limitType===e.limitType}function RT(n){return`${my(Yr(n))}|lt:${n.limitType}`}function Ma(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>CT(i)).join(", ")}]`),nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ya(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(Yr(n))}; limitType=${n.limitType})`}function of(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Ac(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const p=J0(l,u,h);return l.inclusive?p<=0:p<0}(r.startAt,Ac(r),i)||r.endAt&&!function(l,u,h){const p=J0(l,u,h);return l.inclusive?p>=0:p>0}(r.endAt,Ac(r),i))}(n,e)}function RO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kT(n){return(e,t)=>{let r=!1;for(const i of Ac(n)){const a=kO(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function kO(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,l,u){const h=l.data.field(a),p=u.data.field(a);return h!==null&&p!==null?Qa(h,p):Oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new gt(Ae.comparator);function Os(){return PO}const PT=new gt(Ae.comparator);function _c(...n){let e=PT;for(const t of n)e=e.insert(t.key,t);return e}function NT(n){let e=PT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _o(){return Rc()}function DT(){return Rc()}function Rc(){return new Do(n=>n.toString(),(n,e)=>n.isEqual(e))}const NO=new gt(Ae.comparator),DO=new Ot(Ae.comparator);function Ge(...n){let e=DO;for(const t of n)e=e.add(t);return e}const MO=new Ot($e);function OO(){return MO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function MT(n){return{integerValue:""+n}}function LO(n,e){return cO(e)?MT(e):vy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function jO(n,e,t){return n instanceof Ih?function(i,a){const l={fields:{[gT]:{stringValue:mT},[vT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&fy(a)&&(a=rf(a)),a&&(l.fields[yT]=a),{mapValue:l}}(t,e):n instanceof Bc?LT(n,e):n instanceof Wc?jT(n,e):function(i,a){const l=OT(i,a),u=nE(l)+nE(i.Re);return lg(l)&&lg(i.Re)?MT(u):vy(i.serializer,u)}(n,e)}function VO(n,e,t){return n instanceof Bc?LT(n,e):n instanceof Wc?jT(n,e):t}function OT(n,e){return n instanceof Ch?function(r){return lg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ih extends af{}class Bc extends af{constructor(e){super(),this.elements=e}}function LT(n,e){const t=VT(e);for(const r of n.elements)t.some(i=>es(i,r))||t.push(r);return{arrayValue:{values:t}}}class Wc extends af{constructor(e){super(),this.elements=e}}function jT(n,e){let t=VT(e);for(const r of n.elements)t=t.filter(i=>!es(i,r));return{arrayValue:{values:t}}}class Ch extends af{constructor(e,t){super(),this.serializer=e,this.Re=t}}function nE(n){return xt(n.integerValue||n.doubleValue)}function VT(n){return py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function FO(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Bc&&i instanceof Bc||r instanceof Wc&&i instanceof Wc?Ka(r.elements,i.elements,es):r instanceof Ch&&i instanceof Ch?es(r.Re,i.Re):r instanceof Ih&&i instanceof Ih}(n.transform,e.transform)}class UO{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class lf{}function FT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wy(n.key,Zn.none()):new su(n.key,n.data,Zn.none());{const t=n.data,r=xn.empty();let i=new Ot(Qt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Li(n.key,r,new Ln(i.toArray()),Zn.none())}}function zO(n,e,t){n instanceof su?function(i,a,l){const u=i.value.clone(),h=sE(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Li?function(i,a,l){if(!rh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=sE(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(UT(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function kc(n,e,t,r){return n instanceof su?function(a,l,u,h){if(!rh(a.precondition,l))return u;const p=a.value.clone(),y=iE(a.fieldTransforms,h,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Li?function(a,l,u,h){if(!rh(a.precondition,l))return u;const p=iE(a.fieldTransforms,h,l),y=l.data;return y.setAll(UT(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,l,u){return rh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function $O(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=OT(r.transform,i||null);a!=null&&(t===null&&(t=xn.empty()),t.set(r.field,a))}return t||null}function rE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ka(r,i,(a,l)=>FO(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class su extends lf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends lf{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sE(n,e,t){const r=new Map;nt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,VO(l,u,t[i]))}return r}function iE(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,jO(a,l,e))}return r}class wy extends lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BO extends lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&zO(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DT();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const h=FT(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(t,r)=>rE(t,r))&&Ka(this.baseMutations,e.baseMutations,(t,r)=>rE(t,r))}}class _y{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){nt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return NO}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new _y(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Je;function GO(n){switch(n){case te.OK:return Oe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function zT(n){if(n===void 0)return Ms("GRPC error has no .code"),te.UNKNOWN;switch(n){case Ct.OK:return te.OK;case Ct.CANCELLED:return te.CANCELLED;case Ct.UNKNOWN:return te.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return te.INTERNAL;case Ct.UNAVAILABLE:return te.UNAVAILABLE;case Ct.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ct.NOT_FOUND:return te.NOT_FOUND;case Ct.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ct.ABORTED:return te.ABORTED;case Ct.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ct.DATA_LOSS:return te.DATA_LOSS;default:return Oe(39323,{code:n})}}(Je=Ct||(Ct={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new xi([4294967295,4294967295],0);function oE(n){const e=uT().encode(n),t=new nT;return t.update(e),new Uint8Array(t.digest())}function aE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xi([t,r],0),new xi([i,a],0)]}class Ey{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ec(`Invalid padding: ${t}`);if(r<0)throw new Ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=xi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(xi.fromNumber(r)));return i.compare(KO)===1&&(i=new xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=oE(e),[r,i]=aE(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Ey(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=oE(e),[r,i]=aE(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cf(je.min(),i,new gt($e),Os(),Ge())}}class iu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new iu(r,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class $T{constructor(e,t){this.targetId=e,this.Ce=t}}class BT{constructor(e,t,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class lE{constructor(){this.Fe=0,this.Me=cE(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ge(),t=Ge(),r=Ge();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:a})}}),new iu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=cE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,nt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class QO{constructor(e){this.ze=e,this.je=new Map,this.He=Os(),this.Je=Dd(),this.Ye=Dd(),this.Ze=new gt($e)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(ug(a))if(r===0){const l=new Ae(a.path);this.tt(t,l,rn.newNoDocument(l,je.min()))}else nt(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=bi(r).toUint8Array()}catch(h){if(h instanceof pT)return Ga("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Ey(l,i,a)}catch(h){return Ga(h instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&ug(u.target)){const h=new Ae(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,rn.newNoDocument(h,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=Ge();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new cf(e,t,this.Ze,this.He,r);return this.He=Os(),this.Je=Dd(),this.Ye=Dd(),this.Ze=new gt($e),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new lE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ot($e),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ot($e),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Dd(){return new gt(Ae.comparator)}function cE(){return new gt(Ae.comparator)}const YO={asc:"ASCENDING",desc:"DESCENDING"},XO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JO={and:"AND",or:"OR"};class ZO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hg(n,e){return n.useProto3Json||nf(e)?e:{value:e}}function bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eL(n,e){return bh(n,e.toTimestamp())}function Xr(n){return nt(!!n,49232),je.fromTimestamp(function(t){const r=Ci(t);return new tt(r.seconds,r.nanos)}(n))}function xy(n,e){return fg(n,e).canonicalString()}function fg(n,e){const t=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function HT(n){const e=ut.fromString(n);return nt(YT(e),10190,{key:e.toString()}),e}function pg(n,e){return xy(n.databaseId,e.path)}function bm(n,e){const t=HT(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(GT(t))}function qT(n,e){return xy(n.databaseId,e)}function tL(n){const e=HT(n);return e.length===4?ut.emptyPath():GT(e)}function mg(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GT(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function uE(n,e,t){return{name:pg(n,e),fields:t.value.mapValue.fields}}function nL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(nt(y===void 0||typeof y=="string",58123),Yt.fromBase64String(y||"")):(nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Yt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const y=p.code===void 0?te.UNKNOWN:zT(p.code);return new fe(y,p.message||"")}(l);t=new BT(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bm(n,r.document.name),a=Xr(r.document.updateTime),l=r.document.createTime?Xr(r.document.createTime):je.min(),u=new xn({mapValue:{fields:r.document.fields}}),h=rn.newFoundDocument(i,a,l,u),p=r.targetIds||[],y=r.removedTargetIds||[];t=new sh(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bm(n,r.document),a=r.readTime?Xr(r.readTime):je.min(),l=rn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new sh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bm(n,r.document),a=r.removedTargetIds||[];t=new sh([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new qO(i,a),u=r.targetId;t=new $T(u,l)}}return t}function rL(n,e){let t;if(e instanceof su)t={update:uE(n,e.key,e.value)};else if(e instanceof wy)t={delete:pg(n,e.key)};else if(e instanceof Li)t={update:uE(n,e.key,e.data),updateMask:hL(e.fieldMask)};else{if(!(e instanceof BO))return Oe(16599,{ft:e.type});t={verify:pg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Ih)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Bc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ch)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Oe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:eL(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)}(n,e.precondition)),t}function sL(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?Xr(i.updateTime):Xr(a);return l.isEqual(je.min())&&(l=Xr(a)),new UO(l,i.transformResults||[])}(t,e))):[]}function iL(n,e){return{documents:[qT(n,e.path)]}}function oL(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=qT(n,i);const a=function(p){if(p.length!==0)return QT(Cr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Oa(E.field),direction:cL(E.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=hg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:i}}function aL(n){let e=tL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){nt(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(v){const E=KT(v);return E instanceof Cr&&TT(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(E=>function(b){return new $c(La(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(E))}(t.orderBy));let u=null;t.limit&&(u=function(v){let E;return E=typeof v=="object"?v.value:v,nf(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(v){const E=!!v.before,T=v.values||[];return new Sh(T,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,T=v.values||[];return new Sh(T,E)}(t.endAt)),bO(e,i,l,a,u,"F",h,p)}function lL(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=La(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=La(t.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=La(t.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=La(t.unaryFilter.field);return bt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return bt.create(La(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(r=>KT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(t.compositeFilter.op))}(n):Oe(30097,{filter:n})}function cL(n){return YO[n]}function uL(n){return XO[n]}function dL(n){return JO[n]}function Oa(n){return{fieldPath:n.canonicalString()}}function La(n){return Qt.fromServerFormat(n.fieldPath)}function QT(n){return n instanceof bt?function(t){if(t.op==="=="){if(X0(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NAN"}};if(Y0(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(X0(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NOT_NAN"}};if(Y0(t.value))return{unaryFilter:{field:Oa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(t.field),op:uL(t.op),value:t.value}}}(n):n instanceof Cr?function(t){const r=t.getFilters().map(i=>QT(i));return r.length===1?r[0]:{compositeFilter:{op:dL(t.op),filters:r}}}(n):Oe(54877,{filter:n})}function hL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t,r,i,a=je.min(),l=je.min(),u=Yt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.wt=e}}function pL(n){const e=aL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.yn=new gL}addToCollectionParentIndex(e,t){return this.yn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Ii.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class gL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ot(ut.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(XT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Xa(0)}static ir(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",yL=1048576;function fE([n,e],[t,r]){const i=$e(n,t);return i===0?$e(e,r):i}class vL{constructor(e){this.cr=e,this.buffer=new Ot(fE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();fE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(hE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?pe(hE,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.Ir(3e5)})}}class _L{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(tf.le);const r=new vL(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(dE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,a,l,u,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Da()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function EL(n,e){return new _L(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.changes=new Do(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&kc(r.mutation,i,Ln.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ge()){const i=_o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=_c();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=_o();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ge()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=Os();const l=Rc(),u=function(){return Rc()}();return t.forEach((h,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof Li)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),kc(y.mutation,p,y.mutation.getFieldMask(),tt.now())):l.set(p.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,y)=>l.set(p,y)),t.forEach((p,y)=>{var v;return u.set(p,new SL(y,(v=l.get(p))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Rc();let i=new gt((l,u)=>l-u),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||Ln.empty();y=u.applyToLocalView(p,y),r.set(h,y);const v=(i.get(u.batchId)||Ge()).add(h);i=i.insert(u.batchId,v)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,y=h.value,v=DT();y.forEach(E=>{if(!a.has(E)){const T=FT(t.get(E),r.get(E));T!==null&&v.set(E,T),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ne.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ne.resolve(_o());let u=Vc,h=a;return l.next(p=>ne.forEach(p,(y,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{h=h.insert(y,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Ge())).next(y=>({batchId:u,changes:NT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=_c();return this.indexManager.getCollectionParents(e,a).next(u=>ne.forEach(u,h=>{const p=function(v,E){return new hl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(y=>{y.forEach((v,E)=>{l=l.insert(v,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((h,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,rn.newInvalidDocument(y)))});let u=_c();return l.forEach((h,p)=>{const y=a.get(h);y!==void 0&&kc(y.mutation,p,Ln.empty(),tt.now()),of(t,p)&&(u=u.insert(h,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xr(i.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:pL(i.bundledQuery),readTime:Xr(i.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.overlays=new gt(Ae.comparator),this.Or=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_o();return ne.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const i=_o(),a=t.length+1,l=new Ae(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new gt((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=_o(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const u=_o(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>u.set(p,y)),!(u.size()>=i)););return ne.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new HO(t,r));let a=this.Or.get(t);a===void 0&&(a=Ge(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.Nr=new Ot($t.Br),this.Lr=new Ot($t.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new $t(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new $t(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ae(new ut([])),r=new $t(t,e),i=new $t(t,e+1),a=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ae(new ut([])),r=new $t(t,e),i=new $t(t,e+1);let a=Ge();return this.Lr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new $t(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ae.comparator(e.key,t.key)||$e(e.Gr,t.Gr)}static kr(e,t){return $e(e.Gr,t.Gr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ot($t.Br)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new WO(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.zr=this.zr.add(new $t(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?hy:this.Jn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,i],l=>{const u=this.jr(l.Gr);a.push(u)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot($e);return t.forEach(i=>{const a=new $t(i,0),l=new $t(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],u=>{r=r.add(u.Gr)})}),ne.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const l=new $t(new Ae(a),0);let u=new Ot($e);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.Gr)),!0)},l),ne.resolve(this.Jr(u))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){nt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ne.forEach(t.mutations,i=>{const a=new $t(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new $t(t,0),i=this.zr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.Zr=e,this.docs=function(){return new gt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Os();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():rn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Os();const l=t.path,u=new Ae(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||iO(sO(y),r)<=0||(i.has(y.key)||of(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Oe(9500)}Xr(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kL(this)}getSize(e){return ne.resolve(this.size)}}class kL extends xL{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.persistence=e,this.ei=new Do(t=>my(t),gy),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ti=0,this.ni=new Sy,this.targetCount=0,this.ri=Xa.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),ne.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Xa(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.ar(t),ne.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ne.waitFor(a).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t){this.ii={},this.overlays={},this.si=new tf(0),this.oi=!1,this.oi=!0,this._i=new bL,this.referenceDelegate=e(this),this.ai=new PL(this),this.indexManager=new mL,this.remoteDocumentCache=function(i){return new RL(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new fL(t),this.ci=new IL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new AL(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new NL(this.si.next());return this.referenceDelegate.li(),r(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,t){return ne.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class NL extends aO{constructor(e){super(),this.currentSequenceNumber=e}}class Ty{constructor(e){this.persistence=e,this.Ti=new Sy,this.Ii=null}static Ei(e){return new Ty(e)}get di(){if(this.Ii)return this.Ii;throw Oe(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,r=>{const i=Ae.fromPath(r);return this.Ai(e,i).next(a=>{a||t.removeEntry(i,je.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ne.or([()=>ne.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Ah{constructor(e,t){this.persistence=e,this.Ri=new Do(r=>uO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=EL(this,t)}static Ei(e,t){return new Ah(e,t)}li(){}hi(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return ne.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(a=>a?ne.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,t).next(u=>{u||(r++,a.removeEntry(l,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ne.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=th(e.data.value)),t}gr(e,t,r){return ne.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=Ge(),i=Ge();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Iy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Vk()?8:lO(on())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.Rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new DL;return this.fs(e,t,l).next(u=>{if(a.result=u,this.Is)return this.gs(e,t,l,u.size)})}).next(()=>a.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Da()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ma(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ne.resolve()):(Da()<=He.DEBUG&&pe("QueryEngine","Query:",Ma(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Da()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ma(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(t))):ne.resolve())}Rs(e,t){if(tE(t))return ne.resolve(null);let r=Yr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Th(t,null,"F"),r=Yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ge(...a);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,u);return this.ys(t,p,l,h.readTime)?this.Rs(e,Th(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,i){return tE(t)||i.isEqual(je.min())?ne.resolve(null):this.As.getDocuments(e,r).next(a=>{const l=this.ps(t,a);return this.ys(t,l,r,i)?ne.resolve(null):(Da()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ma(t)),this.ws(e,l,t,rO(i,Vc)).next(u=>u))})}ps(e,t){let r=new Ot(kT(e));return t.forEach((i,a)=>{of(e,a)&&(r=r.add(a))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,t,r){return Da()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ma(t)),this.As.getDocumentsMatchingQuery(e,t,Ii.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LocalStore",OL=3e8;class LL{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new gt($e),this.Ds=new Do(a=>my(a),gy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TL(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function jL(n,e,t,r){return new LL(n,e,t,r)}async function ZT(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let h=Ge();for(const p of i){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of a){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:u}))})})}function VL(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const v=p.batch,E=v.keys();let T=ne.resolve();return E.forEach(b=>{T=T.next(()=>y.getEntry(h,b)).next(I=>{const R=p.docVersions.get(b);nt(R!==null,48541),I.version.compareTo(R)<0&&(v.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),y.addEntry(I)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Ge();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function eI(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function FL(n,e){const t=Ve(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const u=[];e.targetChanges.forEach((y,v)=>{const E=i.get(v);if(!E)return;u.push(t.ai.removeMatchingKeys(a,y.removedDocuments,v).next(()=>t.ai.addMatchingKeys(a,y.addedDocuments,v)));let T=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Yt.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),i=i.insert(v,T),function(I,R,D){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=OL?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(E,T,y)&&u.push(t.ai.updateTargetData(a,T))});let h=Os(),p=Ge();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),u.push(UL(a,l,e.documentUpdates).next(y=>{h=y.xs,p=y.Os})),!r.isEqual(je.min())){const y=t.ai.getLastRemoteSnapshotVersion(a).next(v=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(y)}return ne.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ss=i,a))}function UL(n,e,t){let r=Ge(),i=Ge();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Os();return t.forEach((u,h)=>{const p=a.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):pe(Cy,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{xs:l,Os:i}})}function zL(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $L(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(a=>a?(i=a,ne.resolve(i)):t.ai.allocateTargetId(r).next(l=>(i=new wi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function gg(n,e,t){const r=Ve(n),i=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!dl(l))throw l;pe(Cy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function pE(n,e,t){const r=Ve(n);let i=je.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,y){const v=Ve(h),E=v.Ds.get(y);return E!==void 0?ne.resolve(v.Ss.get(E)):v.ai.getTargetData(p,y)}(r,l,Yr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?i:je.min(),t?a:Ge())).next(u=>(BL(r,RO(e),u),{documents:u,Ns:a})))}function BL(n,e,t){let r=n.vs.get(e)||je.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class mE{constructor(){this.activeTargetIds=OO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WL{constructor(){this.So=new mE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new mE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="ConnectivityMonitor";class yE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(gE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(gE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md=null;function yg(){return Md===null?Md=function(){return 268435456+Math.round(2147483648*Math.random())}():Md++,"0x"+Md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",qL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GL{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Eh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,a){const l=yg(),u=this.$o(e,t.toUriEncodedString());pe(Am,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,i,a),this.Ko(e,u,h,r).then(p=>(pe(Am,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Ga(Am,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p})}Wo(e,t,r,i,a,l){return this.Qo(e,t,r,i,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}$o(e,t){const r=qL[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class QL extends GL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){const a=yg();return new Promise((l,u)=>{const h=new rT;h.setWithCredentials(!0),h.listenOnce(sT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case eh.NO_ERROR:const y=h.getResponseJson();pe(tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case eh.TIMEOUT:pe(tn,`RPC '${e}' ${a} timed out`),u(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const v=h.getStatus();if(pe(tn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E==null?void 0:E.error;if(T&&T.status&&T.message){const b=function(R){const D=R.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN}(T.status);u(new fe(b,T.message))}else u(new fe(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new fe(te.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{s_:e,streamId:a,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{pe(tn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);pe(tn,`RPC '${e}' ${a} sending request:`,i),h.send(t,"POST",p,r,15)})}a_(e,t,r){const i=yg(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=aT(),u=oT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=a.join("");pe(tn,`Creating RPC '${e}' stream ${i}: ${y}`,h);const v=l.createWebChannel(y,h);let E=!1,T=!1;const b=new KL({Go:R=>{T?pe(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(E||(pe(tn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),pe(tn,`RPC '${e}' stream ${i} sending:`,R),v.send(R))},zo:()=>v.close()}),I=(R,D,U)=>{R.listen(D,V=>{try{U(V)}catch(z){setTimeout(()=>{throw z},0)}})};return I(v,wc.EventType.OPEN,()=>{T||(pe(tn,`RPC '${e}' stream ${i} transport opened.`),b.t_())}),I(v,wc.EventType.CLOSE,()=>{T||(T=!0,pe(tn,`RPC '${e}' stream ${i} transport closed`),b.r_())}),I(v,wc.EventType.ERROR,R=>{T||(T=!0,Ga(tn,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.r_(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),I(v,wc.EventType.MESSAGE,R=>{var D;if(!T){const U=R.data[0];nt(!!U,16349);const V=U,z=(V==null?void 0:V.error)||((D=V[0])===null||D===void 0?void 0:D.error);if(z){pe(tn,`RPC '${e}' stream ${i} received error:`,z);const W=z.status;let Y=function(k){const M=Ct[k];if(M!==void 0)return zT(M)}(W),N=z.message;Y===void 0&&(Y=te.INTERNAL,N="Unknown error status: "+W+" with message "+z.message),T=!0,b.r_(new fe(Y,N)),v.close()}else pe(tn,`RPC '${e}' stream ${i} received:`,U),b.i_(U)}}),I(u,iT.STAT_EVENT,R=>{R.stat===ig.PROXY?pe(tn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===ig.NOPROXY&&pe(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(n){return new ZO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t,r=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="PersistentStream";class nI{constructor(e,t,r,i,a,l,u,h){this.bi=e,this.R_=r,this.V_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new tI(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ms(t.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(vE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(pe(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YL extends nI{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=nL(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?Xr(l.readTime):je.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=mg(this.serializer),t.addTarget=function(a,l){let u;const h=l.target;if(u=ug(h)?{documents:iL(a,h)}:{query:oL(a,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=WT(a,l.resumeToken);const p=hg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=bh(a,l.snapshotVersion.toTimestamp());const p=hg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=lL(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=mg(this.serializer),t.removeTarget=e,this.F_(t)}}class XL extends nI{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=sL(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=mg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rL(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{}class ZL extends JL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,fg(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(te.UNKNOWN,a.toString())})}Wo(e,t,r,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,fg(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(te.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class ej{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ms(t),this.ea=!1):pe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="RemoteStore";class tj{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{r.enqueueAndForget(async()=>{Mo(this)&&(pe(Co,"Restarting streams for network reachability change."),await async function(h){const p=Ve(h);p.aa.add(4),await ou(p),p.la.set("Unknown"),p.aa.delete(4),await df(p)}(this))})}),this.la=new ej(r,i)}}async function df(n){if(Mo(n))for(const e of n.ua)await e(!0)}async function ou(n){for(const e of n.ua)await e(!1)}function rI(n,e){const t=Ve(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),ky(t)?Ry(t):fl(t).b_()&&Ay(t,e))}function by(n,e){const t=Ve(n),r=fl(t);t._a.delete(e),r.b_()&&sI(t,e),t._a.size===0&&(r.b_()?r.v_():Mo(t)&&t.la.set("Unknown"))}function Ay(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(n).U_(e)}function sI(n,e){n.ha.Ke(e),fl(n).K_(e)}function Ry(n){n.ha=new QO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),fl(n).start(),n.la.ta()}function ky(n){return Mo(n)&&!fl(n).w_()&&n._a.size>0}function Mo(n){return Ve(n).aa.size===0}function iI(n){n.ha=void 0}async function nj(n){n.la.set("Online")}async function rj(n){n._a.forEach((e,t)=>{Ay(n,e)})}async function sj(n,e){iI(n),ky(n)?(n.la.ia(e),Ry(n)):n.la.set("Unknown")}async function ij(n,e,t){if(n.la.set("Online"),e instanceof BT&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i._a.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i._a.delete(u),i.ha.removeTarget(u))}(n,e)}catch(r){pe(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(n,r)}else if(e instanceof sh?n.ha.Xe(e):e instanceof $T?n.ha.ot(e):n.ha.nt(e),!t.isEqual(je.min()))try{const r=await eI(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.ha.It(l);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=a._a.get(p);y&&a._a.set(p,y.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,p)=>{const y=a._a.get(h);if(!y)return;a._a.set(h,y.withResumeToken(Yt.EMPTY_BYTE_STRING,y.snapshotVersion)),sI(a,h);const v=new wi(y.target,h,p,y.sequenceNumber);Ay(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){pe(Co,"Failed to raise snapshot:",r),await Rh(n,r)}}async function Rh(n,e,t){if(!dl(e))throw e;n.aa.add(1),await ou(n),n.la.set("Offline"),t||(t=()=>eI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Co,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await df(n)})}function oI(n,e){return e().catch(t=>Rh(n,t,e))}async function hf(n){const e=Ve(n),t=Ri(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:hy;for(;oj(e);)try{const i=await zL(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,aj(e,i)}catch(i){await Rh(e,i)}aI(e)&&lI(e)}function oj(n){return Mo(n)&&n.oa.length<10}function aj(n,e){n.oa.push(e);const t=Ri(n);t.b_()&&t.W_&&t.G_(e.mutations)}function aI(n){return Mo(n)&&!Ri(n).w_()&&n.oa.length>0}function lI(n){Ri(n).start()}async function lj(n){Ri(n).H_()}async function cj(n){const e=Ri(n);for(const t of n.oa)e.G_(t.mutations)}async function uj(n,e,t){const r=n.oa.shift(),i=_y.from(r,e,t);await oI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await hf(n)}async function dj(n,e){e&&Ri(n).W_&&await async function(r,i){if(function(l){return GO(l)&&l!==te.ABORTED}(i.code)){const a=r.oa.shift();Ri(r).D_(),await oI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await hf(r)}}(n,e),aI(n)&&lI(n)}async function wE(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),pe(Co,"RemoteStore received new credentials");const r=Mo(t);t.aa.add(3),await ou(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await df(t)}async function hj(n,e){const t=Ve(n);e?(t.aa.delete(2),await df(t)):e||(t.aa.add(2),await ou(t),t.la.set("Unknown"))}function fl(n){return n.Pa||(n.Pa=function(t,r,i){const a=Ve(t);return a.Y_(),new YL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{jo:nj.bind(null,n),Jo:rj.bind(null,n),Zo:sj.bind(null,n),Q_:ij.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),ky(n)?Ry(n):n.la.set("Unknown")):(await n.Pa.stop(),iI(n))})),n.Pa}function Ri(n){return n.Ta||(n.Ta=function(t,r,i){const a=Ve(t);return a.Y_(),new XL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:lj.bind(null,n),Zo:dj.bind(null,n),z_:cj.bind(null,n),j_:uj.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await hf(n)):(await n.Ta.stop(),n.oa.length>0&&(pe(Co,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new Py(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ny(n,e){if(Ms("AsyncQueue",`${e}: ${n}`),dl(n))return new fe(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(e){return new Ba(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=_c(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.Ia=new gt(Ae.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Oe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ja{constructor(e,t,r,i,a,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Ja(e,t,Ba.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class pj{constructor(){this.queries=EE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=Ve(t),a=i.queries;i.queries=EE(),a.forEach((l,u)=>{for(const h of u.Ra)h.onError(r)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function EE(){return new Do(n=>RT(n),sf)}async function cI(n,e){const t=Ve(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Va()&&e.ma()&&(r=2):(a=new fj,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(i,!0);break;case 1:a.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Ny(l,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Dy(t)}async function uI(n,e){const t=Ve(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function mj(n,e){const t=Ve(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Ra)u.pa(i)&&(r=!0);l.Aa=i}}r&&Dy(t)}function gj(n,e,t){const r=Ve(n),i=r.queries.get(e);if(i)for(const a of i.Ra)a.onError(t);r.queries.delete(e)}function Dy(n){n.fa.forEach(e=>{e.next()})}var vg,xE;(xE=vg||(vg={})).ya="default",xE.Cache="cache";class dI{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.key=e}}class fI{constructor(e){this.key=e}}class yj{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ge(),this.mutatedKeys=Ge(),this.Ua=kT(e),this.Ka=new Ba(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new _E,i=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,v)=>{const E=i.get(y),T=of(this.query,v)?v:null,b=!!E&&this.mutatedKeys.has(E.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;E&&T?E.data.isEqual(T.data)?b!==I&&(r.track({type:3,doc:T}),R=!0):this.ja(E,T)||(r.track({type:2,doc:T}),R=!0,(h&&this.Ua(T,h)>0||p&&this.Ua(T,p)<0)&&(u=!0)):!E&&T?(r.track({type:0,doc:T}),R=!0):E&&!T&&(r.track({type:1,doc:E}),R=!0,(h||p)&&(u=!0)),R&&(T?(l=l.add(T),a=I?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ka:l,za:r,ys:u,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((y,v)=>function(T,b){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:R})}};return I(T)-I(b)}(y.type,v.type)||this.Ua(y.doc,v.doc)),this.Ha(r),i=i!=null&&i;const u=t&&!i?this.Ja():[],h=this.$a.size===0&&this.current&&!i?1:0,p=h!==this.Qa;return this.Qa=h,l.length!==0||p?{snapshot:new Ja(this.query,e.Ka,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new _E,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ge(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new fI(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new hI(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Ge();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Ja.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const My="SyncEngine";class vj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wj{constructor(e){this.key=e,this.tu=!1}}class _j{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Do(u=>RT(u),sf),this.iu=new Map,this.su=new Set,this.ou=new gt(Ae.comparator),this._u=new Map,this.au=new Sy,this.uu={},this.cu=new Map,this.lu=Xa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Ej(n,e,t=!0){const r=wI(n);let i;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await pI(r,e,t,!0),i}async function xj(n,e){const t=wI(n);await pI(t,e,!0,!1)}async function pI(n,e,t,r){const i=await $L(n.localStore,Yr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await Sj(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&rI(n.remoteStore,i),u}async function Sj(n,e,t,r,i){n.Pu=(v,E,T)=>async function(I,R,D,U){let V=R.view.Ga(D);V.ys&&(V=await pE(I.localStore,R.query,!1).then(({documents:N})=>R.view.Ga(N,V)));const z=U&&U.targetChanges.get(R.targetId),W=U&&U.targetMismatches.get(R.targetId)!=null,Y=R.view.applyChanges(V,I.isPrimaryClient,z,W);return TE(I,R.targetId,Y.Ya),Y.snapshot}(n,v,E,T);const a=await pE(n.localStore,e,!0),l=new yj(e,a.Ns),u=l.Ga(a.documents),h=iu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,h);TE(n,t,p.Ya);const y=new vj(e,t,l);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function Tj(n,e,t){const r=Ve(n),i=r.ru.get(e),a=r.iu.get(i.targetId);if(a.length>1)return r.iu.set(i.targetId,a.filter(l=>!sf(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&by(r.remoteStore,i.targetId),wg(r,i.targetId)}).catch(ul)):(wg(r,i.targetId),await gg(r.localStore,i.targetId,!0))}async function Ij(n,e){const t=Ve(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),by(t.remoteStore,r.targetId))}async function Cj(n,e,t){const r=Dj(n);try{const i=await function(l,u){const h=Ve(l),p=tt.now(),y=u.reduce((T,b)=>T.add(b.key),Ge());let v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=Os(),I=Ge();return h.Cs.getEntries(T,y).next(R=>{b=R,b.forEach((D,U)=>{U.isValidDocument()||(I=I.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,b)).next(R=>{v=R;const D=[];for(const U of u){const V=$O(U,v.get(U.key).overlayedDocument);V!=null&&D.push(new Li(U.key,V,ET(V.value.mapValue),Zn.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,D,u)}).next(R=>{E=R;const D=R.applyToLocalDocumentSet(v,I);return h.documentOverlayCache.saveOverlays(T,R.batchId,D)})}).then(()=>({batchId:E.batchId,changes:NT(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let p=l.uu[l.currentUser.toKey()];p||(p=new gt($e)),p=p.insert(u,h),l.uu[l.currentUser.toKey()]=p}(r,i.batchId,t),await au(r,i.changes),await hf(r.remoteStore)}catch(i){const a=Ny(i,"Failed to persist write");t.reject(a)}}async function mI(n,e){const t=Ve(n);try{const r=await FL(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t._u.get(a);l&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?nt(l.tu,14607):i.removedDocuments.size>0&&(nt(l.tu,42227),l.tu=!1))}),await au(t,r,e)}catch(r){await ul(r)}}function SE(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((a,l)=>{const u=l.view.ga(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=Ve(l);h.onlineState=u;let p=!1;h.queries.forEach((y,v)=>{for(const E of v.Ra)E.ga(u)&&(p=!0)}),p&&Dy(h)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bj(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),a=i&&i.key;if(a){let l=new gt(Ae.comparator);l=l.insert(a,rn.newNoDocument(a,je.min()));const u=Ge().add(a),h=new cf(je.min(),new Map,new gt($e),l,u);await mI(r,h),r.ou=r.ou.remove(a),r._u.delete(e),Oy(r)}else await gg(r.localStore,e,!1).then(()=>wg(r,e,t)).catch(ul)}async function Aj(n,e){const t=Ve(n),r=e.batch.batchId;try{const i=await VL(t.localStore,e);yI(t,r,null),gI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await au(t,i)}catch(i){await ul(i)}}async function Rj(n,e,t){const r=Ve(n);try{const i=await function(l,u){const h=Ve(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,u).next(v=>(nt(v!==null,37113),y=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);yI(r,e,t),gI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await au(r,i)}catch(i){await ul(i)}}function gI(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function yI(n,e,t){const r=Ve(n);let i=r.uu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function wg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||vI(n,r)})}function vI(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(by(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Oy(n))}function TE(n,e,t){for(const r of t)r instanceof hI?(n.au.addReference(r.key,e),kj(n,r)):r instanceof fI?(pe(My,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||vI(n,r.key)):Oe(19791,{Iu:r})}function kj(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(pe(My,"New document in limbo: "+t),n.su.add(r),Oy(n))}function Oy(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ae(ut.fromString(e)),r=n.lu.next();n._u.set(r,new wj(t)),n.ou=n.ou.insert(t,r),rI(n.remoteStore,new wi(Yr(yy(t.path)),r,"TargetPurposeLimboResolution",tf.le))}}async function au(n,e,t){const r=Ve(n),i=[],a=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,h)=>{l.push(r.Pu(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Iy.Ps(h.targetId,p);a.push(v)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(h,p){const y=Ve(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ne.forEach(p,E=>ne.forEach(E.ls,T=>y.persistence.referenceDelegate.addReference(v,E.targetId,T)).next(()=>ne.forEach(E.hs,T=>y.persistence.referenceDelegate.removeReference(v,E.targetId,T)))))}catch(v){if(!dl(v))throw v;pe(Cy,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const T=y.Ss.get(E),b=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(b);y.Ss=y.Ss.insert(E,I)}}}(r.localStore,a))}async function Pj(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){pe(My,"User change. New user:",e.toKey());const r=await ZT(t.localStore,e);t.currentUser=e,function(a,l){a.cu.forEach(u=>{u.forEach(h=>{h.reject(new fe(te.CANCELLED,l))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(t,r.Ms)}}function Nj(n,e){const t=Ve(n),r=t._u.get(e);if(r&&r.tu)return Ge().add(r.key);{let i=Ge();const a=t.iu.get(e);if(!a)return i;for(const l of a){const u=t.ru.get(l);i=i.unionWith(u.view.Wa)}return i}}function wI(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bj.bind(null,e),e.nu.Q_=mj.bind(null,e.eventManager),e.nu.Tu=gj.bind(null,e.eventManager),e}function Dj(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rj.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return jL(this.persistence,new ML,e.initialUser,this.serializer)}Ru(e){return new JT(Ty.Ei,this.serializer)}Au(e){return new WL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class Mj extends kh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){nt(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wL(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new JT(r=>Ah.Ei(r,t),this.serializer)}}class _g{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pj.bind(null,this.syncEngine),await hj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pj}()}createDatastore(e){const t=uf(e.databaseInfo.databaseId),r=function(a){return new QL(a)}(e.databaseInfo);return function(a,l,u,h){return new ZL(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new tj(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>SE(this.syncEngine,t,0),function(){return yE.C()?new yE:new HL}())}createSyncEngine(e,t){return function(i,a,l,u,h,p,y){const v=new _j(i,a,l,u,h,p);return y&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ve(i);pe(Co,"RemoteStore shutting down."),a.aa.add(5),await ou(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="FirestoreClient";class Oj{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=dT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{pe(ki,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe(ki,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ny(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function km(n,e){n.asyncQueue.verifyOperationInProgress(),pe(ki,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function IE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Lj(n);pe(ki,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>wE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>wE(e.remoteStore,i)),n._onlineComponents=e}async function Lj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(ki,"Using user provided OfflineComponentProvider");try{await km(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ga("Error using user provided cache. Falling back to memory cache: "+t),await km(n,new kh)}}else pe(ki,"Using default OfflineComponentProvider"),await km(n,new Mj(void 0));return n._offlineComponents}async function EI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(ki,"Using user provided OnlineComponentProvider"),await IE(n,n._uninitializedComponentsProvider._online)):(pe(ki,"Using default OnlineComponentProvider"),await IE(n,new _g))),n._onlineComponents}function jj(n){return EI(n).then(e=>e.syncEngine)}async function xI(n){const e=await EI(n),t=e.eventManager;return t.onListen=Ej.bind(null,e.syncEngine),t.onUnlisten=Tj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ij.bind(null,e.syncEngine),t}function Vj(n,e,t={}){const r=new Rs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,p){const y=new _I({next:E=>{y.yu(),l.enqueueAndForget(()=>uI(a,v));const T=E.docs.has(u);!T&&E.fromCache?p.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&h&&h.source==="server"?p.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new dI(yy(u.path),y,{includeMetadataChanges:!0,Fa:!0});return cI(a,v)}(await xI(n),n.asyncQueue,e,t,r)),r.promise}function Fj(n,e,t={}){const r=new Rs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,p){const y=new _I({next:E=>{y.yu(),l.enqueueAndForget(()=>uI(a,v)),E.fromCache&&h.source==="server"?p.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new dI(u,y,{includeMetadataChanges:!0,Fa:!0});return cI(a,v)}(await xI(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n,e,t){if(!t)throw new fe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uj(n,e,t,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bE(n){if(!Ae.isDocumentKey(n))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AE(n){if(Ae.isDocumentKey(n))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ff(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(n);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zj(n,e){if(e<=0)throw new fe(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firestore.googleapis.com",RE=!0;class kE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=II,this.ssl=RE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:RE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yL)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KM;switch(r.type){case"firstParty":return new JM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=CE.get(t);r&&(pe("ComponentProvider","Removing Datastore"),CE.delete(t),r.terminate())}(this),Promise.resolve()}}function $j(n,e,t,r={}){var i;const a=(n=br(n,pf))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;a.host!==II&&a.host!==u&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:r});if(!Ti(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=nn.MOCK_USER;else{p=Nk(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nn(v)}n._authCredentials=new QM(new cT(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Si extends ji{constructor(e,t,r){super(e,t,yy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Ae(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function Od(n,e,...t){if(n=wt(n),TI("collection","path",e),n instanceof pf){const r=ut.fromString(e,...t);return AE(r),new Si(n,null,r)}{if(!(n instanceof dn||n instanceof Si))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return AE(r),new Si(n.firestore,null,r)}}function Pc(n,e,...t){if(n=wt(n),arguments.length===1&&(e=dT.newId()),TI("doc","path",e),n instanceof pf){const r=ut.fromString(e,...t);return bE(r),new dn(n,null,new Ae(r))}{if(!(n instanceof dn||n instanceof Si))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return bE(r),new dn(n.firestore,n instanceof Si?n.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new tI(this,"async_queue_retry"),this.ju=()=>{const r=Rm();r&&pe(PE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Rm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Rm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Rs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!dl(e))throw e;pe(PE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ms("INTERNAL UNHANDLED ERROR: ",DE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=Py.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Oe(47125,{ec:DE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function DE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Oo extends pf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new NE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function Bj(n,e){const t=typeof n=="object"?n:Qg(),r=typeof n=="string"?n:Eh,i=No(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=kk("firestore");a&&$j(i,...a)}return i}function Ly(n){if(n._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Wj(n),n._firestoreClient}function Wj(n){var e,t,r;const i=n._freezeSettings(),a=function(u,h,p,y){return new fO(u,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,SI(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Oj(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(Yt.fromBase64String(e))}catch(t){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Za(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=/^__.*__$/;class qj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}class CI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Li(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{oc:n})}}class Uy{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ph(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(bI(this.oc)&&Hj.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Gj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uf(e)}dc(e,t,r,i=!1){return new Uy({oc:e,methodName:t,Ec:r,path:Qt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(n){const e=n._freezeSettings(),t=uf(n._databaseId);return new Gj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AI(n,e,t,r,i,a={}){const l=n.dc(a.merge||a.mergeFields?2:0,e,t,i);zy("Data must be an object, but it was:",l,r);const u=RI(r,l);let h,p;if(a.merge)h=new Ln(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const v of a.mergeFields){const E=Eg(e,v,t);if(!l.contains(E))throw new fe(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);PI(y,E)||y.push(E)}h=new Ln(y),p=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=l.fieldTransforms;return new qj(new xn(u),h,p)}class yf extends jy{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}function Kj(n,e,t,r){const i=n.dc(1,e,t);zy("Data must be an object, but it was:",i,r);const a=[],l=xn.empty();Oi(r,(h,p)=>{const y=$y(e,h,t);p=wt(p);const v=i.hc(y);if(p instanceof yf)a.push(y);else{const E=lu(p,v);E!=null&&(a.push(y),l.set(y,E))}});const u=new Ln(a);return new CI(l,u,i.fieldTransforms)}function Qj(n,e,t,r,i,a){const l=n.dc(1,e,t),u=[Eg(e,r,t)],h=[i];if(a.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)u.push(Eg(e,a[E])),h.push(a[E+1]);const p=[],y=xn.empty();for(let E=u.length-1;E>=0;--E)if(!PI(p,u[E])){const T=u[E];let b=h[E];b=wt(b);const I=l.hc(T);if(b instanceof yf)p.push(T);else{const R=lu(b,I);R!=null&&(p.push(T),y.set(T,R))}}const v=new Ln(p);return new CI(y,v,l.fieldTransforms)}function Yj(n,e,t,r=!1){return lu(t,n.dc(r?4:3,e))}function lu(n,e){if(kI(n=wt(n)))return zy("Unsupported field value:",e,n),RI(n,e);if(n instanceof jy)return function(r,i){if(!bI(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let h=lu(u,i.Pc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=tt.fromDate(r);return{timestampValue:bh(i.serializer,a)}}if(r instanceof tt){const a=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(i.serializer,a)}}if(r instanceof Vy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Za)return{bytesValue:WT(i.serializer,r._byteString)};if(r instanceof dn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fy)return function(l,u){return{mapValue:{fields:{[wT]:{stringValue:_T},[xh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Tc("VectorValues must only contain numeric values.");return vy(u.serializer,p)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${ff(r)}`)}(n,e)}function RI(n,e){const t={};return fT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(n,(r,i)=>{const a=lu(i,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function kI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof Vy||n instanceof Za||n instanceof dn||n instanceof jy||n instanceof Fy)}function zy(n,e,t){if(!kI(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=ff(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Eg(n,e,t){if((e=wt(e))instanceof mf)return e._internalPath;if(typeof e=="string")return $y(n,e);throw Ph("Field path arguments must be of type string or ",n,!1,void 0,t)}const Xj=new RegExp("[~\\*/\\[\\]]");function $y(n,e,t){if(e.search(Xj)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ph(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new fe(te.INVALID_ARGUMENT,u+n+h)}function PI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Jj extends NI{data(){return super.data()}}function vf(n,e){return typeof e=="string"?$y(n,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class By{}class Wy extends By{}function Ld(n,e,...t){let r=[];e instanceof By&&r.push(e),r=r.concat(t),function(a){const l=a.filter(h=>h instanceof Hy).length,u=a.filter(h=>h instanceof wf).length;if(l>1||l>0&&u>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class wf extends Wy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wf(e,t,r)}_apply(e){const t=this._parse(e);return DI(e._query,t),new ji(e.firestore,e.converter,dg(e._query,t))}_parse(e){const t=gf(e.firestore);return function(a,l,u,h,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){LE(v,y);const b=[];for(const I of v)b.push(OE(h,a,I));E={arrayValue:{values:b}}}else E=OE(h,a,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||LE(v,y),E=Yj(u,l,v,y==="in"||y==="not-in");return bt.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Pm(n,e,t){const r=e,i=vf("where",n);return wf._create(i,r,t)}class Hy extends By{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const h of u)DI(l,h),l=dg(l,h)}(e._query,t),new ji(e.firestore,e.converter,dg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends Wy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qy(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(a,l)}(e._query,this._field,this._direction);return new ji(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new hl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function jd(n,e="asc"){const t=e,r=vf("orderBy",n);return qy._create(r,t)}class Gy extends Wy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Gy(e,t,r)}_apply(e){return new ji(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function ME(n){return zj("limit",n),Gy._create("limit",n,"F")}function OE(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AT(e)&&t.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ut.fromString(t));if(!Ae.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Q0(n,new Ae(r))}if(t instanceof dn)return Q0(n,t._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function LE(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DI(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eV{convertValue(e,t="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Oi(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[xh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>xt(l.doubleValue));return new Fy(a)}convertGeoPoint(e){return new Vy(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const t=Ci(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ut.fromString(e);nt(YT(r),9688,{name:e});const i=new Uc(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return i.isEqual(t)||Ms(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OI extends NI{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ih extends OI{data(e={}){return super.data(e)}}class tV{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ih(this._firestore,this._userDataWriter,r.key,r,new xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new ih(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new ih(i._firestore,i._userDataWriter,u.doc.key,u.doc,new xc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:nV(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n){n=br(n,dn);const e=br(n.firestore,Oo);return Vj(Ly(e),n._key).then(t=>aV(e,n,t))}class jI extends eV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function Nm(n){n=br(n,ji);const e=br(n.firestore,Oo),t=Ly(e),r=new jI(e);return Zj(n._query),Fj(t,n._query).then(i=>new tV(e,r,n,i))}function rV(n,e,t){n=br(n,dn);const r=br(n.firestore,Oo),i=MI(n.converter,e);return _f(r,[AI(gf(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Zn.none())])}function sV(n,e,t,...r){n=br(n,dn);const i=br(n.firestore,Oo),a=gf(i);let l;return l=typeof(e=wt(e))=="string"||e instanceof mf?Qj(a,"updateDoc",n._key,e,t,r):Kj(a,"updateDoc",n._key,e),_f(i,[l.toMutation(n._key,Zn.exists(!0))])}function iV(n){return _f(br(n.firestore,Oo),[new wy(n._key,Zn.none())])}function oV(n,e){const t=br(n.firestore,Oo),r=Pc(n),i=MI(n.converter,e);return _f(t,[AI(gf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function _f(n,e){return function(r,i){const a=new Rs;return r.asyncQueue.enqueueAndForget(async()=>Cj(await jj(r),i,a)),a.promise}(Ly(n),e)}function aV(n,e,t){const r=t.docs.get(e._key),i=new jI(n);return new OI(n,i,e._key,r,new xc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){cl=i})(al),Zr(new Ir("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Oo(new YM(r.getProvider("auth-internal")),new ZM(l,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(p.options.projectId,y)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Jn(j0,V0,e),Jn(j0,V0,"esm2017")})();var lV="firebase",cV="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(lV,cV,"app");const uV={apiKey:"AIzaSyC-DVPD-4CjDQ0nYOjg5y2hMOy1zjx6VeU",authDomain:"grindmode-5d2bb.firebaseapp.com",projectId:"grindmode-5d2bb",storageBucket:"grindmode-5d2bb.firebasestorage.app",messagingSenderId:"1096214127157",appId:"1:1096214127157:web:7b82fd19693d933f3f877c",measurementId:"G-XJN3G8434B"},Ky=Xx(uV);WM(Ky);const fi=Bj(Ky),sn=bD(Ky),pi=()=>{const n=sn.currentUser;if(!n||!n.uid)throw new Error("User not authenticated");return n.uid},dV=async n=>{try{const e=pi(),t=Pc(fi,"users",e),r=tt.now();if((await LI(t)).exists())return;await rV(t,{...n,createdAt:r,updatedAt:r})}catch(e){console.error("Error creating user profile:",e)}},VI={USER_NOT_AUTHENTICATED:"User is not authenticated"},hV=async(n,e,t)=>{await r2(sn,n,e),sn.currentUser&&(await ry(sn.currentUser,{displayName:t}),await FI(t))},fV=async(n,e)=>{await s2(sn,n,e)},pV=async()=>{const n=new Ss,e=await L2(sn,n),t=d2(e);t!=null&&t.isNewUser&&sn.currentUser&&(await ry(sn.currentUser,{displayName:sn.currentUser.displayName}),await FI(sn.currentUser.displayName||""))},mV=async()=>{await m2(sn)},gV=async n=>{if(!sn.currentUser)throw new Error(VI.USER_NOT_AUTHENTICATED);await ry(sn.currentUser,n)},yV=async()=>{if(!sn.currentUser)throw new Error(VI.USER_NOT_AUTHENTICATED);await g2(sn.currentUser)},vV=n=>({uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL}),wV=n=>p2(sn,e=>{n(e?{status:"authenticated",user:vV(e)}:{status:"unauthenticated"})}),FI=async n=>{await dV({displayName:n,goals:[{dailyCalories:0,dailyProtein:0,weeklyWorkouts:0}]})},_V=({children:n})=>{const[e,t]=x.useState({status:"loading"}),[r,i]=x.useState(null);x.useEffect(()=>{const E=wV(T=>{t(T)});return()=>E()},[]);const a=async(E,T)=>{i(null);try{await fV(E,T)}catch(b){throw i(b),b}},l=async()=>{i(null);try{await pV()}catch(E){throw i(E),E}},u=async(E,T,b)=>{i(null);try{await hV(E,T,b)}catch(I){throw i(I),I}},h=async()=>{i(null);try{await mV()}catch(E){throw i(E),E}},p=async()=>{i(null);try{if(e.status!=="authenticated")throw new Error("User not authenticated");await yV()}catch(E){throw i(E),E}},y=async(E,T,b)=>{i(null);try{if(e.status!=="authenticated")throw new Error("User not authenticated");await gV({displayName:E,password:T,email:b})}catch(I){throw i(I),I}},v={isAuthenticated:e.status==="authenticated",isLoading:e.status==="loading",user:e.status==="authenticated"?e.user:null,error:r,login:a,loginWithGoogle:l,signup:u,logout:h,editUser:y,deleteUser:p};return m.jsx(Vx.Provider,{value:v,children:n})},EV=()=>m.jsx("footer",{className:"py-4 text-center",children:m.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," GrindMode"]})}),Vi=()=>{const n=x.useContext(Vx);if(!n)throw new Error("useAuth must be used within an AuthProvider");return{...n}};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),jE=n=>{const e=SV(n);return e.charAt(0).toUpperCase()+e.slice(1)},UI=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),TV=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=x.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},h)=>x.createElement("svg",{ref:h,...IV,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:UI("lucide",i),...!a&&!TV(u)&&{"aria-hidden":"true"},...u},[...l.map(([p,y])=>x.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(n,e)=>{const t=x.forwardRef(({className:r,...i},a)=>x.createElement(CV,{ref:a,iconNode:e,className:UI(`lucide-${xV(jE(n))}`,`lucide-${n}`,r),...i}));return t.displayName=jE(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],AV=Ye("arrow-left",bV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kV=Ye("bell",RV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],NV=Ye("calendar",PV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],MV=Ye("chart-no-axes-column-increasing",DV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zI=Ye("check",OV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ef=Ye("chevron-down",LV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$I=Ye("chevron-left",jV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BI=Ye("chevron-right",VV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],WI=Ye("chevron-up",FV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nc=Ye("circle-alert",UV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xf=Ye("circle-plus",zV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],BV=Ye("clock",$V);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],HV=Ye("dumbbell",WV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],GV=Ye("layout-dashboard",qV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pl=Ye("loader-circle",KV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],YV=Ye("lock",QV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],JV=Ye("log-out",XV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],e4=Ye("mail",ZV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],n4=Ye("moon",t4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],s4=Ye("pen",r4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],o4=Ye("plus",i4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],l4=Ye("ruler",a4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],u4=Ye("save",c4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],h4=Ye("search",d4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p4=Ye("settings",f4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],g4=Ye("sliders-vertical",m4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xg=Ye("square-pen",y4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],w4=Ye("sun",v4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],E4=Ye("target",_4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],HI=Ye("trash-2",x4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qI=Ye("triangle-alert",S4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],I4=Ye("user",T4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],GI=Ye("utensils-crossed",C4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],KI=Ye("utensils",b4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qy=Ye("x",A4);function QI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=QI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function YI(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=QI(n))&&(r&&(r+=" "),r+=e);return r}const VE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,FE=YI,Yy=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return FE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const y=t==null?void 0:t[p],v=a==null?void 0:a[p];if(y===null)return null;const E=VE(y)||VE(v);return i[p][E]}),u=t&&Object.entries(t).reduce((p,y)=>{let[v,E]=y;return E===void 0||(p[v]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:v,className:E,...T}=y;return Object.entries(T).every(b=>{let[I,R]=b;return Array.isArray(R)?R.includes({...a,...u}[I]):{...a,...u}[I]===R})?[...p,v,E]:p},[]);return FE(n,l,h,t==null?void 0:t.class,t==null?void 0:t.className)},Xy="-",R4=n=>{const e=P4(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Xy);return u[0]===""&&u.length!==1&&u.shift(),XI(u,e)||k4(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},XI=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?XI(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Xy);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},UE=/^\[(.+)\]$/,k4=n=>{if(UE.test(n)){const e=UE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},P4=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)Sg(t[i],r,i,e);return r},Sg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:zE(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(N4(i)){Sg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{Sg(l,zE(e,a),t,r)})})},zE=(n,e)=>{let t=n;return e.split(Xy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},N4=n=>n.isThemeGetter,D4=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},Tg="!",Ig=":",M4=Ig.length,O4=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let l=0,u=0,h=0,p;for(let b=0;b<i.length;b++){let I=i[b];if(l===0&&u===0){if(I===Ig){a.push(i.slice(h,b)),h=b+M4;continue}if(I==="/"){p=b;continue}}I==="["?l++:I==="]"?l--:I==="("?u++:I===")"&&u--}const y=a.length===0?i:i.substring(h),v=L4(y),E=v!==y,T=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:v,maybePostfixModifierPosition:T}};if(e){const i=e+Ig,a=r;r=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},L4=n=>n.endsWith(Tg)?n.substring(0,n.length-1):n.startsWith(Tg)?n.substring(1):n,j4=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},V4=n=>({cache:D4(n.cacheSize),parseClassName:O4(n),sortModifiers:j4(n),...R4(n)}),F4=/\s+/,U4=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],u=n.trim().split(F4);let h="";for(let p=u.length-1;p>=0;p-=1){const y=u[p],{isExternal:v,modifiers:E,hasImportantModifier:T,baseClassName:b,maybePostfixModifierPosition:I}=t(y);if(v){h=y+(h.length>0?" "+h:h);continue}let R=!!I,D=r(R?b.substring(0,I):b);if(!D){if(!R){h=y+(h.length>0?" "+h:h);continue}if(D=r(b),!D){h=y+(h.length>0?" "+h:h);continue}R=!1}const U=a(E).join(":"),V=T?U+Tg:U,z=V+D;if(l.includes(z))continue;l.push(z);const W=i(D,R);for(let Y=0;Y<W.length;++Y){const N=W[Y];l.push(V+N)}h=y+(h.length>0?" "+h:h)}return h};function z4(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=JI(e))&&(r&&(r+=" "),r+=t);return r}const JI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=JI(n[r]))&&(t&&(t+=" "),t+=e);return t};function $4(n,...e){let t,r,i,a=l;function l(h){const p=e.reduce((y,v)=>v(y),n());return t=V4(p),r=t.cache.get,i=t.cache.set,a=u,u(h)}function u(h){const p=r(h);if(p)return p;const y=U4(h,t);return i(h,y),y}return function(){return a(z4.apply(null,arguments))}}const Mt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},ZI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,B4=/^\d+\/\d+$/,W4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,G4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ra=n=>B4.test(n),ze=n=>!!n&&!Number.isNaN(Number(n)),hi=n=>!!n&&Number.isInteger(Number(n)),Dm=n=>n.endsWith("%")&&ze(n.slice(0,-1)),xs=n=>W4.test(n),Q4=()=>!0,Y4=n=>H4.test(n)&&!q4.test(n),tC=()=>!1,X4=n=>G4.test(n),J4=n=>K4.test(n),Z4=n=>!we(n)&&!_e(n),eF=n=>ml(n,sC,tC),we=n=>ZI.test(n),go=n=>ml(n,iC,Y4),Mm=n=>ml(n,iF,ze),$E=n=>ml(n,nC,tC),tF=n=>ml(n,rC,J4),Vd=n=>ml(n,oC,X4),_e=n=>eC.test(n),gc=n=>gl(n,iC),nF=n=>gl(n,oF),BE=n=>gl(n,nC),rF=n=>gl(n,sC),sF=n=>gl(n,rC),Fd=n=>gl(n,oC,!0),ml=(n,e,t)=>{const r=ZI.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},gl=(n,e,t=!1)=>{const r=eC.exec(n);return r?r[1]?e(r[1]):t:!1},nC=n=>n==="position"||n==="percentage",rC=n=>n==="image"||n==="url",sC=n=>n==="length"||n==="size"||n==="bg-size",iC=n=>n==="length",iF=n=>n==="number",oF=n=>n==="family-name",oC=n=>n==="shadow",aF=()=>{const n=Mt("color"),e=Mt("font"),t=Mt("text"),r=Mt("font-weight"),i=Mt("tracking"),a=Mt("leading"),l=Mt("breakpoint"),u=Mt("container"),h=Mt("spacing"),p=Mt("radius"),y=Mt("shadow"),v=Mt("inset-shadow"),E=Mt("text-shadow"),T=Mt("drop-shadow"),b=Mt("blur"),I=Mt("perspective"),R=Mt("aspect"),D=Mt("ease"),U=Mt("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...z(),_e,we],Y=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[_e,we,h],k=()=>[Ra,"full","auto",...A()],M=()=>[hi,"none","subgrid",_e,we],L=()=>["auto",{span:["full",hi,_e,we]},hi,_e,we],F=()=>[hi,"auto",_e,we],O=()=>["auto","min","max","fr",_e,we],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...A()],me=()=>[Ra,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],q=()=>[n,_e,we],ee=()=>[...z(),BE,$E,{position:[_e,we]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",rF,eF,{size:[_e,we]}],Z=()=>[Dm,gc,go],ue=()=>["","none","full",p,_e,we],ge=()=>["",ze,gc,go],Re=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[ze,Dm,BE,$E],Ee=()=>["","none",b,_e,we],Ie=()=>["none",ze,_e,we],ke=()=>["none",ze,_e,we],Fe=()=>[ze,_e,we],Ue=()=>[Ra,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xs],breakpoint:[xs],color:[Q4],container:[xs],"drop-shadow":[xs],ease:["in","out","in-out"],font:[Z4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xs],shadow:[xs],spacing:["px",ze],text:[xs],"text-shadow":[xs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ra,we,_e,R]}],container:["container"],columns:[{columns:[ze,we,_e,u]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[hi,"auto",_e,we]}],basis:[{basis:[Ra,"full","auto",u,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Ra,"auto","initial","none",we]}],grow:[{grow:["",ze,_e,we]}],shrink:[{shrink:["",ze,_e,we]}],order:[{order:[hi,"first","last","none",_e,we]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[u,"screen",...me()]}],"min-w":[{"min-w":[u,"screen","none",...me()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...me()]}],h:[{h:["screen",...me()]}],"min-h":[{"min-h":["screen","none",...me()]}],"max-h":[{"max-h":["screen",...me()]}],"font-size":[{text:["base",t,gc,go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,_e,Mm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dm,we]}],"font-family":[{font:[nF,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,_e,we]}],"line-clamp":[{"line-clamp":[ze,"none",_e,Mm]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",_e,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",_e,go]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[ze,"auto",_e,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hi,_e,we],radial:["",_e,we],conic:[hi,_e,we]},sF,tF]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,_e,we]}],"outline-w":[{outline:["",ze,gc,go]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",y,Fd,Vd]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",v,Fd,Vd]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[ze,go]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",E,Fd,Vd]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[ze,_e,we]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[_e,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,we]}],filter:[{filter:["","none",_e,we]}],blur:[{blur:Ee()}],brightness:[{brightness:[ze,_e,we]}],contrast:[{contrast:[ze,_e,we]}],"drop-shadow":[{"drop-shadow":["","none",T,Fd,Vd]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",ze,_e,we]}],"hue-rotate":[{"hue-rotate":[ze,_e,we]}],invert:[{invert:["",ze,_e,we]}],saturate:[{saturate:[ze,_e,we]}],sepia:[{sepia:["",ze,_e,we]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,we]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[ze,_e,we]}],"backdrop-contrast":[{"backdrop-contrast":[ze,_e,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,_e,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,_e,we]}],"backdrop-invert":[{"backdrop-invert":["",ze,_e,we]}],"backdrop-opacity":[{"backdrop-opacity":[ze,_e,we]}],"backdrop-saturate":[{"backdrop-saturate":[ze,_e,we]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,_e,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",_e,we]}],ease:[{ease:["linear","initial",D,_e,we]}],delay:[{delay:[ze,_e,we]}],animate:[{animate:["none",U,_e,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,_e,we]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:Fe()}],"skew-x":[{"skew-x":Fe()}],"skew-y":[{"skew-y":Fe()}],transform:[{transform:[_e,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ue()}],"translate-x":[{"translate-x":Ue()}],"translate-y":[{"translate-y":Ue()}],"translate-z":[{"translate-z":Ue()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,we]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[ze,gc,go,Mm]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lF=$4(aF);function Ke(...n){return lF(YI(n))}const cF=Yy("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Jy({className:n,variant:e,...t}){return m.jsx("div",{"data-slot":"alert",role:"alert",className:Ke(cF({variant:e}),n),...t})}function Zy({className:n,...e}){return m.jsx("div",{"data-slot":"alert-description",className:Ke("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function Fi(n,e=[]){let t=[];function r(a,l){const u=x.createContext(l),h=t.length;t=[...t,l];const p=v=>{var D;const{scope:E,children:T,...b}=v,I=((D=E==null?void 0:E[n])==null?void 0:D[h])||u,R=x.useMemo(()=>b,Object.values(b));return m.jsx(I.Provider,{value:R,children:T})};p.displayName=a+"Provider";function y(v,E){var I;const T=((I=E==null?void 0:E[n])==null?void 0:I[h])||u,b=x.useContext(T);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,y]}const i=()=>{const a=t.map(l=>x.createContext(l));return function(u){const h=(u==null?void 0:u[n])||a;return x.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return i.scopeName=n,[r,uF(i,...e)]}function uF(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const v=h(a)[`__scope${p}`];return{...u,...v}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Bt(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n}),x.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var At=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function WE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Sf(...n){return e=>{let t=!1;const r=n.map(i=>{const a=WE(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():WE(n[i],null)}}}}function rt(...n){return x.useCallback(Sf(...n),n)}function el(n){const e=dF(n),t=x.forwardRef((r,i)=>{const{children:a,...l}=r,u=x.Children.toArray(a),h=u.find(fF);if(h){const p=h.props.children,y=u.map(v=>v===h?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:v);return m.jsx(e,{...l,ref:i,children:x.isValidElement(p)?x.cloneElement(p,void 0,y):null})}return m.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var aC=el("Slot");function dF(n){const e=x.forwardRef((t,r)=>{const{children:i,...a}=t;if(x.isValidElement(i)){const l=mF(i),u=pF(a,i.props);return i.type!==x.Fragment&&(u.ref=r?Sf(r,l):l),x.cloneElement(i,u)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var hF=Symbol("radix.slottable");function fF(n){return x.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===hF}function pF(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...u)=>{a(...u),i(...u)}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function mF(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var gF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=gF.reduce((n,e)=>{const t=el(`Primitive.${e}`),r=x.forwardRef((i,a)=>{const{asChild:l,...u}=i,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function lC(n,e){n&&Xc.flushSync(()=>n.dispatchEvent(e))}var Om={exports:{}},Lm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function yF(){if(HE)return Lm;HE=1;var n=Wh();function e(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(v,E){var T=E(),b=r({inst:{value:T,getSnapshot:E}}),I=b[0].inst,R=b[1];return a(function(){I.value=T,I.getSnapshot=E,h(I)&&R({inst:I})},[v,T,E]),i(function(){return h(I)&&R({inst:I}),v(function(){h(I)&&R({inst:I})})},[v]),l(T),T}function h(v){var E=v.getSnapshot;v=v.value;try{var T=E();return!t(v,T)}catch{return!0}}function p(v,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Lm.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,Lm}var qE;function vF(){return qE||(qE=1,Om.exports=yF()),Om.exports}var wF=vF();function _F(){return wF.useSyncExternalStore(EF,()=>!0,()=>!1)}function EF(){return()=>{}}var ev="Avatar",[xF,zz]=Fi(ev),[SF,cC]=xF(ev),uC=x.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,a]=x.useState("idle");return m.jsx(SF,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:m.jsx(We.span,{...r,ref:e})})});uC.displayName=ev;var dC="AvatarImage",TF=x.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...a}=n,l=cC(dC,t),u=IF(r,a),h=Bt(p=>{i(p),l.onImageLoadingStatusChange(p)});return At(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?m.jsx(We.img,{...a,ref:e,src:r}):null});TF.displayName=dC;var hC="AvatarFallback",fC=x.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,a=cC(hC,t),[l,u]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(h)}},[r]),l&&a.imageLoadingStatus!=="loaded"?m.jsx(We.span,{...i,ref:e}):null});fC.displayName=hC;function GE(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function IF(n,{referrerPolicy:e,crossOrigin:t}){const r=_F(),i=x.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[l,u]=x.useState(()=>GE(a,n));return At(()=>{u(GE(a,n))},[a,n]),At(()=>{const h=v=>()=>{u(v)};if(!a)return;const p=h("loaded"),y=h("error");return a.addEventListener("load",p),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",p),a.removeEventListener("error",y)}},[a,t,e]),l}var CF=uC,bF=fC;function AF({className:n,...e}){return m.jsx(CF,{"data-slot":"avatar",className:Ke("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function RF({className:n,...e}){return m.jsx(bF,{"data-slot":"avatar-fallback",className:Ke("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}const kF=Yy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function tv({className:n,variant:e,asChild:t=!1,...r}){const i=t?aC:"span";return m.jsx(i,{"data-slot":"badge",className:Ke(kF({variant:e}),n),...r})}const PF=Yy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function qe({className:n,variant:e,size:t,asChild:r=!1,...i}){const a=r?aC:"button";return m.jsx(a,{"data-slot":"button",className:Ke(PF({variant:e,size:t,className:n})),...i})}function NF(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function DF(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function KE(n){const e=NF(n);return e.setHours(0,0,0,0),e}function MF(n){return DF(n,Date.now())}function OF(n,e){const t=KE(n),r=KE(e);return+t==+r}function LF(n){return OF(n,MF(n))}var Dc=function(){return Dc=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Dc.apply(this,arguments)};var jF=x.createContext(void 0);function VF(){var n=x.useContext(jF);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}x.createContext(void 0);x.forwardRef(function(n,e){var t=VF(),r=t.classNames,i=t.styles,a=[r.button_reset,r.button];n.className&&a.push(n.className);var l=a.join(" "),u=Dc(Dc({},i.button_reset),i.button);return n.style&&Object.assign(u,n.style),m.jsx("button",Dc({},n,{ref:e,type:"button",className:l,style:u}))});x.createContext(void 0);x.createContext(void 0);var ts;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(ts||(ts={}));ts.Selected;ts.Disabled;ts.Hidden;ts.Today;ts.RangeEnd;ts.RangeMiddle;ts.RangeStart;ts.Outside;x.createContext(void 0);x.createContext(void 0);x.createContext(void 0);const Tn=x.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:Ke("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Tn.displayName="Card";const Ar=x.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:Ke("flex flex-col space-y-1.5 p-6",n),...e}));Ar.displayName="CardHeader";const Rr=x.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:Ke("font-semibold leading-none tracking-tight",n),...e}));Rr.displayName="CardTitle";const nv=x.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:Ke("text-sm text-muted-foreground",n),...e}));nv.displayName="CardDescription";const Fn=x.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:Ke("p-6 pt-0",n),...e}));Fn.displayName="CardContent";const yl=x.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:Ke("flex items-center p-6 pt-0",n),...e}));yl.displayName="CardFooter";function Ce(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var FF=Ex[" useInsertionEffect ".trim().toString()]||At;function Nh({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,l]=UF({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:i;{const y=x.useRef(n!==void 0);x.useEffect(()=>{const v=y.current;v!==u&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const p=x.useCallback(y=>{var v;if(u){const E=zF(y)?y(n):y;E!==n&&((v=l.current)==null||v.call(l,E))}else a(y)},[u,n,a,l]);return[h,p]}function UF({defaultProp:n,onChange:e}){const[t,r]=x.useState(n),i=x.useRef(t),a=x.useRef(e);return FF(()=>{a.current=e},[e]),x.useEffect(()=>{var l;i.current!==t&&((l=a.current)==null||l.call(a,t),i.current=t)},[t,i]),[t,r,a]}function zF(n){return typeof n=="function"}function rv(n){const e=n+"CollectionProvider",[t,r]=Fi(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:R,children:D}=I,U=St.useRef(null),V=St.useRef(new Map).current;return m.jsx(i,{scope:R,itemMap:V,collectionRef:U,children:D})};l.displayName=e;const u=n+"CollectionSlot",h=el(u),p=St.forwardRef((I,R)=>{const{scope:D,children:U}=I,V=a(u,D),z=rt(R,V.collectionRef);return m.jsx(h,{ref:z,children:U})});p.displayName=u;const y=n+"CollectionItemSlot",v="data-radix-collection-item",E=el(y),T=St.forwardRef((I,R)=>{const{scope:D,children:U,...V}=I,z=St.useRef(null),W=rt(R,z),Y=a(y,D);return St.useEffect(()=>(Y.itemMap.set(z,{ref:z,...V}),()=>void Y.itemMap.delete(z))),m.jsx(E,{[v]:"",ref:W,children:U})});T.displayName=y;function b(I){const R=a(n+"CollectionConsumer",I);return St.useCallback(()=>{const U=R.collectionRef.current;if(!U)return[];const V=Array.from(U.querySelectorAll(`[${v}]`));return Array.from(R.itemMap.values()).sort((Y,N)=>V.indexOf(Y.ref.current)-V.indexOf(N.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:p,ItemSlot:T},b,r]}var $F=x.createContext(void 0);function Tf(n){const e=x.useContext($F);return n||e||"ltr"}function BF(n,e=globalThis==null?void 0:globalThis.document){const t=Bt(n);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var WF="DismissableLayer",Cg="dismissableLayer.update",HF="dismissableLayer.pointerDownOutside",qF="dismissableLayer.focusOutside",QE,pC=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sv=x.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=n,p=x.useContext(pC),[y,v]=x.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=x.useState({}),b=rt(e,N=>v(N)),I=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=I.indexOf(R),U=y?I.indexOf(y):-1,V=p.layersWithOutsidePointerEventsDisabled.size>0,z=U>=D,W=QF(N=>{const A=N.target,k=[...p.branches].some(M=>M.contains(A));!z||k||(i==null||i(N),l==null||l(N),N.defaultPrevented||u==null||u())},E),Y=YF(N=>{const A=N.target;[...p.branches].some(M=>M.contains(A))||(a==null||a(N),l==null||l(N),N.defaultPrevented||u==null||u())},E);return BF(N=>{U===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&u&&(N.preventDefault(),u()))},E),x.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(QE=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),YE(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=QE)}},[y,E,t,p]),x.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),YE())},[y,p]),x.useEffect(()=>{const N=()=>T({});return document.addEventListener(Cg,N),()=>document.removeEventListener(Cg,N)},[]),m.jsx(We.div,{...h,ref:b,style:{pointerEvents:V?z?"auto":"none":void 0,...n.style},onFocusCapture:Ce(n.onFocusCapture,Y.onFocusCapture),onBlurCapture:Ce(n.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:Ce(n.onPointerDownCapture,W.onPointerDownCapture)})});sv.displayName=WF;var GF="DismissableLayerBranch",KF=x.forwardRef((n,e)=>{const t=x.useContext(pC),r=x.useRef(null),i=rt(e,r);return x.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),m.jsx(We.div,{...n,ref:i})});KF.displayName=GF;function QF(n,e=globalThis==null?void 0:globalThis.document){const t=Bt(n),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let h=function(){mC(HF,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function YF(n,e=globalThis==null?void 0:globalThis.document){const t=Bt(n),r=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!r.current&&mC(qF,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function YE(){const n=new CustomEvent(Cg);document.dispatchEvent(n)}function mC(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?lC(i,a):i.dispatchEvent(a)}var jm=0;function gC(){x.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??XE()),document.body.insertAdjacentElement("beforeend",n[1]??XE()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jm--}},[])}function XE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Vm="focusScope.autoFocusOnMount",Fm="focusScope.autoFocusOnUnmount",JE={bubbles:!1,cancelable:!0},XF="FocusScope",iv=x.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[u,h]=x.useState(null),p=Bt(i),y=Bt(a),v=x.useRef(null),E=rt(e,I=>h(I)),T=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let I=function(V){if(T.paused||!u)return;const z=V.target;u.contains(z)?v.current=z:mi(v.current,{select:!0})},R=function(V){if(T.paused||!u)return;const z=V.relatedTarget;z!==null&&(u.contains(z)||mi(v.current,{select:!0}))},D=function(V){if(document.activeElement===document.body)for(const W of V)W.removedNodes.length>0&&mi(u)};document.addEventListener("focusin",I),document.addEventListener("focusout",R);const U=new MutationObserver(D);return u&&U.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",R),U.disconnect()}}},[r,u,T.paused]),x.useEffect(()=>{if(u){ex.add(T);const I=document.activeElement;if(!u.contains(I)){const D=new CustomEvent(Vm,JE);u.addEventListener(Vm,p),u.dispatchEvent(D),D.defaultPrevented||(JF(rU(yC(u)),{select:!0}),document.activeElement===I&&mi(u))}return()=>{u.removeEventListener(Vm,p),setTimeout(()=>{const D=new CustomEvent(Fm,JE);u.addEventListener(Fm,y),u.dispatchEvent(D),D.defaultPrevented||mi(I??document.body,{select:!0}),u.removeEventListener(Fm,y),ex.remove(T)},0)}}},[u,p,y,T]);const b=x.useCallback(I=>{if(!t&&!r||T.paused)return;const R=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,D=document.activeElement;if(R&&D){const U=I.currentTarget,[V,z]=ZF(U);V&&z?!I.shiftKey&&D===z?(I.preventDefault(),t&&mi(V,{select:!0})):I.shiftKey&&D===V&&(I.preventDefault(),t&&mi(z,{select:!0})):D===U&&I.preventDefault()}},[t,r,T.paused]);return m.jsx(We.div,{tabIndex:-1,...l,ref:E,onKeyDown:b})});iv.displayName=XF;function JF(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(mi(r,{select:e}),document.activeElement!==t)return}function ZF(n){const e=yC(n),t=ZE(e,n),r=ZE(e.reverse(),n);return[t,r]}function yC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ZE(n,e){for(const t of n)if(!eU(t,{upTo:e}))return t}function eU(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function tU(n){return n instanceof HTMLInputElement&&"select"in n}function mi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&tU(n)&&e&&n.select()}}var ex=nU();function nU(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=tx(n,e),n.unshift(e)},remove(e){var t;n=tx(n,e),(t=n[0])==null||t.resume()}}}function tx(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function rU(n){return n.filter(e=>e.tagName!=="A")}var sU=Ex[" useId ".trim().toString()]||(()=>{}),iU=0;function tl(n){const[e,t]=x.useState(sU());return At(()=>{t(r=>r??String(iU++))},[n]),n||(e?`radix-${e}`:"")}const oU=["top","right","bottom","left"],Pi=Math.min,Dn=Math.max,Dh=Math.round,Ud=Math.floor,Jr=n=>({x:n,y:n}),aU={left:"right",right:"left",bottom:"top",top:"bottom"},lU={start:"end",end:"start"};function bg(n,e,t){return Dn(n,Pi(e,t))}function Ls(n,e){return typeof n=="function"?n(e):n}function js(n){return n.split("-")[0]}function vl(n){return n.split("-")[1]}function ov(n){return n==="x"?"y":"x"}function av(n){return n==="y"?"height":"width"}function ks(n){return["top","bottom"].includes(js(n))?"y":"x"}function lv(n){return ov(ks(n))}function cU(n,e,t){t===void 0&&(t=!1);const r=vl(n),i=lv(n),a=av(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Mh(l)),[l,Mh(l)]}function uU(n){const e=Mh(n);return[Ag(n),e,Ag(e)]}function Ag(n){return n.replace(/start|end/g,e=>lU[e])}function dU(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function hU(n,e,t,r){const i=vl(n);let a=dU(js(n),t==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(Ag)))),a}function Mh(n){return n.replace(/left|right|bottom|top/g,e=>aU[e])}function fU(n){return{top:0,right:0,bottom:0,left:0,...n}}function vC(n){return typeof n!="number"?fU(n):{top:n,right:n,bottom:n,left:n}}function Oh(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function nx(n,e,t){let{reference:r,floating:i}=n;const a=ks(e),l=lv(e),u=av(l),h=js(e),p=a==="y",y=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,E=r[u]/2-i[u]/2;let T;switch(h){case"top":T={x:y,y:r.y-i.height};break;case"bottom":T={x:y,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:v};break;case"left":T={x:r.x-i.width,y:v};break;default:T={x:r.x,y:r.y}}switch(vl(e)){case"start":T[l]-=E*(t&&p?-1:1);break;case"end":T[l]+=E*(t&&p?-1:1);break}return T}const pU=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:y,y:v}=nx(p,r,h),E=r,T={},b=0;for(let I=0;I<u.length;I++){const{name:R,fn:D}=u[I],{x:U,y:V,data:z,reset:W}=await D({x:y,y:v,initialPlacement:r,placement:E,strategy:i,middlewareData:T,rects:p,platform:l,elements:{reference:n,floating:e}});y=U??y,v=V??v,T={...T,[R]:{...T[R],...z}},W&&b<=50&&(b++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(p=W.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):W.rects),{x:y,y:v}=nx(p,E,h)),I=-1)}return{x:y,y:v,placement:E,strategy:i,middlewareData:T}};async function Hc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:E=!1,padding:T=0}=Ls(e,n),b=vC(T),R=u[E?v==="floating"?"reference":"floating":v],D=Oh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(R)))==null||t?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:y,strategy:h})),U=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),z=await(a.isElement==null?void 0:a.isElement(V))?await(a.getScale==null?void 0:a.getScale(V))||{x:1,y:1}:{x:1,y:1},W=Oh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:V,strategy:h}):U);return{top:(D.top-W.top+b.top)/z.y,bottom:(W.bottom-D.bottom+b.bottom)/z.y,left:(D.left-W.left+b.left)/z.x,right:(W.right-D.right+b.right)/z.x}}const mU=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:y=0}=Ls(n,e)||{};if(p==null)return{};const v=vC(y),E={x:t,y:r},T=lv(i),b=av(T),I=await l.getDimensions(p),R=T==="y",D=R?"top":"left",U=R?"bottom":"right",V=R?"clientHeight":"clientWidth",z=a.reference[b]+a.reference[T]-E[T]-a.floating[b],W=E[T]-a.reference[T],Y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let N=Y?Y[V]:0;(!N||!await(l.isElement==null?void 0:l.isElement(Y)))&&(N=u.floating[V]||a.floating[b]);const A=z/2-W/2,k=N/2-I[b]/2-1,M=Pi(v[D],k),L=Pi(v[U],k),F=M,O=N-I[b]-L,Se=N/2-I[b]/2+A,be=bg(F,Se,O),he=!h.arrow&&vl(i)!=null&&Se!==be&&a.reference[b]/2-(Se<F?M:L)-I[b]/2<0,me=he?Se<F?Se-F:Se-O:0;return{[T]:E[T]+me,data:{[T]:be,centerOffset:Se-be-me,...he&&{alignmentOffset:me}},reset:he}}}),gU=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:I=!0,...R}=Ls(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const D=js(i),U=ks(u),V=js(u)===u,z=await(h.isRTL==null?void 0:h.isRTL(p.floating)),W=E||(V||!I?[Mh(u)]:uU(u)),Y=b!=="none";!E&&Y&&W.push(...hU(u,I,b,z));const N=[u,...W],A=await Hc(e,R),k=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&k.push(A[D]),v){const be=cU(i,l,z);k.push(A[be[0]],A[be[1]])}if(M=[...M,{placement:i,overflows:k}],!k.every(be=>be<=0)){var L,F;const be=(((L=a.flip)==null?void 0:L.index)||0)+1,he=N[be];if(he){var O;const q=v==="alignment"?U!==ks(he):!1,ee=((O=M[0])==null?void 0:O.overflows[0])>0;if(!q||ee)return{data:{index:be,overflows:M},reset:{placement:he}}}let me=(F=M.filter(q=>q.overflows[0]<=0).sort((q,ee)=>q.overflows[1]-ee.overflows[1])[0])==null?void 0:F.placement;if(!me)switch(T){case"bestFit":{var Se;const q=(Se=M.filter(ee=>{if(Y){const re=ks(ee.placement);return re===U||re==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(re=>re>0).reduce((re,B)=>re+B,0)]).sort((ee,re)=>ee[1]-re[1])[0])==null?void 0:Se[0];q&&(me=q);break}case"initialPlacement":me=u;break}if(i!==me)return{reset:{placement:me}}}return{}}}};function rx(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function sx(n){return oU.some(e=>n[e]>=0)}const yU=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ls(n,e);switch(r){case"referenceHidden":{const a=await Hc(e,{...i,elementContext:"reference"}),l=rx(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:sx(l)}}}case"escaped":{const a=await Hc(e,{...i,altBoundary:!0}),l=rx(a,t.floating);return{data:{escapedOffsets:l,escaped:sx(l)}}}default:return{}}}}};async function vU(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=js(t),u=vl(t),h=ks(t)==="y",p=["left","top"].includes(l)?-1:1,y=a&&h?-1:1,v=Ls(e,n);let{mainAxis:E,crossAxis:T,alignmentAxis:b}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof b=="number"&&(T=u==="end"?b*-1:b),h?{x:T*y,y:E*p}:{x:E*p,y:T*y}}const wU=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:l,middlewareData:u}=e,h=await vU(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:l}}}}},_U=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:D,y:U}=R;return{x:D,y:U}}},...h}=Ls(n,e),p={x:t,y:r},y=await Hc(e,h),v=ks(js(i)),E=ov(v);let T=p[E],b=p[v];if(a){const R=E==="y"?"top":"left",D=E==="y"?"bottom":"right",U=T+y[R],V=T-y[D];T=bg(U,T,V)}if(l){const R=v==="y"?"top":"left",D=v==="y"?"bottom":"right",U=b+y[R],V=b-y[D];b=bg(U,b,V)}const I=u.fn({...e,[E]:T,[v]:b});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[E]:a,[v]:l}}}}}},EU=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=Ls(n,e),y={x:t,y:r},v=ks(i),E=ov(v);let T=y[E],b=y[v];const I=Ls(u,e),R=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(h){const V=E==="y"?"height":"width",z=a.reference[E]-a.floating[V]+R.mainAxis,W=a.reference[E]+a.reference[V]-R.mainAxis;T<z?T=z:T>W&&(T=W)}if(p){var D,U;const V=E==="y"?"width":"height",z=["top","left"].includes(js(i)),W=a.reference[v]-a.floating[V]+(z&&((D=l.offset)==null?void 0:D[v])||0)+(z?0:R.crossAxis),Y=a.reference[v]+a.reference[V]+(z?0:((U=l.offset)==null?void 0:U[v])||0)-(z?R.crossAxis:0);b<W?b=W:b>Y&&(b=Y)}return{[E]:T,[v]:b}}}},xU=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:h=()=>{},...p}=Ls(n,e),y=await Hc(e,p),v=js(i),E=vl(i),T=ks(i)==="y",{width:b,height:I}=a.floating;let R,D;v==="top"||v==="bottom"?(R=v,D=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=v,R=E==="end"?"top":"bottom");const U=I-y.top-y.bottom,V=b-y.left-y.right,z=Pi(I-y[R],U),W=Pi(b-y[D],V),Y=!e.middlewareData.shift;let N=z,A=W;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=V),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=U),Y&&!E){const M=Dn(y.left,0),L=Dn(y.right,0),F=Dn(y.top,0),O=Dn(y.bottom,0);T?A=b-2*(M!==0||L!==0?M+L:Dn(y.left,y.right)):N=I-2*(F!==0||O!==0?F+O:Dn(y.top,y.bottom))}await h({...e,availableWidth:A,availableHeight:N});const k=await l.getDimensions(u.floating);return b!==k.width||I!==k.height?{reset:{rects:!0}}:{}}}};function If(){return typeof window<"u"}function wl(n){return wC(n)?(n.nodeName||"").toLowerCase():"#document"}function Vn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function rs(n){var e;return(e=(wC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function wC(n){return If()?n instanceof Node||n instanceof Vn(n).Node:!1}function kr(n){return If()?n instanceof Element||n instanceof Vn(n).Element:!1}function ns(n){return If()?n instanceof HTMLElement||n instanceof Vn(n).HTMLElement:!1}function ix(n){return!If()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Vn(n).ShadowRoot}function cu(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Pr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function SU(n){return["table","td","th"].includes(wl(n))}function Cf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function cv(n){const e=uv(),t=kr(n)?Pr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function TU(n){let e=Ni(n);for(;ns(e)&&!nl(e);){if(cv(e))return e;if(Cf(e))return null;e=Ni(e)}return null}function uv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nl(n){return["html","body","#document"].includes(wl(n))}function Pr(n){return Vn(n).getComputedStyle(n)}function bf(n){return kr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ni(n){if(wl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ix(n)&&n.host||rs(n);return ix(e)?e.host:e}function _C(n){const e=Ni(n);return nl(e)?n.ownerDocument?n.ownerDocument.body:n.body:ns(e)&&cu(e)?e:_C(e)}function qc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=_C(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=Vn(i);if(a){const u=Rg(l);return e.concat(l,l.visualViewport||[],cu(i)?i:[],u&&t?qc(u):[])}return e.concat(i,qc(i,[],t))}function Rg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function EC(n){const e=Pr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ns(n),a=i?n.offsetWidth:t,l=i?n.offsetHeight:r,u=Dh(t)!==a||Dh(r)!==l;return u&&(t=a,r=l),{width:t,height:r,$:u}}function dv(n){return kr(n)?n:n.contextElement}function Wa(n){const e=dv(n);if(!ns(e))return Jr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=EC(e);let l=(a?Dh(t.width):t.width)/r,u=(a?Dh(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const IU=Jr(0);function xC(n){const e=Vn(n);return!uv()||!e.visualViewport?IU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CU(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Vn(n)?!1:e}function bo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=dv(n);let l=Jr(1);e&&(r?kr(r)&&(l=Wa(r)):l=Wa(n));const u=CU(a,t,r)?xC(a):Jr(0);let h=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,y=i.width/l.x,v=i.height/l.y;if(a){const E=Vn(a),T=r&&kr(r)?Vn(r):r;let b=E,I=Rg(b);for(;I&&r&&T!==b;){const R=Wa(I),D=I.getBoundingClientRect(),U=Pr(I),V=D.left+(I.clientLeft+parseFloat(U.paddingLeft))*R.x,z=D.top+(I.clientTop+parseFloat(U.paddingTop))*R.y;h*=R.x,p*=R.y,y*=R.x,v*=R.y,h+=V,p+=z,b=Vn(I),I=Rg(b)}}return Oh({width:y,height:v,x:h,y:p})}function hv(n,e){const t=bf(n).scrollLeft;return e?e.left+t:bo(rs(n)).left+t}function SC(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:hv(n,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function bU(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=rs(r),u=e?Cf(e.floating):!1;if(r===l||u&&a)return t;let h={scrollLeft:0,scrollTop:0},p=Jr(1);const y=Jr(0),v=ns(r);if((v||!v&&!a)&&((wl(r)!=="body"||cu(l))&&(h=bf(r)),ns(r))){const T=bo(r);p=Wa(r),y.x=T.x+r.clientLeft,y.y=T.y+r.clientTop}const E=l&&!v&&!a?SC(l,h,!0):Jr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+y.x+E.x,y:t.y*p.y-h.scrollTop*p.y+y.y+E.y}}function AU(n){return Array.from(n.getClientRects())}function RU(n){const e=rs(n),t=bf(n),r=n.ownerDocument.body,i=Dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+hv(n);const u=-t.scrollTop;return Pr(r).direction==="rtl"&&(l+=Dn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}function kU(n,e){const t=Vn(n),r=rs(n),i=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,h=0;if(i){a=i.width,l=i.height;const p=uv();(!p||p&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:a,height:l,x:u,y:h}}function PU(n,e){const t=bo(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=ns(n)?Wa(n):Jr(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,h=i*a.x,p=r*a.y;return{width:l,height:u,x:h,y:p}}function ox(n,e,t){let r;if(e==="viewport")r=kU(n,t);else if(e==="document")r=RU(rs(n));else if(kr(e))r=PU(e,t);else{const i=xC(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Oh(r)}function TC(n,e){const t=Ni(n);return t===e||!kr(t)||nl(t)?!1:Pr(t).position==="fixed"||TC(t,e)}function NU(n,e){const t=e.get(n);if(t)return t;let r=qc(n,[],!1).filter(u=>kr(u)&&wl(u)!=="body"),i=null;const a=Pr(n).position==="fixed";let l=a?Ni(n):n;for(;kr(l)&&!nl(l);){const u=Pr(l),h=cv(l);!h&&u.position==="fixed"&&(i=null),(a?!h&&!i:!h&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||cu(l)&&!h&&TC(n,l))?r=r.filter(y=>y!==l):i=u,l=Ni(l)}return e.set(n,r),r}function DU(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?Cf(e)?[]:NU(e,this._c):[].concat(t),r],u=l[0],h=l.reduce((p,y)=>{const v=ox(e,y,i);return p.top=Dn(v.top,p.top),p.right=Pi(v.right,p.right),p.bottom=Pi(v.bottom,p.bottom),p.left=Dn(v.left,p.left),p},ox(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function MU(n){const{width:e,height:t}=EC(n);return{width:e,height:t}}function OU(n,e,t){const r=ns(e),i=rs(e),a=t==="fixed",l=bo(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=Jr(0);function p(){h.x=hv(i)}if(r||!r&&!a)if((wl(e)!=="body"||cu(i))&&(u=bf(e)),r){const T=bo(e,!0,a,e);h.x=T.x+e.clientLeft,h.y=T.y+e.clientTop}else i&&p();a&&!r&&i&&p();const y=i&&!r&&!a?SC(i,u):Jr(0),v=l.left+u.scrollLeft-h.x-y.x,E=l.top+u.scrollTop-h.y-y.y;return{x:v,y:E,width:l.width,height:l.height}}function Um(n){return Pr(n).position==="static"}function ax(n,e){if(!ns(n)||Pr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return rs(n)===t&&(t=t.ownerDocument.body),t}function IC(n,e){const t=Vn(n);if(Cf(n))return t;if(!ns(n)){let i=Ni(n);for(;i&&!nl(i);){if(kr(i)&&!Um(i))return i;i=Ni(i)}return t}let r=ax(n,e);for(;r&&SU(r)&&Um(r);)r=ax(r,e);return r&&nl(r)&&Um(r)&&!cv(r)?t:r||TU(n)||t}const LU=async function(n){const e=this.getOffsetParent||IC,t=this.getDimensions,r=await t(n.floating);return{reference:OU(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jU(n){return Pr(n).direction==="rtl"}const VU={convertOffsetParentRelativeRectToViewportRelativeRect:bU,getDocumentElement:rs,getClippingRect:DU,getOffsetParent:IC,getElementRects:LU,getClientRects:AU,getDimensions:MU,getScale:Wa,isElement:kr,isRTL:jU};function CC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function FU(n,e){let t=null,r;const i=rs(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=n.getBoundingClientRect(),{left:y,top:v,width:E,height:T}=p;if(u||e(),!E||!T)return;const b=Ud(v),I=Ud(i.clientWidth-(y+E)),R=Ud(i.clientHeight-(v+T)),D=Ud(y),V={rootMargin:-b+"px "+-I+"px "+-R+"px "+-D+"px",threshold:Dn(0,Pi(1,h))||1};let z=!0;function W(Y){const N=Y[0].intersectionRatio;if(N!==h){if(!z)return l();N?l(!1,N):r=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!CC(p,n.getBoundingClientRect())&&l(),z=!1}try{t=new IntersectionObserver(W,{...V,root:i.ownerDocument})}catch{t=new IntersectionObserver(W,V)}t.observe(n)}return l(!0),a}function UU(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=dv(n),y=i||a?[...p?qc(p):[],...qc(e)]:[];y.forEach(D=>{i&&D.addEventListener("scroll",t,{passive:!0}),a&&D.addEventListener("resize",t)});const v=p&&u?FU(p,t):null;let E=-1,T=null;l&&(T=new ResizeObserver(D=>{let[U]=D;U&&U.target===p&&T&&(T.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var V;(V=T)==null||V.observe(e)})),t()}),p&&!h&&T.observe(p),T.observe(e));let b,I=h?bo(n):null;h&&R();function R(){const D=bo(n);I&&!CC(I,D)&&t(),I=D,b=requestAnimationFrame(R)}return t(),()=>{var D;y.forEach(U=>{i&&U.removeEventListener("scroll",t),a&&U.removeEventListener("resize",t)}),v==null||v(),(D=T)==null||D.disconnect(),T=null,h&&cancelAnimationFrame(b)}}const zU=wU,$U=_U,BU=gU,WU=xU,HU=yU,lx=mU,qU=EU,GU=(n,e,t)=>{const r=new Map,i={platform:VU,...t},a={...i.platform,_c:r};return pU(n,e,{...i,platform:a})};var oh=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Lh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Lh(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Lh(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function bC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function cx(n,e){const t=bC(n);return Math.round(e*t)/t}function zm(n){const e=x.useRef(n);return oh(()=>{e.current=n}),e}function KU(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[y,v]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,T]=x.useState(r);Lh(E,r)||T(r);const[b,I]=x.useState(null),[R,D]=x.useState(null),U=x.useCallback(q=>{q!==Y.current&&(Y.current=q,I(q))},[]),V=x.useCallback(q=>{q!==N.current&&(N.current=q,D(q))},[]),z=a||b,W=l||R,Y=x.useRef(null),N=x.useRef(null),A=x.useRef(y),k=h!=null,M=zm(h),L=zm(i),F=zm(p),O=x.useCallback(()=>{if(!Y.current||!N.current)return;const q={placement:e,strategy:t,middleware:E};L.current&&(q.platform=L.current),GU(Y.current,N.current,q).then(ee=>{const re={...ee,isPositioned:F.current!==!1};Se.current&&!Lh(A.current,re)&&(A.current=re,Xc.flushSync(()=>{v(re)}))})},[E,e,t,L,F]);oh(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,v(q=>({...q,isPositioned:!1})))},[p]);const Se=x.useRef(!1);oh(()=>(Se.current=!0,()=>{Se.current=!1}),[]),oh(()=>{if(z&&(Y.current=z),W&&(N.current=W),z&&W){if(M.current)return M.current(z,W,O);O()}},[z,W,O,M,k]);const be=x.useMemo(()=>({reference:Y,floating:N,setReference:U,setFloating:V}),[U,V]),he=x.useMemo(()=>({reference:z,floating:W}),[z,W]),me=x.useMemo(()=>{const q={position:t,left:0,top:0};if(!he.floating)return q;const ee=cx(he.floating,y.x),re=cx(he.floating,y.y);return u?{...q,transform:"translate("+ee+"px, "+re+"px)",...bC(he.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ee,top:re}},[t,u,he.floating,y.x,y.y]);return x.useMemo(()=>({...y,update:O,refs:be,elements:he,floatingStyles:me}),[y,O,be,he,me])}const QU=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?lx({element:r.current,padding:i}).fn(t):{}:r?lx({element:r,padding:i}).fn(t):{}}}},YU=(n,e)=>({...zU(n),options:[n,e]}),XU=(n,e)=>({...$U(n),options:[n,e]}),JU=(n,e)=>({...qU(n),options:[n,e]}),ZU=(n,e)=>({...BU(n),options:[n,e]}),e3=(n,e)=>({...WU(n),options:[n,e]}),t3=(n,e)=>({...HU(n),options:[n,e]}),n3=(n,e)=>({...QU(n),options:[n,e]});var r3="Arrow",AC=x.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return m.jsx(We.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});AC.displayName=r3;var s3=AC;function i3(n){const[e,t]=x.useState(void 0);return At(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var fv="Popper",[RC,Af]=Fi(fv),[o3,kC]=RC(fv),PC=n=>{const{__scopePopper:e,children:t}=n,[r,i]=x.useState(null);return m.jsx(o3,{scope:e,anchor:r,onAnchorChange:i,children:t})};PC.displayName=fv;var NC="PopperAnchor",DC=x.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=kC(NC,t),l=x.useRef(null),u=rt(e,l);return x.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:m.jsx(We.div,{...i,ref:u})});DC.displayName=NC;var pv="PopperContent",[a3,l3]=RC(pv),MC=x.forwardRef((n,e)=>{var ie,Ee,Ie,ke,Fe,Ue;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:T="optimized",onPlaced:b,...I}=n,R=kC(pv,t),[D,U]=x.useState(null),V=rt(e,yt=>U(yt)),[z,W]=x.useState(null),Y=i3(z),N=(Y==null?void 0:Y.width)??0,A=(Y==null?void 0:Y.height)??0,k=r+(a!=="center"?"-"+a:""),M=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},L=Array.isArray(p)?p:[p],F=L.length>0,O={padding:M,boundary:L.filter(u3),altBoundary:F},{refs:Se,floatingStyles:be,placement:he,isPositioned:me,middlewareData:q}=KU({strategy:"fixed",placement:k,whileElementsMounted:(...yt)=>UU(...yt,{animationFrame:T==="always"}),elements:{reference:R.anchor},middleware:[YU({mainAxis:i+A,alignmentAxis:l}),h&&XU({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?JU():void 0,...O}),h&&ZU({...O}),e3({...O,apply:({elements:yt,rects:Lt,availableWidth:Un,availableHeight:rr})=>{const{width:sr,height:Fo}=Lt.reference,ir=yt.floating.style;ir.setProperty("--radix-popper-available-width",`${Un}px`),ir.setProperty("--radix-popper-available-height",`${rr}px`),ir.setProperty("--radix-popper-anchor-width",`${sr}px`),ir.setProperty("--radix-popper-anchor-height",`${Fo}px`)}}),z&&n3({element:z,padding:u}),d3({arrowWidth:N,arrowHeight:A}),E&&t3({strategy:"referenceHidden",...O})]}),[ee,re]=jC(he),B=Bt(b);At(()=>{me&&(B==null||B())},[me,B]);const Z=(ie=q.arrow)==null?void 0:ie.x,ue=(Ee=q.arrow)==null?void 0:Ee.y,ge=((Ie=q.arrow)==null?void 0:Ie.centerOffset)!==0,[Re,De]=x.useState();return At(()=>{D&&De(window.getComputedStyle(D).zIndex)},[D]),m.jsx("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:me?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ke=q.transformOrigin)==null?void 0:ke.x,(Fe=q.transformOrigin)==null?void 0:Fe.y].join(" "),...((Ue=q.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:m.jsx(a3,{scope:t,placedSide:ee,onArrowChange:W,arrowX:Z,arrowY:ue,shouldHideArrow:ge,children:m.jsx(We.div,{"data-side":ee,"data-align":re,...I,ref:V,style:{...I.style,animation:me?void 0:"none"}})})})});MC.displayName=pv;var OC="PopperArrow",c3={top:"bottom",right:"left",bottom:"top",left:"right"},LC=x.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=l3(OC,r),l=c3[a.placedSide];return m.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:m.jsx(s3,{...i,ref:t,style:{...i.style,display:"block"}})})});LC.displayName=OC;function u3(n){return n!==null}var d3=n=>({name:"transformOrigin",options:n,fn(e){var R,D,U;const{placement:t,rects:r,middlewareData:i}=e,l=((R=i.arrow)==null?void 0:R.centerOffset)!==0,u=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,y]=jC(t),v={start:"0%",center:"50%",end:"100%"}[y],E=(((D=i.arrow)==null?void 0:D.x)??0)+u/2,T=(((U=i.arrow)==null?void 0:U.y)??0)+h/2;let b="",I="";return p==="bottom"?(b=l?v:`${E}px`,I=`${-h}px`):p==="top"?(b=l?v:`${E}px`,I=`${r.floating.height+h}px`):p==="right"?(b=`${-h}px`,I=l?v:`${T}px`):p==="left"&&(b=`${r.floating.width+h}px`,I=l?v:`${T}px`),{data:{x:b,y:I}}}});function jC(n){const[e,t="center"]=n.split("-");return[e,t]}var VC=PC,FC=DC,UC=MC,zC=LC,h3="Portal",mv=x.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,a]=x.useState(!1);At(()=>a(!0),[]);const l=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?_k.createPortal(m.jsx(We.div,{...r,ref:e}),l):null});mv.displayName=h3;function f3(n,e){return x.useReducer((t,r)=>e[t][r]??t,n)}var Us=n=>{const{present:e,children:t}=n,r=p3(e),i=typeof t=="function"?t({present:r.isPresent}):x.Children.only(t),a=rt(r.ref,m3(i));return typeof t=="function"||r.isPresent?x.cloneElement(i,{ref:a}):null};Us.displayName="Presence";function p3(n){const[e,t]=x.useState(),r=x.useRef(null),i=x.useRef(n),a=x.useRef("none"),l=n?"mounted":"unmounted",[u,h]=f3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=zd(r.current);a.current=u==="mounted"?p:"none"},[u]),At(()=>{const p=r.current,y=i.current;if(y!==n){const E=a.current,T=zd(p);n?h("MOUNT"):T==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(y&&E!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,h]),At(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,v=T=>{const I=zd(r.current).includes(T.animationName);if(T.target===e&&I&&(h("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=T=>{T.target===e&&(a.current=zd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function zd(n){return(n==null?void 0:n.animationName)||"none"}function m3(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var $m="rovingFocusGroup.onEntryFocus",g3={bubbles:!1,cancelable:!0},uu="RovingFocusGroup",[kg,$C,y3]=rv(uu),[v3,BC]=Fi(uu,[y3]),[w3,_3]=v3(uu),WC=x.forwardRef((n,e)=>m.jsx(kg.Provider,{scope:n.__scopeRovingFocusGroup,children:m.jsx(kg.Slot,{scope:n.__scopeRovingFocusGroup,children:m.jsx(E3,{...n,ref:e})})}));WC.displayName=uu;var E3=x.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...v}=n,E=x.useRef(null),T=rt(e,E),b=Tf(a),[I,R]=Nh({prop:l,defaultProp:u??null,onChange:h,caller:uu}),[D,U]=x.useState(!1),V=Bt(p),z=$C(t),W=x.useRef(!1),[Y,N]=x.useState(0);return x.useEffect(()=>{const A=E.current;if(A)return A.addEventListener($m,V),()=>A.removeEventListener($m,V)},[V]),m.jsx(w3,{scope:t,orientation:r,dir:b,loop:i,currentTabStopId:I,onItemFocus:x.useCallback(A=>R(A),[R]),onItemShiftTab:x.useCallback(()=>U(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(A=>A+1),[]),onFocusableItemRemove:x.useCallback(()=>N(A=>A-1),[]),children:m.jsx(We.div,{tabIndex:D||Y===0?-1:0,"data-orientation":r,...v,ref:T,style:{outline:"none",...n.style},onMouseDown:Ce(n.onMouseDown,()=>{W.current=!0}),onFocus:Ce(n.onFocus,A=>{const k=!W.current;if(A.target===A.currentTarget&&k&&!D){const M=new CustomEvent($m,g3);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=z().filter(he=>he.focusable),F=L.find(he=>he.active),O=L.find(he=>he.id===I),be=[F,O,...L].filter(Boolean).map(he=>he.ref.current);GC(be,y)}}W.current=!1}),onBlur:Ce(n.onBlur,()=>U(!1))})})}),HC="RovingFocusGroupItem",qC=x.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...u}=n,h=tl(),p=a||h,y=_3(HC,t),v=y.currentTabStopId===p,E=$C(t),{onFocusableItemAdd:T,onFocusableItemRemove:b,currentTabStopId:I}=y;return x.useEffect(()=>{if(r)return T(),()=>b()},[r,T,b]),m.jsx(kg.ItemSlot,{scope:t,id:p,focusable:r,active:i,children:m.jsx(We.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...u,ref:e,onMouseDown:Ce(n.onMouseDown,R=>{r?y.onItemFocus(p):R.preventDefault()}),onFocus:Ce(n.onFocus,()=>y.onItemFocus(p)),onKeyDown:Ce(n.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){y.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const D=T3(R,y.orientation,y.dir);if(D!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let V=E().filter(z=>z.focusable).map(z=>z.ref.current);if(D==="last")V.reverse();else if(D==="prev"||D==="next"){D==="prev"&&V.reverse();const z=V.indexOf(R.currentTarget);V=y.loop?I3(V,z+1):V.slice(z+1)}setTimeout(()=>GC(V))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:I!=null}):l})})});qC.displayName=HC;var x3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S3(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function T3(n,e,t){const r=S3(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return x3[r]}function GC(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function I3(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var C3=WC,b3=qC,A3=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ka=new WeakMap,$d=new WeakMap,Bd={},Bm=0,KC=function(n){return n&&(n.host||KC(n.parentNode))},R3=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=KC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},k3=function(n,e,t,r){var i=R3(e,Array.isArray(n)?n:[n]);Bd[t]||(Bd[t]=new WeakMap);var a=Bd[t],l=[],u=new Set,h=new Set(i),p=function(v){!v||u.has(v)||(u.add(v),p(v.parentNode))};i.forEach(p);var y=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(E){if(u.has(E))y(E);else try{var T=E.getAttribute(r),b=T!==null&&T!=="false",I=(ka.get(E)||0)+1,R=(a.get(E)||0)+1;ka.set(E,I),a.set(E,R),l.push(E),I===1&&b&&$d.set(E,!0),R===1&&E.setAttribute(t,"true"),b||E.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",E,D)}})};return y(e),u.clear(),Bm++,function(){l.forEach(function(v){var E=ka.get(v)-1,T=a.get(v)-1;ka.set(v,E),a.set(v,T),E||($d.has(v)||v.removeAttribute(r),$d.delete(v)),T||v.removeAttribute(t)}),Bm--,Bm||(ka=new WeakMap,ka=new WeakMap,$d=new WeakMap,Bd={})}},QC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=A3(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),k3(r,i,t,"aria-hidden")):function(){return null}},ah="right-scroll-bar-position",lh="width-before-scroll-bar",P3="with-scroll-bars-hidden",N3="--removed-body-scroll-bar-size";function Wm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function D3(n,e){var t=x.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var M3=typeof window<"u"?x.useLayoutEffect:x.useEffect,ux=new WeakMap;function O3(n,e){var t=D3(null,function(r){return n.forEach(function(i){return Wm(i,r)})});return M3(function(){var r=ux.get(t);if(r){var i=new Set(r),a=new Set(n),l=t.current;i.forEach(function(u){a.has(u)||Wm(u,null)}),a.forEach(function(u){i.has(u)||Wm(u,l)})}ux.set(t,n)},[n]),t}function L3(n){return n}function j3(n,e){e===void 0&&(e=L3);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(a),l=t}var h=function(){var y=l;l=[],y.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(y){l.push(y),p()},filter:function(y){return l=l.filter(y),t}}}};return i}function V3(n){n===void 0&&(n={});var e=j3(null);return e.options=Kr({async:!0,ssr:!1},n),e}var YC=function(n){var e=n.sideCar,t=Zc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Kr({},t))};YC.isSideCarExport=!0;function F3(n,e){return n.useMedium(e),YC}var XC=V3(),Hm=function(){},Rf=x.forwardRef(function(n,e){var t=x.useRef(null),r=x.useState({onScrollCapture:Hm,onWheelCapture:Hm,onTouchMoveCapture:Hm}),i=r[0],a=r[1],l=n.forwardProps,u=n.children,h=n.className,p=n.removeScrollBar,y=n.enabled,v=n.shards,E=n.sideCar,T=n.noIsolation,b=n.inert,I=n.allowPinchZoom,R=n.as,D=R===void 0?"div":R,U=n.gapMode,V=Zc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=E,W=O3([t,e]),Y=Kr(Kr({},V),i);return x.createElement(x.Fragment,null,y&&x.createElement(z,{sideCar:XC,removeScrollBar:p,shards:v,noIsolation:T,inert:b,setCallbacks:a,allowPinchZoom:!!I,lockRef:t,gapMode:U}),l?x.cloneElement(x.Children.only(u),Kr(Kr({},Y),{ref:W})):x.createElement(D,Kr({},Y,{className:h,ref:W}),u))});Rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rf.classNames={fullWidth:lh,zeroRight:ah};var U3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z3(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=U3();return e&&n.setAttribute("nonce",e),n}function $3(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function B3(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var W3=function(){var n=0,e=null;return{add:function(t){n==0&&(e=z3())&&($3(e,t),B3(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},H3=function(){var n=W3();return function(e,t){x.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},JC=function(){var n=H3(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},q3={left:0,top:0,right:0,gap:0},qm=function(n){return parseInt(n||"",10)||0},G3=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[qm(t),qm(r),qm(i)]},K3=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return q3;var e=G3(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Q3=JC(),Ha="data-scroll-locked",Y3=function(n,e,t,r){var i=n.left,a=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(P3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ha,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ah,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(lh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ha,`] {
    `).concat(N3,": ").concat(u,`px;
  }
`)},dx=function(){var n=parseInt(document.body.getAttribute(Ha)||"0",10);return isFinite(n)?n:0},X3=function(){x.useEffect(function(){return document.body.setAttribute(Ha,(dx()+1).toString()),function(){var n=dx()-1;n<=0?document.body.removeAttribute(Ha):document.body.setAttribute(Ha,n.toString())}},[])},J3=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;X3();var a=x.useMemo(function(){return K3(i)},[i]);return x.createElement(Q3,{styles:Y3(a,!e,i,t?"":"!important")})},Pg=!1;if(typeof window<"u")try{var Wd=Object.defineProperty({},"passive",{get:function(){return Pg=!0,!0}});window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{Pg=!1}var Pa=Pg?{passive:!1}:!1,Z3=function(n){return n.tagName==="TEXTAREA"},ZC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Z3(n)&&t[e]==="visible")},e9=function(n){return ZC(n,"overflowY")},t9=function(n){return ZC(n,"overflowX")},hx=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=eb(n,r);if(i){var a=tb(n,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},n9=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},r9=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},eb=function(n,e){return n==="v"?e9(e):t9(e)},tb=function(n,e){return n==="v"?n9(e):r9(e)},s9=function(n,e){return n==="h"&&e==="rtl"?-1:1},i9=function(n,e,t,r,i){var a=s9(n,window.getComputedStyle(e).direction),l=a*r,u=t.target,h=e.contains(u),p=!1,y=l>0,v=0,E=0;do{var T=tb(n,u),b=T[0],I=T[1],R=T[2],D=I-R-a*b;(b||D)&&eb(n,u)&&(v+=D,E+=b),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(y&&Math.abs(v)<1||!y&&Math.abs(E)<1)&&(p=!0),p},Hd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},fx=function(n){return[n.deltaX,n.deltaY]},px=function(n){return n&&"current"in n?n.current:n},o9=function(n,e){return n[0]===e[0]&&n[1]===e[1]},a9=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},l9=0,Na=[];function c9(n){var e=x.useRef([]),t=x.useRef([0,0]),r=x.useRef(),i=x.useState(l9++)[0],a=x.useState(JC)[0],l=x.useRef(n);x.useEffect(function(){l.current=n},[n]),x.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var I=sN([n.lockRef.current],(n.shards||[]).map(px),!0).filter(Boolean);return I.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),I.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=x.useCallback(function(I,R){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var D=Hd(I),U=t.current,V="deltaX"in I?I.deltaX:U[0]-D[0],z="deltaY"in I?I.deltaY:U[1]-D[1],W,Y=I.target,N=Math.abs(V)>Math.abs(z)?"h":"v";if("touches"in I&&N==="h"&&Y.type==="range")return!1;var A=hx(N,Y);if(!A)return!0;if(A?W=N:(W=N==="v"?"h":"v",A=hx(N,Y)),!A)return!1;if(!r.current&&"changedTouches"in I&&(V||z)&&(r.current=W),!W)return!0;var k=r.current||W;return i9(k,R,I,k==="h"?V:z)},[]),h=x.useCallback(function(I){var R=I;if(!(!Na.length||Na[Na.length-1]!==a)){var D="deltaY"in R?fx(R):Hd(R),U=e.current.filter(function(W){return W.name===R.type&&(W.target===R.target||R.target===W.shadowParent)&&o9(W.delta,D)})[0];if(U&&U.should){R.cancelable&&R.preventDefault();return}if(!U){var V=(l.current.shards||[]).map(px).filter(Boolean).filter(function(W){return W.contains(R.target)}),z=V.length>0?u(R,V[0]):!l.current.noIsolation;z&&R.cancelable&&R.preventDefault()}}},[]),p=x.useCallback(function(I,R,D,U){var V={name:I,delta:R,target:D,should:U,shadowParent:u9(D)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function(z){return z!==V})},1)},[]),y=x.useCallback(function(I){t.current=Hd(I),r.current=void 0},[]),v=x.useCallback(function(I){p(I.type,fx(I),I.target,u(I,n.lockRef.current))},[]),E=x.useCallback(function(I){p(I.type,Hd(I),I.target,u(I,n.lockRef.current))},[]);x.useEffect(function(){return Na.push(a),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",h,Pa),document.addEventListener("touchmove",h,Pa),document.addEventListener("touchstart",y,Pa),function(){Na=Na.filter(function(I){return I!==a}),document.removeEventListener("wheel",h,Pa),document.removeEventListener("touchmove",h,Pa),document.removeEventListener("touchstart",y,Pa)}},[]);var T=n.removeScrollBar,b=n.inert;return x.createElement(x.Fragment,null,b?x.createElement(a,{styles:a9(i)}):null,T?x.createElement(J3,{gapMode:n.gapMode}):null)}function u9(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const d9=F3(XC,c9);var gv=x.forwardRef(function(n,e){return x.createElement(Rf,Kr({},n,{ref:e,sideCar:d9}))});gv.classNames=Rf.classNames;var Ng=["Enter"," "],h9=["ArrowDown","PageUp","Home"],nb=["ArrowUp","PageDown","End"],f9=[...h9,...nb],p9={ltr:[...Ng,"ArrowRight"],rtl:[...Ng,"ArrowLeft"]},m9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},du="Menu",[Gc,g9,y9]=rv(du),[Lo,rb]=Fi(du,[y9,Af,BC]),kf=Af(),sb=BC(),[v9,jo]=Lo(du),[w9,hu]=Lo(du),ib=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:a,modal:l=!0}=n,u=kf(e),[h,p]=x.useState(null),y=x.useRef(!1),v=Bt(a),E=Tf(i);return x.useEffect(()=>{const T=()=>{y.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>y.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),m.jsx(VC,{...u,children:m.jsx(v9,{scope:e,open:t,onOpenChange:v,content:h,onContentChange:p,children:m.jsx(w9,{scope:e,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:y,dir:E,modal:l,children:r})})})};ib.displayName=du;var _9="MenuAnchor",yv=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=kf(t);return m.jsx(FC,{...i,...r,ref:e})});yv.displayName=_9;var vv="MenuPortal",[E9,ob]=Lo(vv,{forceMount:void 0}),ab=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,a=jo(vv,e);return m.jsx(E9,{scope:e,forceMount:t,children:m.jsx(Us,{present:t||a.open,children:m.jsx(mv,{asChild:!0,container:i,children:r})})})};ab.displayName=vv;var er="MenuContent",[x9,wv]=Lo(er),lb=x.forwardRef((n,e)=>{const t=ob(er,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=jo(er,n.__scopeMenu),l=hu(er,n.__scopeMenu);return m.jsx(Gc.Provider,{scope:n.__scopeMenu,children:m.jsx(Us,{present:r||a.open,children:m.jsx(Gc.Slot,{scope:n.__scopeMenu,children:l.modal?m.jsx(S9,{...i,ref:e}):m.jsx(T9,{...i,ref:e})})})})}),S9=x.forwardRef((n,e)=>{const t=jo(er,n.__scopeMenu),r=x.useRef(null),i=rt(e,r);return x.useEffect(()=>{const a=r.current;if(a)return QC(a)},[]),m.jsx(_v,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ce(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),T9=x.forwardRef((n,e)=>{const t=jo(er,n.__scopeMenu);return m.jsx(_v,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),I9=el("MenuContent.ScrollLock"),_v=x.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:E,onDismiss:T,disableOutsideScroll:b,...I}=n,R=jo(er,t),D=hu(er,t),U=kf(t),V=sb(t),z=g9(t),[W,Y]=x.useState(null),N=x.useRef(null),A=rt(e,N,R.onContentChange),k=x.useRef(0),M=x.useRef(""),L=x.useRef(0),F=x.useRef(null),O=x.useRef("right"),Se=x.useRef(0),be=b?gv:x.Fragment,he=b?{as:I9,allowPinchZoom:!0}:void 0,me=ee=>{var ie,Ee;const re=M.current+ee,B=z().filter(Ie=>!Ie.disabled),Z=document.activeElement,ue=(ie=B.find(Ie=>Ie.ref.current===Z))==null?void 0:ie.textValue,ge=B.map(Ie=>Ie.textValue),Re=j9(ge,re,ue),De=(Ee=B.find(Ie=>Ie.textValue===Re))==null?void 0:Ee.ref.current;(function Ie(ke){M.current=ke,window.clearTimeout(k.current),ke!==""&&(k.current=window.setTimeout(()=>Ie(""),1e3))})(re),De&&setTimeout(()=>De.focus())};x.useEffect(()=>()=>window.clearTimeout(k.current),[]),gC();const q=x.useCallback(ee=>{var B,Z;return O.current===((B=F.current)==null?void 0:B.side)&&F9(ee,(Z=F.current)==null?void 0:Z.area)},[]);return m.jsx(x9,{scope:t,searchRef:M,onItemEnter:x.useCallback(ee=>{q(ee)&&ee.preventDefault()},[q]),onItemLeave:x.useCallback(ee=>{var re;q(ee)||((re=N.current)==null||re.focus(),Y(null))},[q]),onTriggerLeave:x.useCallback(ee=>{q(ee)&&ee.preventDefault()},[q]),pointerGraceTimerRef:L,onPointerGraceIntentChange:x.useCallback(ee=>{F.current=ee},[]),children:m.jsx(be,{...he,children:m.jsx(iv,{asChild:!0,trapped:i,onMountAutoFocus:Ce(a,ee=>{var re;ee.preventDefault(),(re=N.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:m.jsx(sv,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:E,onDismiss:T,children:m.jsx(C3,{asChild:!0,...V,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:W,onCurrentTabStopIdChange:Y,onEntryFocus:Ce(h,ee=>{D.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(UC,{role:"menu","aria-orientation":"vertical","data-state":Tb(R.open),"data-radix-menu-content":"",dir:D.dir,...U,...I,ref:A,style:{outline:"none",...I.style},onKeyDown:Ce(I.onKeyDown,ee=>{const B=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,Z=ee.ctrlKey||ee.altKey||ee.metaKey,ue=ee.key.length===1;B&&(ee.key==="Tab"&&ee.preventDefault(),!Z&&ue&&me(ee.key));const ge=N.current;if(ee.target!==ge||!f9.includes(ee.key))return;ee.preventDefault();const De=z().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);nb.includes(ee.key)&&De.reverse(),O9(De)}),onBlur:Ce(n.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(k.current),M.current="")}),onPointerMove:Ce(n.onPointerMove,Kc(ee=>{const re=ee.target,B=Se.current!==ee.clientX;if(ee.currentTarget.contains(re)&&B){const Z=ee.clientX>Se.current?"right":"left";O.current=Z,Se.current=ee.clientX}}))})})})})})})});lb.displayName=er;var C9="MenuGroup",Ev=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return m.jsx(We.div,{role:"group",...r,ref:e})});Ev.displayName=C9;var b9="MenuLabel",cb=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return m.jsx(We.div,{...r,ref:e})});cb.displayName=b9;var jh="MenuItem",mx="menu.itemSelect",Pf=x.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,a=x.useRef(null),l=hu(jh,n.__scopeMenu),u=wv(jh,n.__scopeMenu),h=rt(e,a),p=x.useRef(!1),y=()=>{const v=a.current;if(!t&&v){const E=new CustomEvent(mx,{bubbles:!0,cancelable:!0});v.addEventListener(mx,T=>r==null?void 0:r(T),{once:!0}),lC(v,E),E.defaultPrevented?p.current=!1:l.onClose()}};return m.jsx(ub,{...i,ref:h,disabled:t,onClick:Ce(n.onClick,y),onPointerDown:v=>{var E;(E=n.onPointerDown)==null||E.call(n,v),p.current=!0},onPointerUp:Ce(n.onPointerUp,v=>{var E;p.current||(E=v.currentTarget)==null||E.click()}),onKeyDown:Ce(n.onKeyDown,v=>{const E=u.searchRef.current!=="";t||E&&v.key===" "||Ng.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Pf.displayName=jh;var ub=x.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...a}=n,l=wv(jh,t),u=sb(t),h=x.useRef(null),p=rt(e,h),[y,v]=x.useState(!1),[E,T]=x.useState("");return x.useEffect(()=>{const b=h.current;b&&T((b.textContent??"").trim())},[a.children]),m.jsx(Gc.ItemSlot,{scope:t,disabled:r,textValue:i??E,children:m.jsx(b3,{asChild:!0,...u,focusable:!r,children:m.jsx(We.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:p,onPointerMove:Ce(n.onPointerMove,Kc(b=>{r?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(n.onPointerLeave,Kc(b=>l.onItemLeave(b))),onFocus:Ce(n.onFocus,()=>v(!0)),onBlur:Ce(n.onBlur,()=>v(!1))})})})}),A9="MenuCheckboxItem",db=x.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return m.jsx(gb,{scope:n.__scopeMenu,checked:t,children:m.jsx(Pf,{role:"menuitemcheckbox","aria-checked":Vh(t)?"mixed":t,...i,ref:e,"data-state":Sv(t),onSelect:Ce(i.onSelect,()=>r==null?void 0:r(Vh(t)?!0:!t),{checkForDefaultPrevented:!1})})})});db.displayName=A9;var hb="MenuRadioGroup",[R9,k9]=Lo(hb,{value:void 0,onValueChange:()=>{}}),fb=x.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,a=Bt(r);return m.jsx(R9,{scope:n.__scopeMenu,value:t,onValueChange:a,children:m.jsx(Ev,{...i,ref:e})})});fb.displayName=hb;var pb="MenuRadioItem",mb=x.forwardRef((n,e)=>{const{value:t,...r}=n,i=k9(pb,n.__scopeMenu),a=t===i.value;return m.jsx(gb,{scope:n.__scopeMenu,checked:a,children:m.jsx(Pf,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Sv(a),onSelect:Ce(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,t)},{checkForDefaultPrevented:!1})})})});mb.displayName=pb;var xv="MenuItemIndicator",[gb,P9]=Lo(xv,{checked:!1}),yb=x.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,a=P9(xv,t);return m.jsx(Us,{present:r||Vh(a.checked)||a.checked===!0,children:m.jsx(We.span,{...i,ref:e,"data-state":Sv(a.checked)})})});yb.displayName=xv;var N9="MenuSeparator",vb=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return m.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});vb.displayName=N9;var D9="MenuArrow",wb=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=kf(t);return m.jsx(zC,{...i,...r,ref:e})});wb.displayName=D9;var M9="MenuSub",[$z,_b]=Lo(M9),Sc="MenuSubTrigger",Eb=x.forwardRef((n,e)=>{const t=jo(Sc,n.__scopeMenu),r=hu(Sc,n.__scopeMenu),i=_b(Sc,n.__scopeMenu),a=wv(Sc,n.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=a,p={__scopeMenu:n.__scopeMenu},y=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>y,[y]),x.useEffect(()=>{const v=u.current;return()=>{window.clearTimeout(v),h(null)}},[u,h]),m.jsx(yv,{asChild:!0,...p,children:m.jsx(ub,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":Tb(t.open),...n,ref:Sf(e,i.onTriggerChange),onClick:v=>{var E;(E=n.onClick)==null||E.call(n,v),!(n.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ce(n.onPointerMove,Kc(v=>{a.onItemEnter(v),!v.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:Ce(n.onPointerLeave,Kc(v=>{var T,b;y();const E=(T=t.content)==null?void 0:T.getBoundingClientRect();if(E){const I=(b=t.content)==null?void 0:b.dataset.side,R=I==="right",D=R?-5:5,U=E[R?"left":"right"],V=E[R?"right":"left"];a.onPointerGraceIntentChange({area:[{x:v.clientX+D,y:v.clientY},{x:U,y:E.top},{x:V,y:E.top},{x:V,y:E.bottom},{x:U,y:E.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(v),v.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(n.onKeyDown,v=>{var T;const E=a.searchRef.current!=="";n.disabled||E&&v.key===" "||p9[r.dir].includes(v.key)&&(t.onOpenChange(!0),(T=t.content)==null||T.focus(),v.preventDefault())})})})});Eb.displayName=Sc;var xb="MenuSubContent",Sb=x.forwardRef((n,e)=>{const t=ob(er,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=jo(er,n.__scopeMenu),l=hu(er,n.__scopeMenu),u=_b(xb,n.__scopeMenu),h=x.useRef(null),p=rt(e,h);return m.jsx(Gc.Provider,{scope:n.__scopeMenu,children:m.jsx(Us,{present:r||a.open,children:m.jsx(Gc.Slot,{scope:n.__scopeMenu,children:m.jsx(_v,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var v;l.isUsingKeyboardRef.current&&((v=h.current)==null||v.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ce(n.onFocusOutside,y=>{y.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ce(n.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:Ce(n.onKeyDown,y=>{var T;const v=y.currentTarget.contains(y.target),E=m9[l.dir].includes(y.key);v&&E&&(a.onOpenChange(!1),(T=u.trigger)==null||T.focus(),y.preventDefault())})})})})})});Sb.displayName=xb;function Tb(n){return n?"open":"closed"}function Vh(n){return n==="indeterminate"}function Sv(n){return Vh(n)?"indeterminate":n?"checked":"unchecked"}function O9(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function L9(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function j9(n,e,t){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=L9(n,Math.max(a,0));i.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return h!==t?h:void 0}function V9(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],h=e[l],p=u.x,y=u.y,v=h.x,E=h.y;y>r!=E>r&&t<(v-p)*(r-y)/(E-y)+p&&(i=!i)}return i}function F9(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return V9(t,e)}function Kc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var U9=ib,z9=yv,$9=ab,B9=lb,W9=Ev,H9=cb,q9=Pf,G9=db,K9=fb,Q9=mb,Y9=yb,X9=vb,J9=wb,Z9=Eb,e6=Sb,Nf="DropdownMenu",[t6,Bz]=Fi(Nf,[rb]),hn=rb(),[n6,Ib]=t6(Nf),Cb=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:a,onOpenChange:l,modal:u=!0}=n,h=hn(e),p=x.useRef(null),[y,v]=Nh({prop:i,defaultProp:a??!1,onChange:l,caller:Nf});return m.jsx(n6,{scope:e,triggerId:tl(),triggerRef:p,contentId:tl(),open:y,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(E=>!E),[v]),modal:u,children:m.jsx(U9,{...h,open:y,onOpenChange:v,dir:r,modal:u,children:t})})};Cb.displayName=Nf;var bb="DropdownMenuTrigger",Ab=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,a=Ib(bb,t),l=hn(t);return m.jsx(z9,{asChild:!0,...l,children:m.jsx(We.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Sf(e,a.triggerRef),onPointerDown:Ce(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:Ce(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});Ab.displayName=bb;var r6="DropdownMenuPortal",Rb=n=>{const{__scopeDropdownMenu:e,...t}=n,r=hn(e);return m.jsx($9,{...r,...t})};Rb.displayName=r6;var kb="DropdownMenuContent",Pb=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ib(kb,t),a=hn(t),l=x.useRef(!1);return m.jsx(B9,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Ce(n.onCloseAutoFocus,u=>{var h;l.current||(h=i.triggerRef.current)==null||h.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ce(n.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,y=h.button===2||p;(!i.modal||y)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pb.displayName=kb;var s6="DropdownMenuGroup",i6=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(W9,{...i,...r,ref:e})});i6.displayName=s6;var o6="DropdownMenuLabel",Nb=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(H9,{...i,...r,ref:e})});Nb.displayName=o6;var a6="DropdownMenuItem",Db=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(q9,{...i,...r,ref:e})});Db.displayName=a6;var l6="DropdownMenuCheckboxItem",c6=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(G9,{...i,...r,ref:e})});c6.displayName=l6;var u6="DropdownMenuRadioGroup",d6=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(K9,{...i,...r,ref:e})});d6.displayName=u6;var h6="DropdownMenuRadioItem",f6=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(Q9,{...i,...r,ref:e})});f6.displayName=h6;var p6="DropdownMenuItemIndicator",m6=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(Y9,{...i,...r,ref:e})});m6.displayName=p6;var g6="DropdownMenuSeparator",Mb=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(X9,{...i,...r,ref:e})});Mb.displayName=g6;var y6="DropdownMenuArrow",v6=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(J9,{...i,...r,ref:e})});v6.displayName=y6;var w6="DropdownMenuSubTrigger",_6=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(Z9,{...i,...r,ref:e})});_6.displayName=w6;var E6="DropdownMenuSubContent",x6=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=hn(t);return m.jsx(e6,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});x6.displayName=E6;var S6=Cb,T6=Ab,I6=Rb,C6=Pb,b6=Nb,A6=Db,R6=Mb;function k6({...n}){return m.jsx(S6,{"data-slot":"dropdown-menu",...n})}function P6({...n}){return m.jsx(T6,{"data-slot":"dropdown-menu-trigger",...n})}function N6({className:n,sideOffset:e=4,...t}){return m.jsx(I6,{children:m.jsx(C6,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function qd({className:n,inset:e,variant:t="default",...r}){return m.jsx(A6,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Ke("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function D6({className:n,inset:e,...t}){return m.jsx(b6,{"data-slot":"dropdown-menu-label","data-inset":e,className:Ke("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...t})}function gx({className:n,...e}){return m.jsx(R6,{"data-slot":"dropdown-menu-separator",className:Ke("bg-border -mx-1 my-1 h-px",n),...e})}const M6=({message:n,className:e})=>n?m.jsxs("div",{className:Ke("flex items-center gap-2 text-destructive text-sm",e),children:[m.jsx(Nc,{className:"h-4 w-4"}),m.jsx("span",{children:n})]}):null;var O6="Label",Ob=x.forwardRef((n,e)=>m.jsx(We.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Ob.displayName=O6;var L6=Ob;function On({className:n,...e}){return m.jsx(L6,{"data-slot":"label",className:Ke("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}x.createContext({});x.createContext({});const Xn=x.forwardRef(({className:n,type:e,...t},r)=>m.jsx("input",{type:e,className:Ke("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));Xn.displayName="Input";function Dg(n,[e,t]){return Math.min(t,Math.max(e,n))}function j6(n){const e=x.useRef({value:n,previous:n});return x.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Lb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V6="VisuallyHidden",F6=x.forwardRef((n,e)=>m.jsx(We.span,{...n,ref:e,style:{...Lb,...n.style}}));F6.displayName=V6;var U6=[" ","Enter","ArrowUp","ArrowDown"],z6=[" ","Enter"],Ao="Select",[Df,Mf,$6]=rv(Ao),[_l,Wz]=Fi(Ao,[$6,Af]),Of=Af(),[B6,Ui]=_l(Ao),[W6,H6]=_l(Ao),jb=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:h,dir:p,name:y,autoComplete:v,disabled:E,required:T,form:b}=n,I=Of(e),[R,D]=x.useState(null),[U,V]=x.useState(null),[z,W]=x.useState(!1),Y=Tf(p),[N,A]=Nh({prop:r,defaultProp:i??!1,onChange:a,caller:Ao}),[k,M]=Nh({prop:l,defaultProp:u,onChange:h,caller:Ao}),L=x.useRef(null),F=R?b||!!R.closest("form"):!0,[O,Se]=x.useState(new Set),be=Array.from(O).map(he=>he.props.value).join(";");return m.jsx(VC,{...I,children:m.jsxs(B6,{required:T,scope:e,trigger:R,onTriggerChange:D,valueNode:U,onValueNodeChange:V,valueNodeHasChildren:z,onValueNodeHasChildrenChange:W,contentId:tl(),value:k,onValueChange:M,open:N,onOpenChange:A,dir:Y,triggerPointerDownPosRef:L,disabled:E,children:[m.jsx(Df.Provider,{scope:e,children:m.jsx(W6,{scope:n.__scopeSelect,onNativeOptionAdd:x.useCallback(he=>{Se(me=>new Set(me).add(he))},[]),onNativeOptionRemove:x.useCallback(he=>{Se(me=>{const q=new Set(me);return q.delete(he),q})},[]),children:t})}),F?m.jsxs(iA,{"aria-hidden":!0,required:T,tabIndex:-1,name:y,autoComplete:v,value:k,onChange:he=>M(he.target.value),disabled:E,form:b,children:[k===void 0?m.jsx("option",{value:""}):null,Array.from(O)]},be):null]})})};jb.displayName=Ao;var Vb="SelectTrigger",Fb=x.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=Of(t),l=Ui(Vb,t),u=l.disabled||r,h=rt(e,l.onTriggerChange),p=Mf(t),y=x.useRef("touch"),[v,E,T]=aA(I=>{const R=p().filter(V=>!V.disabled),D=R.find(V=>V.value===l.value),U=lA(R,I,D);U!==void 0&&l.onValueChange(U.value)}),b=I=>{u||(l.onOpenChange(!0),T()),I&&(l.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return m.jsx(FC,{asChild:!0,...a,children:m.jsx(We.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":oA(l.value)?"":void 0,...i,ref:h,onClick:Ce(i.onClick,I=>{I.currentTarget.focus(),y.current!=="mouse"&&b(I)}),onPointerDown:Ce(i.onPointerDown,I=>{y.current=I.pointerType;const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(b(I),I.preventDefault())}),onKeyDown:Ce(i.onKeyDown,I=>{const R=v.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&E(I.key),!(R&&I.key===" ")&&U6.includes(I.key)&&(b(),I.preventDefault())})})})});Fb.displayName=Vb;var Ub="SelectValue",zb=x.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:l="",...u}=n,h=Ui(Ub,t),{onValueNodeHasChildrenChange:p}=h,y=a!==void 0,v=rt(e,h.onValueNodeChange);return At(()=>{p(y)},[p,y]),m.jsx(We.span,{...u,ref:v,style:{pointerEvents:"none"},children:oA(h.value)?m.jsx(m.Fragment,{children:l}):a})});zb.displayName=Ub;var q6="SelectIcon",$b=x.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return m.jsx(We.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});$b.displayName=q6;var G6="SelectPortal",Bb=n=>m.jsx(mv,{asChild:!0,...n});Bb.displayName=G6;var Ro="SelectContent",Wb=x.forwardRef((n,e)=>{const t=Ui(Ro,n.__scopeSelect),[r,i]=x.useState();if(At(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?Xc.createPortal(m.jsx(Hb,{scope:n.__scopeSelect,children:m.jsx(Df.Slot,{scope:n.__scopeSelect,children:m.jsx("div",{children:n.children})})}),a):null}return m.jsx(qb,{...n,ref:e})});Wb.displayName=Ro;var Er=10,[Hb,zi]=_l(Ro),K6="SelectContentImpl",Q6=el("SelectContent.RemoveScroll"),qb=x.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:h,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:E,collisionPadding:T,sticky:b,hideWhenDetached:I,avoidCollisions:R,...D}=n,U=Ui(Ro,t),[V,z]=x.useState(null),[W,Y]=x.useState(null),N=rt(e,ie=>z(ie)),[A,k]=x.useState(null),[M,L]=x.useState(null),F=Mf(t),[O,Se]=x.useState(!1),be=x.useRef(!1);x.useEffect(()=>{if(V)return QC(V)},[V]),gC();const he=x.useCallback(ie=>{const[Ee,...Ie]=F().map(Ue=>Ue.ref.current),[ke]=Ie.slice(-1),Fe=document.activeElement;for(const Ue of ie)if(Ue===Fe||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===Ee&&W&&(W.scrollTop=0),Ue===ke&&W&&(W.scrollTop=W.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Fe))return},[F,W]),me=x.useCallback(()=>he([A,V]),[he,A,V]);x.useEffect(()=>{O&&me()},[O,me]);const{onOpenChange:q,triggerPointerDownPosRef:ee}=U;x.useEffect(()=>{if(V){let ie={x:0,y:0};const Ee=ke=>{var Fe,Ue;ie={x:Math.abs(Math.round(ke.pageX)-(((Fe=ee.current)==null?void 0:Fe.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Ue=ee.current)==null?void 0:Ue.y)??0))}},Ie=ke=>{ie.x<=10&&ie.y<=10?ke.preventDefault():V.contains(ke.target)||q(!1),document.removeEventListener("pointermove",Ee),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[V,q,ee]),x.useEffect(()=>{const ie=()=>q(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[q]);const[re,B]=aA(ie=>{const Ee=F().filter(Fe=>!Fe.disabled),Ie=Ee.find(Fe=>Fe.ref.current===document.activeElement),ke=lA(Ee,ie,Ie);ke&&setTimeout(()=>ke.ref.current.focus())}),Z=x.useCallback((ie,Ee,Ie)=>{const ke=!be.current&&!Ie;(U.value!==void 0&&U.value===Ee||ke)&&(k(ie),ke&&(be.current=!0))},[U.value]),ue=x.useCallback(()=>V==null?void 0:V.focus(),[V]),ge=x.useCallback((ie,Ee,Ie)=>{const ke=!be.current&&!Ie;(U.value!==void 0&&U.value===Ee||ke)&&L(ie)},[U.value]),Re=r==="popper"?Mg:Gb,De=Re===Mg?{side:u,sideOffset:h,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:E,collisionPadding:T,sticky:b,hideWhenDetached:I,avoidCollisions:R}:{};return m.jsx(Hb,{scope:t,content:V,viewport:W,onViewportChange:Y,itemRefCallback:Z,selectedItem:A,onItemLeave:ue,itemTextRefCallback:ge,focusSelectedItem:me,selectedItemText:M,position:r,isPositioned:O,searchRef:re,children:m.jsx(gv,{as:Q6,allowPinchZoom:!0,children:m.jsx(iv,{asChild:!0,trapped:U.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ce(i,ie=>{var Ee;(Ee=U.trigger)==null||Ee.focus({preventScroll:!0}),ie.preventDefault()}),children:m.jsx(sv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:m.jsx(Re,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ie=>ie.preventDefault(),...D,...De,onPlaced:()=>Se(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:Ce(D.onKeyDown,ie=>{const Ee=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Ee&&ie.key.length===1&&B(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let ke=F().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Fe=ie.target,Ue=ke.indexOf(Fe);ke=ke.slice(Ue+1)}setTimeout(()=>he(ke)),ie.preventDefault()}})})})})})})});qb.displayName=K6;var Y6="SelectItemAlignedPosition",Gb=x.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=Ui(Ro,t),l=zi(Ro,t),[u,h]=x.useState(null),[p,y]=x.useState(null),v=rt(e,N=>y(N)),E=Mf(t),T=x.useRef(!1),b=x.useRef(!0),{viewport:I,selectedItem:R,selectedItemText:D,focusSelectedItem:U}=l,V=x.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&p&&I&&R&&D){const N=a.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),M=D.getBoundingClientRect();if(a.dir!=="rtl"){const Fe=M.left-A.left,Ue=k.left-Fe,yt=N.left-Ue,Lt=N.width+yt,Un=Math.max(Lt,A.width),rr=window.innerWidth-Er,sr=Dg(Ue,[Er,Math.max(Er,rr-Un)]);u.style.minWidth=Lt+"px",u.style.left=sr+"px"}else{const Fe=A.right-M.right,Ue=window.innerWidth-k.right-Fe,yt=window.innerWidth-N.right-Ue,Lt=N.width+yt,Un=Math.max(Lt,A.width),rr=window.innerWidth-Er,sr=Dg(Ue,[Er,Math.max(Er,rr-Un)]);u.style.minWidth=Lt+"px",u.style.right=sr+"px"}const L=E(),F=window.innerHeight-Er*2,O=I.scrollHeight,Se=window.getComputedStyle(p),be=parseInt(Se.borderTopWidth,10),he=parseInt(Se.paddingTop,10),me=parseInt(Se.borderBottomWidth,10),q=parseInt(Se.paddingBottom,10),ee=be+he+O+q+me,re=Math.min(R.offsetHeight*5,ee),B=window.getComputedStyle(I),Z=parseInt(B.paddingTop,10),ue=parseInt(B.paddingBottom,10),ge=N.top+N.height/2-Er,Re=F-ge,De=R.offsetHeight/2,ie=R.offsetTop+De,Ee=be+he+ie,Ie=ee-Ee;if(Ee<=ge){const Fe=L.length>0&&R===L[L.length-1].ref.current;u.style.bottom="0px";const Ue=p.clientHeight-I.offsetTop-I.offsetHeight,yt=Math.max(Re,De+(Fe?ue:0)+Ue+me),Lt=Ee+yt;u.style.height=Lt+"px"}else{const Fe=L.length>0&&R===L[0].ref.current;u.style.top="0px";const yt=Math.max(ge,be+I.offsetTop+(Fe?Z:0)+De)+Ie;u.style.height=yt+"px",I.scrollTop=Ee-ge+I.offsetTop}u.style.margin=`${Er}px 0`,u.style.minHeight=re+"px",u.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[E,a.trigger,a.valueNode,u,p,I,R,D,a.dir,r]);At(()=>V(),[V]);const[z,W]=x.useState();At(()=>{p&&W(window.getComputedStyle(p).zIndex)},[p]);const Y=x.useCallback(N=>{N&&b.current===!0&&(V(),U==null||U(),b.current=!1)},[V,U]);return m.jsx(J6,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:Y,children:m.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:m.jsx(We.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Gb.displayName=Y6;var X6="SelectPopperPosition",Mg=x.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Er,...a}=n,l=Of(t);return m.jsx(UC,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mg.displayName=X6;var[J6,Tv]=_l(Ro,{}),Og="SelectViewport",Kb=x.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=zi(Og,t),l=Tv(Og,t),u=rt(e,a.onViewportChange),h=x.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(Df.Slot,{scope:t,children:m.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,p=>{const y=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:E}=l;if(E!=null&&E.current&&v){const T=Math.abs(h.current-y.scrollTop);if(T>0){const b=window.innerHeight-Er*2,I=parseFloat(v.style.minHeight),R=parseFloat(v.style.height),D=Math.max(I,R);if(D<b){const U=D+T,V=Math.min(b,U),z=U-V;v.style.height=V+"px",v.style.bottom==="0px"&&(y.scrollTop=z>0?z:0,v.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});Kb.displayName=Og;var Qb="SelectGroup",[Z6,e5]=_l(Qb),t5=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=tl();return m.jsx(Z6,{scope:t,id:i,children:m.jsx(We.div,{role:"group","aria-labelledby":i,...r,ref:e})})});t5.displayName=Qb;var Yb="SelectLabel",n5=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=e5(Yb,t);return m.jsx(We.div,{id:i.id,...r,ref:e})});n5.displayName=Yb;var Fh="SelectItem",[r5,Xb]=_l(Fh),Jb=x.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...l}=n,u=Ui(Fh,t),h=zi(Fh,t),p=u.value===r,[y,v]=x.useState(a??""),[E,T]=x.useState(!1),b=rt(e,U=>{var V;return(V=h.itemRefCallback)==null?void 0:V.call(h,U,r,i)}),I=tl(),R=x.useRef("touch"),D=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(r5,{scope:t,value:r,disabled:i,textId:I,isSelected:p,onItemTextChange:x.useCallback(U=>{v(V=>V||((U==null?void 0:U.textContent)??"").trim())},[]),children:m.jsx(Df.ItemSlot,{scope:t,value:r,disabled:i,textValue:y,children:m.jsx(We.div,{role:"option","aria-labelledby":I,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:b,onFocus:Ce(l.onFocus,()=>T(!0)),onBlur:Ce(l.onBlur,()=>T(!1)),onClick:Ce(l.onClick,()=>{R.current!=="mouse"&&D()}),onPointerUp:Ce(l.onPointerUp,()=>{R.current==="mouse"&&D()}),onPointerDown:Ce(l.onPointerDown,U=>{R.current=U.pointerType}),onPointerMove:Ce(l.onPointerMove,U=>{var V;R.current=U.pointerType,i?(V=h.onItemLeave)==null||V.call(h):R.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(l.onPointerLeave,U=>{var V;U.currentTarget===document.activeElement&&((V=h.onItemLeave)==null||V.call(h))}),onKeyDown:Ce(l.onKeyDown,U=>{var z;((z=h.searchRef)==null?void 0:z.current)!==""&&U.key===" "||(z6.includes(U.key)&&D(),U.key===" "&&U.preventDefault())})})})})});Jb.displayName=Fh;var Tc="SelectItemText",Zb=x.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,l=Ui(Tc,t),u=zi(Tc,t),h=Xb(Tc,t),p=H6(Tc,t),[y,v]=x.useState(null),E=rt(e,D=>v(D),h.onItemTextChange,D=>{var U;return(U=u.itemTextRefCallback)==null?void 0:U.call(u,D,h.value,h.disabled)}),T=y==null?void 0:y.textContent,b=x.useMemo(()=>m.jsx("option",{value:h.value,disabled:h.disabled,children:T},h.value),[h.disabled,h.value,T]),{onNativeOptionAdd:I,onNativeOptionRemove:R}=p;return At(()=>(I(b),()=>R(b)),[I,R,b]),m.jsxs(m.Fragment,{children:[m.jsx(We.span,{id:h.textId,...a,ref:E}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Xc.createPortal(a.children,l.valueNode):null]})});Zb.displayName=Tc;var eA="SelectItemIndicator",tA=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return Xb(eA,t).isSelected?m.jsx(We.span,{"aria-hidden":!0,...r,ref:e}):null});tA.displayName=eA;var Lg="SelectScrollUpButton",nA=x.forwardRef((n,e)=>{const t=zi(Lg,n.__scopeSelect),r=Tv(Lg,n.__scopeSelect),[i,a]=x.useState(!1),l=rt(e,r.onScrollButtonChange);return At(()=>{if(t.viewport&&t.isPositioned){let u=function(){const p=h.scrollTop>0;a(p)};const h=t.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?m.jsx(sA,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=t;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});nA.displayName=Lg;var jg="SelectScrollDownButton",rA=x.forwardRef((n,e)=>{const t=zi(jg,n.__scopeSelect),r=Tv(jg,n.__scopeSelect),[i,a]=x.useState(!1),l=rt(e,r.onScrollButtonChange);return At(()=>{if(t.viewport&&t.isPositioned){let u=function(){const p=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<p;a(y)};const h=t.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?m.jsx(sA,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=t;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});rA.displayName=jg;var sA=x.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=zi("SelectScrollButton",t),l=x.useRef(null),u=Mf(t),h=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),At(()=>{var y;const p=u().find(v=>v.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[u]),m.jsx(We.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{h()})})}),s5="SelectSeparator",i5=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return m.jsx(We.div,{"aria-hidden":!0,...r,ref:e})});i5.displayName=s5;var Vg="SelectArrow",o5=x.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Of(t),a=Ui(Vg,t),l=zi(Vg,t);return a.open&&l.position==="popper"?m.jsx(zC,{...i,...r,ref:e}):null});o5.displayName=Vg;var a5="SelectBubbleInput",iA=x.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=x.useRef(null),a=rt(r,i),l=j6(e);return x.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&y){const v=new Event("change",{bubbles:!0});y.call(u,e),u.dispatchEvent(v)}},[l,e]),m.jsx(We.select,{...t,style:{...Lb,...t.style},ref:a,defaultValue:e})});iA.displayName=a5;function oA(n){return n===""||n===void 0}function aA(n){const e=Bt(n),t=x.useRef(""),r=x.useRef(0),i=x.useCallback(l=>{const u=t.current+l;e(u),function h(p){t.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(u)},[e]),a=x.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function lA(n,e,t){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=l5(n,Math.max(a,0));i.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==t?h:void 0}function l5(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var c5=jb,u5=Fb,d5=zb,h5=$b,f5=Bb,p5=Wb,m5=Kb,g5=Jb,y5=Zb,v5=tA,w5=nA,_5=rA;function cA({...n}){return m.jsx(c5,{"data-slot":"select",...n})}function uA({...n}){return m.jsx(d5,{"data-slot":"select-value",...n})}function dA({className:n,size:e="default",children:t,...r}){return m.jsxs(u5,{"data-slot":"select-trigger","data-size":e,className:Ke("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,m.jsx(h5,{asChild:!0,children:m.jsx(Ef,{className:"size-4 opacity-50"})})]})}function hA({className:n,children:e,position:t="popper",...r}){return m.jsx(f5,{children:m.jsxs(p5,{"data-slot":"select-content",className:Ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[m.jsx(E5,{}),m.jsx(m5,{className:Ke("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),m.jsx(x5,{})]})})}function fA({className:n,children:e,...t}){return m.jsxs(g5,{"data-slot":"select-item",className:Ke("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[m.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:m.jsx(v5,{children:m.jsx(zI,{className:"size-4"})})}),m.jsx(y5,{children:e})]})}function E5({className:n,...e}){return m.jsx(w5,{"data-slot":"select-scroll-up-button",className:Ke("flex cursor-default items-center justify-center py-1",n),...e,children:m.jsx(WI,{className:"size-4"})})}function x5({className:n,...e}){return m.jsx(_5,{"data-slot":"select-scroll-down-button",className:Ke("flex cursor-default items-center justify-center py-1",n),...e,children:m.jsx(Ef,{className:"size-4"})})}function Gr({className:n,...e}){return m.jsx("div",{"data-slot":"skeleton",className:Ke("bg-accent animate-pulse rounded-md",n),...e})}const Uh=({title:n,subtitle:e,value:t,unit:r,className:i=""})=>m.jsxs("div",{className:`border rounded-md p-3 flex justify-between items-center ${i}`,children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:n}),e&&m.jsx("p",{className:"text-xs text-muted-foreground",children:e})]}),t!==void 0&&m.jsxs("p",{className:"text-lg font-semibold",children:[t,r&&m.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:r})]})]}),zh=({label:n,value:e,unit:t,valueSize:r="lg",className:i=""})=>{const a={sm:"text-sm",md:"text-md",lg:"text-lg",xl:"text-xl"};return m.jsxs("div",{className:i,children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n}),m.jsxs("p",{className:`${a[r]} font-bold`,children:[e,t&&m.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:t})]})]})},pA=({children:n,className:e=""})=>m.jsx("div",{className:`flex items-center justify-between ${e}`,children:n}),mA=({title:n,actionLabel:e,actionIcon:t,onAction:r,isLoading:i=!1,loadingText:a="Loading data...",className:l="",children:u})=>m.jsxs(Tn,{className:l,children:[m.jsx(Ar,{className:"pb-2",children:m.jsxs(Rr,{className:"text-lg flex justify-between items-center",children:[m.jsx("span",{children:n}),r&&m.jsxs(qe,{size:"sm",variant:"outline",onClick:r,className:"flex items-center gap-1 h-8",disabled:i,children:[t,e]})]})}),m.jsx(Fn,{children:i?m.jsxs("div",{className:"flex items-center justify-center py-4",children:[m.jsx(pl,{className:"h-5 w-5 animate-spin mr-2 text-muted-foreground"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:a})]}):u})]}),S5={theme:"light",setTheme:()=>null},gA=x.createContext(S5),T5=()=>{const n=x.useContext(gA);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},I5=({isDashboard:n=!1,onLogout:e})=>{var u,h;const{user:t,isAuthenticated:r}=Vi(),{theme:i,setTheme:a}=T5(),l=ko();return m.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center bg-white dark:bg-background border-b border-gray-200 dark:border-border px-4",children:[!n&&m.jsxs("nav",{className:"hidden md:flex items-center space-x-4 mx-6",children:[m.jsx("div",{className:"container mx-auto flex justify-center md:justify-start",children:m.jsx(bs,{to:"/",className:"flex items-center",children:m.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:m.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})})})}),m.jsx(bs,{to:"/about",className:"text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-foreground dark:hover:text-foreground",children:"About"}),r&&m.jsx(bs,{to:"/dashboard",className:"text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-foreground dark:hover:text-foreground",children:"Dashboard"})]}),m.jsx("div",{className:"ml-auto flex items-center space-x-2",children:r?m.jsxs(m.Fragment,{children:[m.jsxs(qe,{variant:"ghost",size:"icon",className:"hidden md:flex",children:[m.jsx(kV,{className:"h-5 w-5"}),m.jsx("span",{className:"sr-only",children:"Notifications"})]}),m.jsxs(k6,{children:[m.jsx(P6,{children:m.jsxs("div",{className:"flex items-center gap-2 rounded-full pl-1 cursor-pointer",children:[m.jsx(AF,{className:"h-8 w-8",children:m.jsx(RF,{children:((u=t==null?void 0:t.displayName)==null?void 0:u.charAt(0))||((h=t==null?void 0:t.email)==null?void 0:h.charAt(0))||"U"})}),m.jsx("span",{className:"hidden md:inline text-sm font-medium",children:(t==null?void 0:t.displayName)||"Account"}),m.jsx(Ef,{className:"h-4 w-4 opacity-50"})]})}),m.jsxs(N6,{align:"end",className:"w-56",children:[m.jsx(D6,{children:m.jsxs("div",{className:"flex flex-col space-y-1",children:[m.jsx("p",{className:"text-sm font-medium",children:(t==null?void 0:t.displayName)||"User"}),m.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t==null?void 0:t.email})]})}),m.jsx(gx,{}),m.jsxs(qd,{onClick:()=>l("/profile"),children:[m.jsx(I4,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Profile"})]}),m.jsxs(qd,{onClick:()=>l("/settings"),children:[m.jsx(p4,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Settings"})]}),m.jsx(qd,{onClick:()=>a(i==="dark"?"light":"dark"),children:m.jsxs("span",{className:"flex items-center gap-2",children:[i==="dark"?m.jsx(w4,{className:"h-4 w-4 bg-gray-800 dark:bg-card rounded-full"}):m.jsx(n4,{className:"h-4 w-4 bg-gray-200 dark:bg-card rounded-full"}),m.jsx("span",{children:"Toggle Theme"})]})}),m.jsx(gx,{}),m.jsxs(qd,{onClick:e,children:[m.jsx(JV,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Log out"})]})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>l("/login"),className:"hidden md:inline-flex",children:"Log in"}),m.jsx(qe,{size:"sm",onClick:()=>l("/signup"),children:"Sign up"})]})})]})},C5=({navItems:n,isCollapsed:e=!1})=>m.jsx("ul",{className:Ke("space-y-1",e?"px-2":"px-3"),children:n.map(t=>m.jsx("li",{className:"transform transition-all duration-200 ease-in-out",children:m.jsxs(Lx,{to:t.path,className:({isActive:r})=>Ke("flex items-center rounded-md px-3 py-2 text-sm transition-all duration-300 ease-in-out",r?"bg-sidebar-accent text-sidebar-accent-foreground dark:bg-sidebar-accent dark:text-sidebar-accent-foreground":"hover:bg-accent/50 text-muted-foreground hover:text-foreground dark:hover:bg-sidebar-accent/30 dark:text-sidebar-foreground dark:hover:text-sidebar-foreground",e?"justify-center":"justify-start"),children:[m.jsx("div",{className:Ke("flex items-center transition-all duration-300 ease-in-out",e?"w-full justify-center":"mr-3"),children:m.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:t.icon})}),m.jsx("span",{className:Ke("whitespace-nowrap transition-all duration-300 ease-in-out",e?"w-0 opacity-0 overflow-hidden":"w-auto opacity-100"),children:t.label})]})},t.path))}),b5=()=>[{path:"/dashboard",label:"Dashboard",icon:m.jsx(GV,{className:"h-4 w-4"})},{path:"/dashboard/workouts",label:"Workouts",icon:m.jsx(g4,{className:"h-4 w-4"})},{path:"/dashboard/nutrition",label:"Nutrition",icon:m.jsx(GI,{className:"h-4 w-4"})},{path:"/dashboard/progress",label:"Progress",icon:m.jsx(MV,{className:"h-4 w-4"})},{path:"/dashboard/goals",label:"Goals",icon:m.jsx(E4,{className:"h-4 w-4"})}],A5=({isCollapsed:n=!1,toggleSidebar:e})=>{const t=b5();return m.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-sidebar",children:[m.jsx("div",{className:Ke("flex h-16 items-center border-b dark:border-sidebar-border",n?"justify-center":"px-4"),children:n?m.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center",children:m.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}):m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"rounded-full bg-primary h-6 w-6 flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"GM"})}),m.jsx("span",{className:"font-semibold text-lg dark:text-sidebar-foreground",children:"GrindMode"})]})}),m.jsx("nav",{className:"flex-1 overflow-y-auto py-6 no-scrollbar bg-white dark:bg-sidebar",children:m.jsx(C5,{navItems:t,isCollapsed:n})}),m.jsx("div",{className:"flex items-center justify-center border-t dark:border-sidebar-border p-2 bg-white dark:bg-sidebar",children:m.jsx(qe,{variant:"ghost",size:"icon",onClick:e,className:"w-full h-10 rounded-full hover:bg-accent/50 dark:hover:bg-sidebar-accent/50","aria-label":"Toggle sidebar",children:n?m.jsx(BI,{className:"h-5 w-5 dark:text-sidebar-foreground"}):m.jsx($I,{className:"h-5 w-5 dark:text-sidebar-foreground"})})})]})},R5=({isAuthenticated:n})=>n?m.jsx(Hg,{}):m.jsx(ja,{to:"/login"}),k5=()=>m.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 dark:from-background dark:to-card",children:[m.jsx("header",{className:"w-full py-6 px-4",children:m.jsx("div",{className:"container mx-auto flex justify-center md:justify-start",children:m.jsxs(bs,{to:"/",className:"flex items-center",children:[m.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:m.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}),m.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-foreground",children:"GrindMode"})]})})}),m.jsx("main",{className:"flex flex-grow items-center justify-center px-4 py-8",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsx(Hg,{})})}),m.jsx(EV,{})]}),yA=St.createContext({state:Qd,setActiveDashboardTab:()=>{},setMeasurementSystem:()=>{},setSidebarOpen:()=>{},setTheme:()=>{},toggleNotifications:()=>{}}),P5=()=>{const n=x.useContext(yA);if(!n)throw new Error("useAppState must be used within an AppProvider");const{state:e,setActiveDashboardTab:t,setMeasurementSystem:r,setSidebarOpen:i,setTheme:a,toggleNotifications:l}=n;return{state:e,setActiveDashboardTab:t,setMeasurementSystem:r,setSidebarOpen:i,setTheme:a,toggleNotifications:l}},N5=()=>{const{state:n,setSidebarOpen:e}=P5(),{logout:t}=Vi(),r=ko(),i=n.ui.sidebarOpen,a=()=>{e(!i)},l=x.useCallback(async()=>{try{t&&await t(),r("/login")}catch(u){console.error("Logout failed:",u)}},[t,r]);return m.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-background",children:[m.jsx("div",{className:`${i?"w-64":"w-20"} transition-all duration-300 ease-in-out bg-white dark:bg-sidebar shadow-lg`,children:m.jsx(A5,{isCollapsed:!i,toggleSidebar:a})}),m.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[m.jsx(I5,{isDashboard:!0,onLogout:l}),m.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 dark:bg-background",children:m.jsx("div",{className:"container mx-auto",children:m.jsx(Hg,{})})})]})]})},D5=({onLogin:n,isLoading:e,error:t,onForgotPassword:r,onGoogleSignIn:i})=>{const[a,l]=x.useState({email:"",password:""}),u=x.useCallback(y=>{const{name:v,value:E}=y.target;l(T=>({...T,[v]:E}))},[]),h=x.useCallback(async y=>{y.preventDefault(),await n(a)},[n,a]),p=x.useCallback(y=>{y.preventDefault(),r&&r()},[r]);return m.jsxs(Tn,{className:"w-full max-w-md mx-auto",children:[m.jsx(Ar,{className:"space-y-1",children:m.jsx(Rr,{className:"text-2xl font-bold text-center",children:"Login"})}),m.jsx(Fn,{children:m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(On,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(e4,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Xn,{type:"email",id:"email",name:"email",value:a.email,onChange:u,placeholder:"you@example.com",disabled:e,required:!0,className:"pl-10 w-full",autoComplete:"email"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(On,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),r&&m.jsx("button",{onClick:p,className:"text-xs text-primary hover:underline",type:"button",disabled:e,children:"Forgot password?"})]}),m.jsxs("div",{className:"relative",children:[m.jsx(YV,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Xn,{type:"password",id:"password",name:"password",value:a.password,onChange:u,placeholder:"",disabled:e,required:!0,className:"pl-10 w-full",autoComplete:"current-password"})]})]}),t&&m.jsx(Jy,{variant:"destructive",className:"py-2",children:m.jsx(Zy,{children:t})}),m.jsx(qe,{type:"submit",className:"w-full",disabled:e,children:e?m.jsxs(m.Fragment,{children:[m.jsx(pl,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})}),m.jsx(yl,{className:"flex flex-col",children:i&&m.jsxs(qe,{type:"button",variant:"outline",className:"w-full mt-2",onClick:i,disabled:e,children:[m.jsx("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:m.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[m.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),m.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),m.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),m.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Continue with Google"]})})]})},M5=({onSignup:n,isLoading:e,error:t})=>{const[r,i]=St.useState({email:"",password:"",confirmPassword:"",displayName:""}),[a,l]=St.useState(!0),u=p=>{const{name:y,value:v}=p.target;i(E=>({...E,[y]:v})),(y==="password"||y==="confirmPassword")&&l(y==="confirmPassword"?r.password===v:v===r.confirmPassword)},h=async p=>{if(p.preventDefault(),r.password!==r.confirmPassword){l(!1);return}await n(r)};return m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(On,{htmlFor:"displayName",children:"Full Name"}),m.jsx(Xn,{type:"text",id:"displayName",name:"displayName",value:r.displayName,onChange:u,placeholder:"Enter your name",disabled:e,minLength:3,required:!0,className:"w-full",autoComplete:"name"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(On,{htmlFor:"email",children:"Email"}),m.jsx(Xn,{type:"email",id:"email",name:"email",value:r.email,onChange:u,placeholder:"you@example.com",disabled:e,required:!0,className:"w-full",autoComplete:"email"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(On,{htmlFor:"password",children:"Password"}),m.jsx(Xn,{type:"password",id:"password",name:"password",value:r.password,onChange:u,placeholder:"",disabled:e,required:!0,className:"w-full",autoComplete:"new-password"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(On,{htmlFor:"confirmPassword",children:"Confirm Password"}),m.jsx(Xn,{type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:u,placeholder:"",disabled:e,required:!0,className:`w-full ${!a&&r.confirmPassword?"border-destructive":""}`,autoComplete:"new-password"}),!a&&r.confirmPassword&&m.jsx("p",{className:"text-xs text-destructive mt-1",children:"Passwords don't match"})]}),t&&m.jsx("p",{className:"text-sm text-destructive",children:t}),m.jsx("div",{className:"pt-2",children:m.jsx(qe,{type:"submit",className:"w-full",disabled:e,children:e?m.jsxs(m.Fragment,{children:[m.jsx(pl,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})}),m.jsx("div",{className:"pt-2",children:m.jsx(qe,{type:"button",variant:"outline",className:"w-full",disabled:!0,children:m.jsx("span",{className:"text-sm text-muted-foreground",children:"Sign up with Google"})})}),m.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?",m.jsx(bs,{to:"/login",className:"text-primary hover:underline",children:"Log in"})]})]})},Fg=n=>{if(!n)return"An unknown error occurred";if(n.code){const t=n;switch(t.code){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or try logging in.";case"auth/invalid-email":return"Invalid email address. Please check your email and try again.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/user-not-found":return"No account found with this email. Please check your email or create a new account.";case"auth/wrong-password":return"Incorrect password. Please try again or reset your password.";case"auth/too-many-requests":return"Too many unsuccessful login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support for assistance.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return`Authentication error: ${t.message}`}}return`Error: ${n instanceof Error?n.message:String(n)}`},O5=()=>{const[n,e]=St.useState(null),[t,r]=St.useState(!1),{login:i,isAuthenticated:a,isLoading:l,loginWithGoogle:u}=Vi();if(a)return m.jsx(ja,{to:"/"});const h=async()=>{e(null),r(!0);try{if(!u)throw new Error("Google Sign-In function is not available");await u()}catch(y){e(Fg(y))}finally{r(!1)}},p=async y=>{e(null),r(!0);try{if(!i)throw new Error("Login function is not available");await i(y.email,y.password)}catch(v){e(Fg(v))}finally{r(!1)}};return m.jsxs(Tn,{children:[m.jsxs(Ar,{className:"space-y-1",children:[m.jsx(Rr,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),m.jsx(nv,{className:"text-center",children:"Log in to continue your fitness journey"})]}),m.jsxs(Fn,{children:[n&&m.jsxs(Jy,{variant:"destructive",className:"mb-4",children:[m.jsx(qI,{className:"h-4 w-4"}),m.jsx(Zy,{children:n})]}),m.jsx(D5,{onGoogleSignIn:h,onLogin:p,isLoading:t||l,error:null})]}),m.jsx(yl,{className:"flex justify-center",children:m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?",m.jsx(bs,{to:"/signup",className:"font-medium text-primary hover:underline",children:"Sign up"})]})})]})},L5=()=>{const n=ko(),{signup:e}=Vi(),[t,r]=St.useState(null),[i,a]=St.useState(!1),l=async u=>{r(null);try{if(a(!0),!e)throw new Error("Signup function is not available");await e(u.email,u.password,u.displayName),n("/dashboard")}catch(h){r(Fg(h))}finally{a(!1)}};return m.jsxs(Tn,{children:[m.jsxs(Ar,{className:"space-y-1",children:[m.jsx(Rr,{className:"text-2xl font-bold text-center",children:"Create Your Account"}),m.jsx(nv,{className:"text-center",children:"Join GrindMode to start tracking your fitness journey"})]}),m.jsxs(Fn,{children:[t&&m.jsxs(Jy,{variant:"destructive",className:"mb-4",children:[m.jsx(qI,{className:"h-4 w-4"}),m.jsx(Zy,{children:t})]}),m.jsx(M5,{onSignup:l,isLoading:i,error:null})]})]})},j5=({isLoading:n,onChangePassword:e,onChangeEmail:t,onSignOut:r,onDeleteAccount:i})=>{const[a,l]=St.useState(!1),u=()=>{l(!0)},h=p=>{p&&i(),l(!1)};return m.jsxs("div",{className:"account-actions",children:[m.jsxs("div",{className:"user-actions",children:[m.jsx("button",{onClick:e,className:"action-button",children:n?"Loading...":"Change Password"}),m.jsx("button",{onClick:t,className:"action-button",children:n?"Loading...":"Change Email"}),m.jsx("button",{onClick:r,className:"action-button sign-out",children:"Sign Out"}),m.jsx("button",{onClick:u,className:"action-button delete-account",children:"Delete Account"})]}),a&&m.jsxs("div",{className:"delete-confirmation",children:[m.jsx("p",{children:"Are you sure you want to delete your account?"}),m.jsx("button",{onClick:()=>h(!0),className:"confirm-delete",children:"'Yes, Delete'"}),m.jsx("button",{onClick:()=>h(!1),className:"cancel-delete",children:"Cancel"})]})]})},V5=({displayName:n,email:e})=>m.jsxs("div",{className:"user-info",children:[m.jsx("p",{className:"user-name",children:n}),m.jsx("p",{className:"user-email",children:e})]}),F5=()=>{const n=ko(),{user:e,logout:t,deleteUser:r}=Vi(),[i,a]=St.useState(!1),l=()=>{t&&(t(),n("/login"))},u=()=>{console.log("Change password clicked")},h=()=>{console.log("Change email clicked")},p=async()=>{if(r){a(!0);try{await r(),n("/login")}catch(y){console.error("Error deleting account:",y)}finally{a(!1)}}};return m.jsxs("div",{className:"settings-page",children:[m.jsx("h1",{className:"settings-title",children:"Settings"}),e&&m.jsxs(m.Fragment,{children:[m.jsx(V5,{displayName:"User",email:e.email||"No email provided"}),m.jsx(j5,{isLoading:i,onChangePassword:u,onChangeEmail:h,onSignOut:l,onDeleteAccount:p})]})]})},U5=({userName:n})=>{const e=new Date,t={weekday:"long",year:"numeric",month:"long",day:"numeric"},r=e.toLocaleDateString("en-US",t);return m.jsx("header",{className:"mb-6 space-y-2",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Welcome back, ",n]}),m.jsx("p",{className:"text-muted-foreground",children:"Track your fitness journey and reach your goals"})]}),m.jsxs("div",{className:"mt-2 sm:mt-0 flex items-center text-sm text-muted-foreground",children:[m.jsx(NV,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:r})]})]})})},z5=({goals:n})=>m.jsxs("div",{className:"goals-progress",children:[m.jsx("h2",{className:"progress-title",children:"Goals Progress"}),n.map((e,t)=>m.jsxs("div",{className:"goal-item",children:[m.jsx("h3",{children:"Goals"}),m.jsxs("p",{children:["Daily calories: ",e.dailyCalories]}),m.jsxs("p",{children:["Dail protein: ",e.dailyProtein]}),m.jsxs("p",{children:["Weekly workouts: ",e.weeklyWorkouts]})]},t))]}),zt=(n,e)=>n.reduce((t,r)=>t+r.foods.reduce((i,a)=>i+a[e]*(a.quantity/100),0),0),$5=n=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(n),B5=({nutritionData:n,isLoading:e=!1,latestEntries:t=[],onLogFood:r})=>{var a,l;const i=t[0];return m.jsx(mA,{title:"Nutrition",actionLabel:"Log",actionIcon:m.jsx(xf,{className:"h-4 w-4 mr-1"}),onAction:r,isLoading:e,children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs(pA,{children:[m.jsx(zh,{label:"Today",value:(n==null?void 0:n.today.calories.toFixed(0))||"0",unit:"cal",valueSize:"lg"}),m.jsx(zh,{label:"Protein",value:(n==null?void 0:n.today.protein.toFixed(0))||"0",unit:"g",valueSize:"md",className:"text-right"})]}),i&&m.jsxs("div",{className:"pt-2",children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Last Entry"}),m.jsx(Uh,{title:i.date?$5(i.date.toDate()):"Recent",subtitle:`${((a=i.meals)==null?void 0:a.length)||0} meals logged`,value:((l=i.dailyTotals)==null?void 0:l.calories.toFixed(0))||"0",unit:"cal"})]}),n&&n.weekly.daysTracked>0&&m.jsxs("div",{className:"pt-2",children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Weekly Average"}),m.jsx(Uh,{title:`${n.weekly.averageCalories.toFixed(0)} cal/day`,subtitle:`${n.weekly.daysTracked} days tracked this week`})]})]})})},W5=({workoutData:n,isLoading:e=!1,onLogWorkout:t})=>m.jsx(mA,{title:"Workouts",actionLabel:"Log",actionIcon:m.jsx(xf,{className:"h-4 w-4 mr-1"}),onAction:t,isLoading:e,children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs(pA,{children:[m.jsx(zh,{label:"This Week",value:(n==null?void 0:n.weekly.workouts)||0,unit:"workouts"}),m.jsx(zh,{label:"Total Time",value:(n==null?void 0:n.weekly.totalDuration)||0,unit:"min",className:"text-right"})]}),n!=null&&n.today.completed?m.jsxs("div",{className:"pt-2",children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Today's Workout"}),m.jsx(Uh,{title:"Completed",subtitle:`${n.today.exercises} exercises`,value:n.today.duration,unit:"min"})]}):m.jsx("div",{className:"pt-2",children:m.jsx(Uh,{title:"No workout yet today",subtitle:"Log your workout to track progress"})})]})}),H5=({onAddWorkout:n,onLogFood:e,onRecordMeasurement:t})=>m.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[m.jsxs(qe,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:n,children:[m.jsx(HV,{className:"h-4 w-4"}),m.jsx("span",{children:"Add Workout"})]}),m.jsxs(qe,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:e,children:[m.jsx(GI,{className:"h-4 w-4"}),m.jsx("span",{children:"Log Food"})]}),m.jsxs(qe,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:t,children:[m.jsx(l4,{className:"h-4 w-4"}),m.jsx("span",{children:"Measurements"})]})]});class q5{constructor(e){L_(this,"collectionName");this.collectionName=e}async add(e,t=!0){if(!e)throw new Error(`Invalid data for ${this.collectionName}`);const r=pi(),i=Od(fi,"users",r,this.collectionName),a=t?{date:tt.now(),createdAt:tt.now(),updatedAt:tt.now()}:{};return(await oV(i,{...e,...a})).id}async getAll(e){const t=pi();if(!t)throw new Error("User not authenticated");const r=Od(fi,"users",t,this.collectionName),i=e?Ld(r,jd("date","desc"),ME(e)):Ld(r,jd("date","desc"));return(await Nm(i)).docs.map(l=>({id:l.id,...l.data()}))}async getById(e){if(!e)throw new Error(`Invalid ID for fetching ${this.collectionName}`);try{const t=pi();if(!t)throw new Error("User not authenticated");const r=Pc(fi,"users",t,this.collectionName,e),i=await LI(r);return i.exists()?{id:i.id,...i.data()}:null}catch(t){return console.error(`Error fetching ${this.collectionName} document ${e}:`,t),null}}async update(e,t){if(!e||!t)throw new Error(`Invalid parameters for update ${this.collectionName}`);const r=pi(),i=Pc(fi,"users",r,this.collectionName,e);return await sV(i,{...t,updatedAt:tt.now()}),!0}async delete(e){if(!e)throw new Error(`Invalid ID for delete ${this.collectionName}`);const t=pi(),r=Pc(fi,"users",t,this.collectionName,e);return await iV(r),!0}async getByDateRange(e,t,r="date"){if(!e||!t)throw new Error(`Invalid date parameters for ${this.collectionName} date range query`);const i=pi(),a=Od(fi,"users",i,this.collectionName),l=Ld(a,Pm(r,">=",tt.fromDate(e)),Pm(r,"<=",tt.fromDate(t)),jd(r,"desc"));return(await Nm(l)).docs.map(h=>({id:h.id,...h.data()}))}async getByDate(e,t="date"){const r=new Date(e);r.setHours(0,0,0,0);const i=new Date(e);return i.setHours(23,59,59,999),this.getByDateRange(r,i,t)}async query(e=[],t="date",r="desc",i){const a=pi(),l=Od(fi,"users",a,this.collectionName),u=[...e.map(y=>Pm(y.field,y.operator,y.value)),jd(t,r)];i&&u.push(ME(i));const h=Ld(l,...u);return(await Nm(h)).docs.map(y=>({id:y.id,...y.data()}))}}const Vo=new q5("nutrition"),vA=async n=>{try{return await Vo.add(n)}catch(e){throw console.error("Error adding nutrition entry:",e),e}},G5=async n=>{try{return await Vo.getAll(n)}catch(e){return console.error("Error fetching nutrition entries:",e),[]}},K5=async n=>{try{return await Vo.getById(n)}catch(e){return console.error(`Error fetching nutrition entry ${n}:`,e),null}},Mc=async(n,e)=>{try{return await Vo.update(n,e)}catch(t){return console.error(`Error updating nutrition entry ${n}:`,t),!1}},Q5=async n=>{try{return await Vo.delete(n)}catch(e){return console.error(`Error deleting nutrition entry ${n}:`,e),!1}},Y5=async n=>{try{return await Vo.getByDate(n)}catch(e){return console.error("Error fetching nutrition entries by date:",e),[]}},X5=async()=>{try{const n=new Date,e=new Date(n);return e.setDate(n.getDate()-7),await Vo.getByDateRange(e,n)}catch(n){return console.error("Error fetching nutrition summary:",n),[]}},wA=n=>{const[e,t]=x.useState([]),[r,i]=x.useState([]),[a,l]=x.useState([]),[u,h]=x.useState(!1),[p,y]=x.useState(0),v=x.useCallback(z=>{if(!z.date)return!1;const W=new Date,Y=new Date;Y.setDate(W.getDate()-7);const N=z.date.toDate();return N>=Y&&N<=W},[]),E=x.useCallback(z=>{z&&(i(W=>W.some(Y=>Y.id===z.id)?W.map(Y=>Y.id===z.id?z:Y):[z,...W]),v(z)&&l(W=>W.some(Y=>Y.id===z.id)?W.map(Y=>Y.id===z.id?z:Y):[z,...W]),t(W=>W.some(Y=>Y.id===z.id)?W.map(Y=>Y.id===z.id?z:Y):[z,...W])),y(W=>W+1)},[v]);x.useEffect(()=>{(async()=>{h(!0);try{const W=await Y5(n);i(W)}catch(W){console.error("Error fetching nutrition entries by date:",W)}finally{h(!1)}})()},[n]),x.useEffect(()=>{(async()=>{h(!0);try{const W=new Date;new Date().setDate(W.getDate()-7);const N=await X5();l(N)}catch(W){console.error("Error fetching weekly nutrition entries:",W)}finally{h(!1)}})()},[p]),x.useEffect(()=>{(async()=>{h(!0);try{const W=await G5();t(W)}catch(W){console.error("Error fetching all nutrition entries:",W)}finally{h(!1)}})()},[p]);const T=x.useCallback(()=>{const z=new Set;a.forEach(M=>{if(!M.date)return;const L=M.date.toDate(),F=`${L.getFullYear()}-${L.getMonth()}-${L.getDate()}`;z.add(F)});const W=a.reduce((M,L)=>{var F;return M+(((F=L.dailyTotals)==null?void 0:F.calories)||0)},0),Y=a.reduce((M,L)=>{var F;return M+(((F=L.dailyTotals)==null?void 0:F.protein)||0)},0),N=z.size,A=N>0?W/N:0,k=N>0?Y/N:0;return{averageCalories:A,averageProtein:k,daysTracked:N}},[a]),b=x.useCallback(()=>{var W,Y,N;const z=e.find(A=>{if(!A.date)return!1;const k=A.date.toDate();return LF(k)});return{calories:((W=z==null?void 0:z.dailyTotals)==null?void 0:W.calories)||0,protein:((Y=z==null?void 0:z.dailyTotals)==null?void 0:Y.protein)||0,meals:((N=z==null?void 0:z.meals)==null?void 0:N.length)||0}},[e]),I=x.useMemo(()=>{const z=T();return{today:b(),weekly:{averageCalories:z.averageCalories,averageProtein:z.averageProtein,daysTracked:z.daysTracked}}},[T,b]),R=async z=>{h(!0);try{const W={...z,date:z.date||tt.fromDate(n)},Y=await vA(W);return Y?(E(),Y):null}catch(W){return console.error("Error adding nutrition entry:",W),null}finally{h(!1)}},D=async(z,W)=>{h(!0);try{return await Mc(z,W)?(E(),!0):!1}catch(Y){return console.error("Error updating nutrition entry:",Y),!1}finally{h(!1)}},U=async z=>{h(!0);try{return await Q5(z)?(E(),!0):!1}catch(W){return console.error("Error deleting nutrition entry:",W),!1}finally{h(!1)}},V=x.useCallback(async(z,W)=>{h(!0);try{return await Mc(z,{notes:W})?(E(),!0):!1}catch(Y){return console.error("Error updating notes:",Y),!1}finally{h(!1)}},[E]);return{isLoading:u,allNutritionEntries:e,weeklyNutritionEntries:a,selectedDateNutritionEntries:r,nutritionSummary:I,addEntry:R,updateEntry:D,deleteEntry:U,updateNotes:V,getWeeklySummary:T,getTodayData:b,refreshData:E}},J5=()=>{const n=ko(),{user:e}=Vi(),[t]=x.useState(()=>new Date),{isLoading:r,allNutritionEntries:i,nutritionSummary:a}=wA(t),l=[{dailyCalories:2e3,dailyProtein:150,weeklyWorkouts:4}],u=()=>{n("/dashboard/workouts/")},h=()=>{n("/dashboard/nutrition/")},p=()=>{n("/dashboard/progress/")};return m.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[m.jsx(U5,{userName:(e==null?void 0:e.displayName)||"User"}),m.jsx(H5,{onAddWorkout:u,onLogFood:h,onRecordMeasurement:p}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsx(W5,{onLogWorkout:u}),m.jsx(B5,{isLoading:r,nutritionData:a,latestEntries:i.slice(0,3),onLogFood:h}),m.jsx(z5,{goals:l})]})]})},Z5=({selectedDate:n,onDateChange:e})=>{const t=l=>{const u={weekday:"short",month:"short",day:"numeric"};return l.toLocaleDateString("en-US",u)},r=()=>{const l=new Date(n);l.setDate(n.getDate()-1),e(l)},i=()=>{const l=new Date(n);l.setDate(n.getDate()+1),e(l)},a=l=>{const u=new Date;return l.getDate()===u.getDate()&&l.getMonth()===u.getMonth()&&l.getFullYear()===u.getFullYear()};return m.jsx(Tn,{className:"mb-4 shadow-sm",children:m.jsx(Fn,{className:"p-3",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(qe,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Previous day",children:m.jsx($I,{})}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"font-medium",children:t(n)}),a(n)&&m.jsx("span",{className:"text-xs text-primary",children:"Today"})]}),m.jsx(qe,{variant:"ghost",size:"icon",onClick:i,"aria-label":"Next day",children:m.jsx(BI,{})})]})})})},ez=({foods:n,className:e=""})=>!n||n.length===0?null:m.jsx("div",{className:`space-y-2 ${e}`,children:n.map((t,r)=>m.jsx("div",{className:"bg-background border rounded-md p-3",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h5",{className:"font-medium text-sm",children:t.name}),m.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1 text-xs text-muted-foreground",children:[m.jsxs("span",{children:[t.quantity," ",t.unit]}),m.jsxs("span",{children:[t.calories," calories"]}),m.jsxs("span",{children:[t.protein,"g protein"]})]})]}),m.jsx(tv,{variant:"outline",className:"text-xs",children:r+1})]})},`food-${r}`))}),tz=({meal:n,className:e,onEdit:t,onDelete:r})=>{const[i,a]=x.useState(!1),l=zt([n],"calories"),u=zt([n],"protein"),h=n.time?new Date(n.time.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"No time set",p=()=>a(y=>!y);return m.jsxs(Tn,{className:Ke("overflow-hidden",e),children:[m.jsx(Ar,{className:"py-3 px-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs(Rr,{className:"text-base capitalize flex items-center",children:[n.name,m.jsx(tv,{variant:"outline",className:"ml-2 font-normal text-xs",children:h})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[t&&m.jsxs(qe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>t(n),children:[m.jsx(s4,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Edit"})]}),r&&m.jsxs(qe,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",children:[m.jsx(HI,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Delete"})]}),m.jsxs(qe,{variant:"ghost",size:"sm",onClick:p,className:"h-8 w-8 p-0 ml-1",children:[i?m.jsx(WI,{className:"h-4 w-4"}):m.jsx(Ef,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:i?"Collapse":"Expand"})]})]})]})}),m.jsxs(Fn,{className:"px-4 pb-4 pt-0",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[m.jsxs("div",{className:"flex items-center text-muted-foreground",children:[m.jsx(BV,{className:"h-3.5 w-3.5 mr-1.5"}),m.jsx("span",{children:h})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("span",{className:"font-medium",children:[l," kcal"]}),m.jsxs("span",{className:"font-medium",children:[u,"g protein"]})]})]}),i&&n.foods.length>0&&m.jsx("div",{className:"pt-2 mt-2 border-t",children:m.jsx(ez,{foods:n.foods})}),i&&n.foods.length===0&&m.jsx("div",{className:"py-3 text-center bg-muted/30 rounded-md mt-2",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"No food items in this meal"})}),!i&&n.foods.length>0&&m.jsxs(qe,{variant:"ghost",size:"sm",onClick:p,className:"w-full mt-1 border border-dashed text-muted-foreground",children:["Show ",n.foods.length," food item",n.foods.length>1?"s":""]}),i&&n.foods.length>0&&m.jsx(qe,{variant:"ghost",size:"sm",onClick:p,className:"w-full mt-1 border border-dashed text-muted-foreground",children:"Hide"})]})]})},nz=({meals:n,onDeleteMeal:e,onEditMeal:t,onAddMeal:r,isLoading:i=!1,children:a})=>m.jsxs(Tn,{className:"w-full",children:[m.jsxs(Ar,{className:"pb-3 flex flex-row items-center justify-between",children:[m.jsxs(Rr,{className:"text-lg flex items-center gap-2",children:[m.jsx(KI,{className:"h-5 w-5"}),"Today's Meals",i&&m.jsx(pl,{className:"h-4 w-4 ml-2 animate-spin text-muted-foreground"})]}),r&&m.jsxs(qe,{variant:"outline",size:"sm",onClick:r,className:"h-8 gap-1",children:[m.jsx(xf,{className:"h-3.5 w-3.5"}),m.jsx("span",{children:"Add Meal"})]})]}),m.jsxs(Fn,{className:"space-y-3",children:[i?m.jsx("div",{className:"space-y-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Array(3).fill(0).map((u,h)=>m.jsx(Tn,{className:"h-[180px] overflow-hidden",children:m.jsxs("div",{className:"p-4 h-full flex flex-col",children:[m.jsx(Gr,{className:"h-5 w-3/4 mb-2"}),m.jsx(Gr,{className:"h-4 w-1/2 mb-4"}),m.jsxs("div",{className:"flex space-x-2 mb-3",children:[m.jsx(Gr,{className:"h-4 w-16"}),m.jsx(Gr,{className:"h-4 w-16"})]}),m.jsx("div",{className:"flex-1"}),m.jsxs("div",{className:"flex justify-between items-center pt-2 mt-auto",children:[m.jsx(Gr,{className:"h-4 w-16"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Gr,{className:"h-8 w-8 rounded-md"}),m.jsx(Gr,{className:"h-8 w-8 rounded-md"})]})]})]})},`skeleton-${h}`))}):n.length>0?m.jsx("div",{className:"space-y-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:n.map((u,h)=>m.jsx(tz,{meal:u,onDelete:()=>e(h),onEdit:()=>t(h,u),className:"h-full"},`meal-${u.id||h}`))}):m.jsx("div",{className:"py-8 text-center border-dashed border rounded-md bg-muted/40",children:m.jsx("p",{className:"text-muted-foreground",children:"No meals logged for today."})}),a&&m.jsx("div",{className:"pt-3",children:a})]})]});function rz({className:n,...e}){return m.jsx("textarea",{"data-slot":"textarea",className:Ke("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}const sz=({notes:n,isLoading:e=!1,onChange:t})=>{const[r,i]=St.useState(n),[a,l]=St.useState(!1),[u,h]=St.useState(!1);St.useEffect(()=>{i(n)},[n]);const p=()=>{i(n),l(!0)},y=()=>{i(n),l(!1)},v=async()=>{h(!0);try{await t(r),l(!1)}catch(E){console.error("Failed to save notes:",E)}finally{h(!1)}};return e?m.jsxs(Tn,{children:[m.jsx(Ar,{children:m.jsxs(Rr,{className:"flex items-center justify-between",children:[m.jsx(Gr,{className:"h-4 w-16"}),m.jsx(Gr,{className:"w-20"})]})}),m.jsx(Fn,{children:m.jsx(Gr,{className:"w-full"})})]}):m.jsxs(Tn,{children:[m.jsx(Ar,{children:m.jsxs(Rr,{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Notes"}),!a&&m.jsxs(qe,{variant:"outline",size:"sm",onClick:p,children:[m.jsx(xg,{className:"mr-2"}),n?"Edit":"Add Notes"]})]})}),m.jsx(Fn,{children:a?m.jsx(rz,{value:r,onChange:E=>i(E.target.value),placeholder:"Add your notes here...",className:"resize-none"}):m.jsx("div",{children:n?m.jsx("p",{className:"whitespace-pre-wrap",children:n}):m.jsx("p",{className:"text-muted-foreground italic",children:"No notes added yet."})})}),a&&m.jsxs(yl,{className:"flex justify-end gap-2",children:[m.jsxs(qe,{variant:"ghost",size:"sm",onClick:y,disabled:u,children:[m.jsx(Qy,{className:"mr-1"}),"Cancel"]}),m.jsxs(qe,{variant:"default",size:"sm",onClick:v,disabled:u,children:[m.jsx(u4,{className:"mr-1"}),u?"Saving...":"Save"]})]})]})},Va=({children:n,errorMessage:e,className:t})=>m.jsxs("div",{className:Ke("space-y-2",t),children:[n,e&&m.jsxs("div",{className:"flex items-center gap-1 text-destructive text-xs",children:[m.jsx(Nc,{className:"h-3 w-3"}),m.jsx("span",{children:e})]})]}),iz=[{value:"breakfast",label:"Breakfast"},{value:"lunch",label:"Lunch"},{value:"dinner",label:"Dinner"},{value:"snack",label:"Snack"},{value:"other",label:"Other"}],oz=({name:n,time:e,onNameChange:t,onTimeChange:r})=>m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs(Va,{children:[m.jsx(On,{htmlFor:"meal-name",children:"Meal Type"}),m.jsxs(cA,{value:n,onValueChange:t,children:[m.jsx(dA,{id:"meal-name",className:"max-w-[180px]",children:m.jsx(uA,{placeholder:"Select meal type"})}),m.jsx(hA,{children:iz.map(i=>m.jsx(fA,{value:i.value,children:i.label},i.value))})]})]}),m.jsxs(Va,{children:[m.jsx(On,{htmlFor:"meal-time",children:"Time"}),m.jsx(Xn,{id:"meal-time",type:"time",value:e,onChange:r,className:"max-w-[180px]"})]})]});function az(n){const[e,t]=n.split(":").map(Number),r=new Date;return r.setHours(e,t,0,0),tt.fromDate(r)}function lz(n){return n.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const cz=n=>{const e={name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""};let t=!0;return n.name.trim()||(e.name="Food name is required",t=!1),n.quantity<=0&&(e.quantity="Quantity must be greater than 0",t=!1),n.calories<0&&(e.calories="Calories cannot be negative",t=!1),n.protein<0&&(e.calories="Protein cannot be negative",t=!1),n.carbs<0&&(e.calories="Carbs cannot be negative",t=!1),n.fat<0&&(e.calories="Fat cannot be negative",t=!1),{isValid:t,newErrors:e}},uz=({onSubmit:n,onCancel:e,initialMeal:t,isEditing:r=!1})=>{const[i,a]=x.useState((t==null?void 0:t.name)||""),[l,u]=x.useState((t==null?void 0:t.time)||tt.now()),[h,p]=x.useState({mealName:""}),[y,v]=x.useState(!1),E=()=>{const R={mealName:""};let D=!0;return i||(R.mealName="Meal type is required",D=!1),p(R),D},T=async R=>{if(R.preventDefault(),!!E())try{v(!0),await n({name:i,time:l})}catch(D){console.error("Error submitting meal form:",D)}finally{v(!1)}},b=R=>{a(R),R&&p(D=>({...D,mealName:""}))},I=R=>{u(az(R.target.value))};return m.jsxs(Tn,{className:"w-full",children:[m.jsx(Ar,{children:m.jsxs(Rr,{className:"flex items-center gap-2",children:[m.jsx(KI,{className:"h-5 w-5"}),r?"Edit Meal":"Add New Meal"]})}),m.jsxs("form",{onSubmit:T,children:[m.jsxs(Fn,{className:"space-y-4",children:[m.jsx(oz,{name:i,time:lz(l),onNameChange:b,onTimeChange:I}),h.mealName&&m.jsx(M6,{message:h.mealName})]}),m.jsxs(yl,{className:"flex justify-end gap-2 border-t pt-4 mt-1",children:[m.jsx(qe,{type:"button",variant:"outline",onClick:e,disabled:y,children:"Cancel"}),m.jsx(qe,{type:"submit",disabled:y,children:y?"Saving...":r?"Save Changes":"Save Meal"})]})]})]})},yx="aGILeRnIJ3bHhfVWbBagI6fbyRwqbzDGOf5x1FB3",vx="https://api.nal.usda.gov/fdc/v1",Iv={searchFoods:async(n,e=20)=>{try{const t=await fetch(`${vx}/foods/search?api_key=${yx}&query=${encodeURIComponent(n)}&pageSize=${e}`);if(!t.ok)throw new Error(`USDA API error: ${t.status}`);return(await t.json()).foods||[]}catch(t){throw console.error("Error searching foods:",t),t}},getFoodDetails:async n=>{try{const e=await fetch(`${vx}/food/${n}?api_key=${yx}`);if(!e.ok)throw new Error(`USDA API error: ${e.status}`);return await e.json()}catch(e){throw console.error(`Error getting food details for ID ${n}:`,e),e}},extractNutrients:n=>{const e={calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0},t={calories:1008,protein:1003,carbs:1005,fat:1004,fiber:1079,sugar:2e3,sodium:1093};return n.foodNutrients.forEach(r=>{switch(r.nutrientId){case t.calories:e.calories=r.value;break;case t.protein:e.protein=r.value;break;case t.carbs:e.carbs=r.value;break;case t.fat:e.fat=r.value;break;case t.fiber:e.fiber=r.value;break;case t.sugar:e.sugar=r.value;break;case t.sodium:e.sodium=r.value;break}}),e}};function dz(n,e){const[t,r]=x.useState(n);return x.useEffect(()=>{const i=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(i)}},[n,e]),t}const hz=({query:n,onQueryChange:e,onSearch:t,onClear:r,isLoading:i,onKeyDown:a,inputRef:l})=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Xn,{ref:l,type:"text",placeholder:"Search for a food...",value:n,onChange:u=>e(u.target.value),onKeyDown:a,className:"pr-8"}),n&&m.jsx("button",{type:"button",onClick:r,className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:m.jsx(Qy,{className:"h-4 w-4"})})]}),m.jsxs(qe,{type:"button",variant:"secondary",size:"sm",onClick:t,disabled:i||!n.trim()||n.trim().length<2,children:[i?m.jsx(pl,{className:"h-4 w-4 animate-spin"}):m.jsx(h4,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Search"})]})]}),fz=({food:n,onSelect:e,buttonLabel:t="Add"})=>{const r=Iv.extractNutrients(n);return m.jsx("div",{className:"p-3 hover:bg-accent/50 transition-colors",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>e(n),children:[m.jsx("h4",{className:"font-medium text-sm",children:n.description}),n.brandOwner&&m.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[90%]",children:n.brandOwner}),m.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1 text-xs text-muted-foreground",children:[m.jsxs("span",{className:"font-medium text-foreground",children:[Math.round(r.calories)," cal"]}),m.jsxs("span",{children:["P: ",r.protein.toFixed(1),"g"]}),m.jsxs("span",{children:["C: ",r.carbs.toFixed(1),"g"]}),m.jsxs("span",{children:["F: ",r.fat.toFixed(1),"g"]})]})]}),m.jsxs(qe,{size:"sm",variant:"ghost",onClick:()=>e(n),className:"h-7 px-2",children:[m.jsx(o4,{className:"h-3.5 w-3.5 mr-1"}),t]})]})})};function pz(n,e){return x.useReducer((t,r)=>e[t][r]??t,n)}var Cv="ScrollArea",[_A,Hz]=Fi(Cv),[mz,nr]=_A(Cv),EA=x.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:a=600,...l}=n,[u,h]=x.useState(null),[p,y]=x.useState(null),[v,E]=x.useState(null),[T,b]=x.useState(null),[I,R]=x.useState(null),[D,U]=x.useState(0),[V,z]=x.useState(0),[W,Y]=x.useState(!1),[N,A]=x.useState(!1),k=rt(e,L=>h(L)),M=Tf(i);return m.jsx(mz,{scope:t,type:r,dir:M,scrollHideDelay:a,scrollArea:u,viewport:p,onViewportChange:y,content:v,onContentChange:E,scrollbarX:T,onScrollbarXChange:b,scrollbarXEnabled:W,onScrollbarXEnabledChange:Y,scrollbarY:I,onScrollbarYChange:R,scrollbarYEnabled:N,onScrollbarYEnabledChange:A,onCornerWidthChange:U,onCornerHeightChange:z,children:m.jsx(We.div,{dir:M,...l,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":D+"px","--radix-scroll-area-corner-height":V+"px",...n.style}})})});EA.displayName=Cv;var xA="ScrollAreaViewport",SA=x.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:i,...a}=n,l=nr(xA,t),u=x.useRef(null),h=rt(e,u,l.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),m.jsx(We.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:m.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});SA.displayName=xA;var ss="ScrollAreaScrollbar",bv=x.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=nr(ss,n.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=i,u=n.orientation==="horizontal";return x.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),i.type==="hover"?m.jsx(gz,{...r,ref:e,forceMount:t}):i.type==="scroll"?m.jsx(yz,{...r,ref:e,forceMount:t}):i.type==="auto"?m.jsx(TA,{...r,ref:e,forceMount:t}):i.type==="always"?m.jsx(Av,{...r,ref:e}):null});bv.displayName=ss;var gz=x.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=nr(ss,n.__scopeScrollArea),[a,l]=x.useState(!1);return x.useEffect(()=>{const u=i.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),l(!0)},y=()=>{h=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",y)}}},[i.scrollArea,i.scrollHideDelay]),m.jsx(Us,{present:t||a,children:m.jsx(TA,{"data-state":a?"visible":"hidden",...r,ref:e})})}),yz=x.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=nr(ss,n.__scopeScrollArea),a=n.orientation==="horizontal",l=jf(()=>h("SCROLL_END"),100),[u,h]=pz("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,i.scrollHideDelay,h]),x.useEffect(()=>{const p=i.viewport,y=a?"scrollLeft":"scrollTop";if(p){let v=p[y];const E=()=>{const T=p[y];v!==T&&(h("SCROLL"),l()),v=T};return p.addEventListener("scroll",E),()=>p.removeEventListener("scroll",E)}},[i.viewport,a,h,l]),m.jsx(Us,{present:t||u!=="hidden",children:m.jsx(Av,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ce(n.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ce(n.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),TA=x.forwardRef((n,e)=>{const t=nr(ss,n.__scopeScrollArea),{forceMount:r,...i}=n,[a,l]=x.useState(!1),u=n.orientation==="horizontal",h=jf(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,y=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?p:y)}},10);return rl(t.viewport,h),rl(t.content,h),m.jsx(Us,{present:r||a,children:m.jsx(Av,{"data-state":a?"visible":"hidden",...i,ref:e})})}),Av=x.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=nr(ss,n.__scopeScrollArea),a=x.useRef(null),l=x.useRef(0),[u,h]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=RA(u.viewport,u.content),y={...r,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:E=>a.current=E,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:E=>l.current=E};function v(E,T){return Sz(E,l.current,u,T)}return t==="horizontal"?m.jsx(vz,{...y,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const E=i.viewport.scrollLeft,T=wx(E,u,i.dir);a.current.style.transform=`translate3d(${T}px, 0, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollLeft=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollLeft=v(E,i.dir))}}):t==="vertical"?m.jsx(wz,{...y,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const E=i.viewport.scrollTop,T=wx(E,u);a.current.style.transform=`translate3d(0, ${T}px, 0)`}},onWheelScroll:E=>{i.viewport&&(i.viewport.scrollTop=E)},onDragScroll:E=>{i.viewport&&(i.viewport.scrollTop=v(E))}}):null}),vz=x.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,a=nr(ss,n.__scopeScrollArea),[l,u]=x.useState(),h=x.useRef(null),p=rt(e,h,a.onScrollbarXChange);return x.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),m.jsx(CA,{"data-orientation":"horizontal",...i,ref:p,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lf(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.x),onDragScroll:y=>n.onDragScroll(y.x),onWheelScroll:(y,v)=>{if(a.viewport){const E=a.viewport.scrollLeft+y.deltaX;n.onWheelScroll(E),PA(E,v)&&y.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Bh(l.paddingLeft),paddingEnd:Bh(l.paddingRight)}})}})}),wz=x.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,a=nr(ss,n.__scopeScrollArea),[l,u]=x.useState(),h=x.useRef(null),p=rt(e,h,a.onScrollbarYChange);return x.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),m.jsx(CA,{"data-orientation":"vertical",...i,ref:p,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lf(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.y),onDragScroll:y=>n.onDragScroll(y.y),onWheelScroll:(y,v)=>{if(a.viewport){const E=a.viewport.scrollTop+y.deltaY;n.onWheelScroll(E),PA(E,v)&&y.preventDefault()}},onResize:()=>{h.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Bh(l.paddingTop),paddingEnd:Bh(l.paddingBottom)}})}})}),[_z,IA]=_A(ss),CA=x.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:y,onResize:v,...E}=n,T=nr(ss,t),[b,I]=x.useState(null),R=rt(e,k=>I(k)),D=x.useRef(null),U=x.useRef(""),V=T.viewport,z=r.content-r.viewport,W=Bt(y),Y=Bt(h),N=jf(v,10);function A(k){if(D.current){const M=k.clientX-D.current.left,L=k.clientY-D.current.top;p({x:M,y:L})}}return x.useEffect(()=>{const k=M=>{const L=M.target;(b==null?void 0:b.contains(L))&&W(M,z)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[V,b,z,W]),x.useEffect(Y,[r,Y]),rl(b,N),rl(T.content,N),m.jsx(_z,{scope:t,scrollbar:b,hasThumb:i,onThumbChange:Bt(a),onThumbPointerUp:Bt(l),onThumbPositionChange:Y,onThumbPointerDown:Bt(u),children:m.jsx(We.div,{...E,ref:R,style:{position:"absolute",...E.style},onPointerDown:Ce(n.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),D.current=b.getBoundingClientRect(),U.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T.viewport&&(T.viewport.style.scrollBehavior="auto"),A(k))}),onPointerMove:Ce(n.onPointerMove,A),onPointerUp:Ce(n.onPointerUp,k=>{const M=k.target;M.hasPointerCapture(k.pointerId)&&M.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=U.current,T.viewport&&(T.viewport.style.scrollBehavior=""),D.current=null})})})}),$h="ScrollAreaThumb",bA=x.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=IA($h,n.__scopeScrollArea);return m.jsx(Us,{present:t||i.hasThumb,children:m.jsx(Ez,{ref:e,...r})})}),Ez=x.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,a=nr($h,t),l=IA($h,t),{onThumbPositionChange:u}=l,h=rt(e,v=>l.onThumbChange(v)),p=x.useRef(void 0),y=jf(()=>{p.current&&(p.current(),p.current=void 0)},100);return x.useEffect(()=>{const v=a.viewport;if(v){const E=()=>{if(y(),!p.current){const T=Tz(v,u);p.current=T,u()}};return u(),v.addEventListener("scroll",E),()=>v.removeEventListener("scroll",E)}},[a.viewport,y,u]),m.jsx(We.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ce(n.onPointerDownCapture,v=>{const T=v.target.getBoundingClientRect(),b=v.clientX-T.left,I=v.clientY-T.top;l.onThumbPointerDown({x:b,y:I})}),onPointerUp:Ce(n.onPointerUp,l.onThumbPointerUp)})});bA.displayName=$h;var Rv="ScrollAreaCorner",AA=x.forwardRef((n,e)=>{const t=nr(Rv,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?m.jsx(xz,{...n,ref:e}):null});AA.displayName=Rv;var xz=x.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=nr(Rv,t),[a,l]=x.useState(0),[u,h]=x.useState(0),p=!!(a&&u);return rl(i.scrollbarX,()=>{var v;const y=((v=i.scrollbarX)==null?void 0:v.offsetHeight)||0;i.onCornerHeightChange(y),h(y)}),rl(i.scrollbarY,()=>{var v;const y=((v=i.scrollbarY)==null?void 0:v.offsetWidth)||0;i.onCornerWidthChange(y),l(y)}),p?m.jsx(We.div,{...r,ref:e,style:{width:a,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Bh(n){return n?parseInt(n,10):0}function RA(n,e){const t=n/e;return isNaN(t)?0:t}function Lf(n){const e=RA(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function Sz(n,e,t,r="ltr"){const i=Lf(t),a=i/2,l=e||a,u=i-l,h=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-u,y=t.content-t.viewport,v=r==="ltr"?[0,y]:[y*-1,0];return kA([h,p],v)(n)}function wx(n,e,t="ltr"){const r=Lf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,l=e.content-e.viewport,u=a-r,h=t==="ltr"?[0,l]:[l*-1,0],p=Dg(n,h);return kA([0,l],[0,u])(p)}function kA(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function PA(n,e){return n>0&&n<e}var Tz=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const a={left:n.scrollLeft,top:n.scrollTop},l=t.left!==a.left,u=t.top!==a.top;(l||u)&&e(),t=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function jf(n,e){const t=Bt(n),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function rl(n,e){const t=Bt(e);At(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}var NA=EA,Iz=SA,Cz=AA;const DA=x.forwardRef(({className:n,children:e,...t},r)=>m.jsxs(NA,{ref:r,className:Ke("relative overflow-hidden",n),...t,children:[m.jsx(Iz,{className:"h-full w-full rounded-[inherit]",children:e}),m.jsx(MA,{}),m.jsx(Cz,{})]}));DA.displayName=NA.displayName;const MA=x.forwardRef(({className:n,orientation:e="vertical",...t},r)=>m.jsx(bv,{ref:r,orientation:e,className:Ke("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:m.jsx(bA,{className:"relative flex-1 rounded-full bg-border"})}));MA.displayName=bv.displayName;const OA=x.forwardRef(({isLoading:n,error:e,results:t,onSelectFood:r,buttonLabel:i="Add",showInline:a=!1,className:l=""},u)=>m.jsx(Tn,{ref:u,className:`${a?"":"absolute z-50 left-0 right-0 top-[calc(100%+0.5rem)]"} shadow-md ${l}`,children:m.jsx(Fn,{className:"p-0 overflow-hidden",children:n?m.jsxs("div",{className:"flex items-center justify-center p-4 text-sm text-muted-foreground",children:[m.jsx(pl,{className:"h-4 w-4 mr-2 animate-spin"}),"Searching..."]}):e?m.jsx("div",{className:"p-4 text-sm text-destructive",children:e}):t.length>0?m.jsx(DA,{className:"max-h-64 overflow-y-scroll",children:t.map(h=>m.jsx(fz,{food:h,onSelect:r,buttonLabel:i},h.fdcId))}):null})}));OA.displayName="FoodSearchResults";const bz=({onSelectFood:n,buttonLabel:e="Add",autoFocus:t=!1,showInline:r=!1})=>{const[i,a]=x.useState(""),[l,u]=x.useState([]),[h,p]=x.useState(!1),[y,v]=x.useState(null),[E,T]=x.useState(!1),b=x.useRef(null),I=x.useRef(null),R=dz(i,300);x.useEffect(()=>{function W(Y){b.current&&!b.current.contains(Y.target)&&I.current!==Y.target&&T(!1)}return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),x.useEffect(()=>{t&&I.current&&I.current.focus()},[t]);const D=x.useCallback(async()=>{if(!(!i.trim()||i.trim().length<2)){p(!0),v(null),T(!0);try{const W=await Iv.searchFoods(i);u(W),W.length===0&&v("No foods found matching your search.")}catch(W){v("Failed to search foods. Please try again."),console.error(W)}finally{p(!1)}}},[i]),U=()=>{a(""),u([]),v(null),T(!1),I.current&&I.current.focus()},V=W=>{T(!1),console.log("showdropdown inside handle",E),n(W),r?(u([]),v(null)):U()},z=W=>{W.key==="Enter"&&i.trim()?(W.preventDefault(),D()):W.key==="Escape"&&T(!1)};return x.useEffect(()=>{R.trim().length>=2&&D()},[R,D]),m.jsxs("div",{className:"relative w-full",children:[m.jsx(hz,{inputRef:I,query:i,onQueryChange:a,onSearch:D,onClear:U,isLoading:h,onKeyDown:z}),E&&m.jsx(OA,{ref:b,isLoading:h,error:y,results:l,onSelectFood:V,buttonLabel:e,showInline:r})]})},Az=[{value:"g",label:"grams (g)"},{value:"ml",label:"milliliters (ml)"}],Rz=[{id:"calories",label:"Calories",placeholder:"165",unit:""},{id:"protein",label:"Protein",placeholder:"31",unit:"g"},{id:"carbs",label:"Carbs",placeholder:"0",unit:"g"},{id:"fat",label:"Fat",placeholder:"3.6",unit:"g"}],kz=({onSubmit:n,onCancel:e,initValues:t})=>{const[r,i]=x.useState({name:(t==null?void 0:t.name)||"",quantity:(t==null?void 0:t.quantity)||100,calories:(t==null?void 0:t.calories)||0,protein:(t==null?void 0:t.protein)||0,carbs:(t==null?void 0:t.carbs)||0,fat:(t==null?void 0:t.fat)||0,unit:(t==null?void 0:t.unit)||"g"}),[a,l]=x.useState({name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""}),u=v=>{const E=Iv.extractNutrients(v);i({...r,name:v.description,quantity:100,calories:Math.round(E.calories||0),protein:Math.round(E.protein||0),carbs:Math.round(E.carbs||0),fat:Math.round(E.fat||0)}),l({name:"",quantity:"",calories:"",protein:"",carbs:"",fat:""})},h=v=>{const{id:E,value:T}=v.target,b=E.replace("food-",""),R=["quantity","calories","protein","carbs","fat"].includes(b)?parseFloat(T)||0:T;i(D=>({...D,[b]:R})),a[b]&&l(D=>({...D,[b]:""}))},p=v=>{i(E=>({...E,unit:v}))},y=v=>{v.preventDefault();const E=cz(r);l(E.newErrors),E.isValid&&n(r)};return m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx(On,{className:"text-sm font-medium block mb-2",children:"Search USDA Food Database"}),m.jsx(bz,{onSelectFood:u,buttonLabel:"Select",autoFocus:!t}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Search for foods to automatically fill nutrition information"})]}),m.jsxs(Va,{children:[m.jsx(On,{htmlFor:"food-name",className:"text-sm font-medium",children:"Food Name"}),m.jsx(Xn,{id:"food-name",placeholder:"e.g., Chicken Breast",value:r.name,onChange:h,className:a.name?"border-destructive":""}),a.name&&m.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[m.jsx(Nc,{className:"h-3 w-3 mr-1"}),m.jsx("span",{children:a.name})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs(Va,{children:[m.jsx(On,{htmlFor:"food-quantity",className:"text-sm font-medium",children:"Quantity"}),m.jsx(Xn,{id:"food-quantity",type:"number",placeholder:"100",value:r.quantity===0?"":r.quantity,onChange:h,min:"0",step:"any",className:a.quantity?"border-destructive":""}),a.quantity&&m.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[m.jsx(Nc,{className:"h-3 w-3 mr-1"}),m.jsx("span",{children:a.quantity})]})]}),m.jsxs(Va,{children:[m.jsx(On,{htmlFor:"food-unit",className:"text-sm font-medium",children:"Unit"}),m.jsxs(cA,{value:r.unit,onValueChange:p,children:[m.jsx(dA,{id:"food-unit",children:m.jsx(uA,{placeholder:"Select unit"})}),m.jsx(hA,{children:Az.map(v=>m.jsx(fA,{value:v.value,children:v.label},v.value))})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nutrition Information"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:Rz.map(v=>m.jsxs(Va,{children:[m.jsxs(On,{htmlFor:`food-${v.id}`,className:"text-sm font-medium",children:[v.label,v.unit?` (${v.unit})`:""]}),m.jsx(Xn,{id:`food-${v.id}`,type:"number",placeholder:v.placeholder,value:r[v.id]===0?"":r[v.id],onChange:h,min:"0",step:"any",className:a[v.id]?"border-destructive":""}),a[v.id]&&m.jsxs("div",{className:"flex items-center mt-1 text-destructive text-xs",children:[m.jsx(Nc,{className:"h-3 w-3 mr-1"}),m.jsx("span",{children:a[v.id]})]})]},v.id))})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[m.jsx(qe,{type:"button",variant:"outline",size:"sm",onClick:e,children:"Cancel"}),m.jsxs(qe,{type:"submit",size:"sm",children:[t?"Update":"Add"," Food Item"]})]})]})},Pz=({onSubmit:n,onCancel:e,initialMeal:t,isEditing:r=!1})=>{const[i,a]=x.useState("meal"),[l,u]=x.useState({name:(t==null?void 0:t.name)||"",time:(t==null?void 0:t.time)||tt.now()}),[h,p]=x.useState((t==null?void 0:t.foods)||[]),[y,v]=x.useState(!1),[E,T]=x.useState(null),[b,I]=x.useState(null),[R,D]=x.useState(!1),U=async L=>{u(L),a("food")},V=()=>{v(!0),T(null),I(null)},z=L=>{v(!0),T(h[L]),I(L)},W=L=>{p(F=>F.filter((O,Se)=>Se!==L))},Y=L=>{p(b!==null?F=>F.map((O,Se)=>Se===b?L:O):F=>[...F,L]),v(!1),T(null),I(null)},N=()=>{v(!1),T(null),I(null)},A=()=>{a("meal")},k=async()=>{if(!(!l||h.length===0)){D(!0);try{const L={id:(t==null?void 0:t.id)||`meal-${Date.now()}`,name:l.name,time:l.time,foods:h};await n(L)}catch(L){console.error("Error submitting meal:",L)}finally{D(!1)}}},M=h.reduce((L,F)=>(L.calories+=F.calories*F.quantity/100,L.protein+=F.protein*F.quantity/100,L.carbs+=F.carbs*F.quantity/100,L.fat+=F.fat*F.quantity/100,L),{calories:0,protein:0,carbs:0,fat:0});return m.jsxs(Tn,{className:"w-full",children:[m.jsx(Ar,{children:m.jsxs(Rr,{children:[r?"Edit Meal":"Add New Meal",i==="food"&&m.jsxs(tv,{className:"ml-2",children:[h.length," items"]})]})}),m.jsx(Fn,{children:i==="meal"?m.jsx(uz,{onSubmit:U,onCancel:e,initialMeal:l,isEditing:r}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-muted p-3 rounded-md flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium capitalize",children:l.name}),m.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(l.time.toMillis()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),m.jsxs(qe,{variant:"outline",size:"sm",onClick:A,children:[m.jsx(xg,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),y?m.jsx("div",{className:"border rounded-lg p-4",children:m.jsx(kz,{onSubmit:Y,onCancel:N,initValues:E||void 0})}):m.jsxs("div",{className:"space-y-3",children:[h.length>0&&m.jsxs("div",{className:"space-y-2",children:[h.map((L,F)=>m.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:L.name}),m.jsxs("div",{className:"flex gap-3 text-sm text-muted-foreground",children:[m.jsxs("span",{children:[L.quantity," ",L.unit]}),m.jsxs("span",{children:[L.calories," kcal"]}),m.jsxs("span",{children:[L.protein,"g protein"]})]})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>z(F),className:"h-8 w-8 p-0",children:m.jsx(xg,{className:"h-4 w-4"})}),m.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>W(F),className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10",children:m.jsx(HI,{className:"h-4 w-4"})})]})]},F)),m.jsxs("div",{className:"bg-secondary/40 p-3 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"font-medium text-sm",children:"Total calories:"}),m.jsxs("span",{className:"font-medium text-sm",children:[M.calories," kcal"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"font-medium text-sm",children:"Total protein:"}),m.jsxs("span",{className:"font-medium text-sm",children:[M.protein,"g"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"font-medium text-sm",children:"Total carbs:"}),m.jsxs("span",{className:"font-medium text-sm",children:[M.carbs,"g"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"font-medium text-sm",children:"Total fat:"}),m.jsxs("span",{className:"font-medium text-sm",children:[M.fat,"g"]})]})]})]}),m.jsxs(qe,{variant:"outline",className:"w-full",onClick:V,children:[m.jsx(xf,{className:"h-4 w-4 mr-2"}),h.length?"Add Another Food":"Add Food Item"]})]})]})}),i==="food"&&!y&&m.jsxs(yl,{className:"border-t pt-4 flex justify-between",children:[m.jsxs(qe,{variant:"ghost",onClick:e,disabled:R,children:[m.jsx(Qy,{className:"h-4 w-4 mr-2"}),"Cancel"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(qe,{variant:"outline",onClick:A,disabled:R,children:[m.jsx(AV,{className:"h-4 w-4 mr-2"}),"Back"]}),m.jsxs(qe,{onClick:k,disabled:h.length===0||R,children:[m.jsx(zI,{className:"h-4 w-4 mr-2"}),R?"Saving...":r?"Update Meal":"Add Meal"]})]})]})]})},Nz=({nutritionEntry:n,onEntryUpdated:e})=>{const[t,r]=x.useState(!1),[i,a]=x.useState(null),l=x.useCallback(async v=>{const E={calories:zt([v],"calories"),protein:zt([v],"protein"),carbs:zt([v],"carbs"),fat:zt([v],"fat")};try{const T=await vA({meals:[v],dailyTotals:E});if(!T)return a("Failed to create nutrition entry"),!1;const b=await K5(T);return b?(e(b),!0):(a("Failed to fetch new nutrition entry"),!1)}catch(T){return console.error("Error creating nutrition entry:",T),a("Failed to create new nutrition entry"),!1}},[e]),u=x.useCallback(async v=>{if(!n||!n.id)return a("Missing nutrition entry"),!1;const E=[...n.meals||[],v],T={calories:zt(E,"calories"),protein:zt(E,"protein"),carbs:zt(E,"carbs"),fat:zt(E,"fat")};if(!await Mc(n.id,{meals:E,dailyTotals:T}))return a("Failed to add meal to existing entry"),!1;const I={...n,meals:E,dailyTotals:T};return e(I),!0},[n,e]),h=x.useCallback(async v=>{r(!0),a(null);try{return n!=null&&n.id?await u(v):await l(v)}catch(E){return console.error("Error in addMeal operation:",E),a("An error occurred while processing the meal"),!1}finally{r(!1)}},[n,l,u]),p=x.useCallback(async(v,E)=>{if(!(n!=null&&n.id)||!n.meals)return a("Cannot edit meal: No nutrition entry or meals exist"),!1;if(v<0||v>=n.meals.length)return a("Invalid meal index"),!1;r(!0),a(null);try{const T=[...n.meals];T[v]=E;const b={calories:zt(T,"calories"),protein:zt(T,"protein"),carbs:zt(T,"carbs"),fat:zt(T,"fat")};if(await Mc(n.id,{meals:T,dailyTotals:b})){const R={...n,meals:T,dailyTotals:b};return e(R),!0}return a("Failed to update meal"),!1}catch(T){return console.error("Error editing meal:",T),a("An error occurred while editing the meal"),!1}finally{r(!1)}},[n,e]),y=x.useCallback(async v=>{if(!(n!=null&&n.id)||!n.meals)return a("Cannot delete meal: No nutrition entry or meals exist"),!1;if(v<0||v>=n.meals.length)return a("Invalid meal index"),!1;r(!0),a(null);try{const E=n.meals.filter((I,R)=>R!==v),T={calories:zt(E,"calories"),protein:zt(E,"protein"),carbs:zt(E,"carbs"),fat:zt(E,"fat")};if(await Mc(n.id,{meals:E,dailyTotals:T})){const I={...n,meals:E,dailyTotals:T};return e(I),!0}return a("Failed to delete meal"),!1}catch(E){return console.error("Error deleting meal:",E),a("An error occurred while deleting the meal"),!1}finally{r(!1)}},[n,e]);return{addMeal:h,editMeal:p,deleteMeal:y,isLoading:t,error:i}},Dz=()=>{const[n,e]=x.useState(new Date),[t,r]=x.useState("hidden"),[i,a]=x.useState(void 0),[l,u]=x.useState(-1),{selectedDateNutritionEntries:h,isLoading:p,refreshData:y,updateNotes:v}=wA(n),E=h[0],{addMeal:T,editMeal:b,deleteMeal:I,isLoading:R}=Nz({nutritionEntry:E,onEntryUpdated:k=>{k?y(k):y()}}),D=p||R,U=x.useCallback(k=>{e(k),r("hidden"),a(void 0)},[]),V=()=>{r("add"),a(void 0),u(-1)},z=async(k,M)=>(a(M),u(k),r("edit"),Promise.resolve()),W=async k=>{try{let M=!1;t==="add"?M=await T(k):t==="edit"&&l!==-1&&(M=await b(l,k)),M&&(r("hidden"),a(void 0),u(-1))}catch(M){console.error("Error handling meal submission:",M)}},Y=()=>{r("hidden"),a(void 0),u(-1)},N=t!=="hidden",A=(E==null?void 0:E.meals)||[];return m.jsxs("div",{className:"nutrition-page space-y-4",children:[m.jsx("div",{className:"container mx-auto px-4 max-w-md",children:m.jsx(Z5,{selectedDate:n,onDateChange:U})}),m.jsx("div",{className:N?"container mx-auto px-4 max-w-md":"container mx-auto px-4",children:N?m.jsx(Pz,{onSubmit:W,onCancel:Y,initialMeal:i,isEditing:t==="edit"}):m.jsx(m.Fragment,{children:m.jsx(nz,{meals:A,onEditMeal:z,onDeleteMeal:async k=>{await I(k)},onAddMeal:V,isLoading:D})})}),m.jsx("div",{className:"container mx-auto px-4 max-w-md pb-8",children:m.jsx(sz,{notes:(E==null?void 0:E.notes)||"",onChange:k=>v((E==null?void 0:E.id)||"",k),isLoading:D})})]})},Mz=()=>{const{isAuthenticated:n,isLoading:e}=Vi(),t=Vs();return e?m.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):m.jsxs(z1,{children:[m.jsxs(Nn,{element:m.jsx(k5,{}),children:[m.jsx(Nn,{path:"/",element:n?m.jsx(ja,{to:"/dashboard"}):m.jsx(ja,{to:"/login"})}),m.jsx(Nn,{path:"/login",element:n?m.jsx(ja,{to:"/dashboard"}):m.jsx(O5,{})}),m.jsx(Nn,{path:"/signup",element:n?m.jsx(ja,{to:"/dashboard"}):m.jsx(L5,{})})]}),m.jsx(Nn,{element:m.jsx(R5,{isAuthenticated:n}),children:m.jsxs(Nn,{path:"/dashboard",element:m.jsx(N5,{}),children:[m.jsx(Nn,{index:!0,element:m.jsx(J5,{})}),m.jsx(Nn,{path:"settings",element:m.jsx(F5,{})}),m.jsx(Nn,{path:"nutrition",element:m.jsx(Dz,{})}),m.jsx(Nn,{path:"workouts",element:m.jsx(m.Fragment,{})}),m.jsx(Nn,{path:"progress",element:m.jsx(m.Fragment,{})})]})}),m.jsx(Nn,{path:"*",element:m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Page Not Found"}),m.jsxs("p",{className:"mb-4",children:["The page at ",t.pathname," does not exist."]}),m.jsx(bs,{to:"/",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Return Home"})]})})]})},Oz=({children:n})=>{const[e,t]=x.useState(()=>{const E=localStorage.getItem("appState");if(E)try{return JSON.parse(E)}catch(T){console.error("Failed to parse saved app state",T)}return Qd}),{user:r}=Vi();x.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(e))},[e]),x.useEffect(()=>{r||t(E=>({...E,ui:Qd.ui,dashboardData:Qd.dashboardData}))},[r]);const v={state:e,setTheme:E=>{t(T=>({...T,userPreferences:{...T.userPreferences,theme:E}}))},toggleNotifications:()=>{t(E=>({...E,userPreferences:{...E.userPreferences,notificationsEnabled:!E.userPreferences.notificationsEnabled}}))},setSidebarOpen:E=>{t(T=>({...T,ui:{...T.ui,sidebarOpen:E}}))},setActiveDashboardTab:E=>{t(T=>({...T,ui:{...T.ui,activeDashboardTab:E}}))},setMeasurementSystem:E=>{t(T=>({...T,userPreferences:{...T.userPreferences,measeurementSystem:E}}))},markDashboardNeedsRefresh:()=>{t(E=>({...E,dashboardData:{...E.dashboardData,needsRefresh:!0}}))},resetDashboardRefreshState:()=>{t(E=>({...E,dashboardData:{needsRefresh:!1,lastUpdated:new Date}}))}};return m.jsx(yA.Provider,{value:v,children:n})};function Lz({children:n,defaultTheme:e="light",storageKey:t="appState",...r}){const[i,a]=x.useState(()=>{var u;try{const h=localStorage.getItem(t);if(h){const p=JSON.parse(h);return((u=p==null?void 0:p.userPreferences)==null?void 0:u.theme)||e}}catch(h){console.error("Error reading theme from localStorage:",h)}return e});x.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),i==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(h);return}u.classList.add(i)},[i]);const l={theme:i,setTheme:u=>{try{const h=localStorage.getItem(t),p=h?JSON.parse(h):{};p.userPreferences||(p.userPreferences={theme:u,measeurementSystem:"metric",notificationsEnabled:!0}),p.userPreferences.theme=u,localStorage.setItem(t,JSON.stringify(p)),a(u)}catch(h){console.error("Error saving theme to localStorage:",h),a(u)}}};return m.jsx(gA.Provider,{...r,value:l,children:n})}const jz=()=>m.jsx(_V,{children:m.jsx(Lz,{children:m.jsx(Oz,{children:m.jsx(dk,{children:m.jsx(Mz,{})})})})});QR.createRoot(document.getElementById("root")).render(m.jsx(x.StrictMode,{children:m.jsx(jz,{})}));
