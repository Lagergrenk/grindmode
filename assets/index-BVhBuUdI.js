const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-D5S06mGL.js","assets/useNutritionEntry-D0RBBiQl.js","assets/circle-plus-B9qqM8_E.js","assets/Nutrition-IeEu_hg2.js","assets/select-CJsF-iq6.js","assets/check-y5HSpqRI.js","assets/useDebounce-Cflizi1q.js","assets/index-BoAAOY9I.js","assets/index-BCx_PDF4.js"])))=>i.map(i=>d[i]);
var mR=Object.defineProperty;var gR=(n,e,t)=>e in n?mR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var g_=(n,e,t)=>gR(n,typeof e!="symbol"?e+"":e,t);function yR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function uT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zp={exports:{}},cu={},em={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function vR(){if(y_)return ze;y_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function A(F,Y,ie){this.props=F,this.context=Y,this.refs=C,this.updater=ie||x}A.prototype.isReactComponent={},A.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=A.prototype;function B(F,Y,ie){this.props=F,this.context=Y,this.refs=C,this.updater=ie||x}var $=B.prototype=new O;$.constructor=B,b($,A.prototype),$.isPureReactComponent=!0;var K=Array.isArray,Z=Object.prototype.hasOwnProperty,ne={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function R(F,Y,ie){var fe,be={},ge=null,ve=null;if(Y!=null)for(fe in Y.ref!==void 0&&(ve=Y.ref),Y.key!==void 0&&(ge=""+Y.key),Y)Z.call(Y,fe)&&!N.hasOwnProperty(fe)&&(be[fe]=Y[fe]);var Me=arguments.length-2;if(Me===1)be.children=ie;else if(1<Me){for(var Ne=Array(Me),He=0;He<Me;He++)Ne[He]=arguments[He+2];be.children=Ne}if(F&&F.defaultProps)for(fe in Me=F.defaultProps,Me)be[fe]===void 0&&(be[fe]=Me[fe]);return{$$typeof:n,type:F,key:ge,ref:ve,props:be,_owner:ne.current}}function k(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function L(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function V(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ie){return Y[ie]})}var U=/\/+/g;function D(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):Y.toString(36)}function Pe(F,Y,ie,fe,be){var ge=typeof F;(ge==="undefined"||ge==="boolean")&&(F=null);var ve=!1;if(F===null)ve=!0;else switch(ge){case"string":case"number":ve=!0;break;case"object":switch(F.$$typeof){case n:case e:ve=!0}}if(ve)return ve=F,be=be(ve),F=fe===""?"."+D(ve,0):fe,K(be)?(ie="",F!=null&&(ie=F.replace(U,"$&/")+"/"),Pe(be,Y,ie,"",function(He){return He})):be!=null&&(L(be)&&(be=k(be,ie+(!be.key||ve&&ve.key===be.key?"":(""+be.key).replace(U,"$&/")+"/")+F)),Y.push(be)),1;if(ve=0,fe=fe===""?".":fe+":",K(F))for(var Me=0;Me<F.length;Me++){ge=F[Me];var Ne=fe+D(ge,Me);ve+=Pe(ge,Y,ie,Ne,be)}else if(Ne=E(F),typeof Ne=="function")for(F=Ne.call(F),Me=0;!(ge=F.next()).done;)ge=ge.value,Ne=fe+D(ge,Me++),ve+=Pe(ge,Y,ie,Ne,be);else if(ge==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ve}function Se(F,Y,ie){if(F==null)return F;var fe=[],be=0;return Pe(F,fe,"","",function(ge){return Y.call(ie,ge,be++)}),fe}function ce(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(ie){(F._status===0||F._status===-1)&&(F._status=1,F._result=ie)},function(ie){(F._status===0||F._status===-1)&&(F._status=2,F._result=ie)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var me={current:null},W={transition:null},J={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:W,ReactCurrentOwner:ne};function re(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Se,forEach:function(F,Y,ie){Se(F,function(){Y.apply(this,arguments)},ie)},count:function(F){var Y=0;return Se(F,function(){Y++}),Y},toArray:function(F){return Se(F,function(Y){return Y})||[]},only:function(F){if(!L(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ze.Component=A,ze.Fragment=t,ze.Profiler=s,ze.PureComponent=B,ze.StrictMode=r,ze.Suspense=h,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,ze.act=re,ze.cloneElement=function(F,Y,ie){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var fe=b({},F.props),be=F.key,ge=F.ref,ve=F._owner;if(Y!=null){if(Y.ref!==void 0&&(ge=Y.ref,ve=ne.current),Y.key!==void 0&&(be=""+Y.key),F.type&&F.type.defaultProps)var Me=F.type.defaultProps;for(Ne in Y)Z.call(Y,Ne)&&!N.hasOwnProperty(Ne)&&(fe[Ne]=Y[Ne]===void 0&&Me!==void 0?Me[Ne]:Y[Ne])}var Ne=arguments.length-2;if(Ne===1)fe.children=ie;else if(1<Ne){Me=Array(Ne);for(var He=0;He<Ne;He++)Me[He]=arguments[He+2];fe.children=Me}return{$$typeof:n,type:F.type,key:be,ref:ge,props:fe,_owner:ve}},ze.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},ze.createElement=R,ze.createFactory=function(F){var Y=R.bind(null,F);return Y.type=F,Y},ze.createRef=function(){return{current:null}},ze.forwardRef=function(F){return{$$typeof:c,render:F}},ze.isValidElement=L,ze.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ce}},ze.memo=function(F,Y){return{$$typeof:p,type:F,compare:Y===void 0?null:Y}},ze.startTransition=function(F){var Y=W.transition;W.transition={};try{F()}finally{W.transition=Y}},ze.unstable_act=re,ze.useCallback=function(F,Y){return me.current.useCallback(F,Y)},ze.useContext=function(F){return me.current.useContext(F)},ze.useDebugValue=function(){},ze.useDeferredValue=function(F){return me.current.useDeferredValue(F)},ze.useEffect=function(F,Y){return me.current.useEffect(F,Y)},ze.useId=function(){return me.current.useId()},ze.useImperativeHandle=function(F,Y,ie){return me.current.useImperativeHandle(F,Y,ie)},ze.useInsertionEffect=function(F,Y){return me.current.useInsertionEffect(F,Y)},ze.useLayoutEffect=function(F,Y){return me.current.useLayoutEffect(F,Y)},ze.useMemo=function(F,Y){return me.current.useMemo(F,Y)},ze.useReducer=function(F,Y,ie){return me.current.useReducer(F,Y,ie)},ze.useRef=function(F){return me.current.useRef(F)},ze.useState=function(F){return me.current.useState(F)},ze.useSyncExternalStore=function(F,Y,ie){return me.current.useSyncExternalStore(F,Y,ie)},ze.useTransition=function(){return me.current.useTransition()},ze.version="18.3.1",ze}var v_;function jf(){return v_||(v_=1,em.exports=vR()),em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function wR(){if(w_)return cu;w_=1;var n=jf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var y,g={},E=null,x=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(x=h.ref);for(y in h)r.call(h,y)&&!a.hasOwnProperty(y)&&(g[y]=h[y]);if(c&&c.defaultProps)for(y in h=c.defaultProps,h)g[y]===void 0&&(g[y]=h[y]);return{$$typeof:e,type:c,key:E,ref:x,props:g,_owner:s.current}}return cu.Fragment=t,cu.jsx=l,cu.jsxs=l,cu}var __;function _R(){return __||(__=1,Zp.exports=wR()),Zp.exports}var I=_R(),T=jf();const le=uT(T),cT=yR({__proto__:null,default:le},[T]);var xd={},tm={exports:{}},kn={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function ER(){return E_||(E_=1,function(n){function e(W,J){var re=W.length;W.push(J);e:for(;0<re;){var F=re-1>>>1,Y=W[F];if(0<s(Y,J))W[F]=J,W[re]=Y,re=F;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var J=W[0],re=W.pop();if(re!==J){W[0]=re;e:for(var F=0,Y=W.length,ie=Y>>>1;F<ie;){var fe=2*(F+1)-1,be=W[fe],ge=fe+1,ve=W[ge];if(0>s(be,re))ge<Y&&0>s(ve,be)?(W[F]=ve,W[ge]=re,F=ge):(W[F]=be,W[fe]=re,F=fe);else if(ge<Y&&0>s(ve,re))W[F]=ve,W[ge]=re,F=ge;else break e}}return J}function s(W,J){var re=W.sortIndex-J.sortIndex;return re!==0?re:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],p=[],y=1,g=null,E=3,x=!1,b=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(W){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=W)r(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(p)}}function K(W){if(C=!1,$(W),!b)if(t(h)!==null)b=!0,ce(Z);else{var J=t(p);J!==null&&me(K,J.startTime-W)}}function Z(W,J){b=!1,C&&(C=!1,O(R),R=-1),x=!0;var re=E;try{for($(J),g=t(h);g!==null&&(!(g.expirationTime>J)||W&&!V());){var F=g.callback;if(typeof F=="function"){g.callback=null,E=g.priorityLevel;var Y=F(g.expirationTime<=J);J=n.unstable_now(),typeof Y=="function"?g.callback=Y:g===t(h)&&r(h),$(J)}else r(h);g=t(h)}if(g!==null)var ie=!0;else{var fe=t(p);fe!==null&&me(K,fe.startTime-J),ie=!1}return ie}finally{g=null,E=re,x=!1}}var ne=!1,N=null,R=-1,k=5,L=-1;function V(){return!(n.unstable_now()-L<k)}function U(){if(N!==null){var W=n.unstable_now();L=W;var J=!0;try{J=N(!0,W)}finally{J?D():(ne=!1,N=null)}}else ne=!1}var D;if(typeof B=="function")D=function(){B(U)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Se=Pe.port2;Pe.port1.onmessage=U,D=function(){Se.postMessage(null)}}else D=function(){A(U,0)};function ce(W){N=W,ne||(ne=!0,D())}function me(W,J){R=A(function(){W(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){b||x||(b=!0,ce(Z))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var re=E;E=J;try{return W()}finally{E=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=E;E=W;try{return J()}finally{E=re}},n.unstable_scheduleCallback=function(W,J,re){var F=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?F+re:F):re=F,W){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=re+Y,W={id:y++,callback:J,priorityLevel:W,startTime:re,expirationTime:Y,sortIndex:-1},re>F?(W.sortIndex=re,e(p,W),t(h)===null&&W===t(p)&&(C?(O(R),R=-1):C=!0,me(K,re-F))):(W.sortIndex=Y,e(h,W),b||x||(b=!0,ce(Z))),W},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(W){var J=E;return function(){var re=E;E=J;try{return W.apply(this,arguments)}finally{E=re}}}}(rm)),rm}var T_;function TR(){return T_||(T_=1,nm.exports=ER()),nm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function IR(){if(I_)return kn;I_=1;var n=jf(),e=TR();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function E(i){return h.call(g,i)?!0:h.call(y,i)?!1:p.test(i)?g[i]=!0:(y[i]=!0,!1)}function x(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,u,f){if(o===null||typeof o>"u"||x(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(i,o,u,f,m,w,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=S}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new C(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,B);A[o]=new C(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,B);A[o]=new C(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,B);A[o]=new C(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,o,u,f){var m=A.hasOwnProperty(o)?A[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,m,f)&&(u=null),f||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),ne=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),W=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,F;function Y(i){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var ie=!1;function fe(i,o){if(!i||ie)return"";ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var f=Q}Reflect.construct(i,[],o)}else{try{o.call()}catch(Q){f=Q}i.call(o.prototype)}else{try{throw Error()}catch(Q){f=Q}i()}}catch(Q){if(Q&&f&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),w=f.stack.split(`
`),S=m.length-1,M=w.length-1;1<=S&&0<=M&&m[S]!==w[M];)M--;for(;1<=S&&0<=M;S--,M--)if(m[S]!==w[M]){if(S!==1||M!==1)do if(S--,M--,0>M||m[S]!==w[M]){var j=`
`+m[S].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=S&&0<=M);break}}}finally{ie=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Y(i):""}function be(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=fe(i.type,!1),i;case 11:return i=fe(i.type.render,!1),i;case 1:return i=fe(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case ne:return"Portal";case k:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case Pe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Se:return o=i.displayName||null,o!==null?o:ge(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return ge(i(o))}catch{}}return null}function ve(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function He(i){var o=Ne(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){f=""+S,w.call(this,S)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ut(i){i._valueTracker||(i._valueTracker=He(i))}function qt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Ne(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function en(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function wn(i,o){var u=o.checked;return re({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Kr(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Me(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Yr(i,o){o=o.checked,o!=null&&$(i,"checked",o,!1)}function Vn(i,o){Yr(i,o);var u=Me(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?It(i,o.type,u):o.hasOwnProperty("defaultValue")&&It(i,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function _i(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function It(i,o,u){(o!=="number"||en(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var pr=Array.isArray;function mr(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Me(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function kt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Fn(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(pr(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Me(u)}}function es(i,o){var u=Me(o.value),f=Me(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function ro(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ut(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ut(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Zn,Ei=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Zn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function dn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_n=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(i){_n.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Qr[o]=Qr[i]})});function io(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Qr.hasOwnProperty(i)&&Qr[i]?(""+o).trim():o+"px"}function so(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=io(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var ts=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ns(i,o){if(o){if(ts[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function oo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=null;function fn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rs=null,En=null,jn=null;function Ti(i){if(i=Yl(i)){if(typeof rs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=jc(o),rs(i.stateNode,i.type,o))}}function ke(i){En?jn?jn.push(i):jn=[i]:En=i}function ct(){if(En){var i=En,o=jn;if(jn=En=null,Ti(i),o)for(i=0;i<o.length;i++)Ti(o[i])}}function dt(i,o){return i(o)}function Nt(){}var Tn=!1;function gt(i,o,u){if(Tn)return i(o,u);Tn=!0;try{return dt(i,o,u)}finally{Tn=!1,(En!==null||jn!==null)&&(Nt(),ct())}}function Ge(i,o){var u=i.stateNode;if(u===null)return null;var f=jc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var yr=!1;if(c)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{yr=!1}function Dt(i,o,u,f,m,w,S,M,j){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(oe){this.onError(oe)}}var Xr=!1,In=null,er=!1,Rl=null,Ah={onError:function(i){Xr=!0,In=i}};function ea(i,o,u,f,m,w,S,M,j){Xr=!1,In=null,Dt.apply(Ah,arguments)}function cc(i,o,u,f,m,w,S,M,j){if(ea.apply(this,arguments),Xr){if(Xr){var Q=In;Xr=!1,In=null}else throw Error(t(198));er||(er=!0,Rl=Q)}}function vr(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function ao(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function wr(i){if(vr(i)!==i)throw Error(t(188))}function dc(i){var o=i.alternate;if(!o){if(o=vr(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var w=m.alternate;if(w===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===u)return wr(m),i;if(w===f)return wr(m),o;w=w.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=w;else{for(var S=!1,M=m.child;M;){if(M===u){S=!0,u=m,f=w;break}if(M===f){S=!0,f=m,u=w;break}M=M.sibling}if(!S){for(M=w.child;M;){if(M===u){S=!0,u=w,f=m;break}if(M===f){S=!0,f=w,u=m;break}M=M.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Pl(i){return i=dc(i),i!==null?ta(i):null}function ta(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ta(i);if(o!==null)return o;i=i.sibling}return null}var na=e.unstable_scheduleCallback,kl=e.unstable_cancelCallback,fc=e.unstable_shouldYield,Ch=e.unstable_requestPaint,it=e.unstable_now,hc=e.unstable_getCurrentPriorityLevel,lo=e.unstable_ImmediatePriority,is=e.unstable_UserBlockingPriority,tr=e.unstable_NormalPriority,Nl=e.unstable_LowPriority,pc=e.unstable_IdlePriority,uo=null,Un=null;function mc(i){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(uo,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:yc,Dl=Math.log,gc=Math.LN2;function yc(i){return i>>>=0,i===0?32:31-(Dl(i)/gc|0)|0}var ra=64,ia=4194304;function ss(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function co(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,w=i.pingedLanes,S=u&268435455;if(S!==0){var M=S&~m;M!==0?f=ss(M):(w&=S,w!==0&&(f=ss(w)))}else S=u&~m,S!==0?f=ss(S):w!==0&&(f=ss(w));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,w=o&-o,m>=w||m===16&&(w&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-hn(o),m=1<<u,f|=i[u],o&=~m;return f}function Rh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,w=i.pendingLanes;0<w;){var S=31-hn(w),M=1<<S,j=m[S];j===-1?((M&u)===0||(M&f)!==0)&&(m[S]=Rh(M,o)):j<=o&&(i.expiredLanes|=M),w&=~M}}function $n(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function fo(){var i=ra;return ra<<=1,(ra&4194240)===0&&(ra=64),i}function os(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function as(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-hn(o),i[o]=u}function nt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-hn(u),w=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~w}}function ls(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-hn(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var qe=0;function us(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var vc,sa,wc,_c,Ec,Ol=!1,Jr=[],Gt=null,_r=null,Er=null,cs=new Map,nr=new Map,Zr=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tc(i,o){switch(i){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":cs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(o.pointerId)}}function xn(i,o,u,f,m,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[m]},o!==null&&(o=Yl(o),o!==null&&sa(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function kh(i,o,u,f,m){switch(o){case"focusin":return Gt=xn(Gt,i,o,u,f,m),!0;case"dragenter":return _r=xn(_r,i,o,u,f,m),!0;case"mouseover":return Er=xn(Er,i,o,u,f,m),!0;case"pointerover":var w=m.pointerId;return cs.set(w,xn(cs.get(w)||null,i,o,u,f,m)),!0;case"gotpointercapture":return w=m.pointerId,nr.set(w,xn(nr.get(w)||null,i,o,u,f,m)),!0}return!1}function Ic(i){var o=yo(i.target);if(o!==null){var u=vr(o);if(u!==null){if(o=u.tag,o===13){if(o=ao(u),o!==null){i.blockedOn=o,Ec(i.priority,function(){wc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xi(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=oa(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);gr=f,u.target.dispatchEvent(f),gr=null}else return o=Yl(u),o!==null&&sa(o),i.blockedOn=u,!1;o.shift()}return!0}function ho(i,o,u){xi(i)&&u.delete(o)}function xc(){Ol=!1,Gt!==null&&xi(Gt)&&(Gt=null),_r!==null&&xi(_r)&&(_r=null),Er!==null&&xi(Er)&&(Er=null),cs.forEach(ho),nr.forEach(ho)}function Tr(i,o){i.blockedOn===o&&(i.blockedOn=null,Ol||(Ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xc)))}function Ir(i){function o(m){return Tr(m,i)}if(0<Jr.length){Tr(Jr[0],i);for(var u=1;u<Jr.length;u++){var f=Jr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Gt!==null&&Tr(Gt,i),_r!==null&&Tr(_r,i),Er!==null&&Tr(Er,i),cs.forEach(o),nr.forEach(o),u=0;u<Zr.length;u++)f=Zr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Zr.length&&(u=Zr[0],u.blockedOn===null);)Ic(u),u.blockedOn===null&&Zr.shift()}var Si=K.ReactCurrentBatchConfig,ds=!0;function ft(i,o,u,f){var m=qe,w=Si.transition;Si.transition=null;try{qe=1,Ml(i,o,u,f)}finally{qe=m,Si.transition=w}}function Nh(i,o,u,f){var m=qe,w=Si.transition;Si.transition=null;try{qe=4,Ml(i,o,u,f)}finally{qe=m,Si.transition=w}}function Ml(i,o,u,f){if(ds){var m=oa(i,o,u,f);if(m===null)Bh(i,o,f,po,u),Tc(i,f);else if(kh(m,i,o,u,f))f.stopPropagation();else if(Tc(i,f),o&4&&-1<Ph.indexOf(i)){for(;m!==null;){var w=Yl(m);if(w!==null&&vc(w),w=oa(i,o,u,f),w===null&&Bh(i,o,f,po,u),w===m)break;m=w}m!==null&&f.stopPropagation()}else Bh(i,o,f,null,u)}}var po=null;function oa(i,o,u,f){if(po=null,i=fn(f),i=yo(i),i!==null)if(o=vr(i),o===null)i=null;else if(u=o.tag,u===13){if(i=ao(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return po=i,null}function Ll(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hc()){case lo:return 1;case is:return 4;case tr:case Nl:return 16;case pc:return 536870912;default:return 16}default:return 16}}var zn=null,aa=null,Sn=null;function Vl(){if(Sn)return Sn;var i,o=aa,u=o.length,f,m="value"in zn?zn.value:zn.textContent,w=m.length;for(i=0;i<u&&o[i]===m[i];i++);var S=u-i;for(f=1;f<=S&&o[u-f]===m[w-f];f++);return Sn=m.slice(i,1<f?1-f:void 0)}function la(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ei(){return!0}function Fl(){return!1}function Kt(i){function o(u,f,m,w,S){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ei:Fl,this.isPropagationStopped=Fl,this}return re(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),o}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Kt(xr),ti=re({},xr,{view:0,detail:0}),Dh=Kt(ti),ca,bi,fs,mo=re({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ni,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fs&&(fs&&i.type==="mousemove"?(ca=i.screenX-fs.screenX,bi=i.screenY-fs.screenY):bi=ca=0,fs=i),ca)},movementY:function(i){return"movementY"in i?i.movementY:bi}}),da=Kt(mo),jl=re({},mo,{dataTransfer:0}),Sc=Kt(jl),fa=re({},ti,{relatedTarget:0}),ha=Kt(fa),bc=re({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ai=Kt(bc),Ac=re({},xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cc=Kt(Ac),Rc=re({},xr,{data:0}),Ul=Kt(Rc),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Pc[i])?!!o[i]:!1}function ni(){return kc}var d=re({},ti,{key:function(i){if(i.key){var o=pa[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=la(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ni,charCode:function(i){return i.type==="keypress"?la(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?la(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=Kt(d),_=re({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Kt(_),H=re({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ni}),X=Kt(H),de=re({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Kt(de),Ot=re({},mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=Kt(Ot),$t=[9,13,27,32],At=c&&"CompositionEvent"in window,rr=null;c&&"documentMode"in document&&(rr=document.documentMode);var Bn=c&&"TextEvent"in window&&!rr,go=c&&(!At||rr&&8<rr&&11>=rr),ma=" ",cv=!1;function dv(i,o){switch(i){case"keyup":return $t.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ga=!1;function fC(i,o){switch(i){case"compositionend":return fv(o);case"keypress":return o.which!==32?null:(cv=!0,ma);case"textInput":return i=o.data,i===ma&&cv?null:i;default:return null}}function hC(i,o){if(ga)return i==="compositionend"||!At&&dv(i,o)?(i=Vl(),Sn=aa=zn=null,ga=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return go&&o.locale!=="ko"?null:o.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!pC[i.type]:o==="textarea"}function pv(i,o,u,f){ke(f),o=Lc(o,"onChange"),0<o.length&&(u=new ua("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var $l=null,zl=null;function mC(i){Nv(i,0)}function Nc(i){var o=Ea(i);if(qt(o))return i}function gC(i,o){if(i==="change")return o}var mv=!1;if(c){var Oh;if(c){var Mh="oninput"in document;if(!Mh){var gv=document.createElement("div");gv.setAttribute("oninput","return;"),Mh=typeof gv.oninput=="function"}Oh=Mh}else Oh=!1;mv=Oh&&(!document.documentMode||9<document.documentMode)}function yv(){$l&&($l.detachEvent("onpropertychange",vv),zl=$l=null)}function vv(i){if(i.propertyName==="value"&&Nc(zl)){var o=[];pv(o,zl,i,fn(i)),gt(mC,o)}}function yC(i,o,u){i==="focusin"?(yv(),$l=o,zl=u,$l.attachEvent("onpropertychange",vv)):i==="focusout"&&yv()}function vC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nc(zl)}function wC(i,o){if(i==="click")return Nc(o)}function _C(i,o){if(i==="input"||i==="change")return Nc(o)}function EC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Sr=typeof Object.is=="function"?Object.is:EC;function Bl(i,o){if(Sr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!Sr(i[m],o[m]))return!1}return!0}function wv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _v(i,o){var u=wv(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=wv(u)}}function Ev(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ev(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Tv(){for(var i=window,o=en();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=en(i.document)}return o}function Lh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function TC(i){var o=Tv(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Ev(u.ownerDocument.documentElement,u)){if(f!==null&&Lh(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,w=Math.min(f.start,m);f=f.end===void 0?w:Math.min(f.end,m),!i.extend&&w>f&&(m=f,f=w,w=m),m=_v(u,w);var S=_v(u,f);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),w>f?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var IC=c&&"documentMode"in document&&11>=document.documentMode,ya=null,Vh=null,Wl=null,Fh=!1;function Iv(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Fh||ya==null||ya!==en(f)||(f=ya,"selectionStart"in f&&Lh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Wl&&Bl(Wl,f)||(Wl=f,f=Lc(Vh,"onSelect"),0<f.length&&(o=new ua("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=ya)))}function Dc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var va={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},jh={},xv={};c&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Oc(i){if(jh[i])return jh[i];if(!va[i])return i;var o=va[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in xv)return jh[i]=o[u];return i}var Sv=Oc("animationend"),bv=Oc("animationiteration"),Av=Oc("animationstart"),Cv=Oc("transitionend"),Rv=new Map,Pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(i,o){Rv.set(i,o),a(o,[i])}for(var Uh=0;Uh<Pv.length;Uh++){var $h=Pv[Uh],xC=$h.toLowerCase(),SC=$h[0].toUpperCase()+$h.slice(1);hs(xC,"on"+SC)}hs(Sv,"onAnimationEnd"),hs(bv,"onAnimationIteration"),hs(Av,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(Cv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function kv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,cc(f,o,void 0,i),i.currentTarget=null}function Nv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var S=f.length-1;0<=S;S--){var M=f[S],j=M.instance,Q=M.currentTarget;if(M=M.listener,j!==w&&m.isPropagationStopped())break e;kv(m,M,Q),w=j}else for(S=0;S<f.length;S++){if(M=f[S],j=M.instance,Q=M.currentTarget,M=M.listener,j!==w&&m.isPropagationStopped())break e;kv(m,M,Q),w=j}}}if(er)throw i=Rl,er=!1,Rl=null,i}function ot(i,o){var u=o[Yh];u===void 0&&(u=o[Yh]=new Set);var f=i+"__bubble";u.has(f)||(Dv(o,i,2,!1),u.add(f))}function zh(i,o,u){var f=0;o&&(f|=4),Dv(u,i,f,o)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function ql(i){if(!i[Mc]){i[Mc]=!0,r.forEach(function(u){u!=="selectionchange"&&(bC.has(u)||zh(u,!1,i),zh(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Mc]||(o[Mc]=!0,zh("selectionchange",!1,o))}}function Dv(i,o,u,f){switch(Ll(o)){case 1:var m=ft;break;case 4:m=Nh;break;default:m=Ml}u=m.bind(null,o,u,i),m=void 0,!yr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Bh(i,o,u,f,m){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(S===4)for(S=f.return;S!==null;){var j=S.tag;if((j===3||j===4)&&(j=S.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;S=S.return}for(;M!==null;){if(S=yo(M),S===null)return;if(j=S.tag,j===5||j===6){f=w=S;continue e}M=M.parentNode}}f=f.return}gt(function(){var Q=w,oe=fn(u),ae=[];e:{var se=Rv.get(i);if(se!==void 0){var he=ua,_e=i;switch(i){case"keypress":if(la(u)===0)break e;case"keydown":case"keyup":he=v;break;case"focusin":_e="focus",he=ha;break;case"focusout":_e="blur",he=ha;break;case"beforeblur":case"afterblur":he=ha;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=X;break;case Sv:case bv:case Av:he=Ai;break;case Cv:he=et;break;case"scroll":he=Dh;break;case"wheel":he=Ke;break;case"copy":case"cut":case"paste":he=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=P}var Ie=(o&4)!==0,St=!Ie&&i==="scroll",q=Ie?se!==null?se+"Capture":null:se;Ie=[];for(var z=Q,G;z!==null;){G=z;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,q!==null&&(ue=Ge(z,q),ue!=null&&Ie.push(Gl(z,ue,G)))),St)break;z=z.return}0<Ie.length&&(se=new he(se,_e,null,u,oe),ae.push({event:se,listeners:Ie}))}}if((o&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",se&&u!==gr&&(_e=u.relatedTarget||u.fromElement)&&(yo(_e)||_e[Ci]))break e;if((he||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,he?(_e=u.relatedTarget||u.toElement,he=Q,_e=_e?yo(_e):null,_e!==null&&(St=vr(_e),_e!==St||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(he=null,_e=Q),he!==_e)){if(Ie=da,ue="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=P,ue="onPointerLeave",q="onPointerEnter",z="pointer"),St=he==null?se:Ea(he),G=_e==null?se:Ea(_e),se=new Ie(ue,z+"leave",he,u,oe),se.target=St,se.relatedTarget=G,ue=null,yo(oe)===Q&&(Ie=new Ie(q,z+"enter",_e,u,oe),Ie.target=G,Ie.relatedTarget=St,ue=Ie),St=ue,he&&_e)t:{for(Ie=he,q=_e,z=0,G=Ie;G;G=wa(G))z++;for(G=0,ue=q;ue;ue=wa(ue))G++;for(;0<z-G;)Ie=wa(Ie),z--;for(;0<G-z;)q=wa(q),G--;for(;z--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=wa(Ie),q=wa(q)}Ie=null}else Ie=null;he!==null&&Ov(ae,se,he,Ie,!1),_e!==null&&St!==null&&Ov(ae,St,_e,Ie,!0)}}e:{if(se=Q?Ea(Q):window,he=se.nodeName&&se.nodeName.toLowerCase(),he==="select"||he==="input"&&se.type==="file")var xe=gC;else if(hv(se))if(mv)xe=_C;else{xe=vC;var Ce=yC}else(he=se.nodeName)&&he.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(xe=wC);if(xe&&(xe=xe(i,Q))){pv(ae,xe,u,oe);break e}Ce&&Ce(i,se,Q),i==="focusout"&&(Ce=se._wrapperState)&&Ce.controlled&&se.type==="number"&&It(se,"number",se.value)}switch(Ce=Q?Ea(Q):window,i){case"focusin":(hv(Ce)||Ce.contentEditable==="true")&&(ya=Ce,Vh=Q,Wl=null);break;case"focusout":Wl=Vh=ya=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Iv(ae,u,oe);break;case"selectionchange":if(IC)break;case"keydown":case"keyup":Iv(ae,u,oe)}var Re;if(At)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ga?dv(i,u)&&(Le="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Le="onCompositionStart");Le&&(go&&u.locale!=="ko"&&(ga||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ga&&(Re=Vl()):(zn=oe,aa="value"in zn?zn.value:zn.textContent,ga=!0)),Ce=Lc(Q,Le),0<Ce.length&&(Le=new Ul(Le,i,null,u,oe),ae.push({event:Le,listeners:Ce}),Re?Le.data=Re:(Re=fv(u),Re!==null&&(Le.data=Re)))),(Re=Bn?fC(i,u):hC(i,u))&&(Q=Lc(Q,"onBeforeInput"),0<Q.length&&(oe=new Ul("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:Q}),oe.data=Re))}Nv(ae,o)})}function Gl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Lc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=Ge(i,u),w!=null&&f.unshift(Gl(i,w,m)),w=Ge(i,o),w!=null&&f.push(Gl(i,w,m))),i=i.return}return f}function wa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ov(i,o,u,f,m){for(var w=o._reactName,S=[];u!==null&&u!==f;){var M=u,j=M.alternate,Q=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&Q!==null&&(M=Q,m?(j=Ge(u,w),j!=null&&S.unshift(Gl(u,j,M))):m||(j=Ge(u,w),j!=null&&S.push(Gl(u,j,M)))),u=u.return}S.length!==0&&i.push({event:o,listeners:S})}var AC=/\r\n?/g,CC=/\u0000|\uFFFD/g;function Mv(i){return(typeof i=="string"?i:""+i).replace(AC,`
`).replace(CC,"")}function Vc(i,o,u){if(o=Mv(o),Mv(i)!==o&&u)throw Error(t(425))}function Fc(){}var Wh=null,Hh=null;function qh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,RC=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,PC=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(i){return Lv.resolve(null).then(i).catch(kC)}:Gh;function kC(i){setTimeout(function(){throw i})}function Kh(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Ir(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Ir(o)}function ps(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Vv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var _a=Math.random().toString(36).slice(2),ri="__reactFiber$"+_a,Kl="__reactProps$"+_a,Ci="__reactContainer$"+_a,Yh="__reactEvents$"+_a,NC="__reactListeners$"+_a,DC="__reactHandles$"+_a;function yo(i){var o=i[ri];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Ci]||u[ri]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Vv(i);i!==null;){if(u=i[ri])return u;i=Vv(i)}return o}i=u,u=i.parentNode}return null}function Yl(i){return i=i[ri]||i[Ci],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ea(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function jc(i){return i[Kl]||null}var Qh=[],Ta=-1;function ms(i){return{current:i}}function at(i){0>Ta||(i.current=Qh[Ta],Qh[Ta]=null,Ta--)}function st(i,o){Ta++,Qh[Ta]=i.current,i.current=o}var gs={},tn=ms(gs),bn=ms(!1),vo=gs;function Ia(i,o){var u=i.type.contextTypes;if(!u)return gs;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in u)m[w]=o[w];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function An(i){return i=i.childContextTypes,i!=null}function Uc(){at(bn),at(tn)}function Fv(i,o,u){if(tn.current!==gs)throw Error(t(168));st(tn,o),st(bn,u)}function jv(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,ve(i)||"Unknown",m));return re({},u,f)}function $c(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gs,vo=tn.current,st(tn,i),st(bn,bn.current),!0}function Uv(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=jv(i,o,vo),f.__reactInternalMemoizedMergedChildContext=i,at(bn),at(tn),st(tn,i)):at(bn),st(bn,u)}var Ri=null,zc=!1,Xh=!1;function $v(i){Ri===null?Ri=[i]:Ri.push(i)}function OC(i){zc=!0,$v(i)}function ys(){if(!Xh&&Ri!==null){Xh=!0;var i=0,o=qe;try{var u=Ri;for(qe=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Ri=null,zc=!1}catch(m){throw Ri!==null&&(Ri=Ri.slice(i+1)),na(lo,ys),m}finally{qe=o,Xh=!1}}return null}var xa=[],Sa=0,Bc=null,Wc=0,ir=[],sr=0,wo=null,Pi=1,ki="";function _o(i,o){xa[Sa++]=Wc,xa[Sa++]=Bc,Bc=i,Wc=o}function zv(i,o,u){ir[sr++]=Pi,ir[sr++]=ki,ir[sr++]=wo,wo=i;var f=Pi;i=ki;var m=32-hn(f)-1;f&=~(1<<m),u+=1;var w=32-hn(o)+m;if(30<w){var S=m-m%5;w=(f&(1<<S)-1).toString(32),f>>=S,m-=S,Pi=1<<32-hn(o)+m|u<<m|f,ki=w+i}else Pi=1<<w|u<<m|f,ki=i}function Jh(i){i.return!==null&&(_o(i,1),zv(i,1,0))}function Zh(i){for(;i===Bc;)Bc=xa[--Sa],xa[Sa]=null,Wc=xa[--Sa],xa[Sa]=null;for(;i===wo;)wo=ir[--sr],ir[sr]=null,ki=ir[--sr],ir[sr]=null,Pi=ir[--sr],ir[sr]=null}var Wn=null,Hn=null,ht=!1,br=null;function Bv(i,o){var u=ur(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Wv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Wn=i,Hn=ps(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Wn=i,Hn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=wo!==null?{id:Pi,overflow:ki}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=ur(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Wn=i,Hn=null,!0):!1;default:return!1}}function ep(i){return(i.mode&1)!==0&&(i.flags&128)===0}function tp(i){if(ht){var o=Hn;if(o){var u=o;if(!Wv(i,o)){if(ep(i))throw Error(t(418));o=ps(u.nextSibling);var f=Wn;o&&Wv(i,o)?Bv(f,u):(i.flags=i.flags&-4097|2,ht=!1,Wn=i)}}else{if(ep(i))throw Error(t(418));i.flags=i.flags&-4097|2,ht=!1,Wn=i}}}function Hv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Wn=i}function Hc(i){if(i!==Wn)return!1;if(!ht)return Hv(i),ht=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!qh(i.type,i.memoizedProps)),o&&(o=Hn)){if(ep(i))throw qv(),Error(t(418));for(;o;)Bv(i,o),o=ps(o.nextSibling)}if(Hv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Hn=ps(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Hn=null}}else Hn=Wn?ps(i.stateNode.nextSibling):null;return!0}function qv(){for(var i=Hn;i;)i=ps(i.nextSibling)}function ba(){Hn=Wn=null,ht=!1}function np(i){br===null?br=[i]:br.push(i)}var MC=K.ReactCurrentBatchConfig;function Ql(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var m=f,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(S){var M=m.refs;S===null?delete M[w]:M[w]=S},o._stringRef=w,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function qc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Gv(i){var o=i._init;return o(i._payload)}function Kv(i){function o(q,z){if(i){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function u(q,z){if(!i)return null;for(;z!==null;)o(q,z),z=z.sibling;return null}function f(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function m(q,z){return q=Ss(q,z),q.index=0,q.sibling=null,q}function w(q,z,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=2,z):G):(q.flags|=2,z)):(q.flags|=1048576,z)}function S(q){return i&&q.alternate===null&&(q.flags|=2),q}function M(q,z,G,ue){return z===null||z.tag!==6?(z=Gp(G,q.mode,ue),z.return=q,z):(z=m(z,G),z.return=q,z)}function j(q,z,G,ue){var xe=G.type;return xe===N?oe(q,z,G.props.children,ue,G.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&Gv(xe)===z.type)?(ue=m(z,G.props),ue.ref=Ql(q,z,G),ue.return=q,ue):(ue=gd(G.type,G.key,G.props,null,q.mode,ue),ue.ref=Ql(q,z,G),ue.return=q,ue)}function Q(q,z,G,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Kp(G,q.mode,ue),z.return=q,z):(z=m(z,G.children||[]),z.return=q,z)}function oe(q,z,G,ue,xe){return z===null||z.tag!==7?(z=Co(G,q.mode,ue,xe),z.return=q,z):(z=m(z,G),z.return=q,z)}function ae(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Gp(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return G=gd(z.type,z.key,z.props,null,q.mode,G),G.ref=Ql(q,null,z),G.return=q,G;case ne:return z=Kp(z,q.mode,G),z.return=q,z;case ce:var ue=z._init;return ae(q,ue(z._payload),G)}if(pr(z)||J(z))return z=Co(z,q.mode,G,null),z.return=q,z;qc(q,z)}return null}function se(q,z,G,ue){var xe=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return xe!==null?null:M(q,z,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:return G.key===xe?j(q,z,G,ue):null;case ne:return G.key===xe?Q(q,z,G,ue):null;case ce:return xe=G._init,se(q,z,xe(G._payload),ue)}if(pr(G)||J(G))return xe!==null?null:oe(q,z,G,ue,null);qc(q,G)}return null}function he(q,z,G,ue,xe){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(G)||null,M(z,q,""+ue,xe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Z:return q=q.get(ue.key===null?G:ue.key)||null,j(z,q,ue,xe);case ne:return q=q.get(ue.key===null?G:ue.key)||null,Q(z,q,ue,xe);case ce:var Ce=ue._init;return he(q,z,G,Ce(ue._payload),xe)}if(pr(ue)||J(ue))return q=q.get(G)||null,oe(z,q,ue,xe,null);qc(z,ue)}return null}function _e(q,z,G,ue){for(var xe=null,Ce=null,Re=z,Le=z=0,Wt=null;Re!==null&&Le<G.length;Le++){Re.index>Le?(Wt=Re,Re=null):Wt=Re.sibling;var Xe=se(q,Re,G[Le],ue);if(Xe===null){Re===null&&(Re=Wt);break}i&&Re&&Xe.alternate===null&&o(q,Re),z=w(Xe,z,Le),Ce===null?xe=Xe:Ce.sibling=Xe,Ce=Xe,Re=Wt}if(Le===G.length)return u(q,Re),ht&&_o(q,Le),xe;if(Re===null){for(;Le<G.length;Le++)Re=ae(q,G[Le],ue),Re!==null&&(z=w(Re,z,Le),Ce===null?xe=Re:Ce.sibling=Re,Ce=Re);return ht&&_o(q,Le),xe}for(Re=f(q,Re);Le<G.length;Le++)Wt=he(Re,q,Le,G[Le],ue),Wt!==null&&(i&&Wt.alternate!==null&&Re.delete(Wt.key===null?Le:Wt.key),z=w(Wt,z,Le),Ce===null?xe=Wt:Ce.sibling=Wt,Ce=Wt);return i&&Re.forEach(function(bs){return o(q,bs)}),ht&&_o(q,Le),xe}function Ie(q,z,G,ue){var xe=J(G);if(typeof xe!="function")throw Error(t(150));if(G=xe.call(G),G==null)throw Error(t(151));for(var Ce=xe=null,Re=z,Le=z=0,Wt=null,Xe=G.next();Re!==null&&!Xe.done;Le++,Xe=G.next()){Re.index>Le?(Wt=Re,Re=null):Wt=Re.sibling;var bs=se(q,Re,Xe.value,ue);if(bs===null){Re===null&&(Re=Wt);break}i&&Re&&bs.alternate===null&&o(q,Re),z=w(bs,z,Le),Ce===null?xe=bs:Ce.sibling=bs,Ce=bs,Re=Wt}if(Xe.done)return u(q,Re),ht&&_o(q,Le),xe;if(Re===null){for(;!Xe.done;Le++,Xe=G.next())Xe=ae(q,Xe.value,ue),Xe!==null&&(z=w(Xe,z,Le),Ce===null?xe=Xe:Ce.sibling=Xe,Ce=Xe);return ht&&_o(q,Le),xe}for(Re=f(q,Re);!Xe.done;Le++,Xe=G.next())Xe=he(Re,q,Le,Xe.value,ue),Xe!==null&&(i&&Xe.alternate!==null&&Re.delete(Xe.key===null?Le:Xe.key),z=w(Xe,z,Le),Ce===null?xe=Xe:Ce.sibling=Xe,Ce=Xe);return i&&Re.forEach(function(pR){return o(q,pR)}),ht&&_o(q,Le),xe}function St(q,z,G,ue){if(typeof G=="object"&&G!==null&&G.type===N&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:e:{for(var xe=G.key,Ce=z;Ce!==null;){if(Ce.key===xe){if(xe=G.type,xe===N){if(Ce.tag===7){u(q,Ce.sibling),z=m(Ce,G.props.children),z.return=q,q=z;break e}}else if(Ce.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&Gv(xe)===Ce.type){u(q,Ce.sibling),z=m(Ce,G.props),z.ref=Ql(q,Ce,G),z.return=q,q=z;break e}u(q,Ce);break}else o(q,Ce);Ce=Ce.sibling}G.type===N?(z=Co(G.props.children,q.mode,ue,G.key),z.return=q,q=z):(ue=gd(G.type,G.key,G.props,null,q.mode,ue),ue.ref=Ql(q,z,G),ue.return=q,q=ue)}return S(q);case ne:e:{for(Ce=G.key;z!==null;){if(z.key===Ce)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){u(q,z.sibling),z=m(z,G.children||[]),z.return=q,q=z;break e}else{u(q,z);break}else o(q,z);z=z.sibling}z=Kp(G,q.mode,ue),z.return=q,q=z}return S(q);case ce:return Ce=G._init,St(q,z,Ce(G._payload),ue)}if(pr(G))return _e(q,z,G,ue);if(J(G))return Ie(q,z,G,ue);qc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(u(q,z.sibling),z=m(z,G),z.return=q,q=z):(u(q,z),z=Gp(G,q.mode,ue),z.return=q,q=z),S(q)):u(q,z)}return St}var Aa=Kv(!0),Yv=Kv(!1),Gc=ms(null),Kc=null,Ca=null,rp=null;function ip(){rp=Ca=Kc=null}function sp(i){var o=Gc.current;at(Gc),i._currentValue=o}function op(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Ra(i,o){Kc=i,rp=Ca=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Cn=!0),i.firstContext=null)}function or(i){var o=i._currentValue;if(rp!==i)if(i={context:i,memoizedValue:o,next:null},Ca===null){if(Kc===null)throw Error(t(308));Ca=i,Kc.dependencies={lanes:0,firstContext:i}}else Ca=Ca.next=i;return o}var Eo=null;function ap(i){Eo===null?Eo=[i]:Eo.push(i)}function Qv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,ap(o)):(u.next=m.next,m.next=u),o.interleaved=u,Ni(i,f)}function Ni(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var vs=!1;function lp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Di(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ws(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Qe&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Ni(i,u)}return m=f.interleaved,m===null?(o.next=o,ap(f)):(o.next=m.next,m.next=o),f.interleaved=o,Ni(i,u)}function Yc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,ls(i,u)}}function Jv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?m=w=S:w=w.next=S,u=u.next}while(u!==null);w===null?m=w=o:w=w.next=o}else m=w=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Qc(i,o,u,f){var m=i.updateQueue;vs=!1;var w=m.firstBaseUpdate,S=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,Q=j.next;j.next=null,S===null?w=Q:S.next=Q,S=j;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==S&&(M===null?oe.firstBaseUpdate=Q:M.next=Q,oe.lastBaseUpdate=j))}if(w!==null){var ae=m.baseState;S=0,oe=Q=j=null,M=w;do{var se=M.lane,he=M.eventTime;if((f&se)===se){oe!==null&&(oe=oe.next={eventTime:he,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var _e=i,Ie=M;switch(se=o,he=u,Ie.tag){case 1:if(_e=Ie.payload,typeof _e=="function"){ae=_e.call(he,ae,se);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ie.payload,se=typeof _e=="function"?_e.call(he,ae,se):_e,se==null)break e;ae=re({},ae,se);break e;case 2:vs=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,se=m.effects,se===null?m.effects=[M]:se.push(M))}else he={eventTime:he,lane:se,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(Q=oe=he,j=ae):oe=oe.next=he,S|=se;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;se=M,M=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(oe===null&&(j=ae),m.baseState=j,m.firstBaseUpdate=Q,m.lastBaseUpdate=oe,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else w===null&&(m.shared.lanes=0);xo|=S,i.lanes=S,i.memoizedState=ae}}function Zv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Xl={},ii=ms(Xl),Jl=ms(Xl),Zl=ms(Xl);function To(i){if(i===Xl)throw Error(t(174));return i}function up(i,o){switch(st(Zl,o),st(Jl,i),st(ii,Xl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:xt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=xt(o,i)}at(ii),st(ii,o)}function Pa(){at(ii),at(Jl),at(Zl)}function ew(i){To(Zl.current);var o=To(ii.current),u=xt(o,i.type);o!==u&&(st(Jl,i),st(ii,u))}function cp(i){Jl.current===i&&(at(ii),at(Jl))}var vt=ms(0);function Xc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var dp=[];function fp(){for(var i=0;i<dp.length;i++)dp[i]._workInProgressVersionPrimary=null;dp.length=0}var Jc=K.ReactCurrentDispatcher,hp=K.ReactCurrentBatchConfig,Io=0,wt=null,Mt=null,zt=null,Zc=!1,eu=!1,tu=0,LC=0;function nn(){throw Error(t(321))}function pp(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Sr(i[u],o[u]))return!1;return!0}function mp(i,o,u,f,m,w){if(Io=w,wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Jc.current=i===null||i.memoizedState===null?UC:$C,i=u(f,m),eu){w=0;do{if(eu=!1,tu=0,25<=w)throw Error(t(301));w+=1,zt=Mt=null,o.updateQueue=null,Jc.current=zC,i=u(f,m)}while(eu)}if(Jc.current=nd,o=Mt!==null&&Mt.next!==null,Io=0,zt=Mt=wt=null,Zc=!1,o)throw Error(t(300));return i}function gp(){var i=tu!==0;return tu=0,i}function si(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?wt.memoizedState=zt=i:zt=zt.next=i,zt}function ar(){if(Mt===null){var i=wt.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var o=zt===null?wt.memoizedState:zt.next;if(o!==null)zt=o,Mt=i;else{if(i===null)throw Error(t(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},zt===null?wt.memoizedState=zt=i:zt=zt.next=i}return zt}function nu(i,o){return typeof o=="function"?o(i):o}function yp(i){var o=ar(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=Mt,m=f.baseQueue,w=u.pending;if(w!==null){if(m!==null){var S=m.next;m.next=w.next,w.next=S}f.baseQueue=m=w,u.pending=null}if(m!==null){w=m.next,f=f.baseState;var M=S=null,j=null,Q=w;do{var oe=Q.lane;if((Io&oe)===oe)j!==null&&(j=j.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),f=Q.hasEagerState?Q.eagerState:i(f,Q.action);else{var ae={lane:oe,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};j===null?(M=j=ae,S=f):j=j.next=ae,wt.lanes|=oe,xo|=oe}Q=Q.next}while(Q!==null&&Q!==w);j===null?S=f:j.next=M,Sr(f,o.memoizedState)||(Cn=!0),o.memoizedState=f,o.baseState=S,o.baseQueue=j,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do w=m.lane,wt.lanes|=w,xo|=w,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function vp(i){var o=ar(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,w=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do w=i(w,S.action),S=S.next;while(S!==m);Sr(w,o.memoizedState)||(Cn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,f]}function tw(){}function nw(i,o){var u=wt,f=ar(),m=o(),w=!Sr(f.memoizedState,m);if(w&&(f.memoizedState=m,Cn=!0),f=f.queue,wp(sw.bind(null,u,f,i),[i]),f.getSnapshot!==o||w||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,ru(9,iw.bind(null,u,f,m,o),void 0,null),Bt===null)throw Error(t(349));(Io&30)!==0||rw(u,o,m)}return m}function rw(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=wt.updateQueue,o===null?(o={lastEffect:null,stores:null},wt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function iw(i,o,u,f){o.value=u,o.getSnapshot=f,ow(o)&&aw(i)}function sw(i,o,u){return u(function(){ow(o)&&aw(i)})}function ow(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Sr(i,u)}catch{return!0}}function aw(i){var o=Ni(i,1);o!==null&&Pr(o,i,1,-1)}function lw(i){var o=si();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:i},o.queue=i,i=i.dispatch=jC.bind(null,wt,i),[o.memoizedState,i]}function ru(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=wt.updateQueue,o===null?(o={lastEffect:null,stores:null},wt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function uw(){return ar().memoizedState}function ed(i,o,u,f){var m=si();wt.flags|=i,m.memoizedState=ru(1|o,u,void 0,f===void 0?null:f)}function td(i,o,u,f){var m=ar();f=f===void 0?null:f;var w=void 0;if(Mt!==null){var S=Mt.memoizedState;if(w=S.destroy,f!==null&&pp(f,S.deps)){m.memoizedState=ru(o,u,w,f);return}}wt.flags|=i,m.memoizedState=ru(1|o,u,w,f)}function cw(i,o){return ed(8390656,8,i,o)}function wp(i,o){return td(2048,8,i,o)}function dw(i,o){return td(4,2,i,o)}function fw(i,o){return td(4,4,i,o)}function hw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function pw(i,o,u){return u=u!=null?u.concat([i]):null,td(4,4,hw.bind(null,o,i),u)}function _p(){}function mw(i,o){var u=ar();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&pp(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function gw(i,o){var u=ar();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&pp(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function yw(i,o,u){return(Io&21)===0?(i.baseState&&(i.baseState=!1,Cn=!0),i.memoizedState=u):(Sr(u,o)||(u=fo(),wt.lanes|=u,xo|=u,i.baseState=!0),o)}function VC(i,o){var u=qe;qe=u!==0&&4>u?u:4,i(!0);var f=hp.transition;hp.transition={};try{i(!1),o()}finally{qe=u,hp.transition=f}}function vw(){return ar().memoizedState}function FC(i,o,u){var f=Is(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},ww(i))_w(o,u);else if(u=Qv(i,o,u,f),u!==null){var m=gn();Pr(u,i,f,m),Ew(u,o,f)}}function jC(i,o,u){var f=Is(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(ww(i))_w(o,m);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var S=o.lastRenderedState,M=w(S,u);if(m.hasEagerState=!0,m.eagerState=M,Sr(M,S)){var j=o.interleaved;j===null?(m.next=m,ap(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=Qv(i,o,m,f),u!==null&&(m=gn(),Pr(u,i,f,m),Ew(u,o,f))}}function ww(i){var o=i.alternate;return i===wt||o!==null&&o===wt}function _w(i,o){eu=Zc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Ew(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,ls(i,u)}}var nd={readContext:or,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},UC={readContext:or,useCallback:function(i,o){return si().memoizedState=[i,o===void 0?null:o],i},useContext:or,useEffect:cw,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,ed(4194308,4,hw.bind(null,o,i),u)},useLayoutEffect:function(i,o){return ed(4194308,4,i,o)},useInsertionEffect:function(i,o){return ed(4,2,i,o)},useMemo:function(i,o){var u=si();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=si();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=FC.bind(null,wt,i),[f.memoizedState,i]},useRef:function(i){var o=si();return i={current:i},o.memoizedState=i},useState:lw,useDebugValue:_p,useDeferredValue:function(i){return si().memoizedState=i},useTransition:function(){var i=lw(!1),o=i[0];return i=VC.bind(null,i[1]),si().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=wt,m=si();if(ht){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Bt===null)throw Error(t(349));(Io&30)!==0||rw(f,o,u)}m.memoizedState=u;var w={value:u,getSnapshot:o};return m.queue=w,cw(sw.bind(null,f,w,i),[i]),f.flags|=2048,ru(9,iw.bind(null,f,w,u,o),void 0,null),u},useId:function(){var i=si(),o=Bt.identifierPrefix;if(ht){var u=ki,f=Pi;u=(f&~(1<<32-hn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=tu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=LC++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},$C={readContext:or,useCallback:mw,useContext:or,useEffect:wp,useImperativeHandle:pw,useInsertionEffect:dw,useLayoutEffect:fw,useMemo:gw,useReducer:yp,useRef:uw,useState:function(){return yp(nu)},useDebugValue:_p,useDeferredValue:function(i){var o=ar();return yw(o,Mt.memoizedState,i)},useTransition:function(){var i=yp(nu)[0],o=ar().memoizedState;return[i,o]},useMutableSource:tw,useSyncExternalStore:nw,useId:vw,unstable_isNewReconciler:!1},zC={readContext:or,useCallback:mw,useContext:or,useEffect:wp,useImperativeHandle:pw,useInsertionEffect:dw,useLayoutEffect:fw,useMemo:gw,useReducer:vp,useRef:uw,useState:function(){return vp(nu)},useDebugValue:_p,useDeferredValue:function(i){var o=ar();return Mt===null?o.memoizedState=i:yw(o,Mt.memoizedState,i)},useTransition:function(){var i=vp(nu)[0],o=ar().memoizedState;return[i,o]},useMutableSource:tw,useSyncExternalStore:nw,useId:vw,unstable_isNewReconciler:!1};function Ar(i,o){if(i&&i.defaultProps){o=re({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Ep(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:re({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var rd={isMounted:function(i){return(i=i._reactInternals)?vr(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=gn(),m=Is(i),w=Di(f,m);w.payload=o,u!=null&&(w.callback=u),o=ws(i,w,m),o!==null&&(Pr(o,i,m,f),Yc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=gn(),m=Is(i),w=Di(f,m);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=ws(i,w,m),o!==null&&(Pr(o,i,m,f),Yc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=gn(),f=Is(i),m=Di(u,f);m.tag=2,o!=null&&(m.callback=o),o=ws(i,m,f),o!==null&&(Pr(o,i,f,u),Yc(o,i,f))}};function Tw(i,o,u,f,m,w,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,w,S):o.prototype&&o.prototype.isPureReactComponent?!Bl(u,f)||!Bl(m,w):!0}function Iw(i,o,u){var f=!1,m=gs,w=o.contextType;return typeof w=="object"&&w!==null?w=or(w):(m=An(o)?vo:tn.current,f=o.contextTypes,w=(f=f!=null)?Ia(i,m):gs),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=rd,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=w),o}function xw(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&rd.enqueueReplaceState(o,o.state,null)}function Tp(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},lp(i);var w=o.contextType;typeof w=="object"&&w!==null?m.context=or(w):(w=An(o)?vo:tn.current,m.context=Ia(i,w)),m.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Ep(i,o,w,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&rd.enqueueReplaceState(m,m.state,null),Qc(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ka(i,o){try{var u="",f=o;do u+=be(f),f=f.return;while(f);var m=u}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:m,digest:null}}function Ip(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function xp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var BC=typeof WeakMap=="function"?WeakMap:Map;function Sw(i,o,u){u=Di(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){cd||(cd=!0,jp=f),xp(i,o)},u}function bw(i,o,u){u=Di(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){xp(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){xp(i,o),typeof f!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function Aw(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new BC;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=rR.bind(null,i,o,u),o.then(i,i))}function Cw(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Rw(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Di(-1,1),o.tag=2,ws(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var WC=K.ReactCurrentOwner,Cn=!1;function mn(i,o,u,f){o.child=i===null?Yv(o,null,u,f):Aa(o,i.child,u,f)}function Pw(i,o,u,f,m){u=u.render;var w=o.ref;return Ra(o,m),f=mp(i,o,u,f,w,m),u=gp(),i!==null&&!Cn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Oi(i,o,m)):(ht&&u&&Jh(o),o.flags|=1,mn(i,o,f,m),o.child)}function kw(i,o,u,f,m){if(i===null){var w=u.type;return typeof w=="function"&&!qp(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,Nw(i,o,w,f,m)):(i=gd(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&m)===0){var S=w.memoizedProps;if(u=u.compare,u=u!==null?u:Bl,u(S,f)&&i.ref===o.ref)return Oi(i,o,m)}return o.flags|=1,i=Ss(w,f),i.ref=o.ref,i.return=o,o.child=i}function Nw(i,o,u,f,m){if(i!==null){var w=i.memoizedProps;if(Bl(w,f)&&i.ref===o.ref)if(Cn=!1,o.pendingProps=f=w,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Cn=!0);else return o.lanes=i.lanes,Oi(i,o,m)}return Sp(i,o,u,f,m)}function Dw(i,o,u){var f=o.pendingProps,m=f.children,w=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Da,qn),qn|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,st(Da,qn),qn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:u,st(Da,qn),qn|=f}else w!==null?(f=w.baseLanes|u,o.memoizedState=null):f=u,st(Da,qn),qn|=f;return mn(i,o,m,u),o.child}function Ow(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Sp(i,o,u,f,m){var w=An(u)?vo:tn.current;return w=Ia(o,w),Ra(o,m),u=mp(i,o,u,f,w,m),f=gp(),i!==null&&!Cn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Oi(i,o,m)):(ht&&f&&Jh(o),o.flags|=1,mn(i,o,u,m),o.child)}function Mw(i,o,u,f,m){if(An(u)){var w=!0;$c(o)}else w=!1;if(Ra(o,m),o.stateNode===null)sd(i,o),Iw(o,u,f),Tp(o,u,f,m),f=!0;else if(i===null){var S=o.stateNode,M=o.memoizedProps;S.props=M;var j=S.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=or(Q):(Q=An(u)?vo:tn.current,Q=Ia(o,Q));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==f||j!==Q)&&xw(o,S,f,Q),vs=!1;var se=o.memoizedState;S.state=se,Qc(o,f,S,m),j=o.memoizedState,M!==f||se!==j||bn.current||vs?(typeof oe=="function"&&(Ep(o,u,oe,f),j=o.memoizedState),(M=vs||Tw(o,u,M,f,se,j,Q))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),S.props=f,S.state=j,S.context=Q,f=M):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{S=o.stateNode,Xv(i,o),M=o.memoizedProps,Q=o.type===o.elementType?M:Ar(o.type,M),S.props=Q,ae=o.pendingProps,se=S.context,j=u.contextType,typeof j=="object"&&j!==null?j=or(j):(j=An(u)?vo:tn.current,j=Ia(o,j));var he=u.getDerivedStateFromProps;(oe=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ae||se!==j)&&xw(o,S,f,j),vs=!1,se=o.memoizedState,S.state=se,Qc(o,f,S,m);var _e=o.memoizedState;M!==ae||se!==_e||bn.current||vs?(typeof he=="function"&&(Ep(o,u,he,f),_e=o.memoizedState),(Q=vs||Tw(o,u,Q,f,se,_e,j)||!1)?(oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,_e,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,_e,j)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=_e),S.props=f,S.state=_e,S.context=j,f=Q):(typeof S.componentDidUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),f=!1)}return bp(i,o,u,f,w,m)}function bp(i,o,u,f,m,w){Ow(i,o);var S=(o.flags&128)!==0;if(!f&&!S)return m&&Uv(o,u,!1),Oi(i,o,w);f=o.stateNode,WC.current=o;var M=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&S?(o.child=Aa(o,i.child,null,w),o.child=Aa(o,null,M,w)):mn(i,o,M,w),o.memoizedState=f.state,m&&Uv(o,u,!0),o.child}function Lw(i){var o=i.stateNode;o.pendingContext?Fv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Fv(i,o.context,!1),up(i,o.containerInfo)}function Vw(i,o,u,f,m){return ba(),np(m),o.flags|=256,mn(i,o,u,f),o.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Cp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Fw(i,o,u){var f=o.pendingProps,m=vt.current,w=!1,S=(o.flags&128)!==0,M;if((M=S)||(M=i!==null&&i.memoizedState===null?!1:(m&2)!==0),M?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),st(vt,m&1),i===null)return tp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=f.children,i=f.fallback,w?(f=o.mode,w=o.child,S={mode:"hidden",children:S},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=S):w=yd(S,f,0,null),i=Co(i,f,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=Cp(u),o.memoizedState=Ap,i):Rp(o,S));if(m=i.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return HC(i,o,S,f,M,m,u);if(w){w=f.fallback,S=o.mode,m=i.child,M=m.sibling;var j={mode:"hidden",children:f.children};return(S&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=Ss(m,j),f.subtreeFlags=m.subtreeFlags&14680064),M!==null?w=Ss(M,w):(w=Co(w,S,u,null),w.flags|=2),w.return=o,f.return=o,f.sibling=w,o.child=f,f=w,w=o.child,S=i.child.memoizedState,S=S===null?Cp(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},w.memoizedState=S,w.childLanes=i.childLanes&~u,o.memoizedState=Ap,f}return w=i.child,i=w.sibling,f=Ss(w,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Rp(i,o){return o=yd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function id(i,o,u,f){return f!==null&&np(f),Aa(o,i.child,null,u),i=Rp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function HC(i,o,u,f,m,w,S){if(u)return o.flags&256?(o.flags&=-257,f=Ip(Error(t(422))),id(i,o,S,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=f.fallback,m=o.mode,f=yd({mode:"visible",children:f.children},m,0,null),w=Co(w,m,S,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,(o.mode&1)!==0&&Aa(o,i.child,null,S),o.child.memoizedState=Cp(S),o.memoizedState=Ap,w);if((o.mode&1)===0)return id(i,o,S,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var M=f.dgst;return f=M,w=Error(t(419)),f=Ip(w,f,void 0),id(i,o,S,f)}if(M=(S&i.childLanes)!==0,Cn||M){if(f=Bt,f!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|S))!==0?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,Ni(i,m),Pr(f,i,m,-1))}return Hp(),f=Ip(Error(t(421))),id(i,o,S,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=iR.bind(null,i),m._reactRetry=o,null):(i=w.treeContext,Hn=ps(m.nextSibling),Wn=o,ht=!0,br=null,i!==null&&(ir[sr++]=Pi,ir[sr++]=ki,ir[sr++]=wo,Pi=i.id,ki=i.overflow,wo=o),o=Rp(o,f.children),o.flags|=4096,o)}function jw(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),op(i.return,o,u)}function Pp(i,o,u,f,m){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=m)}function Uw(i,o,u){var f=o.pendingProps,m=f.revealOrder,w=f.tail;if(mn(i,o,f.children,u),f=vt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jw(i,u,o);else if(i.tag===19)jw(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(st(vt,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Xc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Pp(o,!1,m,u,w);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Xc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Pp(o,!0,u,null,w);break;case"together":Pp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function sd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Oi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xo|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Ss(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ss(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function qC(i,o,u){switch(o.tag){case 3:Lw(o),ba();break;case 5:ew(o);break;case 1:An(o.type)&&$c(o);break;case 4:up(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;st(Gc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(st(vt,vt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Fw(i,o,u):(st(vt,vt.current&1),i=Oi(i,o,u),i!==null?i.sibling:null);st(vt,vt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return Uw(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),st(vt,vt.current),f)break;return null;case 22:case 23:return o.lanes=0,Dw(i,o,u)}return Oi(i,o,u)}var $w,kp,zw,Bw;$w=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},kp=function(){},zw=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,To(ii.current);var w=null;switch(u){case"input":m=wn(i,m),f=wn(i,f),w=[];break;case"select":m=re({},m,{value:void 0}),f=re({},f,{value:void 0}),w=[];break;case"textarea":m=kt(i,m),f=kt(i,f),w=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Fc)}ns(u,f);var S;u=null;for(Q in m)if(!f.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var M=m[Q];for(S in M)M.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?w||(w=[]):(w=w||[]).push(Q,null));for(Q in f){var j=f[Q];if(M=m!=null?m[Q]:void 0,f.hasOwnProperty(Q)&&j!==M&&(j!=null||M!=null))if(Q==="style")if(M){for(S in M)!M.hasOwnProperty(S)||j&&j.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in j)j.hasOwnProperty(S)&&M[S]!==j[S]&&(u||(u={}),u[S]=j[S])}else u||(w||(w=[]),w.push(Q,u)),u=j;else Q==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(w=w||[]).push(Q,j)):Q==="children"?typeof j!="string"&&typeof j!="number"||(w=w||[]).push(Q,""+j):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(j!=null&&Q==="onScroll"&&ot("scroll",i),w||M===j||(w=[])):(w=w||[]).push(Q,j))}u&&(w=w||[]).push("style",u);var Q=w;(o.updateQueue=Q)&&(o.flags|=4)}},Bw=function(i,o,u,f){u!==f&&(o.flags|=4)};function iu(i,o){if(!ht)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function rn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function GC(i,o,u){var f=o.pendingProps;switch(Zh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(o),null;case 1:return An(o.type)&&Uc(),rn(o),null;case 3:return f=o.stateNode,Pa(),at(bn),at(tn),fp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Hc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,br!==null&&(zp(br),br=null))),kp(i,o),rn(o),null;case 5:cp(o);var m=To(Zl.current);if(u=o.type,i!==null&&o.stateNode!=null)zw(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return rn(o),null}if(i=To(ii.current),Hc(o)){f=o.stateNode,u=o.type;var w=o.memoizedProps;switch(f[ri]=o,f[Kl]=w,i=(o.mode&1)!==0,u){case"dialog":ot("cancel",f),ot("close",f);break;case"iframe":case"object":case"embed":ot("load",f);break;case"video":case"audio":for(m=0;m<Hl.length;m++)ot(Hl[m],f);break;case"source":ot("error",f);break;case"img":case"image":case"link":ot("error",f),ot("load",f);break;case"details":ot("toggle",f);break;case"input":Kr(f,w),ot("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},ot("invalid",f);break;case"textarea":Fn(f,w),ot("invalid",f)}ns(u,w),m=null;for(var S in w)if(w.hasOwnProperty(S)){var M=w[S];S==="children"?typeof M=="string"?f.textContent!==M&&(w.suppressHydrationWarning!==!0&&Vc(f.textContent,M,i),m=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&Vc(f.textContent,M,i),m=["children",""+M]):s.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&ot("scroll",f)}switch(u){case"input":Ut(f),_i(f,w,!0);break;case"textarea":Ut(f),ro(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=Fc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ut(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=S.createElement(u,{is:f.is}):(i=S.createElement(u),u==="select"&&(S=i,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):i=S.createElementNS(i,u),i[ri]=o,i[Kl]=f,$w(i,o,!1,!1),o.stateNode=i;e:{switch(S=oo(u,f),u){case"dialog":ot("cancel",i),ot("close",i),m=f;break;case"iframe":case"object":case"embed":ot("load",i),m=f;break;case"video":case"audio":for(m=0;m<Hl.length;m++)ot(Hl[m],i);m=f;break;case"source":ot("error",i),m=f;break;case"img":case"image":case"link":ot("error",i),ot("load",i),m=f;break;case"details":ot("toggle",i),m=f;break;case"input":Kr(i,f),m=wn(i,f),ot("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=re({},f,{value:void 0}),ot("invalid",i);break;case"textarea":Fn(i,f),m=kt(i,f),ot("invalid",i);break;default:m=f}ns(u,m),M=m;for(w in M)if(M.hasOwnProperty(w)){var j=M[w];w==="style"?so(i,j):w==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ei(i,j)):w==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&dn(i,j):typeof j=="number"&&dn(i,""+j):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?j!=null&&w==="onScroll"&&ot("scroll",i):j!=null&&$(i,w,j,S))}switch(u){case"input":Ut(i),_i(i,f,!1);break;case"textarea":Ut(i),ro(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Me(f.value));break;case"select":i.multiple=!!f.multiple,w=f.value,w!=null?mr(i,!!f.multiple,w,!1):f.defaultValue!=null&&mr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Fc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return rn(o),null;case 6:if(i&&o.stateNode!=null)Bw(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=To(Zl.current),To(ii.current),Hc(o)){if(f=o.stateNode,u=o.memoizedProps,f[ri]=o,(w=f.nodeValue!==u)&&(i=Wn,i!==null))switch(i.tag){case 3:Vc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Vc(f.nodeValue,u,(i.mode&1)!==0)}w&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[ri]=o,o.stateNode=f}return rn(o),null;case 13:if(at(vt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ht&&Hn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)qv(),ba(),o.flags|=98560,w=!1;else if(w=Hc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[ri]=o}else ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;rn(o),w=!1}else br!==null&&(zp(br),br=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(vt.current&1)!==0?Lt===0&&(Lt=3):Hp())),o.updateQueue!==null&&(o.flags|=4),rn(o),null);case 4:return Pa(),kp(i,o),i===null&&ql(o.stateNode.containerInfo),rn(o),null;case 10:return sp(o.type._context),rn(o),null;case 17:return An(o.type)&&Uc(),rn(o),null;case 19:if(at(vt),w=o.memoizedState,w===null)return rn(o),null;if(f=(o.flags&128)!==0,S=w.rendering,S===null)if(f)iu(w,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=Xc(i),S!==null){for(o.flags|=128,iu(w,!1),f=S.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)w=u,i=f,w.flags&=14680066,S=w.alternate,S===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=S.childLanes,w.lanes=S.lanes,w.child=S.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=S.memoizedProps,w.memoizedState=S.memoizedState,w.updateQueue=S.updateQueue,w.type=S.type,i=S.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return st(vt,vt.current&1|2),o.child}i=i.sibling}w.tail!==null&&it()>Oa&&(o.flags|=128,f=!0,iu(w,!1),o.lanes=4194304)}else{if(!f)if(i=Xc(S),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),iu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!ht)return rn(o),null}else 2*it()-w.renderingStartTime>Oa&&u!==1073741824&&(o.flags|=128,f=!0,iu(w,!1),o.lanes=4194304);w.isBackwards?(S.sibling=o.child,o.child=S):(u=w.last,u!==null?u.sibling=S:o.child=S,w.last=S)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=it(),o.sibling=null,u=vt.current,st(vt,f?u&1|2:u&1),o):(rn(o),null);case 22:case 23:return Wp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(qn&1073741824)!==0&&(rn(o),o.subtreeFlags&6&&(o.flags|=8192)):rn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function KC(i,o){switch(Zh(o),o.tag){case 1:return An(o.type)&&Uc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Pa(),at(bn),at(tn),fp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return cp(o),null;case 13:if(at(vt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ba()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return at(vt),null;case 4:return Pa(),null;case 10:return sp(o.type._context),null;case 22:case 23:return Wp(),null;case 24:return null;default:return null}}var od=!1,sn=!1,YC=typeof WeakSet=="function"?WeakSet:Set,we=null;function Na(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Et(i,o,f)}else u.current=null}function Np(i,o,u){try{u()}catch(f){Et(i,o,f)}}var Ww=!1;function QC(i,o){if(Wh=ds,i=Tv(),Lh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var S=0,M=-1,j=-1,Q=0,oe=0,ae=i,se=null;t:for(;;){for(var he;ae!==u||m!==0&&ae.nodeType!==3||(M=S+m),ae!==w||f!==0&&ae.nodeType!==3||(j=S+f),ae.nodeType===3&&(S+=ae.nodeValue.length),(he=ae.firstChild)!==null;)se=ae,ae=he;for(;;){if(ae===i)break t;if(se===u&&++Q===m&&(M=S),se===w&&++oe===f&&(j=S),(he=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=he}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Hh={focusedElem:i,selectionRange:u},ds=!1,we=o;we!==null;)if(o=we,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,we=i;else for(;we!==null;){o=we;try{var _e=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Ie=_e.memoizedProps,St=_e.memoizedState,q=o.stateNode,z=q.getSnapshotBeforeUpdate(o.elementType===o.type?Ie:Ar(o.type,Ie),St);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){Et(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,we=i;break}we=o.return}return _e=Ww,Ww=!1,_e}function su(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var w=m.destroy;m.destroy=void 0,w!==void 0&&Np(o,u,w)}m=m.next}while(m!==f)}}function ad(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Dp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Hw(i){var o=i.alternate;o!==null&&(i.alternate=null,Hw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ri],delete o[Kl],delete o[Yh],delete o[NC],delete o[DC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function qw(i){return i.tag===5||i.tag===3||i.tag===4}function Gw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Op(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Fc));else if(f!==4&&(i=i.child,i!==null))for(Op(i,o,u),i=i.sibling;i!==null;)Op(i,o,u),i=i.sibling}function Mp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Mp(i,o,u),i=i.sibling;i!==null;)Mp(i,o,u),i=i.sibling}var Yt=null,Cr=!1;function _s(i,o,u){for(u=u.child;u!==null;)Kw(i,o,u),u=u.sibling}function Kw(i,o,u){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(uo,u)}catch{}switch(u.tag){case 5:sn||Na(u,o);case 6:var f=Yt,m=Cr;Yt=null,_s(i,o,u),Yt=f,Cr=m,Yt!==null&&(Cr?(i=Yt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Yt.removeChild(u.stateNode));break;case 18:Yt!==null&&(Cr?(i=Yt,u=u.stateNode,i.nodeType===8?Kh(i.parentNode,u):i.nodeType===1&&Kh(i,u),Ir(i)):Kh(Yt,u.stateNode));break;case 4:f=Yt,m=Cr,Yt=u.stateNode.containerInfo,Cr=!0,_s(i,o,u),Yt=f,Cr=m;break;case 0:case 11:case 14:case 15:if(!sn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var w=m,S=w.destroy;w=w.tag,S!==void 0&&((w&2)!==0||(w&4)!==0)&&Np(u,o,S),m=m.next}while(m!==f)}_s(i,o,u);break;case 1:if(!sn&&(Na(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(M){Et(u,o,M)}_s(i,o,u);break;case 21:_s(i,o,u);break;case 22:u.mode&1?(sn=(f=sn)||u.memoizedState!==null,_s(i,o,u),sn=f):_s(i,o,u);break;default:_s(i,o,u)}}function Yw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new YC),o.forEach(function(f){var m=sR.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function Rr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var w=i,S=o,M=S;e:for(;M!==null;){switch(M.tag){case 5:Yt=M.stateNode,Cr=!1;break e;case 3:Yt=M.stateNode.containerInfo,Cr=!0;break e;case 4:Yt=M.stateNode.containerInfo,Cr=!0;break e}M=M.return}if(Yt===null)throw Error(t(160));Kw(w,S,m),Yt=null,Cr=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(Q){Et(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Qw(o,i),o=o.sibling}function Qw(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Rr(o,i),oi(i),f&4){try{su(3,i,i.return),ad(3,i)}catch(Ie){Et(i,i.return,Ie)}try{su(5,i,i.return)}catch(Ie){Et(i,i.return,Ie)}}break;case 1:Rr(o,i),oi(i),f&512&&u!==null&&Na(u,u.return);break;case 5:if(Rr(o,i),oi(i),f&512&&u!==null&&Na(u,u.return),i.flags&32){var m=i.stateNode;try{dn(m,"")}catch(Ie){Et(i,i.return,Ie)}}if(f&4&&(m=i.stateNode,m!=null)){var w=i.memoizedProps,S=u!==null?u.memoizedProps:w,M=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&Yr(m,w),oo(M,S);var Q=oo(M,w);for(S=0;S<j.length;S+=2){var oe=j[S],ae=j[S+1];oe==="style"?so(m,ae):oe==="dangerouslySetInnerHTML"?Ei(m,ae):oe==="children"?dn(m,ae):$(m,oe,ae,Q)}switch(M){case"input":Vn(m,w);break;case"textarea":es(m,w);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var he=w.value;he!=null?mr(m,!!w.multiple,he,!1):se!==!!w.multiple&&(w.defaultValue!=null?mr(m,!!w.multiple,w.defaultValue,!0):mr(m,!!w.multiple,w.multiple?[]:"",!1))}m[Kl]=w}catch(Ie){Et(i,i.return,Ie)}}break;case 6:if(Rr(o,i),oi(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,w=i.memoizedProps;try{m.nodeValue=w}catch(Ie){Et(i,i.return,Ie)}}break;case 3:if(Rr(o,i),oi(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ir(o.containerInfo)}catch(Ie){Et(i,i.return,Ie)}break;case 4:Rr(o,i),oi(i);break;case 13:Rr(o,i),oi(i),m=i.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(Fp=it())),f&4&&Yw(i);break;case 22:if(oe=u!==null&&u.memoizedState!==null,i.mode&1?(sn=(Q=sn)||oe,Rr(o,i),sn=Q):Rr(o,i),oi(i),f&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!oe&&(i.mode&1)!==0)for(we=i,oe=i.child;oe!==null;){for(ae=we=oe;we!==null;){switch(se=we,he=se.child,se.tag){case 0:case 11:case 14:case 15:su(4,se,se.return);break;case 1:Na(se,se.return);var _e=se.stateNode;if(typeof _e.componentWillUnmount=="function"){f=se,u=se.return;try{o=f,_e.props=o.memoizedProps,_e.state=o.memoizedState,_e.componentWillUnmount()}catch(Ie){Et(f,u,Ie)}}break;case 5:Na(se,se.return);break;case 22:if(se.memoizedState!==null){Zw(ae);continue}}he!==null?(he.return=se,we=he):Zw(ae)}oe=oe.sibling}e:for(oe=null,ae=i;;){if(ae.tag===5){if(oe===null){oe=ae;try{m=ae.stateNode,Q?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=ae.stateNode,j=ae.memoizedProps.style,S=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=io("display",S))}catch(Ie){Et(i,i.return,Ie)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Q?"":ae.memoizedProps}catch(Ie){Et(i,i.return,Ie)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Rr(o,i),oi(i),f&4&&Yw(i);break;case 21:break;default:Rr(o,i),oi(i)}}function oi(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(qw(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(dn(m,""),f.flags&=-33);var w=Gw(i);Mp(i,w,m);break;case 3:case 4:var S=f.stateNode.containerInfo,M=Gw(i);Op(i,M,S);break;default:throw Error(t(161))}}catch(j){Et(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function XC(i,o,u){we=i,Xw(i)}function Xw(i,o,u){for(var f=(i.mode&1)!==0;we!==null;){var m=we,w=m.child;if(m.tag===22&&f){var S=m.memoizedState!==null||od;if(!S){var M=m.alternate,j=M!==null&&M.memoizedState!==null||sn;M=od;var Q=sn;if(od=S,(sn=j)&&!Q)for(we=m;we!==null;)S=we,j=S.child,S.tag===22&&S.memoizedState!==null?e_(m):j!==null?(j.return=S,we=j):e_(m);for(;w!==null;)we=w,Xw(w),w=w.sibling;we=m,od=M,sn=Q}Jw(i)}else(m.subtreeFlags&8772)!==0&&w!==null?(w.return=m,we=w):Jw(i)}}function Jw(i){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:sn||ad(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!sn)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Ar(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Zv(o,w,f);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Zv(o,S,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var oe=Q.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Ir(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||o.flags&512&&Dp(o)}catch(se){Et(o,o.return,se)}}if(o===i){we=null;break}if(u=o.sibling,u!==null){u.return=o.return,we=u;break}we=o.return}}function Zw(i){for(;we!==null;){var o=we;if(o===i){we=null;break}var u=o.sibling;if(u!==null){u.return=o.return,we=u;break}we=o.return}}function e_(i){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{ad(4,o)}catch(j){Et(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(j){Et(o,m,j)}}var w=o.return;try{Dp(o)}catch(j){Et(o,w,j)}break;case 5:var S=o.return;try{Dp(o)}catch(j){Et(o,S,j)}}}catch(j){Et(o,o.return,j)}if(o===i){we=null;break}var M=o.sibling;if(M!==null){M.return=o.return,we=M;break}we=o.return}}var JC=Math.ceil,ld=K.ReactCurrentDispatcher,Lp=K.ReactCurrentOwner,lr=K.ReactCurrentBatchConfig,Qe=0,Bt=null,Ct=null,Qt=0,qn=0,Da=ms(0),Lt=0,ou=null,xo=0,ud=0,Vp=0,au=null,Rn=null,Fp=0,Oa=1/0,Mi=null,cd=!1,jp=null,Es=null,dd=!1,Ts=null,fd=0,lu=0,Up=null,hd=-1,pd=0;function gn(){return(Qe&6)!==0?it():hd!==-1?hd:hd=it()}function Is(i){return(i.mode&1)===0?1:(Qe&2)!==0&&Qt!==0?Qt&-Qt:MC.transition!==null?(pd===0&&(pd=fo()),pd):(i=qe,i!==0||(i=window.event,i=i===void 0?16:Ll(i.type)),i)}function Pr(i,o,u,f){if(50<lu)throw lu=0,Up=null,Error(t(185));as(i,u,f),((Qe&2)===0||i!==Bt)&&(i===Bt&&((Qe&2)===0&&(ud|=u),Lt===4&&xs(i,Qt)),Pn(i,f),u===1&&Qe===0&&(o.mode&1)===0&&(Oa=it()+500,zc&&ys()))}function Pn(i,o){var u=i.callbackNode;Ii(i,o);var f=co(i,i===Bt?Qt:0);if(f===0)u!==null&&kl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&kl(u),o===1)i.tag===0?OC(n_.bind(null,i)):$v(n_.bind(null,i)),PC(function(){(Qe&6)===0&&ys()}),u=null;else{switch(us(f)){case 1:u=lo;break;case 4:u=is;break;case 16:u=tr;break;case 536870912:u=pc;break;default:u=tr}u=c_(u,t_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function t_(i,o){if(hd=-1,pd=0,(Qe&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Ma()&&i.callbackNode!==u)return null;var f=co(i,i===Bt?Qt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=md(i,f);else{o=f;var m=Qe;Qe|=2;var w=i_();(Bt!==i||Qt!==o)&&(Mi=null,Oa=it()+500,bo(i,o));do try{tR();break}catch(M){r_(i,M)}while(!0);ip(),ld.current=w,Qe=m,Ct!==null?o=0:(Bt=null,Qt=0,o=Lt)}if(o!==0){if(o===2&&(m=$n(i),m!==0&&(f=m,o=$p(i,m))),o===1)throw u=ou,bo(i,0),xs(i,f),Pn(i,it()),u;if(o===6)xs(i,f);else{if(m=i.current.alternate,(f&30)===0&&!ZC(m)&&(o=md(i,f),o===2&&(w=$n(i),w!==0&&(f=w,o=$p(i,w))),o===1))throw u=ou,bo(i,0),xs(i,f),Pn(i,it()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Ao(i,Rn,Mi);break;case 3:if(xs(i,f),(f&130023424)===f&&(o=Fp+500-it(),10<o)){if(co(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){gn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Gh(Ao.bind(null,i,Rn,Mi),o);break}Ao(i,Rn,Mi);break;case 4:if(xs(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var S=31-hn(f);w=1<<S,S=o[S],S>m&&(m=S),f&=~w}if(f=m,f=it()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*JC(f/1960))-f,10<f){i.timeoutHandle=Gh(Ao.bind(null,i,Rn,Mi),f);break}Ao(i,Rn,Mi);break;case 5:Ao(i,Rn,Mi);break;default:throw Error(t(329))}}}return Pn(i,it()),i.callbackNode===u?t_.bind(null,i):null}function $p(i,o){var u=au;return i.current.memoizedState.isDehydrated&&(bo(i,o).flags|=256),i=md(i,o),i!==2&&(o=Rn,Rn=u,o!==null&&zp(o)),i}function zp(i){Rn===null?Rn=i:Rn.push.apply(Rn,i)}function ZC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],w=m.getSnapshot;m=m.value;try{if(!Sr(w(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function xs(i,o){for(o&=~Vp,o&=~ud,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-hn(o),f=1<<u;i[u]=-1,o&=~f}}function n_(i){if((Qe&6)!==0)throw Error(t(327));Ma();var o=co(i,0);if((o&1)===0)return Pn(i,it()),null;var u=md(i,o);if(i.tag!==0&&u===2){var f=$n(i);f!==0&&(o=f,u=$p(i,f))}if(u===1)throw u=ou,bo(i,0),xs(i,o),Pn(i,it()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ao(i,Rn,Mi),Pn(i,it()),null}function Bp(i,o){var u=Qe;Qe|=1;try{return i(o)}finally{Qe=u,Qe===0&&(Oa=it()+500,zc&&ys())}}function So(i){Ts!==null&&Ts.tag===0&&(Qe&6)===0&&Ma();var o=Qe;Qe|=1;var u=lr.transition,f=qe;try{if(lr.transition=null,qe=1,i)return i()}finally{qe=f,lr.transition=u,Qe=o,(Qe&6)===0&&ys()}}function Wp(){qn=Da.current,at(Da)}function bo(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,RC(u)),Ct!==null)for(u=Ct.return;u!==null;){var f=u;switch(Zh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Uc();break;case 3:Pa(),at(bn),at(tn),fp();break;case 5:cp(f);break;case 4:Pa();break;case 13:at(vt);break;case 19:at(vt);break;case 10:sp(f.type._context);break;case 22:case 23:Wp()}u=u.return}if(Bt=i,Ct=i=Ss(i.current,null),Qt=qn=o,Lt=0,ou=null,Vp=ud=xo=0,Rn=au=null,Eo!==null){for(o=0;o<Eo.length;o++)if(u=Eo[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,w=u.pending;if(w!==null){var S=w.next;w.next=m,f.next=S}u.pending=f}Eo=null}return i}function r_(i,o){do{var u=Ct;try{if(ip(),Jc.current=nd,Zc){for(var f=wt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Zc=!1}if(Io=0,zt=Mt=wt=null,eu=!1,tu=0,Lp.current=null,u===null||u.return===null){Lt=1,ou=o,Ct=null;break}e:{var w=i,S=u.return,M=u,j=o;if(o=Qt,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Q=j,oe=M,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var he=Cw(S);if(he!==null){he.flags&=-257,Rw(he,S,M,w,o),he.mode&1&&Aw(w,Q,o),o=he,j=Q;var _e=o.updateQueue;if(_e===null){var Ie=new Set;Ie.add(j),o.updateQueue=Ie}else _e.add(j);break e}else{if((o&1)===0){Aw(w,Q,o),Hp();break e}j=Error(t(426))}}else if(ht&&M.mode&1){var St=Cw(S);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Rw(St,S,M,w,o),np(ka(j,M));break e}}w=j=ka(j,M),Lt!==4&&(Lt=2),au===null?au=[w]:au.push(w),w=S;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var q=Sw(w,j,o);Jv(w,q);break e;case 1:M=j;var z=w.type,G=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Es===null||!Es.has(G)))){w.flags|=65536,o&=-o,w.lanes|=o;var ue=bw(w,M,o);Jv(w,ue);break e}}w=w.return}while(w!==null)}o_(u)}catch(xe){o=xe,Ct===u&&u!==null&&(Ct=u=u.return);continue}break}while(!0)}function i_(){var i=ld.current;return ld.current=nd,i===null?nd:i}function Hp(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Bt===null||(xo&268435455)===0&&(ud&268435455)===0||xs(Bt,Qt)}function md(i,o){var u=Qe;Qe|=2;var f=i_();(Bt!==i||Qt!==o)&&(Mi=null,bo(i,o));do try{eR();break}catch(m){r_(i,m)}while(!0);if(ip(),Qe=u,ld.current=f,Ct!==null)throw Error(t(261));return Bt=null,Qt=0,Lt}function eR(){for(;Ct!==null;)s_(Ct)}function tR(){for(;Ct!==null&&!fc();)s_(Ct)}function s_(i){var o=u_(i.alternate,i,qn);i.memoizedProps=i.pendingProps,o===null?o_(i):Ct=o,Lp.current=null}function o_(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=GC(u,o,qn),u!==null){Ct=u;return}}else{if(u=KC(u,o),u!==null){u.flags&=32767,Ct=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Lt=6,Ct=null;return}}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=i}while(o!==null);Lt===0&&(Lt=5)}function Ao(i,o,u){var f=qe,m=lr.transition;try{lr.transition=null,qe=1,nR(i,o,u,f)}finally{lr.transition=m,qe=f}return null}function nR(i,o,u,f){do Ma();while(Ts!==null);if((Qe&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(nt(i,w),i===Bt&&(Ct=Bt=null,Qt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||dd||(dd=!0,c_(tr,function(){return Ma(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=lr.transition,lr.transition=null;var S=qe;qe=1;var M=Qe;Qe|=4,Lp.current=null,QC(i,u),Qw(u,i),TC(Hh),ds=!!Wh,Hh=Wh=null,i.current=u,XC(u),Ch(),Qe=M,qe=S,lr.transition=w}else i.current=u;if(dd&&(dd=!1,Ts=i,fd=m),w=i.pendingLanes,w===0&&(Es=null),mc(u.stateNode),Pn(i,it()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(cd)throw cd=!1,i=jp,jp=null,i;return(fd&1)!==0&&i.tag!==0&&Ma(),w=i.pendingLanes,(w&1)!==0?i===Up?lu++:(lu=0,Up=i):lu=0,ys(),null}function Ma(){if(Ts!==null){var i=us(fd),o=lr.transition,u=qe;try{if(lr.transition=null,qe=16>i?16:i,Ts===null)var f=!1;else{if(i=Ts,Ts=null,fd=0,(Qe&6)!==0)throw Error(t(331));var m=Qe;for(Qe|=4,we=i.current;we!==null;){var w=we,S=w.child;if((we.flags&16)!==0){var M=w.deletions;if(M!==null){for(var j=0;j<M.length;j++){var Q=M[j];for(we=Q;we!==null;){var oe=we;switch(oe.tag){case 0:case 11:case 15:su(8,oe,w)}var ae=oe.child;if(ae!==null)ae.return=oe,we=ae;else for(;we!==null;){oe=we;var se=oe.sibling,he=oe.return;if(Hw(oe),oe===Q){we=null;break}if(se!==null){se.return=he,we=se;break}we=he}}}var _e=w.alternate;if(_e!==null){var Ie=_e.child;if(Ie!==null){_e.child=null;do{var St=Ie.sibling;Ie.sibling=null,Ie=St}while(Ie!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&S!==null)S.return=w,we=S;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:su(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,we=q;break e}we=w.return}}var z=i.current;for(we=z;we!==null;){S=we;var G=S.child;if((S.subtreeFlags&2064)!==0&&G!==null)G.return=S,we=G;else e:for(S=z;we!==null;){if(M=we,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:ad(9,M)}}catch(xe){Et(M,M.return,xe)}if(M===S){we=null;break e}var ue=M.sibling;if(ue!==null){ue.return=M.return,we=ue;break e}we=M.return}}if(Qe=m,ys(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(uo,i)}catch{}f=!0}return f}finally{qe=u,lr.transition=o}}return!1}function a_(i,o,u){o=ka(u,o),o=Sw(i,o,1),i=ws(i,o,1),o=gn(),i!==null&&(as(i,1,o),Pn(i,o))}function Et(i,o,u){if(i.tag===3)a_(i,i,u);else for(;o!==null;){if(o.tag===3){a_(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Es===null||!Es.has(f))){i=ka(u,i),i=bw(o,i,1),o=ws(o,i,1),i=gn(),o!==null&&(as(o,1,i),Pn(o,i));break}}o=o.return}}function rR(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=gn(),i.pingedLanes|=i.suspendedLanes&u,Bt===i&&(Qt&u)===u&&(Lt===4||Lt===3&&(Qt&130023424)===Qt&&500>it()-Fp?bo(i,0):Vp|=u),Pn(i,o)}function l_(i,o){o===0&&((i.mode&1)===0?o=1:(o=ia,ia<<=1,(ia&130023424)===0&&(ia=4194304)));var u=gn();i=Ni(i,o),i!==null&&(as(i,o,u),Pn(i,u))}function iR(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),l_(i,u)}function sR(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),l_(i,u)}var u_;u_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||bn.current)Cn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Cn=!1,qC(i,o,u);Cn=(i.flags&131072)!==0}else Cn=!1,ht&&(o.flags&1048576)!==0&&zv(o,Wc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;sd(i,o),i=o.pendingProps;var m=Ia(o,tn.current);Ra(o,u),m=mp(null,o,f,i,m,u);var w=gp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,An(f)?(w=!0,$c(o)):w=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,lp(o),m.updater=rd,o.stateNode=m,m._reactInternals=o,Tp(o,f,i,u),o=bp(null,o,f,!0,w,u)):(o.tag=0,ht&&w&&Jh(o),mn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(sd(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=aR(f),i=Ar(f,i),m){case 0:o=Sp(null,o,f,i,u);break e;case 1:o=Mw(null,o,f,i,u);break e;case 11:o=Pw(null,o,f,i,u);break e;case 14:o=kw(null,o,f,Ar(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Ar(f,m),Sp(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Ar(f,m),Mw(i,o,f,m,u);case 3:e:{if(Lw(o),i===null)throw Error(t(387));f=o.pendingProps,w=o.memoizedState,m=w.element,Xv(i,o),Qc(o,f,null,u);var S=o.memoizedState;if(f=S.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){m=ka(Error(t(423)),o),o=Vw(i,o,f,u,m);break e}else if(f!==m){m=ka(Error(t(424)),o),o=Vw(i,o,f,u,m);break e}else for(Hn=ps(o.stateNode.containerInfo.firstChild),Wn=o,ht=!0,br=null,u=Yv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ba(),f===m){o=Oi(i,o,u);break e}mn(i,o,f,u)}o=o.child}return o;case 5:return ew(o),i===null&&tp(o),f=o.type,m=o.pendingProps,w=i!==null?i.memoizedProps:null,S=m.children,qh(f,m)?S=null:w!==null&&qh(f,w)&&(o.flags|=32),Ow(i,o),mn(i,o,S,u),o.child;case 6:return i===null&&tp(o),null;case 13:return Fw(i,o,u);case 4:return up(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Aa(o,null,f,u):mn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Ar(f,m),Pw(i,o,f,m,u);case 7:return mn(i,o,o.pendingProps,u),o.child;case 8:return mn(i,o,o.pendingProps.children,u),o.child;case 12:return mn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,w=o.memoizedProps,S=m.value,st(Gc,f._currentValue),f._currentValue=S,w!==null)if(Sr(w.value,S)){if(w.children===m.children&&!bn.current){o=Oi(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var M=w.dependencies;if(M!==null){S=w.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(w.tag===1){j=Di(-1,u&-u),j.tag=2;var Q=w.updateQueue;if(Q!==null){Q=Q.shared;var oe=Q.pending;oe===null?j.next=j:(j.next=oe.next,oe.next=j),Q.pending=j}}w.lanes|=u,j=w.alternate,j!==null&&(j.lanes|=u),op(w.return,u,o),M.lanes|=u;break}j=j.next}}else if(w.tag===10)S=w.type===o.type?null:w.child;else if(w.tag===18){if(S=w.return,S===null)throw Error(t(341));S.lanes|=u,M=S.alternate,M!==null&&(M.lanes|=u),op(S,u,o),S=w.sibling}else S=w.child;if(S!==null)S.return=w;else for(S=w;S!==null;){if(S===o){S=null;break}if(w=S.sibling,w!==null){w.return=S.return,S=w;break}S=S.return}w=S}mn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Ra(o,u),m=or(m),f=f(m),o.flags|=1,mn(i,o,f,u),o.child;case 14:return f=o.type,m=Ar(f,o.pendingProps),m=Ar(f.type,m),kw(i,o,f,m,u);case 15:return Nw(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Ar(f,m),sd(i,o),o.tag=1,An(f)?(i=!0,$c(o)):i=!1,Ra(o,u),Iw(o,f,m),Tp(o,f,m,u),bp(null,o,f,!0,i,u);case 19:return Uw(i,o,u);case 22:return Dw(i,o,u)}throw Error(t(156,o.tag))};function c_(i,o){return na(i,o)}function oR(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(i,o,u,f){return new oR(i,o,u,f)}function qp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function aR(i){if(typeof i=="function")return qp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===Se)return 14}return 2}function Ss(i,o){var u=i.alternate;return u===null?(u=ur(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function gd(i,o,u,f,m,w){var S=2;if(f=i,typeof i=="function")qp(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case N:return Co(u.children,m,w,o);case R:S=8,m|=8;break;case k:return i=ur(12,u,o,m|2),i.elementType=k,i.lanes=w,i;case D:return i=ur(13,u,o,m),i.elementType=D,i.lanes=w,i;case Pe:return i=ur(19,u,o,m),i.elementType=Pe,i.lanes=w,i;case me:return yd(u,m,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:S=10;break e;case V:S=9;break e;case U:S=11;break e;case Se:S=14;break e;case ce:S=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=ur(S,u,o,m),o.elementType=i,o.type=f,o.lanes=w,o}function Co(i,o,u,f){return i=ur(7,i,f,o),i.lanes=u,i}function yd(i,o,u,f){return i=ur(22,i,f,o),i.elementType=me,i.lanes=u,i.stateNode={isHidden:!1},i}function Gp(i,o,u){return i=ur(6,i,null,o),i.lanes=u,i}function Kp(i,o,u){return o=ur(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function lR(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Yp(i,o,u,f,m,w,S,M,j){return i=new lR(i,o,u,M,j),o===1?(o=1,w===!0&&(o|=8)):o=0,w=ur(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},lp(w),i}function uR(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function d_(i){if(!i)return gs;i=i._reactInternals;e:{if(vr(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(An(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(An(u))return jv(i,u,o)}return o}function f_(i,o,u,f,m,w,S,M,j){return i=Yp(u,f,!0,i,m,w,S,M,j),i.context=d_(null),u=i.current,f=gn(),m=Is(u),w=Di(f,m),w.callback=o??null,ws(u,w,m),i.current.lanes=m,as(i,m,f),Pn(i,f),i}function vd(i,o,u,f){var m=o.current,w=gn(),S=Is(m);return u=d_(u),o.context===null?o.context=u:o.pendingContext=u,o=Di(w,S),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=ws(m,o,S),i!==null&&(Pr(i,m,S,w),Yc(i,m,S)),S}function wd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function h_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Qp(i,o){h_(i,o),(i=i.alternate)&&h_(i,o)}function cR(){return null}var p_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Xp(i){this._internalRoot=i}_d.prototype.render=Xp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));vd(i,o,null,null)},_d.prototype.unmount=Xp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;So(function(){vd(null,i,null,null)}),o[Ci]=null}};function _d(i){this._internalRoot=i}_d.prototype.unstable_scheduleHydration=function(i){if(i){var o=_c();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Zr.length&&o!==0&&o<Zr[u].priority;u++);Zr.splice(u,0,i),u===0&&Ic(i)}};function Jp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ed(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function m_(){}function dR(i,o,u,f,m){if(m){if(typeof f=="function"){var w=f;f=function(){var Q=wd(S);w.call(Q)}}var S=f_(o,f,i,0,null,!1,!1,"",m_);return i._reactRootContainer=S,i[Ci]=S.current,ql(i.nodeType===8?i.parentNode:i),So(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var M=f;f=function(){var Q=wd(j);M.call(Q)}}var j=Yp(i,0,!1,null,null,!1,!1,"",m_);return i._reactRootContainer=j,i[Ci]=j.current,ql(i.nodeType===8?i.parentNode:i),So(function(){vd(o,j,u,f)}),j}function Td(i,o,u,f,m){var w=u._reactRootContainer;if(w){var S=w;if(typeof m=="function"){var M=m;m=function(){var j=wd(S);M.call(j)}}vd(o,S,i,m)}else S=dR(u,o,i,m,f);return wd(S)}vc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=ss(o.pendingLanes);u!==0&&(ls(o,u|1),Pn(o,it()),(Qe&6)===0&&(Oa=it()+500,ys()))}break;case 13:So(function(){var f=Ni(i,1);if(f!==null){var m=gn();Pr(f,i,1,m)}}),Qp(i,1)}},sa=function(i){if(i.tag===13){var o=Ni(i,134217728);if(o!==null){var u=gn();Pr(o,i,134217728,u)}Qp(i,134217728)}},wc=function(i){if(i.tag===13){var o=Is(i),u=Ni(i,o);if(u!==null){var f=gn();Pr(u,i,o,f)}Qp(i,o)}},_c=function(){return qe},Ec=function(i,o){var u=qe;try{return qe=i,o()}finally{qe=u}},rs=function(i,o,u){switch(o){case"input":if(Vn(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=jc(f);if(!m)throw Error(t(90));qt(f),Vn(f,m)}}}break;case"textarea":es(i,u);break;case"select":o=u.value,o!=null&&mr(i,!!u.multiple,o,!1)}},dt=Bp,Nt=So;var fR={usingClientEntryPoint:!1,Events:[Yl,Ea,jc,ke,ct,Bp]},uu={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hR={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Pl(i),i===null?null:i.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||cR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{uo=Id.inject(hR),Un=Id}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR,kn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(o))throw Error(t(200));return uR(i,o,null,u)},kn.createRoot=function(i,o){if(!Jp(i))throw Error(t(299));var u=!1,f="",m=p_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Yp(i,1,!1,null,null,u,!1,f,m),i[Ci]=o.current,ql(i.nodeType===8?i.parentNode:i),new Xp(o)},kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Pl(o),i=i===null?null:i.stateNode,i},kn.flushSync=function(i){return So(i)},kn.hydrate=function(i,o,u){if(!Ed(o))throw Error(t(200));return Td(null,i,o,!0,u)},kn.hydrateRoot=function(i,o,u){if(!Jp(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,w="",S=p_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=f_(o,null,i,1,u??null,m,!1,w,S),i[Ci]=o.current,ql(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new _d(o)},kn.render=function(i,o,u){if(!Ed(o))throw Error(t(200));return Td(null,i,o,!1,u)},kn.unmountComponentAtNode=function(i){if(!Ed(i))throw Error(t(40));return i._reactRootContainer?(So(function(){Td(null,null,i,!1,function(){i._reactRootContainer=null,i[Ci]=null})}),!0):!1},kn.unstable_batchedUpdates=Bp,kn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Ed(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Td(i,o,u,!1,f)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var x_;function dT(){if(x_)return tm.exports;x_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tm.exports=IR(),tm.exports}var S_;function xR(){if(S_)return xd;S_=1;var n=dT();return xd.createRoot=n.createRoot,xd.hydrateRoot=n.hydrateRoot,xd}var SR=xR();const bR={isAuthenticated:!1,isLoading:!0,user:null,error:null,login:async()=>{},loginWithGoogle:async()=>{},signup:async()=>{},logout:async()=>{},updateProfile:async()=>{},deleteProfile:async()=>{}},fT=T.createContext(bR),AR=()=>{};var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},CR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,y=a>>2,g=(a&3)<<4|c>>4;let E=(c&15)<<2|p>>6,x=p&63;h||(x=64,l||(E=64)),r.push(t[y],t[g],t[E],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const g=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||p==null||g==null)throw new RR;const E=a<<2|c>>4;if(r.push(E),p!==64){const x=c<<4&240|p>>2;if(r.push(x),g!==64){const b=p<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(n){const e=hT(n);return pT.encodeByteArray(e,!0)},lf=function(n){return PR(n).replace(/\./g,"")},mT=function(n){try{return pT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=()=>kR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof b_>"u")return;const n=b_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mT(n[1]);return e&&JSON.parse(e)},Uf=()=>{try{return AR()||NR()||DR()||OR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gT=n=>{var e,t;return(t=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},MR=n=>{const e=gT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yT=()=>{var n;return(n=Uf())===null||n===void 0?void 0:n.config},vT=n=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lf(JSON.stringify(t)),lf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function jR(){var n;const e=(n=Uf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BR(){return!jR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function ET(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function WR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="FirebaseError";class Br extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=HR,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?qR(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Br(s,c,r)}}function qR(n,e){return n.replace(GR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GR=/\{\$([^}]+)}/g;function KR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $s(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(A_(a)&&A_(l)){if(!$s(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function A_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function yu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function YR(n,e){const t=new QR(n,e);return t.subscribe.bind(t)}class QR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XR(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=im),s.error===void 0&&(s.error=im),s.complete===void 0&&(s.complete=im);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1e3,ZR=2,eP=4*60*60*1e3,tP=.5;function C_(n,e=JR,t=ZR){const r=e*Math.pow(t,n),s=Math.round(tP*r*(Math.random()-.5)*2);return Math.min(eP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n){return n&&n._delegate?n._delegate:n}class Mr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new LR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iP(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rP(n){return n===Po?void 0:n}function iP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const oP={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},aP=Be.INFO,lP={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},uP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=lP[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $f{constructor(e){this.name=e,this._logLevel=aP,this._logHandler=uP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const cP=(n,e)=>e.some(t=>n instanceof t);let R_,P_;function dP(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fP(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Fm=new WeakMap,IT=new WeakMap,sm=new WeakMap,xg=new WeakMap;function hP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ls(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&TT.set(t,n)}).catch(()=>{}),xg.set(e,n),e}function pP(n){if(Fm.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Fm.set(n,e)}let jm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mP(n){jm=n(jm)}function gP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(om(this),e,...t);return IT.set(r,e.sort?e.sort():[e]),Ls(r)}:fP().includes(n)?function(...e){return n.apply(om(this),e),Ls(TT.get(this))}:function(...e){return Ls(n.apply(om(this),e))}}function yP(n){return typeof n=="function"?gP(n):(n instanceof IDBTransaction&&pP(n),cP(n,dP())?new Proxy(n,jm):n)}function Ls(n){if(n instanceof IDBRequest)return hP(n);if(sm.has(n))return sm.get(n);const e=yP(n);return e!==n&&(sm.set(n,e),xg.set(e,n)),e}const om=n=>xg.get(n);function xT(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=Ls(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ls(l.result),h.oldVersion,h.newVersion,Ls(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const vP=["get","getKey","getAll","getAllKeys","count"],wP=["put","add","delete","clear"],am=new Map;function k_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=wP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vP.includes(t)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),s&&h.done]))[0]};return am.set(e,a),a}mP(n=>({...n,get:(e,t,r)=>k_(e,t)||n.get(e,t,r),has:(e,t)=>!!k_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function EP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",N_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new $f("@firebase/app"),TP="@firebase/app-compat",IP="@firebase/analytics-compat",xP="@firebase/analytics",SP="@firebase/app-check-compat",bP="@firebase/app-check",AP="@firebase/auth",CP="@firebase/auth-compat",RP="@firebase/database",PP="@firebase/data-connect",kP="@firebase/database-compat",NP="@firebase/functions",DP="@firebase/functions-compat",OP="@firebase/installations",MP="@firebase/installations-compat",LP="@firebase/messaging",VP="@firebase/messaging-compat",FP="@firebase/performance",jP="@firebase/performance-compat",UP="@firebase/remote-config",$P="@firebase/remote-config-compat",zP="@firebase/storage",BP="@firebase/storage-compat",WP="@firebase/firestore",HP="@firebase/vertexai",qP="@firebase/firestore-compat",GP="firebase",KP="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",YP={[Um]:"fire-core",[TP]:"fire-core-compat",[xP]:"fire-analytics",[IP]:"fire-analytics-compat",[bP]:"fire-app-check",[SP]:"fire-app-check-compat",[AP]:"fire-auth",[CP]:"fire-auth-compat",[RP]:"fire-rtdb",[PP]:"fire-data-connect",[kP]:"fire-rtdb-compat",[NP]:"fire-fn",[DP]:"fire-fn-compat",[OP]:"fire-iid",[MP]:"fire-iid-compat",[LP]:"fire-fcm",[VP]:"fire-fcm-compat",[FP]:"fire-perf",[jP]:"fire-perf-compat",[UP]:"fire-rc",[$P]:"fire-rc-compat",[zP]:"fire-gcs",[BP]:"fire-gcs-compat",[WP]:"fire-fst",[qP]:"fire-fst-compat",[HP]:"fire-vertex","fire-js":"fire-js",[GP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,QP=new Map,zm=new Map;function D_(n,e){try{n.container.addComponent(e)}catch(t){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pi(n){const e=n.name;if(zm.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,n);for(const t of uf.values())D_(t,n);for(const t of QP.values())D_(t,n);return!0}function Ko(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new Go("app","Firebase",XP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=KP;function ST(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$m,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Vs.create("bad-app-name",{appName:String(s)});if(t||(t=yT()),!t)throw Vs.create("no-options");const a=uf.get(s);if(a){if($s(t,a.options)&&$s(r,a.config))return a;throw Vs.create("duplicate-app",{appName:s})}const l=new sP(s);for(const h of zm.values())l.addComponent(h);const c=new JP(t,r,l);return uf.set(s,c),c}function Sg(n=$m){const e=uf.get(n);if(!e&&n===$m&&yT())return ST();if(!e)throw Vs.create("no-app",{appName:n});return e}function cr(n,e,t){var r;let s=(r=YP[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(c.join(" "));return}pi(new Mr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebase-heartbeat-database",e1=1,ku="firebase-heartbeat-store";let lm=null;function bT(){return lm||(lm=xT(ZP,e1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ku)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vs.create("idb-open",{originalErrorMessage:n.message})})),lm}async function t1(n){try{const t=(await bT()).transaction(ku),r=await t.objectStore(ku).get(AT(n));return await t.done,r}catch(e){if(e instanceof Br)Wi.warn(e.message);else{const t=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(t.message)}}}async function O_(n,e){try{const r=(await bT()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,AT(n)),await r.done}catch(t){if(t instanceof Br)Wi.warn(t.message);else{const r=Vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(r.message)}}}function AT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=1024,r1=30;class i1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new o1(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=M_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>r1){const l=a1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M_(),{heartbeatsToSend:r,unsentEntries:s}=s1(this._heartbeatsCache.heartbeats),a=lf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Wi.warn(t),""}}}function M_(){return new Date().toISOString().substring(0,10)}function s1(n,e=n1){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),L_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),L_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class o1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?ET().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await t1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return O_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return O_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function L_(n){return lf(JSON.stringify({version:2,heartbeats:n})).length}function a1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n){pi(new Mr("platform-logger",e=>new _P(e),"PRIVATE")),pi(new Mr("heartbeat",e=>new i1(e),"PRIVATE")),cr(Um,N_,n),cr(Um,N_,"esm2017"),cr("fire-js","")}l1("");const CT="@firebase/installations",bg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=1e4,PT=`w:${bg}`,kT="FIS_v2",u1="https://firebaseinstallations.googleapis.com/v1",c1=60*60*1e3,d1="installations",f1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Mo=new Go(d1,f1,h1);function NT(n){return n instanceof Br&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT({projectId:n}){return`${u1}/projects/${n}/installations`}function OT(n){return{token:n.token,requestStatus:2,expiresIn:m1(n.expiresIn),creationTime:Date.now()}}async function MT(n,e){const r=(await e.json()).error;return Mo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function LT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function p1(n,{refreshToken:e}){const t=LT(n);return t.append("Authorization",g1(e)),t}async function VT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function m1(n){return Number(n.replace("s","000"))}function g1(n){return`${kT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=DT(n),s=LT(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:t,authVersion:kT,appId:n.appId,sdkVersion:PT},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await VT(()=>fetch(r,c));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:OT(p.authToken)}}else throw await MT("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=/^[cdef][\w-]{21}$/,Bm="";function _1(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=E1(n);return w1.test(t)?t:Bm}catch{return Bm}}function E1(n){return v1(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;function UT(n,e){const t=zf(n);$T(t,e),T1(t,e)}function $T(n,e){const t=jT.get(n);if(t)for(const r of t)r(e)}function T1(n,e){const t=I1();t&&t.postMessage({key:n,fid:e}),x1()}let No=null;function I1(){return!No&&"BroadcastChannel"in self&&(No=new BroadcastChannel("[Firebase] FID Change"),No.onmessage=n=>{$T(n.data.key,n.data.fid)}),No}function x1(){jT.size===0&&No&&(No.close(),No=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firebase-installations-database",b1=1,Lo="firebase-installations-store";let um=null;function Ag(){return um||(um=xT(S1,b1,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Lo)}}})),um}async function cf(n,e){const t=zf(n),s=(await Ag()).transaction(Lo,"readwrite"),a=s.objectStore(Lo),l=await a.get(t);return await a.put(e,t),await s.done,(!l||l.fid!==e.fid)&&UT(n,e.fid),e}async function zT(n){const e=zf(n),r=(await Ag()).transaction(Lo,"readwrite");await r.objectStore(Lo).delete(e),await r.done}async function Bf(n,e){const t=zf(n),s=(await Ag()).transaction(Lo,"readwrite"),a=s.objectStore(Lo),l=await a.get(t),c=e(l);return c===void 0?await a.delete(t):await a.put(c,t),await s.done,c&&(!l||l.fid!==c.fid)&&UT(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(n){let e;const t=await Bf(n.appConfig,r=>{const s=A1(r),a=C1(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===Bm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function A1(n){const e=n||{fid:_1(),registrationStatus:0};return BT(e)}function C1(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Mo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=R1(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:P1(n)}:{installationEntry:e}}async function R1(n,e){try{const t=await y1(n,e);return cf(n.appConfig,t)}catch(t){throw NT(t)&&t.customData.serverCode===409?await zT(n.appConfig):await cf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function P1(n){let e=await V_(n.appConfig);for(;e.registrationStatus===1;)await FT(100),e=await V_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Cg(n);return r||t}return e}function V_(n){return Bf(n,e=>{if(!e)throw Mo.create("installation-not-found");return BT(e)})}function BT(n){return k1(n)?{fid:n.fid,registrationStatus:0}:n}function k1(n){return n.registrationStatus===1&&n.registrationTime+RT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1({appConfig:n,heartbeatServiceProvider:e},t){const r=D1(n,t),s=p1(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:PT,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await VT(()=>fetch(r,c));if(h.ok){const p=await h.json();return OT(p)}else throw await MT("Generate Auth Token",h)}function D1(n,{fid:e}){return`${DT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(n,e=!1){let t;const r=await Bf(n.appConfig,a=>{if(!WT(a))throw Mo.create("not-registered");const l=a.authToken;if(!e&&L1(l))return a;if(l.requestStatus===1)return t=O1(n,e),a;{if(!navigator.onLine)throw Mo.create("app-offline");const c=F1(a);return t=M1(n,c),c}});return t?await t:r.authToken}async function O1(n,e){let t=await F_(n.appConfig);for(;t.authToken.requestStatus===1;)await FT(100),t=await F_(n.appConfig);const r=t.authToken;return r.requestStatus===0?Rg(n,e):r}function F_(n){return Bf(n,e=>{if(!WT(e))throw Mo.create("not-registered");const t=e.authToken;return j1(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function M1(n,e){try{const t=await N1(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await cf(n.appConfig,r),t}catch(t){if(NT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await zT(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await cf(n.appConfig,r)}throw t}}function WT(n){return n!==void 0&&n.registrationStatus===2}function L1(n){return n.requestStatus===2&&!V1(n)}function V1(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+c1}function F1(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function j1(n){return n.requestStatus===1&&n.requestTime+RT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(n){const e=n,{installationEntry:t,registrationPromise:r}=await Cg(e);return r?r.catch(console.error):Rg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(n,e=!1){const t=n;return await z1(t),(await Rg(t,e)).token}async function z1(n){const{registrationPromise:e}=await Cg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){if(!n||!n.options)throw cm("App Configuration");if(!n.name)throw cm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw cm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function cm(n){return Mo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="installations",W1="installations-internal",H1=n=>{const e=n.getProvider("app").getImmediate(),t=B1(e),r=Ko(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},q1=n=>{const e=n.getProvider("app").getImmediate(),t=Ko(e,HT).getImmediate();return{getId:()=>U1(t),getToken:s=>$1(t,s)}};function G1(){pi(new Mr(HT,H1,"PUBLIC")),pi(new Mr(W1,q1,"PRIVATE"))}G1();cr(CT,bg);cr(CT,bg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="analytics",K1="firebase_id",Y1="origin",Q1=60*1e3,X1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new $f("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new Go("analytics","Analytics",J1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(n){if(!n.startsWith(Pg)){const e=Xn.create("invalid-gtag-resource",{gtagURL:n});return Ln.warn(e.message),""}return n}function qT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ek(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function tk(n,e){const t=ek("firebase-js-sdk-policy",{createScriptURL:Z1}),r=document.createElement("script"),s=`${Pg}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function nk(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function rk(n,e,t,r,s,a){const l=r[s];try{if(l)await e[l];else{const h=(await qT(t)).find(p=>p.measurementId===s);h&&await e[h.appId]}}catch(c){Ln.error(c)}n("config",s,a)}async function ik(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await qT(t);for(const h of l){const p=c.find(g=>g.measurementId===h),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){Ln.error(a)}}function sk(n,e,t,r){async function s(a,...l){try{if(a==="event"){const[c,h]=l;await ik(n,e,t,c,h)}else if(a==="config"){const[c,h]=l;await rk(n,e,t,r,c,h)}else if(a==="consent"){const[c,h]=l;n("consent",c,h)}else if(a==="get"){const[c,h,p]=l;n("get",c,h,p)}else if(a==="set"){const[c]=l;n("set",c)}else n(a,...l)}catch(c){Ln.error(c)}}return s}function ok(n,e,t,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=sk(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function ak(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Pg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=30,uk=1e3;class ck{constructor(e={},t=uk){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const GT=new ck;function dk(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function fk(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:dk(r)},a=X1.replace("{app-id}",t),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function hk(n,e=GT,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw Xn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Xn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new gk;return setTimeout(async()=>{c.abort()},Q1),KT({appId:r,apiKey:s,measurementId:a},l,c,e)}async function KT(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=GT){var a;const{appId:l,measurementId:c}=n;try{await pk(r,e)}catch(h){if(c)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await fk(n);return s.deleteThrottleMetadata(l),h}catch(h){const p=h;if(!mk(p)){if(s.deleteThrottleMetadata(l),c)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:c};throw h}const y=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?C_(t,s.intervalMillis,lk):C_(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return s.setThrottleMetadata(l,g),Ln.debug(`Calling attemptFetch again in ${y} millis`),KT(n,g,r,s)}}function pk(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mk(n){if(!(n instanceof Br)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class gk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yk(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(){if(_T())try{await ET()}catch(n){return Ln.warn(Xn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ln.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wk(n,e,t,r,s,a,l){var c;const h=hk(n);h.then(x=>{t[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ln.error(x)),e.push(h);const p=vk().then(x=>{if(x)return r.getId()}),[y,g]=await Promise.all([h,p]);ak(a)||tk(a,y.measurementId),s("js",new Date);const E=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return E[Y1]="firebase",E.update=!0,g!=null&&(E[K1]=g),s("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.app=e}_delete(){return delete Iu[this.app.options.appId],Promise.resolve()}}let Iu={},j_=[];const U_={};let dm="dataLayer",Ek="gtag",$_,YT,z_=!1;function Tk(){const n=[];if(wT()&&n.push("This is a browser extension environment."),WR()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Xn.create("invalid-analytics-context",{errorInfo:e});Ln.warn(t.message)}}function Ik(n,e,t){Tk();const r=n.options.appId;if(!r)throw Xn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(Iu[r]!=null)throw Xn.create("already-exists",{id:r});if(!z_){nk(dm);const{wrappedGtag:a,gtagCore:l}=ok(Iu,j_,U_,dm,Ek);YT=a,$_=l,z_=!0}return Iu[r]=wk(n,j_,U_,e,$_,dm,t),new _k(n)}function xk(n=Sg()){n=Tt(n);const e=Ko(n,df);return e.isInitialized()?e.getImmediate():Sk(n)}function Sk(n,e={}){const t=Ko(n,df);if(t.isInitialized()){const s=t.getImmediate();if($s(e,t.getOptions()))return s;throw Xn.create("already-initialized")}return t.initialize({options:e})}function bk(n,e,t,r){n=Tt(n),yk(YT,Iu[n.app.options.appId],e,t,r).catch(s=>Ln.error(s))}const B_="@firebase/analytics",W_="0.10.12";function Ak(){pi(new Mr(df,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Ik(r,s,t)},"PUBLIC")),pi(new Mr("analytics-internal",n,"PRIVATE")),cr(B_,W_),cr(B_,W_,"esm2017");function n(e){try{const t=e.getProvider(df).getImmediate();return{logEvent:(r,s,a)=>bk(t,r,s,a)}}catch(t){throw Xn.create("interop-component-reg-failed",{reason:t})}}}Ak();var ui=function(){return ui=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ui.apply(this,arguments)};function Gu(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Ck(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function QT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rk=QT,XT=new Go("auth","Firebase",QT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new $f("@firebase/auth");function Pk(n,...e){ff.logLevel<=Be.WARN&&ff.warn(`Auth (${dl}): ${n}`,...e)}function Hd(n,...e){ff.logLevel<=Be.ERROR&&ff.error(`Auth (${dl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n,...e){throw Ng(n,...e)}function Or(n,...e){return Ng(n,...e)}function kg(n,e,t){const r=Object.assign(Object.assign({},Rk()),{[e]:t});return new Go("auth","Firebase",r).create(e,{appName:n.name})}function Ui(n){return kg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kk(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&hr(n,"argument-error"),kg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ng(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XT.create(n,...e)}function De(n,e,...t){if(!n)throw Ng(e,...t)}function Fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hd(e),new Error(e)}function Hi(n,e){n||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Nk(){return H_()==="http:"||H_()==="https:"}function H_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nk()||wT()||"connection"in navigator)?navigator.onLine:!0}function Ok(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=FR()||$R()}get(){return Dk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vk=new Ku(3e4,6e4);function Qs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xi(n,e,t,r,s={}){return ZT(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=qu(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return UR()||(p.referrerPolicy="no-referrer"),JT.fetch()(await eI(n,n.config.apiHost,t,c),p)})}async function ZT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mk),e);try{const s=new jk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Sd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Sd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Sd(n,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kg(n,y,p);hr(n,y)}}catch(s){if(s instanceof Br)throw s;hr(n,"network-request-failed",{message:String(s)})}}async function Yu(n,e,t,r,s={}){const a=await Xi(n,e,t,r,s);return"mfaPendingCredential"in a&&hr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function eI(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?Dg(n.config,s):`${n.config.apiScheme}://${s}`;return Lk.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Fk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),Vk.get())})}}function Sd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Or(n,e,r);return s.customData._tokenResponse=t,s}function q_(n){return n!==void 0&&n.enterprise!==void 0}class Uk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $k(n,e){return Xi(n,"GET","/v2/recaptchaConfig",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e){return Xi(n,"POST","/v1/accounts:delete",e)}async function hf(n,e){return Xi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bk(n,e=!1){const t=Tt(n),r=await t.getIdToken(e),s=Wf(r);De(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:xu(fm(s.auth_time)),issuedAtTime:xu(fm(s.iat)),expirationTime:xu(fm(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fm(n){return Number(n)*1e3}function Wf(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const s=mT(t);return s?JSON.parse(s):(Hd("Failed to decode base64 JWT payload"),null)}catch(s){return Hd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function G_(n){const e=Wf(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Br&&Wk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Wk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(n){var e;const t=n.auth,r=await n.getIdToken(),s=await tl(n,hf(t,{idToken:r}));De(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?tI(a.providerUserInfo):[],c=Gk(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),y=h?p:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Hm(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,g)}async function qk(n){const e=Tt(n);await pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Gk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function tI(n){return n.map(e=>{var{providerId:t}=e,r=Gu(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(n,e){const t=await ZT(n,{},async()=>{const r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await eI(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",JT.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Yk(n,e){return Xi(n,"POST","/v2/accounts:revokeToken",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=G_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await Kk(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new qa;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(De(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Gu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await tl(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Bk(this,e)}reload(){return qk(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await tl(this,zk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,l,c,h,p,y;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,x=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(l=t.photoURL)!==null&&l!==void 0?l:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,O=(p=t.createdAt)!==null&&p!==void 0?p:void 0,B=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:K,isAnonymous:Z,providerData:ne,stsTokenManager:N}=t;De($&&N,e,"internal-error");const R=qa.fromJSON(this.name,N);De(typeof $=="string",e,"internal-error"),As(g,e.name),As(E,e.name),De(typeof K=="boolean",e,"internal-error"),De(typeof Z=="boolean",e,"internal-error"),As(x,e.name),As(b,e.name),As(C,e.name),As(A,e.name),As(O,e.name),As(B,e.name);const k=new Dr({uid:$,auth:e,email:E,emailVerified:K,displayName:g,isAnonymous:Z,photoURL:b,phoneNumber:x,tenantId:C,stsTokenManager:R,createdAt:O,lastLoginAt:B});return ne&&Array.isArray(ne)&&(k.providerData=ne.map(L=>Object.assign({},L))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new qa;s.updateFromServerResponse(t);const a=new Dr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];De(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?tI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new qa;c.updateFromIdToken(r);const h=new Dr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function ji(n){Hi(n instanceof Function,"Expected a class definition");let e=K_.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,K_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nI.type="NONE";const Y_=nI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ga{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=qd(this.userKey,s.apiKey,a),this.fullPersistenceKey=qd("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hf(this.auth,{idToken:e}).catch(()=>{});return t?Dr._fromGetAccountInfoResponse(this.auth,t,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ga(ji(Y_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ji(Y_);const l=qd(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const y=await p._get(l);if(y){let g;if(typeof y=="string"){const E=await hf(e,{idToken:y}).catch(()=>{});if(!E)break;g=await Dr._fromGetAccountInfoResponse(e,E,y)}else g=Dr._fromJSON(e,y);p!==a&&(c=g),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ga(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ga(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lI(e))return"Blackberry";if(uI(e))return"Webos";if(iI(e))return"Safari";if((e.includes("chrome/")||sI(e))&&!e.includes("edge/"))return"Chrome";if(aI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rI(n=un()){return/firefox\//i.test(n)}function iI(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sI(n=un()){return/crios\//i.test(n)}function oI(n=un()){return/iemobile/i.test(n)}function aI(n=un()){return/android/i.test(n)}function lI(n=un()){return/blackberry/i.test(n)}function uI(n=un()){return/webos/i.test(n)}function Og(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Qk(n=un()){var e;return Og(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xk(){return zR()&&document.documentMode===10}function cI(n=un()){return Og(n)||aI(n)||uI(n)||lI(n)||/windows phone/i.test(n)||oI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(n,e=[]){let t;switch(n){case"Browser":t=Q_(un());break;case"Worker":t=`${Q_(un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(n,e={}){return Xi(n,"GET","/v2/passwordPolicy",Qs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6;class tN{constructor(e){var t,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:eN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new Jk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hf(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ok()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Ui(this));const t=e?Tt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zk(this),t=new tN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Go("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Yk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ji(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Pk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xs(n){return Tt(n)}class X_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YR(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rN(n){Hf=n}function fI(n){return Hf.loadJS(n)}function iN(){return Hf.recaptchaEnterpriseScript}function sN(){return Hf.gapiScript}function oN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class aN{constructor(){this.enterprise=new lN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const uN="recaptcha-enterprise",hI="NO_RECAPTCHA";class cN{constructor(e){this.type=uN,this.auth=Xs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{$k(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new Uk(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;q_(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(hI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&q_(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=iN();h.length!==0&&(h+=c),fI(h).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function J_(n,e,t,r=!1,s=!1){const a=new cN(n);let l;if(s)l=hI;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function qm(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await J_(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await J_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n,e){const t=Ko(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if($s(a,e??{}))return s;hr(s,"already-initialized")}return t.initialize({options:e})}function fN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ji);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hN(n,e,t){const r=Xs(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=pI(e),{host:l,port:c}=pN(e),h=c===null?"":`:${c}`,p={url:`${a}//${l}${h}/`},y=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De($s(p,r.config.emulator)&&$s(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,mN()}function pI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pN(n){const e=pI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Z_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Z_(l)}}}function Z_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,t){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function gN(n,e){return Xi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(n,e){return Yu(n,"POST","/v1/accounts:signInWithPassword",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,e){return Yu(n,"POST","/v1/accounts:signInWithEmailLink",Qs(n,e))}async function wN(n,e){return Yu(n,"POST","/v1/accounts:signInWithEmailLink",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Mg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Nu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Nu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,t,"signInWithPassword",yN);case"emailLink":return vN(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,r,"signUpPassword",gN);case"emailLink":return wN(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(n,e){return Yu(n,"POST","/v1/accounts:signInWithIdp",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="http://localhost";class Vo extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Gu(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Vo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ka(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ka(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ka(e,t)}buildRequest(){const e={requestUri:_N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TN(n){const e=gu(yu(n)).link,t=e?gu(yu(e)).deep_link_id:null,r=gu(yu(n)).deep_link_id;return(r?gu(yu(r)).link:null)||r||t||e||n}class Lg{constructor(e){var t,r,s,a,l,c;const h=gu(yu(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,g=EN((s=h.mode)!==null&&s!==void 0?s:null);De(p&&y&&g,"argument-error"),this.apiKey=p,this.operation=g,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=TN(e);try{return new Lg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,t){return Nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Lg.parseLink(t);return De(r,"argument-error"),Nu._fromEmailAndCode(e,r.code,r.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Qu{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vo._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Vi.credential(t,r)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Qu{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Qu{constructor(){super("twitter.com")}static credential(e,t){return Vo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Os.credential(t,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(n,e){return Yu(n,"POST","/v1/accounts:signUp",Qs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Dr._fromIdTokenResponse(e,r,s),l=e0(r);return new Fo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=e0(r);return new Fo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function e0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends Br{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new mf(e,t,r,s)}}function mI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(n,a,e,r):a})}async function xN(n,e,t=!1){const r=await tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,e,t=!1){const{auth:r}=n;if(Kn(r.app))return Promise.reject(Ui(r));const s="reauthenticate";try{const a=await tl(n,mI(r,s,e,n),t);De(a.idToken,r,"internal-error");const l=Wf(a.idToken);De(l,r,"internal-error");const{sub:c}=l;return De(n.uid===c,r,"user-mismatch"),Fo._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&hr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(n,e,t=!1){if(Kn(n.app))return Promise.reject(Ui(n));const r="signIn",s=await mI(n,r,e),a=await Fo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function bN(n,e){return gI(Xs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(n){const e=Xs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AN(n,e,t){if(Kn(n.app))return Promise.reject(Ui(n));const r=Xs(n),l=await qm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&yI(n),h}),c=await Fo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function CN(n,e,t){return Kn(n.app)?Promise.reject(Ui(n)):bN(Tt(n),fl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(n,e){return Xi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Tt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await tl(r,RN(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Wf(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new Ya(a,c)}}if(!r)return null;switch(r){case"facebook.com":return new NN(a,s);case"github.com":return new DN(a,s);case"google.com":return new ON(a,s);case"twitter.com":return new MN(a,s,n.screenName||null);case"custom":case"anonymous":return new Ya(a,null);default:return new Ya(a,r,s)}}class Ya{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class vI extends Ya{constructor(e,t,r,s){super(e,t,r),this.username=s}}class NN extends Ya{constructor(e,t){super(e,"facebook.com",t)}}class DN extends vI{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class ON extends Ya{constructor(e,t){super(e,"google.com",t)}}class MN extends vI{constructor(e,t,r){super(e,"twitter.com",t,r)}}function LN(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:kN(t)}function VN(n,e,t,r){return Tt(n).onIdTokenChanged(e,t,r)}function FN(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function jN(n,e,t,r){return Tt(n).onAuthStateChanged(e,t,r)}function UN(n){return Tt(n).signOut()}async function $N(n){return Tt(n).delete()}const gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=1e3,BN=10;class _I extends wI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Xk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BN):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_I.type="LOCAL";const WN=_I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends wI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EI.type="SESSION";const TI=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new qf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(t.origin,a)),h=await HN(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=Fg("",20);s.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const E=g;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(E.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function GN(n){ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function KN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QN(){return II()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firebaseLocalStorageDb",XN=1,yf="firebaseLocalStorage",SI="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gf(n,e){return n.transaction([yf],e?"readwrite":"readonly").objectStore(yf)}function JN(){const n=indexedDB.deleteDatabase(xI);return new Xu(n).toPromise()}function Gm(){const n=indexedDB.open(xI,XN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yf,{keyPath:SI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yf)?e(r):(r.close(),await JN(),e(await Gm()))})})}async function t0(n,e,t){const r=Gf(n,!0).put({[SI]:e,value:t});return new Xu(r).toPromise()}async function ZN(n,e){const t=Gf(n,!1).get(e),r=await new Xu(t).toPromise();return r===void 0?null:r.value}function n0(n,e){const t=Gf(n,!0).delete(e);return new Xu(t).toPromise()}const eD=800,tD=3;class bI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>tD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return II()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(QN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KN(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await t0(e,gf,"1"),await n0(e,gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>t0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ZN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>n0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Gf(s,!1).getAll();return new Xu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bI.type="LOCAL";const nD=bI;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n,e){return e?ji(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ka(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rD(n){return gI(n.auth,new jg(n),n.bypassAuthState)}function iD(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),SN(t,new jg(n),n.bypassAuthState)}async function sD(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),xN(t,new jg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rD;case"linkViaPopup":case"linkViaRedirect":return sD;case"reauthViaPopup":case"reauthViaRedirect":return iD;default:hr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Ku(2e3,1e4);async function aD(n,e,t){if(Kn(n.app))return Promise.reject(Or(n,"operation-not-supported-in-this-environment"));const r=Xs(n);kk(n,e,Vg);const s=AI(r,t);return new Do(r,"signInViaPopup",e,s).executeNotNull()}class Do extends CI{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oD.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="pendingRedirect",Gd=new Map;class uD extends CI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const r=await cD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cD(n,e){const t=hD(e),r=fD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function dD(n,e){Gd.set(n._key(),e)}function fD(n){return ji(n._redirectPersistence)}function hD(n){return qd(lD,n.config.apiKey,n.name)}async function pD(n,e,t=!1){if(Kn(n.app))return Promise.reject(Ui(n));const r=Xs(n),s=AI(r,e),l=await new uD(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=10*60*1e3;class gD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Or(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(e))}saveEventToCache(e){this.cachedEventUids.add(r0(e)),this.lastProcessedEventTime=Date.now()}}function r0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(n,e={}){return Xi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_D=/^https?/;async function ED(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vD(n);for(const t of e)try{if(TD(t))return}catch{}hr(n,"unauthorized-domain")}function TD(n){const e=Wm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!_D.test(t))return!1;if(wD.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new Ku(3e4,6e4);function i0(){const n=ci().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xD(n){return new Promise((e,t)=>{var r,s,a;function l(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),t(Or(n,"network-request-failed"))},timeout:ID.get()})}if(!((s=(r=ci().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ci().gapi)===null||a===void 0)&&a.load)l();else{const c=oN("iframefcb");return ci()[c]=()=>{gapi.load?l():t(Or(n,"network-request-failed"))},fI(`${sN()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function SD(n){return Kd=Kd||xD(n),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Ku(5e3,15e3),AD="__/auth/iframe",CD="emulator/auth/iframe",RD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kD(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dg(e,CD):`https://${n.config.authDomain}/${AD}`,r={apiKey:e.apiKey,appName:n.name,v:dl},s=PD.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${qu(r).slice(1)}`}async function ND(n){const e=await SD(n),t=ci().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:kD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Or(n,"network-request-failed"),c=ci().setTimeout(()=>{a(l)},bD.get());function h(){ci().clearTimeout(c),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OD=500,MD=600,LD="_blank",VD="http://localhost";class s0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FD(n,e,t,r=OD,s=MD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},DD),{width:r.toString(),height:s.toString(),top:a,left:l}),p=un().toLowerCase();t&&(c=sI(p)?LD:t),rI(p)&&(e=e||VD,h.scrollbars="yes");const y=Object.entries(h).reduce((E,[x,b])=>`${E}${x}=${b},`,"");if(Qk(p)&&c!=="_self")return jD(e||"",c),new s0(null);const g=window.open(e||"",c,y);De(g,n,"popup-blocked");try{g.focus()}catch{}return new s0(g)}function jD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__/auth/handler",$D="emulator/auth/handler",zD=encodeURIComponent("fac");async function o0(n,e,t,r,s,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:dl,eventId:s};if(e instanceof Vg){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",KR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))l[y]=g}if(e instanceof Qu){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const h=await n._getAppCheckToken(),p=h?`#${zD}=${encodeURIComponent(h)}`:"";return`${BD(n)}?${qu(c).slice(1)}${p}`}function BD({config:n}){return n.emulator?Dg(n,$D):`https://${n.authDomain}/${UD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class WD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TI,this._completeRedirectFn=pD,this._overrideRedirectResult=dD}async _openPopup(e,t,r,s){var a;Hi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await o0(e,t,r,Wm(),s);return FD(e,l,Fg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await o0(e,t,r,Wm(),s);return GN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Hi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ND(e),r=new gD(e);return t.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hm,{type:hm},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[hm];l!==void 0&&t(!!l),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ED(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cI()||iI()||Og()}}const HD=WD;var a0="@firebase/auth",l0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KD(n){pi(new Mr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dI(n)},p=new nN(r,s,a,h);return fN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pi(new Mr("auth-internal",e=>{const t=Xs(e.getProvider("auth").getImmediate());return(r=>new qD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(a0,l0,GD(n)),cr(a0,l0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=5*60,QD=vT("authIdTokenMaxAge")||YD;let u0=null;const XD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>QD)return;const s=t==null?void 0:t.token;u0!==s&&(u0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JD(n=Sg()){const e=Ko(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dN(n,{popupRedirectResolver:HD,persistence:[nD,WN,TI]}),r=vT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=XD(a.toString());FN(t,l,()=>l(t.currentUser)),VN(t,c=>l(c))}}const s=gT("auth");return s&&hN(t,`http://${s}`),t}function ZD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Or("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",ZD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KD("Browser");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,PI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function k(){}k.prototype=R.prototype,N.D=R.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,V,U){for(var D=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)D[Pe-2]=arguments[Pe];return R.prototype[V].apply(L,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,R,k){k||(k=0);var L=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)L[V]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(V=0;16>V;++V)L[V]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=N.g[0],k=N.g[1],V=N.g[2];var U=N.g[3],D=R+(U^k&(V^U))+L[0]+3614090360&4294967295;R=k+(D<<7&4294967295|D>>>25),D=U+(V^R&(k^V))+L[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=V+(k^U&(R^k))+L[2]+606105819&4294967295,V=U+(D<<17&4294967295|D>>>15),D=k+(R^V&(U^R))+L[3]+3250441966&4294967295,k=V+(D<<22&4294967295|D>>>10),D=R+(U^k&(V^U))+L[4]+4118548399&4294967295,R=k+(D<<7&4294967295|D>>>25),D=U+(V^R&(k^V))+L[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=V+(k^U&(R^k))+L[6]+2821735955&4294967295,V=U+(D<<17&4294967295|D>>>15),D=k+(R^V&(U^R))+L[7]+4249261313&4294967295,k=V+(D<<22&4294967295|D>>>10),D=R+(U^k&(V^U))+L[8]+1770035416&4294967295,R=k+(D<<7&4294967295|D>>>25),D=U+(V^R&(k^V))+L[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=V+(k^U&(R^k))+L[10]+4294925233&4294967295,V=U+(D<<17&4294967295|D>>>15),D=k+(R^V&(U^R))+L[11]+2304563134&4294967295,k=V+(D<<22&4294967295|D>>>10),D=R+(U^k&(V^U))+L[12]+1804603682&4294967295,R=k+(D<<7&4294967295|D>>>25),D=U+(V^R&(k^V))+L[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=V+(k^U&(R^k))+L[14]+2792965006&4294967295,V=U+(D<<17&4294967295|D>>>15),D=k+(R^V&(U^R))+L[15]+1236535329&4294967295,k=V+(D<<22&4294967295|D>>>10),D=R+(V^U&(k^V))+L[1]+4129170786&4294967295,R=k+(D<<5&4294967295|D>>>27),D=U+(k^V&(R^k))+L[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=V+(R^k&(U^R))+L[11]+643717713&4294967295,V=U+(D<<14&4294967295|D>>>18),D=k+(U^R&(V^U))+L[0]+3921069994&4294967295,k=V+(D<<20&4294967295|D>>>12),D=R+(V^U&(k^V))+L[5]+3593408605&4294967295,R=k+(D<<5&4294967295|D>>>27),D=U+(k^V&(R^k))+L[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=V+(R^k&(U^R))+L[15]+3634488961&4294967295,V=U+(D<<14&4294967295|D>>>18),D=k+(U^R&(V^U))+L[4]+3889429448&4294967295,k=V+(D<<20&4294967295|D>>>12),D=R+(V^U&(k^V))+L[9]+568446438&4294967295,R=k+(D<<5&4294967295|D>>>27),D=U+(k^V&(R^k))+L[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=V+(R^k&(U^R))+L[3]+4107603335&4294967295,V=U+(D<<14&4294967295|D>>>18),D=k+(U^R&(V^U))+L[8]+1163531501&4294967295,k=V+(D<<20&4294967295|D>>>12),D=R+(V^U&(k^V))+L[13]+2850285829&4294967295,R=k+(D<<5&4294967295|D>>>27),D=U+(k^V&(R^k))+L[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=V+(R^k&(U^R))+L[7]+1735328473&4294967295,V=U+(D<<14&4294967295|D>>>18),D=k+(U^R&(V^U))+L[12]+2368359562&4294967295,k=V+(D<<20&4294967295|D>>>12),D=R+(k^V^U)+L[5]+4294588738&4294967295,R=k+(D<<4&4294967295|D>>>28),D=U+(R^k^V)+L[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=V+(U^R^k)+L[11]+1839030562&4294967295,V=U+(D<<16&4294967295|D>>>16),D=k+(V^U^R)+L[14]+4259657740&4294967295,k=V+(D<<23&4294967295|D>>>9),D=R+(k^V^U)+L[1]+2763975236&4294967295,R=k+(D<<4&4294967295|D>>>28),D=U+(R^k^V)+L[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=V+(U^R^k)+L[7]+4139469664&4294967295,V=U+(D<<16&4294967295|D>>>16),D=k+(V^U^R)+L[10]+3200236656&4294967295,k=V+(D<<23&4294967295|D>>>9),D=R+(k^V^U)+L[13]+681279174&4294967295,R=k+(D<<4&4294967295|D>>>28),D=U+(R^k^V)+L[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=V+(U^R^k)+L[3]+3572445317&4294967295,V=U+(D<<16&4294967295|D>>>16),D=k+(V^U^R)+L[6]+76029189&4294967295,k=V+(D<<23&4294967295|D>>>9),D=R+(k^V^U)+L[9]+3654602809&4294967295,R=k+(D<<4&4294967295|D>>>28),D=U+(R^k^V)+L[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=V+(U^R^k)+L[15]+530742520&4294967295,V=U+(D<<16&4294967295|D>>>16),D=k+(V^U^R)+L[2]+3299628645&4294967295,k=V+(D<<23&4294967295|D>>>9),D=R+(V^(k|~U))+L[0]+4096336452&4294967295,R=k+(D<<6&4294967295|D>>>26),D=U+(k^(R|~V))+L[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=V+(R^(U|~k))+L[14]+2878612391&4294967295,V=U+(D<<15&4294967295|D>>>17),D=k+(U^(V|~R))+L[5]+4237533241&4294967295,k=V+(D<<21&4294967295|D>>>11),D=R+(V^(k|~U))+L[12]+1700485571&4294967295,R=k+(D<<6&4294967295|D>>>26),D=U+(k^(R|~V))+L[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=V+(R^(U|~k))+L[10]+4293915773&4294967295,V=U+(D<<15&4294967295|D>>>17),D=k+(U^(V|~R))+L[1]+2240044497&4294967295,k=V+(D<<21&4294967295|D>>>11),D=R+(V^(k|~U))+L[8]+1873313359&4294967295,R=k+(D<<6&4294967295|D>>>26),D=U+(k^(R|~V))+L[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=V+(R^(U|~k))+L[6]+2734768916&4294967295,V=U+(D<<15&4294967295|D>>>17),D=k+(U^(V|~R))+L[13]+1309151649&4294967295,k=V+(D<<21&4294967295|D>>>11),D=R+(V^(k|~U))+L[4]+4149444226&4294967295,R=k+(D<<6&4294967295|D>>>26),D=U+(k^(R|~V))+L[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=V+(R^(U|~k))+L[2]+718787259&4294967295,V=U+(D<<15&4294967295|D>>>17),D=k+(U^(V|~R))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var k=R-this.blockSize,L=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=k;)s(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<R;)if(L[V++]=N.charCodeAt(U++),V==this.blockSize){s(this,L),V=0;break}}else for(;U<R;)if(L[V++]=N[U++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=R},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var k=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=k&255,k/=256;for(this.u(N),N=Array(16),R=k=0;4>R;++R)for(var L=0;32>L;L+=8)N[k++]=this.g[R]>>>L&255;return N};function a(N,R){var k=c;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=R(N)}function l(N,R){this.h=R;for(var k=[],L=!0,V=N.length-1;0<=V;V--){var U=N[V]|0;L&&U==R||(k[V]=U,L=!1)}this.g=k}var c={};function h(N){return-128<=N&&128>N?a(N,function(R){return new l([R|0],0>R?-1:0)}):new l([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return g;if(0>N)return A(p(-N));for(var R=[],k=1,L=0;N>=k;L++)R[L]=N/k|0,k*=4294967296;return new l(R,0)}function y(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return A(y(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(R,8)),L=g,V=0;V<N.length;V+=8){var U=Math.min(8,N.length-V),D=parseInt(N.substring(V,V+U),R);8>U?(U=p(Math.pow(R,U)),L=L.j(U).add(p(D))):(L=L.j(k),L=L.add(p(D)))}return L}var g=h(0),E=h(1),x=h(16777216);n=l.prototype,n.m=function(){if(C(this))return-A(this).m();for(var N=0,R=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*R,R*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(C(this))return"-"+A(this).toString(N);for(var R=p(Math.pow(N,6)),k=this,L="";;){var V=K(k,R).g;k=O(k,V.j(R));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=V,b(k))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function C(N){return N.h==-1}n.l=function(N){return N=O(this,N),C(N)?-1:b(N)?0:1};function A(N){for(var R=N.g.length,k=[],L=0;L<R;L++)k[L]=~N.g[L];return new l(k,~N.h).add(E)}n.abs=function(){return C(this)?A(this):this},n.add=function(N){for(var R=Math.max(this.g.length,N.g.length),k=[],L=0,V=0;V<=R;V++){var U=L+(this.i(V)&65535)+(N.i(V)&65535),D=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);L=D>>>16,U&=65535,D&=65535,k[V]=D<<16|U}return new l(k,k[k.length-1]&-2147483648?-1:0)};function O(N,R){return N.add(A(R))}n.j=function(N){if(b(this)||b(N))return g;if(C(this))return C(N)?A(this).j(A(N)):A(A(this).j(N));if(C(N))return A(this.j(A(N)));if(0>this.l(x)&&0>N.l(x))return p(this.m()*N.m());for(var R=this.g.length+N.g.length,k=[],L=0;L<2*R;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<N.g.length;V++){var U=this.i(L)>>>16,D=this.i(L)&65535,Pe=N.i(V)>>>16,Se=N.i(V)&65535;k[2*L+2*V]+=D*Se,B(k,2*L+2*V),k[2*L+2*V+1]+=U*Se,B(k,2*L+2*V+1),k[2*L+2*V+1]+=D*Pe,B(k,2*L+2*V+1),k[2*L+2*V+2]+=U*Pe,B(k,2*L+2*V+2)}for(L=0;L<R;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=R;L<2*R;L++)k[L]=0;return new l(k,0)};function B(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function $(N,R){this.g=N,this.h=R}function K(N,R){if(b(R))throw Error("division by zero");if(b(N))return new $(g,g);if(C(N))return R=K(A(N),R),new $(A(R.g),A(R.h));if(C(R))return R=K(N,A(R)),new $(A(R.g),R.h);if(30<N.g.length){if(C(N)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var k=E,L=R;0>=L.l(N);)k=Z(k),L=Z(L);var V=ne(k,1),U=ne(L,1);for(L=ne(L,2),k=ne(k,2);!b(L);){var D=U.add(L);0>=D.l(N)&&(V=V.add(k),U=D),L=ne(L,1),k=ne(k,1)}return R=O(N,V.j(R)),new $(V,R)}for(V=g;0<=N.l(R);){for(k=Math.max(1,Math.floor(N.m()/R.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=p(k),D=U.j(R);C(D)||0<D.l(N);)k-=L,U=p(k),D=U.j(R);b(U)&&(U=E),V=V.add(U),N=O(N,D)}return new $(V,N)}n.A=function(N){return K(this,N).h},n.and=function(N){for(var R=Math.max(this.g.length,N.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)&N.i(L);return new l(k,this.h&N.h)},n.or=function(N){for(var R=Math.max(this.g.length,N.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)|N.i(L);return new l(k,this.h|N.h)},n.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)^N.i(L);return new l(k,this.h^N.h)};function Z(N){for(var R=N.g.length+1,k=[],L=0;L<R;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new l(k,N.h)}function ne(N,R){var k=R>>5;R%=32;for(var L=N.g.length-k,V=[],U=0;U<L;U++)V[U]=0<R?N.i(U+k)>>>R|N.i(U+k+1)<<32-R:N.i(U+k);return new l(V,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,Fs=l}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kI,vu,NI,Yd,Km,DI,OI,MI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,_){return d==Array.prototype||d==Object.prototype||(d[v]=_.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var v=0;v<d.length;++v){var _=d[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(d,v){if(v)e:{var _=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var H=d[P];if(!(H in _))break e;_=_[H]}d=d[d.length-1],P=_[d],v=v(P),v!=P&&v!=null&&e(_,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var _=0,P=!1,H={next:function(){if(!P&&_<d.length){var X=_++;return{value:v(X,d[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(d){return d||function(){return a(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,_){return d.call.apply(d.bind,arguments)}function g(d,v,_){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,P),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function E(d,v,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,E.apply(null,arguments)}function x(d,v){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function b(d,v){function _(){}_.prototype=v.prototype,d.aa=v.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(P,H,X){for(var de=Array(arguments.length-2),et=2;et<arguments.length;et++)de[et-2]=arguments[et];return v.prototype[H].apply(P,de)}}function C(d){const v=d.length;if(0<v){const _=Array(v);for(let P=0;P<v;P++)_[P]=d[P];return _}return[]}function A(d,v){for(let _=1;_<arguments.length;_++){const P=arguments[_];if(h(P)){const H=d.length||0,X=P.length||0;d.length=H+X;for(let de=0;de<X;de++)d[H+de]=P[de]}else d.push(P)}}class O{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function K(d){return K[" "](d),d}K[" "]=function(){};var Z=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ne(d,v,_){for(const P in d)v.call(_,d[P],P,d)}function N(d,v){for(const _ in d)v.call(void 0,d[_],_,d)}function R(d){const v={};for(const _ in d)v[_]=d[_];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,v){let _,P;for(let H=1;H<arguments.length;H++){P=arguments[H];for(_ in P)d[_]=P[_];for(let X=0;X<k.length;X++)_=k[X],Object.prototype.hasOwnProperty.call(P,_)&&(d[_]=P[_])}}function V(d){var v=1;d=d.split(":");const _=[];for(;0<v&&d.length;)_.push(d.shift()),v--;return d.length&&_.push(d.join(":")),_}function U(d){c.setTimeout(()=>{throw d},0)}function D(){var d=J;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Pe{constructor(){this.h=this.g=null}add(v,_){const P=Se.get();P.set(v,_),this.h?this.h.next=P:this.g=P,this.h=P}}var Se=new O(()=>new ce,d=>d.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,W=!1,J=new Pe,re=()=>{const d=c.Promise.resolve(void 0);me=()=>{d.then(F)}};var F=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(_){U(_)}var v=Se;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}W=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};c.addEventListener("test",_,v),c.removeEventListener("test",_,v)}catch{}return d}();function be(d,v){if(ie.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(Z){e:{try{K(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else _=="mouseover"?v=d.fromElement:_=="mouseout"&&(v=d.toElement);this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ge[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&be.aa.h.call(this)}}b(be,ie);var ge={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ne(d,v,_,P,H){this.listener=d,this.proxy=null,this.src=v,this.type=_,this.capture=!!P,this.ha=H,this.key=++Me,this.da=this.fa=!1}function He(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ut(d){this.src=d,this.g={},this.h=0}Ut.prototype.add=function(d,v,_,P,H){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var de=en(d,v,P,H);return-1<de?(v=d[de],_||(v.fa=!1)):(v=new Ne(v,this.src,X,!!P,H),v.fa=_,d.push(v)),v};function qt(d,v){var _=v.type;if(_ in d.g){var P=d.g[_],H=Array.prototype.indexOf.call(P,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(P,H,1),X&&(He(v),d.g[_].length==0&&(delete d.g[_],d.h--))}}function en(d,v,_,P){for(var H=0;H<d.length;++H){var X=d[H];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==P)return H}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),Kr={};function Yr(d,v,_,P,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Yr(d,v[X],_,P,H);return null}return _=ro(_),d&&d[ve]?d.K(v,_,p(P)?!!P.capture:!1,H):Vn(d,v,_,!1,P,H)}function Vn(d,v,_,P,H,X){if(!v)throw Error("Invalid event type");var de=p(H)?!!H.capture:!!H,et=Fn(d);if(et||(d[wn]=et=new Ut(d)),_=et.add(v,_,P,de,X),_.proxy)return _;if(P=_i(),_.proxy=P,P.src=d,P.listener=_,d.addEventListener)fe||(H=de),H===void 0&&(H=!1),d.addEventListener(v.toString(),P,H);else if(d.attachEvent)d.attachEvent(mr(v.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function _i(){function d(_){return v.call(d.src,d.listener,_)}const v=kt;return d}function It(d,v,_,P,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)It(d,v[X],_,P,H);else P=p(P)?!!P.capture:!!P,_=ro(_),d&&d[ve]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],_=en(X,_,P,H),-1<_&&(He(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=Fn(d))&&(v=d.g[v.toString()],d=-1,v&&(d=en(v,_,P,H)),(_=-1<d?v[d]:null)&&pr(_))}function pr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ve])qt(v.i,d);else{var _=d.type,P=d.proxy;v.removeEventListener?v.removeEventListener(_,P,d.capture):v.detachEvent?v.detachEvent(mr(_),P):v.addListener&&v.removeListener&&v.removeListener(P),(_=Fn(v))?(qt(_,d),_.h==0&&(_.src=null,v[wn]=null)):He(d)}}}function mr(d){return d in Kr?Kr[d]:Kr[d]="on"+d}function kt(d,v){if(d.da)d=!0;else{v=new be(v,this);var _=d.listener,P=d.ha||d.src;d.fa&&pr(d),d=_.call(P,v)}return d}function Fn(d){return d=d[wn],d instanceof Ut?d:null}var es="__closure_events_fn_"+(1e9*Math.random()>>>0);function ro(d){return typeof d=="function"?d:(d[es]||(d[es]=function(v){return d.handleEvent(v)}),d[es])}function ut(){Y.call(this),this.i=new Ut(this),this.M=this,this.F=null}b(ut,Y),ut.prototype[ve]=!0,ut.prototype.removeEventListener=function(d,v,_,P){It(this,d,v,_,P)};function xt(d,v){var _,P=d.F;if(P)for(_=[];P;P=P.F)_.push(P);if(d=d.M,P=v.type||v,typeof v=="string")v=new ie(v,d);else if(v instanceof ie)v.target=v.target||d;else{var H=v;v=new ie(P,d),L(v,H)}if(H=!0,_)for(var X=_.length-1;0<=X;X--){var de=v.g=_[X];H=Zn(de,P,!0,v)&&H}if(de=v.g=d,H=Zn(de,P,!0,v)&&H,H=Zn(de,P,!1,v)&&H,_)for(X=0;X<_.length;X++)de=v.g=_[X],H=Zn(de,P,!1,v)&&H}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var _=d.g[v],P=0;P<_.length;P++)He(_[P]);delete d.g[v],d.h--}}this.F=null},ut.prototype.K=function(d,v,_,P){return this.i.add(String(d),v,!1,_,P)},ut.prototype.L=function(d,v,_,P){return this.i.add(String(d),v,!0,_,P)};function Zn(d,v,_,P){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var de=v[X];if(de&&!de.da&&de.capture==_){var et=de.listener,Ot=de.ha||de.src;de.fa&&qt(d.i,de),H=et.call(Ot,P)!==!1&&H}}return H&&!P.defaultPrevented}function Ei(d,v,_){if(typeof d=="function")_&&(d=E(d,_));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function dn(d){d.g=Ei(()=>{d.g=null,d.i&&(d.i=!1,dn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Qr extends Y{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:dn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(d){Y.call(this),this.h=d,this.g={}}b(_n,Y);var io=[];function so(d){ne(d.g,function(v,_){this.g.hasOwnProperty(_)&&pr(v)},d),d.g={}}_n.prototype.N=function(){_n.aa.N.call(this),so(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ts=c.JSON.stringify,ns=c.JSON.parse,oo=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gr(){}gr.prototype.h=null;function fn(d){return d.h||(d.h=d.i())}function rs(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){ie.call(this,"d")}b(jn,ie);function Ti(){ie.call(this,"c")}b(Ti,ie);var ke={},ct=null;function dt(){return ct=ct||new ut}ke.La="serverreachability";function Nt(d){ie.call(this,ke.La,d)}b(Nt,ie);function Tn(d){const v=dt();xt(v,new Nt(v))}ke.STAT_EVENT="statevent";function gt(d,v){ie.call(this,ke.STAT_EVENT,d),this.stat=v}b(gt,ie);function Ge(d){const v=dt();xt(v,new gt(v,d))}ke.Ma="timingevent";function yr(d,v){ie.call(this,ke.Ma,d),this.size=v}b(yr,ie);function yt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function Dt(){this.g=!0}Dt.prototype.xa=function(){this.g=!1};function Xr(d,v,_,P,H,X){d.info(function(){if(d.g)if(X)for(var de="",et=X.split("&"),Ot=0;Ot<et.length;Ot++){var Ke=et[Ot].split("=");if(1<Ke.length){var $t=Ke[0];Ke=Ke[1];var At=$t.split("_");de=2<=At.length&&At[1]=="type"?de+($t+"="+Ke+"&"):de+($t+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+P+") [attempt "+H+"]: "+v+`
`+_+`
`+de})}function In(d,v,_,P,H,X,de){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+H+"]: "+v+`
`+_+`
`+X+" "+de})}function er(d,v,_,P){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ah(d,_)+(P?" "+P:"")})}function Rl(d,v){d.info(function(){return"TIMEOUT: "+v})}Dt.prototype.info=function(){};function Ah(d,v){if(!d.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var P=_[d];if(!(2>P.length)){var H=P[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<H.length;de++)H[de]=""}}}}return ts(_)}catch{return v}}var ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function ao(){}b(ao,gr),ao.prototype.g=function(){return new XMLHttpRequest},ao.prototype.i=function(){return{}},vr=new ao;function wr(d,v,_,P){this.j=d,this.i=v,this.l=_,this.R=P||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}var Pl={},ta={};function na(d,v,_){d.L=1,d.v=ls($n(v)),d.m=_,d.P=!0,kl(d,null)}function kl(d,v){d.F=Date.now(),it(d),d.A=$n(d.v);var _=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),cs(_.i,"t",P),d.C=0,_=d.j.J,d.h=new dc,d.g=Rc(d.j,_?v:null,!d.m),0<d.O&&(d.M=new Qr(E(d.Y,d,d.g),d.O)),v=d.U,_=d.g,P=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(io[0]=H.toString()),H=io);for(var X=0;X<H.length;X++){var de=Yr(_,H[X],P||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Tn(),Xr(d.i,d.u,d.A,d.l,d.R,d.m)}wr.prototype.ca=function(d){d=d.target;const v=this.M;v&&Sn(d)==3?v.j():this.Y(d)},wr.prototype.Y=function(d){try{if(d==this.g)e:{const At=Sn(this.g);var v=this.g.Ba();const rr=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Vl(this.g)))){this.J||At!=4||v==7||(v==8||0>=rr?Tn(3):Tn(2)),lo(this);var _=this.g.Z();this.X=_;t:if(fc(this)){var P=Vl(this.g);d="";var H=P.length,X=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),is(this);var de="";break t}this.h.i=new c.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(P[v],{stream:!(X&&v==H-1)});P.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=_==200,In(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Ot=this.g;if((et=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(et)){var Ke=et;break t}}Ke=null}if(_=Ke)er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nl(this,_);else{this.o=!1,this.s=3,Ge(12),tr(this),is(this);break e}}if(this.P){_=!0;let Bn;for(;!this.J&&this.C<de.length;)if(Bn=Ch(this,de),Bn==ta){At==4&&(this.s=4,Ge(14),_=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Pl){this.s=4,Ge(15),er(this.i,this.l,de,"[Invalid Chunk]"),_=!1;break}else er(this.i,this.l,Bn,null),Nl(this,Bn);if(fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||de.length!=0||this.h.h||(this.s=1,Ge(16),_=!1),this.o=this.o&&_,!_)er(this.i,this.l,de,"[Invalid Chunked Response]"),tr(this),is(this);else if(0<de.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),jl($t),$t.M=!0,Ge(11))}}else er(this.i,this.l,de,null),Nl(this,de);At==4&&tr(this),this.o&&!this.J&&(At==4?ha(this.j,this):(this.o=!1,it(this)))}else la(this.g),_==400&&0<de.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),tr(this),is(this)}}}catch{}finally{}};function fc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ch(d,v){var _=d.C,P=v.indexOf(`
`,_);return P==-1?ta:(_=Number(v.substring(_,P)),isNaN(_)?Pl:(P+=1,P+_>v.length?ta:(v=v.slice(P,P+_),d.C=P+_,v)))}wr.prototype.cancel=function(){this.J=!0,tr(this)};function it(d){d.S=Date.now()+d.I,hc(d,d.I)}function hc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=yt(E(d.ba,d),v)}function lo(d){d.B&&(c.clearTimeout(d.B),d.B=null)}wr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Rl(this.i,this.A),this.L!=2&&(Tn(),Ge(17)),tr(this),this.s=2,is(this)):hc(this,this.S-d)};function is(d){d.j.G==0||d.J||ha(d.j,d)}function tr(d){lo(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,so(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Nl(d,v){try{var _=d.j;if(_.G!=0&&(_.g==d||hn(_.h,d))){if(!d.K&&hn(_.h,d)&&_.G==3){try{var P=_.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var H=P;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)fa(_),xr(_);else break e;da(_),Ge(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(E(_.Za,_),6e3));if(1>=mc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((d.K||_.g==d)&&fa(_),!B(v))for(H=_.Da.g.parse(v),v=0;v<H.length;v++){let Ke=H[v];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];const $t=Ke[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const At=Ke[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const rr=Ke[5];rr!=null&&typeof rr=="number"&&0<rr&&(P=1.5*rr,_.L=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const Bn=d.g;if(Bn){const go=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(go){var X=P.h;X.g||go.indexOf("spdy")==-1&&go.indexOf("quic")==-1&&go.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Dl(X,X.h),X.h=null))}if(P.D){const ma=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(P.ya=ma,nt(P.I,P.D,ma))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),P=_;var de=d;if(P.qa=Cc(P,P.J?P.ia:null,P.W),de.K){gc(P.h,de);var et=de,Ot=P.L;Ot&&(et.I=Ot),et.B&&(lo(et),it(et)),P.g=de}else mo(P);0<_.i.length&&ti(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Ai(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ai(_,7):Kt(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}Tn(4)}catch{}}var pc=class{constructor(d,v){this.g=d,this.map=v}};function uo(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Un(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function mc(d){return d.h?1:d.g?d.g.size:0}function hn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Dl(d,v){d.g?d.g.add(v):d.h=v}function gc(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}uo.prototype.cancel=function(){if(this.i=yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function yc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const _ of d.g.values())v=v.concat(_.D);return v}return C(d.i)}function ra(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],_=d.length,P=0;P<_;P++)v.push(d[P]);return v}v=[],_=0;for(P in d)v[_++]=d[P];return v}function ia(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var _=0;_<d;_++)v.push(_);return v}v=[],_=0;for(const P in d)v[_++]=P;return v}}}function ss(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var _=ia(d),P=ra(d),H=P.length,X=0;X<H;X++)v.call(void 0,P[X],_&&_[X],d)}var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(d,v){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var P=d[_].indexOf("="),H=null;if(0<=P){var X=d[_].substring(0,P);H=d[_].substring(P+1)}else X=d[_];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ii(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ii){this.h=d.h,fo(this,d.j),this.o=d.o,this.g=d.g,os(this,d.s),this.l=d.l;var v=d.i,_=new Jr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),as(this,_),this.m=d.m}else d&&(v=String(d).match(co))?(this.h=!1,fo(this,v[1]||"",!0),this.o=qe(v[2]||""),this.g=qe(v[3]||"",!0),os(this,v[4]),this.l=qe(v[5]||"",!0),as(this,v[6]||"",!0),this.m=qe(v[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}Ii.prototype.toString=function(){var d=[],v=this.j;v&&d.push(us(v,sa,!0),":");var _=this.g;return(_||v=="file")&&(d.push("//"),(v=this.o)&&d.push(us(v,sa,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(us(_,_.charAt(0)=="/"?_c:wc,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",us(_,Ol)),d.join("")};function $n(d){return new Ii(d)}function fo(d,v,_){d.j=_?qe(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function os(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function as(d,v,_){v instanceof Jr?(d.i=v,Zr(d.i,d.h)):(_||(v=us(v,Ec)),d.i=new Jr(v,d.h))}function nt(d,v,_){d.i.set(v,_)}function ls(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qe(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function us(d,v,_){return typeof d=="string"?(d=encodeURI(d).replace(v,vc),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var sa=/[#\/\?@]/g,wc=/[#\?:]/g,_c=/[#\?]/g,Ec=/[#\?@]/g,Ol=/#/g;function Jr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Gt(d){d.g||(d.g=new Map,d.h=0,d.i&&Rh(d.i,function(v,_){d.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=Jr.prototype,n.add=function(d,v){Gt(this),this.i=null,d=nr(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(v),this.h+=1,this};function _r(d,v){Gt(d),v=nr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Er(d,v){return Gt(d),v=nr(d,v),d.g.has(v)}n.forEach=function(d,v){Gt(this),this.g.forEach(function(_,P){_.forEach(function(H){d.call(v,H,P,this)},this)},this)},n.na=function(){Gt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let P=0;P<v.length;P++){const H=d[P];for(let X=0;X<H.length;X++)_.push(v[P])}return _},n.V=function(d){Gt(this);let v=[];if(typeof d=="string")Er(this,d)&&(v=v.concat(this.g.get(nr(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)v=v.concat(d[_])}return v},n.set=function(d,v){return Gt(this),this.i=null,d=nr(this,d),Er(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function cs(d,v,_){_r(d,v),0<_.length&&(d.i=null,d.g.set(nr(d,v),C(_)),d.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var P=v[_];const X=encodeURIComponent(String(P)),de=this.V(P);for(P=0;P<de.length;P++){var H=X;de[P]!==""&&(H+="="+encodeURIComponent(String(de[P]))),d.push(H)}}return this.i=d.join("&")};function nr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Zr(d,v){v&&!d.j&&(Gt(d),d.i=null,d.g.forEach(function(_,P){var H=P.toLowerCase();P!=H&&(_r(this,P),cs(this,H,_))},d)),d.j=v}function Ph(d,v){const _=new Dt;if(c.Image){const P=new Image;P.onload=x(xn,_,"TestLoadImage: loaded",!0,v,P),P.onerror=x(xn,_,"TestLoadImage: error",!1,v,P),P.onabort=x(xn,_,"TestLoadImage: abort",!1,v,P),P.ontimeout=x(xn,_,"TestLoadImage: timeout",!1,v,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else v(!1)}function Tc(d,v){const _=new Dt,P=new AbortController,H=setTimeout(()=>{P.abort(),xn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:P.signal}).then(X=>{clearTimeout(H),X.ok?xn(_,"TestPingServer: ok",!0,v):xn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),xn(_,"TestPingServer: error",!1,v)})}function xn(d,v,_,P,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),P(_)}catch{}}function kh(){this.g=new oo}function Ic(d,v,_){const P=_||"";try{ss(d,function(H,X){let de=H;p(H)&&(de=ts(H)),v.push(P+X+"="+encodeURIComponent(de))})}catch(H){throw v.push(P+"type="+encodeURIComponent("_badmap")),H}}function xi(d){this.l=d.Ub||null,this.j=d.eb||!1}b(xi,gr),xi.prototype.g=function(){return new ho(this.l,this.j)},xi.prototype.i=function(d){return function(){return d}}({});function ho(d,v){ut.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ho,ut),n=ho.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Ir(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Tr(this):Ir(this),this.readyState==3&&xc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Tr(this))},n.Qa=function(d){this.g&&(this.response=d,Tr(this))},n.ga=function(){this.g&&Tr(this)};function Tr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ir(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=v.next();return d.join(`\r
`)};function Ir(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Si(d){let v="";return ne(d,function(_,P){v+=P,v+=":",v+=_,v+=`\r
`}),v}function ds(d,v,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=Si(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):nt(d,v,_))}function ft(d){ut.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ft,ut);var Nh=/^https?$/i,Ml=["POST","PUT"];n=ft.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?fn(this.o):fn(vr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){po(this,X);return}if(d=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var H in P)_.set(H,P[H]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())_.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ml,v,void 0))||P||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of _)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){po(this,X)}};function po(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,oa(d),zn(d)}function oa(d){d.A||(d.A=!0,xt(d,"complete"),xt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,xt(this,"complete"),xt(this,"abort"),zn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ll(this):this.bb())},n.bb=function(){Ll(this)};function Ll(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Sn(d)!=4||d.Z()!=2)){if(d.u&&Sn(d)==4)Ei(d.Ea,0,d);else if(xt(d,"readystatechange"),Sn(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var P;if(P=de===0){var H=String(d.D).match(co)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),P=!Nh.test(H?H.toLowerCase():"")}_=P}if(_)xt(d,"complete"),xt(d,"success");else{d.m=6;try{var X=2<Sn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",oa(d)}}finally{zn(d)}}}}function zn(d,v){if(d.g){aa(d);const _=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||xt(d,"ready");try{_.onreadystatechange=P}catch{}}}function aa(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Sn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ns(v)}};function Vl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function la(d){const v={};d=(d.g&&2<=Sn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(B(d[P]))continue;var _=V(d[P]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[H]||[];v[H]=X,X.push(_)}N(v,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(d,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||v}function Fl(d){this.Aa=0,this.i=[],this.j=new Dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ei("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ei("baseRetryDelayMs",5e3,d),this.cb=ei("retryDelaySeedMs",1e4,d),this.Wa=ei("forwardChannelMaxRetries",2,d),this.wa=ei("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new uo(d&&d.concurrentRequestLimit),this.Da=new kh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fl.prototype,n.la=8,n.G=1,n.connect=function(d,v,_,P){Ge(0),this.W=d,this.H=v||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.I=Cc(this,null,this.W),ti(this)};function Kt(d){if(ua(d),d.G==3){var v=d.U++,_=$n(d.I);if(nt(_,"SID",d.K),nt(_,"RID",v),nt(_,"TYPE","terminate"),bi(d,_),v=new wr(d,d.j,v),v.L=2,v.v=ls($n(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&c.Image&&(new Image().src=v.v,_=!0),_||(v.g=Rc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),it(v)}Ac(d)}function xr(d){d.g&&(jl(d),d.g.cancel(),d.g=null)}function ua(d){xr(d),d.u&&(c.clearTimeout(d.u),d.u=null),fa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function ti(d){if(!Un(d.h)&&!d.s){d.s=!0;var v=d.Ga;me||re(),W||(me(),W=!0),J.add(v,d),d.B=0}}function Dh(d,v){return mc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=yt(E(d.Ga,d,v),bc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new wr(this,this.j,d);let X=this.o;if(this.S&&(X?(X=R(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(v+=P,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=fs(this,H,v),_=$n(this.I),nt(_,"RID",d),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),bi(this,_),X&&(this.O?v="headers="+encodeURIComponent(String(Si(X)))+"&"+v:this.m&&ds(_,this.m,X)),Dl(this.h,H),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",v),nt(_,"SID","null"),H.T=!0,na(H,_,null)):na(H,_,v),this.G=2}}else this.G==3&&(d?ca(this,d):this.i.length==0||Un(this.h)||ca(this))};function ca(d,v){var _;v?_=v.l:_=d.U++;const P=$n(d.I);nt(P,"SID",d.K),nt(P,"RID",_),nt(P,"AID",d.T),bi(d,P),d.m&&d.o&&ds(P,d.m,d.o),_=new wr(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),v&&(d.i=v.D.concat(d.i)),v=fs(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Dl(d.h,_),na(_,P,v)}function bi(d,v){d.H&&ne(d.H,function(_,P){nt(v,P,_)}),d.l&&ss({},function(_,P){nt(v,P,_)})}function fs(d,v,_){_=Math.min(d.i.length,_);var P=d.l?E(d.l.Na,d.l,d):null;e:{var H=d.i;let X=-1;for(;;){const de=["count="+_];X==-1?0<_?(X=H[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let et=!0;for(let Ot=0;Ot<_;Ot++){let Ke=H[Ot].g;const $t=H[Ot].map;if(Ke-=X,0>Ke)X=Math.max(0,H[Ot].g-100),et=!1;else try{Ic($t,de,"req"+Ke+"_")}catch{P&&P($t)}}if(et){P=de.join("&");break e}}}return d=d.i.splice(0,_),v.D=d,P}function mo(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;me||re(),W||(me(),W=!0),J.add(v,d),d.v=0}}function da(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=yt(E(d.Fa,d),bc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=yt(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),xr(this),Sc(this))};function jl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Sc(d){d.g=new wr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=$n(d.qa);nt(v,"RID","rpc"),nt(v,"SID",d.K),nt(v,"AID",d.T),nt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(v,"TO",d.ja),nt(v,"TYPE","xmlhttp"),bi(d,v),d.m&&d.o&&ds(v,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=ls($n(v)),_.m=null,_.P=!0,kl(_,d)}n.Za=function(){this.C!=null&&(this.C=null,xr(this),da(this),Ge(19))};function fa(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ha(d,v){var _=null;if(d.g==v){fa(d),jl(d),d.g=null;var P=2}else if(hn(d.h,v))_=v.D,gc(d.h,v),P=1;else return;if(d.G!=0){if(v.o)if(P==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;P=dt(),xt(P,new yr(P,_)),ti(d)}else mo(d);else if(H=v.s,H==3||H==0&&0<v.X||!(P==1&&Dh(d,v)||P==2&&da(d)))switch(_&&0<_.length&&(v=d.h,v.i=v.i.concat(_)),H){case 1:Ai(d,5);break;case 4:Ai(d,10);break;case 3:Ai(d,6);break;default:Ai(d,2)}}}function bc(d,v){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*v}function Ai(d,v){if(d.j.info("Error code "+v),v==2){var _=E(d.fb,d),P=d.Xa;const H=!P;P=new Ii(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fo(P,"https"),ls(P),H?Ph(P.toString(),_):Tc(P.toString(),_)}else Ge(2);d.G=0,d.l&&d.l.sa(v),Ac(d),ua(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Ac(d){if(d.G=0,d.ka=[],d.l){const v=yc(d.h);(v.length!=0||d.i.length!=0)&&(A(d.ka,v),A(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function Cc(d,v,_){var P=_ instanceof Ii?$n(_):new Ii(_);if(P.g!="")v&&(P.g=v+"."+P.g),os(P,P.s);else{var H=c.location;P=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new Ii(null);P&&fo(X,P),v&&(X.g=v),H&&os(X,H),_&&(X.l=_),P=X}return _=d.D,v=d.ya,_&&v&&nt(P,_,v),nt(P,"VER",d.la),bi(d,P),P}function Rc(d,v,_){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ft(new xi({eb:_})):new ft(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ul(){}n=Ul.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function pa(){}pa.prototype.g=function(d,v){return new pn(d,v)};function pn(d,v){ut.call(this),this.g=new Fl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!B(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new ni(this)}b(pn,ut),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kt(this.g)},pn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=ts(d),d=_);v.i.push(new pc(v.Ya++,d)),v.G==3&&ti(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,pn.aa.N.call(this)};function Pc(d){jn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const _ in v){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(Pc,jn);function kc(){Ti.call(this),this.status=1}b(kc,Ti);function ni(d){this.g=d}b(ni,Ul),ni.prototype.ua=function(){xt(this.g,"a")},ni.prototype.ta=function(d){xt(this.g,new Pc(d))},ni.prototype.sa=function(d){xt(this.g,new kc)},ni.prototype.ra=function(){xt(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,MI=function(){return new pa},OI=function(){return dt()},DI=ke,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Yd=ea,cc.COMPLETE="complete",NI=cc,rs.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",ut.prototype.listen=ut.prototype.K,vu=rs,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,kI=ft}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",f0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new $f("@firebase/firestore");function $a(){return jo.logLevel}function ye(n,...e){if(jo.logLevel<=Be.DEBUG){const t=e.map(Ug);jo.debug(`Firestore (${hl}): ${n}`,...t)}}function qi(n,...e){if(jo.logLevel<=Be.ERROR){const t=e.map(Ug);jo.error(`Firestore (${hl}): ${n}`,...t)}}function nl(n,...e){if(jo.logLevel<=Be.WARN){const t=e.map(Ug);jo.warn(`Firestore (${hl}): ${n}`,...t)}}function Ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LI(n,r,t)}function LI(n,e,t){let r=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qi(r),new Error(r)}function Ze(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||LI(e,s,r)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class t2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class n2{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $i,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $i)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new VI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class r2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new r2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new h0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new h0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=o2(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function $e(n,e){return n<e?-1:n>e?1:0}function Ym(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return $e(r,s);{const a=FI(),l=a2(a.encode(p0(n,t)),a.encode(p0(e,t)));return l!==0?l:$e(r,s)}}t+=r>65535?2:1}return $e(n.length,e.length)}function p0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function a2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return $e(n[t],e[t]);return $e(n.length,e.length)}function rl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=-62135596800,g0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*g0);return new rt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<m0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new rt(0,0))}static max(){return new Ve(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__name__";class li{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=li.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return $e(e.length,t.length)}static compareSegments(e,t){const r=li.isNumericId(e),s=li.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?li.extractNumericId(e).compare(li.extractNumericId(t)):Ym(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class lt extends li{construct(e,t,r){return new lt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const l2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends li{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return l2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new Jt([y0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(lt.fromString(e))}static fromName(e){return new Ae(lt.fromString(e).popFirst(5))}static empty(){return new Ae(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function u2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new rt(t+1,0):new rt(t,r));return new zs(s,Ae.empty(),e)}function c2(n){return new zs(n.readTime,n.key,Du)}class zs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zs(Ve.min(),Ae.empty(),Du)}static max(){return new zs(Ve.max(),Ae.empty(),Du)}}function d2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==f2)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&t()},h=>r(h))}),l=!0,a===s&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(s=>s?te.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(y=>{l[p]=y,++c,c===a&&r(l)},y=>s(y))}})}static doWhile(e,t){return new te((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function p2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Kf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=-1;function Yf(n){return n==null}function vf(n){return n===0&&1/n==-1/0}function m2(n){return typeof n=="number"&&Number.isInteger(n)&&!vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="";function g2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=v0(e)),e=y2(n.get(t),e);return v0(e)}function y2(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case UI:t+="";break;default:t+=a}}return t}function v0(n){return n+UI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $I(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Xt.RED,this.left=s??Xt.EMPTY,this.right=a??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Xt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Xt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Ft(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zI("Invalid base64 string: "+a):a}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=v2.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ws(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="server_timestamp",WI="__type__",HI="__previous_value__",qI="__local_write_time__";function zg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[WI])===null||t===void 0?void 0:t.stringValue)===BI}function Qf(n){const e=n.mapValue.fields[HI];return zg(e)?Qf(e):e}function Ou(n){const e=Bs(n.mapValue.fields[qI].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,t,r,s,a,l,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const wf="(default)";class Mu{constructor(e,t){this.projectId=e,this.database=t||wf}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===wf}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="__type__",_2="__max__",Cd={mapValue:{}},KI="__vector__",_f="value";function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zg(n)?4:T2(n)?9007199254740991:E2(n)?10:11:Oe(28295,{value:n})}function mi(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ou(n).isEqual(Ou(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Bs(s.timestampValue),c=Bs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Ws(s.bytesValue).isEqual(Ws(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return bt(s.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return bt(s.integerValue)===bt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=bt(s.doubleValue),c=bt(a.doubleValue);return l===c?vf(l)===vf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return rl(n.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(w0(l)!==w0(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!mi(l[h],c[h])))return!1;return!0}(n,e);default:return Oe(52216,{left:n})}}function Lu(n,e){return(n.values||[]).find(t=>mi(t,e))!==void 0}function il(n,e){if(n===e)return 0;const t=Hs(n),r=Hs(e);if(t!==r)return $e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=bt(a.integerValue||a.doubleValue),h=bt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return E0(n.timestampValue,e.timestampValue);case 4:return E0(Ou(n),Ou(e));case 5:return Ym(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Ws(a),h=Ws(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=$e(c[p],h[p]);if(y!==0)return y}return $e(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=$e(bt(a.latitude),bt(l.latitude));return c!==0?c:$e(bt(a.longitude),bt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return T0(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,y;const g=a.fields||{},E=l.fields||{},x=(c=g[_f])===null||c===void 0?void 0:c.arrayValue,b=(h=E[_f])===null||h===void 0?void 0:h.arrayValue,C=$e(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0);return C!==0?C:T0(x,b)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Cd.mapValue&&l===Cd.mapValue)return 0;if(a===Cd.mapValue)return 1;if(l===Cd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let g=0;g<h.length&&g<y.length;++g){const E=Ym(h[g],y[g]);if(E!==0)return E;const x=il(c[h[g]],p[y[g]]);if(x!==0)return x}return $e(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Oe(23264,{Pe:t})}}function E0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Bs(n),r=Bs(e),s=$e(t.seconds,r.seconds);return s!==0?s:$e(t.nanos,r.nanos)}function T0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=il(t[s],r[s]);if(a)return a}return $e(t.length,r.length)}function sl(n){return Qm(n)}function Qm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Bs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ws(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Qm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Qm(t.fields[l])}`;return s+"}"}(n.mapValue):Oe(61005,{value:n})}function Qd(n){switch(Hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qf(n);return e?16+Qd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Qd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Js(r.fields,(a,l)=>{s+=a.length+Qd(l)}),s}(n.mapValue);default:throw Oe(13486,{value:n})}}function I0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xm(n){return!!n&&"integerValue"in n}function Bg(n){return!!n&&"arrayValue"in n}function x0(n){return!!n&&"nullValue"in n}function S0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xd(n){return!!n&&"mapValue"in n}function E2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[GI])===null||t===void 0?void 0:t.stringValue)===KI}function Su(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Su(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Su(n.arrayValue.values[t]);return e}return Object.assign({},n)}function T2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(t)}setAll(e){let t=Jt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=Su(l):s.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Xd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Js(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Mn(Su(this.value))}}function YI(n){const e=[];return Js(n.fields,(t,r)=>{const s=new Jt([t]);if(Xd(r)){const a=YI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,Ve.min(),Ve.min(),Ve.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,s){return new ln(e,1,t,Ve.min(),r,s,0)}static newNoDocument(e,t){return new ln(e,2,t,Ve.min(),Ve.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ve.min(),Ve.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.position=e,this.inclusive=t}}function b0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),t.key):r=il(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function A0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function I2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{}class Pt extends QI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new S2(e,t,r):t==="array-contains"?new C2(e,r):t==="in"?new R2(e,r):t==="not-in"?new P2(e,r):t==="array-contains-any"?new k2(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new b2(e,r):new A2(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends QI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Lr(e,t)}matches(e){return XI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function XI(n){return n.op==="and"}function JI(n){return x2(n)&&XI(n)}function x2(n){for(const e of n.filters)if(e instanceof Lr)return!1;return!0}function Jm(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+sl(n.value);if(JI(n))return n.filters.map(e=>Jm(e)).join(",");{const e=n.filters.map(t=>Jm(t)).join(",");return`${n.op}(${e})`}}function ZI(n,e){return n instanceof Pt?function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&mi(r.value,s.value)}(n,e):n instanceof Lr?function(r,s){return s instanceof Lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&ZI(l,s.filters[c]),!0):!1}(n,e):void Oe(19439)}function ex(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${sl(t.value)}`}(n):n instanceof Lr?function(t){return t.op.toString()+" {"+t.getFilters().map(ex).join(" ,")+"}"}(n):"Filter"}class S2 extends Pt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class b2 extends Pt{constructor(e,t){super(e,"in",t),this.keys=tx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class A2 extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=tx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class C2 extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bg(t)&&Lu(t.arrayValue,this.value)}}class R2 extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lu(this.value.arrayValue,t)}}class P2 extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Lu(this.value.arrayValue,t)}}class k2 extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function C0(n,e=null,t=[],r=[],s=null,a=null,l=null){return new N2(n,e,t,r,s,a,l)}function Wg(n){const e=Fe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Jm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sl(r)).join(",")),e.Ie=t}return e.Ie}function Hg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!I2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!A0(n.startAt,e.startAt)&&A0(n.endAt,e.endAt)}function Zm(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function D2(n,e,t,r,s,a,l,c){return new gl(n,e,t,r,s,a,l,c)}function qg(n){return new gl(n)}function R0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nx(n){return n.collectionGroup!==null}function bu(n){const e=Fe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ft(Jt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Vu(a,r))}),t.has(Jt.keyField().canonicalString())||e.Ee.push(new Vu(Jt.keyField(),r))}return e.Ee}function di(n){const e=Fe(n);return e.de||(e.de=O2(e,bu(n))),e.de}function O2(n,e){if(n.limitType==="F")return C0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Vu(s.field,a)});const t=n.endAt?new Ef(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ef(n.startAt.position,n.startAt.inclusive):null;return C0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function eg(n,e){const t=n.filters.concat([e]);return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tf(n,e,t){return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xf(n,e){return Hg(di(n),di(e))&&n.limitType===e.limitType}function rx(n){return`${Wg(di(n))}|lt:${n.limitType}`}function za(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>ex(s)).join(", ")}]`),Yf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>sl(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>sl(s)).join(",")),`Target(${r})`}(di(n))}; limitType=${n.limitType})`}function Jf(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of bu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,c,h){const p=b0(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,bu(r),s)||r.endAt&&!function(l,c,h){const p=b0(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,bu(r),s))}(n,e)}function M2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ix(n){return(e,t)=>{let r=!1;for(const s of bu(n)){const a=L2(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function L2(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?il(h,p):Oe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return $I(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new _t(Ae.comparator);function Gi(){return V2}const sx=new _t(Ae.comparator);function wu(...n){let e=sx;for(const t of n)e=e.insert(t.key,t);return e}function ox(n){let e=sx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oo(){return Au()}function ax(){return Au()}function Au(){return new Yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const F2=new _t(Ae.comparator),j2=new Ft(Ae.comparator);function We(...n){let e=j2;for(const t of n)e=e.add(t);return e}const U2=new Ft($e);function $2(){return U2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function lx(n){return{integerValue:""+n}}function z2(n,e){return m2(e)?lx(e):Gg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function B2(n,e,t){return n instanceof If?function(s,a){const l={fields:{[WI]:{stringValue:BI},[qI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&zg(a)&&(a=Qf(a)),a&&(l.fields[HI]=a),{mapValue:l}}(t,e):n instanceof Fu?cx(n,e):n instanceof ju?dx(n,e):function(s,a){const l=ux(s,a),c=P0(l)+P0(s.Re);return Xm(l)&&Xm(s.Re)?lx(c):Gg(s.serializer,c)}(n,e)}function W2(n,e,t){return n instanceof Fu?cx(n,e):n instanceof ju?dx(n,e):t}function ux(n,e){return n instanceof xf?function(r){return Xm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class If extends Zf{}class Fu extends Zf{constructor(e){super(),this.elements=e}}function cx(n,e){const t=fx(e);for(const r of n.elements)t.some(s=>mi(s,r))||t.push(r);return{arrayValue:{values:t}}}class ju extends Zf{constructor(e){super(),this.elements=e}}function dx(n,e){let t=fx(e);for(const r of n.elements)t=t.filter(s=>!mi(s,r));return{arrayValue:{values:t}}}class xf extends Zf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function P0(n){return bt(n.integerValue||n.doubleValue)}function fx(n){return Bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function H2(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Fu&&s instanceof Fu||r instanceof ju&&s instanceof ju?rl(r.elements,s.elements,mi):r instanceof xf&&s instanceof xf?mi(r.Re,s.Re):r instanceof If&&s instanceof If}(n.transform,e.transform)}class q2{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class eh{}function hx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kg(n.key,dr.none()):new Ju(n.key,n.data,dr.none());{const t=n.data,r=Mn.empty();let s=new Ft(Jt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Zs(n.key,r,new Yn(s.toArray()),dr.none())}}function G2(n,e,t){n instanceof Ju?function(s,a,l){const c=s.value.clone(),h=N0(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Zs?function(s,a,l){if(!Jd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=N0(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(px(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Cu(n,e,t,r){return n instanceof Ju?function(a,l,c,h){if(!Jd(a.precondition,l))return c;const p=a.value.clone(),y=D0(a.fieldTransforms,h,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zs?function(a,l,c,h){if(!Jd(a.precondition,l))return c;const p=D0(a.fieldTransforms,h,l),y=l.data;return y.setAll(px(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,l,c){return Jd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function K2(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=ux(r.transform,s||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,a))}return t||null}function k0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&rl(r,s,(a,l)=>H2(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ju extends eh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zs extends eh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function px(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function N0(n,e,t){const r=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,W2(l,c,t[s]))}return r}function D0(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,B2(a,l,e))}return r}class Kg extends eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2 extends eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&G2(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Cu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ax();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const h=hx(l,c);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(t,r)=>k0(t,r))&&rl(this.baseMutations,e.baseMutations,(t,r)=>k0(t,r))}}class Yg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return F2}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Yg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X2=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ye;function Z2(n){switch(n){case ee.OK:return Oe(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function mx(n){if(n===void 0)return qi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Rt.OK:return ee.OK;case Rt.CANCELLED:return ee.CANCELLED;case Rt.UNKNOWN:return ee.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ee.INTERNAL;case Rt.UNAVAILABLE:return ee.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ee.NOT_FOUND;case Rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Rt.ABORTED:return ee.ABORTED;case Rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Rt.DATA_LOSS:return ee.DATA_LOSS;default:return Oe(39323,{code:n})}}(Ye=Rt||(Rt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new Fs([4294967295,4294967295],0);function O0(n){const e=FI().encode(n),t=new PI;return t.update(e),new Uint8Array(t.digest())}function M0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fs([t,r],0),new Fs([s,a],0)]}class Qg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _u(`Invalid padding: ${t}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _u(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Fs.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Fs.fromNumber(r)));return s.compare(eO)===1&&(s=new Fs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=O0(e),[r,s]=M0(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Qg(a,s,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=O0(e),[r,s]=M0(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new th(Ve.min(),s,new _t($e),Gi(),We())}}class Zu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Zu(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class gx{constructor(e,t){this.targetId=e,this.Ce=t}}class yx{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class L0{constructor(){this.Fe=0,this.Me=V0(),this.xe=Zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),r=We();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Oe(38017,{changeType:a})}}),new Zu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=V0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tO{constructor(e){this.ze=e,this.je=new Map,this.He=Gi(),this.Je=Rd(),this.Ye=Rd(),this.Ze=new _t($e)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(Zm(a))if(r===0){const l=new Ae(a.path);this.tt(t,l,ln.newNoDocument(l,Ve.min()))}else Ze(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),h=c?this.lt(c,e,l):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=Ws(r).toUint8Array()}catch(h){if(h instanceof zI)return nl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Qg(l,s,a)}catch(h){return nl(h instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&Zm(c.target)){const h=new Ae(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,ln.newNoDocument(h,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=We();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const s=new th(e,t,this.Ze,this.He,r);return this.He=Gi(),this.Je=Rd(),this.Ye=Rd(),this.Ze=new _t($e),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new L0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ft($e),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ft($e),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new L0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Rd(){return new _t(Ae.comparator)}function V0(){return new _t(Ae.comparator)}const nO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class sO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tg(n,e){return n.useProto3Json||Yf(e)?e:{value:e}}function Sf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function oO(n,e){return Sf(n,e.toTimestamp())}function fi(n){return Ze(!!n,49232),Ve.fromTimestamp(function(t){const r=Bs(t);return new rt(r.seconds,r.nanos)}(n))}function Xg(n,e){return ng(n,e).canonicalString()}function ng(n,e){const t=function(s){return new lt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function wx(n){const e=lt.fromString(n);return Ze(xx(e),10190,{key:e.toString()}),e}function rg(n,e){return Xg(n.databaseId,e.path)}function pm(n,e){const t=wx(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(Ex(t))}function _x(n,e){return Xg(n.databaseId,e)}function aO(n){const e=wx(n);return e.length===4?lt.emptyPath():Ex(e)}function ig(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ex(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function F0(n,e,t){return{name:rg(n,e),fields:t.value.mapValue.fields}}function lO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Ze(y===void 0||typeof y=="string",58123),Zt.fromBase64String(y||"")):(Ze(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Zt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const y=p.code===void 0?ee.UNKNOWN:mx(p.code);return new pe(y,p.message||"")}(l);t=new yx(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pm(n,r.document.name),a=fi(r.document.updateTime),l=r.document.createTime?fi(r.document.createTime):Ve.min(),c=new Mn({mapValue:{fields:r.document.fields}}),h=ln.newFoundDocument(s,a,l,c),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Zd(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pm(n,r.document),a=r.readTime?fi(r.readTime):Ve.min(),l=ln.newNoDocument(s,a),c=r.removedTargetIds||[];t=new Zd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pm(n,r.document),a=r.removedTargetIds||[];t=new Zd([],a,s,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new J2(s,a),c=r.targetId;t=new gx(c,l)}}return t}function uO(n,e){let t;if(e instanceof Ju)t={update:F0(n,e.key,e.value)};else if(e instanceof Kg)t={delete:rg(n,e.key)};else if(e instanceof Zs)t={update:F0(n,e.key,e.data),updateMask:vO(e.fieldMask)};else{if(!(e instanceof Y2))return Oe(16599,{ft:e.type});t={verify:rg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof If)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ju)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof xf)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Oe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:oO(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)}(n,e.precondition)),t}function cO(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(s,a){let l=s.updateTime?fi(s.updateTime):fi(a);return l.isEqual(Ve.min())&&(l=fi(a)),new q2(l,s.transformResults||[])}(t,e))):[]}function dO(n,e){return{documents:[_x(n,e.path)]}}function fO(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_x(n,s);const a=function(p){if(p.length!==0)return Ix(Lr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Ba(E.field),direction:mO(E.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=tg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function hO(n){let e=aO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(g){const E=Tx(g);return E instanceof Lr&&JI(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(E=>function(b){return new Vu(Wa(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(g){let E;return E=typeof g=="object"?g.value:g,Yf(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(g){const E=!!g.before,x=g.values||[];return new Ef(x,E)}(t.startAt));let p=null;return t.endAt&&(p=function(g){const E=!g.before,x=g.values||[];return new Ef(x,E)}(t.endAt)),D2(e,s,l,a,c,"F",h,p)}function pO(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Tx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wa(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wa(t.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wa(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wa(t.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Wa(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lr.create(t.compositeFilter.filters.map(r=>Tx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(t.compositeFilter.op))}(n):Oe(30097,{filter:n})}function mO(n){return nO[n]}function gO(n){return rO[n]}function yO(n){return iO[n]}function Ba(n){return{fieldPath:n.canonicalString()}}function Wa(n){return Jt.fromServerFormat(n.fieldPath)}function Ix(n){return n instanceof Pt?function(t){if(t.op==="=="){if(S0(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NAN"}};if(x0(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S0(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NAN"}};if(x0(t.value))return{unaryFilter:{field:Ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(t.field),op:gO(t.op),value:t.value}}}(n):n instanceof Lr?function(t){const r=t.getFilters().map(s=>Ix(s));return r.length===1?r[0]:{compositeFilter:{op:yO(t.op),filters:r}}}(n):Oe(54877,{filter:n})}function vO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,r,s,a=Ve.min(),l=Ve.min(),c=Zt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.wt=e}}function _O(n){const e=hO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.yn=new TO}addToCollectionParentIndex(e,t){return this.yn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(zs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class TO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ft(lt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ft(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sx=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(Sx,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ol(0)}static ir(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",IO=1048576;function $0([n,e],[t,r]){const s=$e(n,t);return s===0?$e(e,r):s}class xO{constructor(e){this.cr=e,this.buffer=new Ft($0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ye(U0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?ye(U0,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Ir(3e5)})}}class bO{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Kf.le);const r=new xO(t);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(j0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,s,a,l,c,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(p=Date.now(),$a()<=Be.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${g} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:g})))}}function AO(n,e){return new bO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.changes=new Yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Cu(r.mutation,s,Yn.empty(),rt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const s=Oo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=wu();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Oo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,s){let a=Gi();const l=Au(),c=function(){return Au()}();return t.forEach((h,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Zs)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Cu(y.mutation,p,y.mutation.getFieldMask(),rt.now())):l.set(p.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,y)=>l.set(p,y)),t.forEach((p,y)=>{var g;return c.set(p,new RO(y,(g=l.get(p))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Au();let s=new _t((l,c)=>l-c),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||Yn.empty();y=c.applyToLocalView(p,y),r.set(h,y);const g=(s.get(c.batchId)||We()).add(h);s=s.insert(c.batchId,g)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,y=h.value,g=ax();y.forEach(E=>{if(!a.has(E)){const x=hx(t.get(E),r.get(E));x!==null&&g.set(E,x),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,g))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):te.resolve(Oo());let c=Du,h=a;return l.next(p=>te.forEach(p,(y,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(y)?te.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{h=h.insert(y,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,We())).next(y=>({batchId:c,changes:ox(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(r=>{let s=wu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=wu();return this.indexManager.getCollectionParents(e,a).next(c=>te.forEach(c,h=>{const p=function(g,E){return new gl(E,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((g,E)=>{l=l.insert(g,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((h,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,ln.newInvalidDocument(y)))});let c=wu();return l.forEach((h,p)=>{const y=a.get(h);y!==void 0&&Cu(y.mutation,p,Yn.empty(),rt.now()),Jf(t,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return te.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:fi(s.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:_O(s.bundledQuery),readTime:fi(s.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.overlays=new _t(Ae.comparator),this.Or=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Oo();return te.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=Oo(),a=t.length+1,l=new Ae(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new _t((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Oo(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const c=Oo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>c.set(p,y)),!(c.size()>=s)););return te.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new X2(t,r));let a=this.Or.get(t);a===void 0&&(a=We(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.Nr=new Ft(Ht.Br),this.Lr=new Ft(Ht.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Ht(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Ht(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ae(new lt([])),r=new Ht(t,e),s=new Ht(t,e+1),a=[];return this.Lr.forEachInRange([r,s],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ae(new lt([])),r=new Ht(t,e),s=new Ht(t,e+1);let a=We();return this.Lr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ht(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ae.comparator(e.key,t.key)||$e(e.Gr,t.Gr)}static kr(e,t){return $e(e.Gr,t.Gr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ft(Ht.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q2(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.zr=this.zr.add(new Ht(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Hr(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?$g:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ht(t,0),s=new Ht(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,s],l=>{const c=this.jr(l.Gr);a.push(c)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft($e);return t.forEach(s=>{const a=new Ht(s,0),l=new Ht(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],c=>{r=r.add(c.Gr)})}),te.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const l=new Ht(new Ae(a),0);let c=new Ft($e);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(h.Gr)),!0)},l),te.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ze(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return te.forEach(t.mutations,s=>{const a=new Ht(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Ht(t,0),s=this.zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.Zr=e,this.docs=function(){return new _t(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Gi();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():ln.newInvalidDocument(s))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Gi();const l=t.path,c=new Ae(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||d2(c2(y),r)<=0||(s.has(y.key)||Jf(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Oe(9500)}Xr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new LO(this)}getSize(e){return te.resolve(this.size)}}class LO extends CO{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.persistence=e,this.ei=new Yo(t=>Wg(t),Hg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ti=0,this.ni=new Jg,this.targetCount=0,this.ri=ol.rr()}forEachTarget(e,t){return this.ei.forEach((r,s)=>t(s)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),te.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.ar(t),te.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ei.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),te.waitFor(a).next(()=>s)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t){this.ii={},this.overlays={},this.si=new Kf(0),this.oi=!1,this.oi=!0,this._i=new DO,this.referenceDelegate=e(this),this.ai=new VO(this),this.indexManager=new EO,this.remoteDocumentCache=function(s){return new MO(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new wO(t),this.ci=new kO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new OO(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const s=new FO(this.si.next());return this.referenceDelegate.li(),r(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,t){return te.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class FO extends h2{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Ti=new Jg,this.Ii=null}static Ei(e){return new Zg(e)}get di(){if(this.Ii)return this.Ii;throw Oe(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,r=>{const s=Ae.fromPath(r);return this.Ai(e,s).next(a=>{a||t.removeEntry(s,Ve.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return te.or([()=>te.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class bf{constructor(e,t){this.persistence=e,this.Ri=new Yo(r=>g2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=AO(this,t)}static Ei(e,t){return new bf(e,t)}li(){}hi(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return te.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(a=>a?te.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,l=>this.gr(e,l,t).next(c=>{c||(r++,a.removeEntry(l,Ve.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qd(e.data.value)),t}gr(e,t,r){return te.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=s}static Ps(e,t){let r=We(),s=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ey(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return BR()?8:p2(un())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new jO;return this.fs(e,t,l).next(c=>{if(a.result=c,this.Is)return this.gs(e,t,l,c.size)})}).next(()=>a.result)}gs(e,t,r,s){return r.documentReadCount<this.Es?($a()<=Be.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):($a()<=Be.DEBUG&&ye("QueryEngine","Query:",za(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?($a()<=Be.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(t))):te.resolve())}Rs(e,t){if(R0(t))return te.resolve(null);let r=di(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Tf(t,null,"F"),r=di(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.As.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,c);return this.ys(t,p,l,h.readTime)?this.Rs(e,Tf(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,s){return R0(t)||s.isEqual(Ve.min())?te.resolve(null):this.As.getDocuments(e,r).next(a=>{const l=this.ps(t,a);return this.ys(t,l,r,s)?te.resolve(null):($a()<=Be.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),za(t)),this.ws(e,l,t,u2(s,Du)).next(c=>c))})}ps(e,t){let r=new Ft(ix(e));return t.forEach((s,a)=>{Jf(e,a)&&(r=r.add(a))}),r}ys(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,t,r){return $a()<=Be.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",za(t)),this.As.getDocumentsMatchingQuery(e,t,zs.min(),r)}ws(e,t,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="LocalStore",$O=3e8;class zO{constructor(e,t,r,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new _t($e),this.Ds=new Yo(a=>Wg(a),Hg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function BO(n,e,t,r){return new zO(n,e,t,r)}async function Ax(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=We();for(const p of s){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of a){c.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:c}))})})}function WO(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,y){const g=p.batch,E=g.keys();let x=te.resolve();return E.forEach(b=>{x=x.next(()=>y.getEntry(h,b)).next(C=>{const A=p.docVersions.get(b);Ze(A!==null,48541),C.version.compareTo(A)<0&&(g.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),y.addEntry(C)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=We();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Cx(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function HO(n,e){const t=Fe(n),r=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const c=[];e.targetChanges.forEach((y,g)=>{const E=s.get(g);if(!E)return;c.push(t.ai.removeMatchingKeys(a,y.removedDocuments,g).next(()=>t.ai.addMatchingKeys(a,y.addedDocuments,g)));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(Zt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),s=s.insert(g,x),function(C,A,O){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=$O?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,x,y)&&c.push(t.ai.updateTargetData(a,x))});let h=Gi(),p=We();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),c.push(qO(a,l,e.documentUpdates).next(y=>{h=y.xs,p=y.Os})),!r.isEqual(Ve.min())){const y=t.ai.getLastRemoteSnapshotVersion(a).next(g=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(y)}return te.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ss=s,a))}function qO(n,e,t){let r=We(),s=We();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Gi();return t.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ve.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ye(ty,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{xs:l,Os:s}})}function GO(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$g),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KO(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ai.getTargetData(r,e).next(a=>a?(s=a,te.resolve(s)):t.ai.allocateTargetId(r).next(l=>(s=new Ms(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function sg(n,e,t){const r=Fe(n),s=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!ml(l))throw l;ye(ty,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function z0(n,e,t){const r=Fe(n);let s=Ve.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,y){const g=Fe(h),E=g.Ds.get(y);return E!==void 0?te.resolve(g.Ss.get(E)):g.ai.getTargetData(p,y)}(r,l,di(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?s:Ve.min(),t?a:We())).next(c=>(YO(r,M2(e),c),{documents:c,Ns:a})))}function YO(n,e,t){let r=n.vs.get(e)||Ve.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class B0{constructor(){this.activeTargetIds=$2()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QO{constructor(){this.So=new B0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new B0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="ConnectivityMonitor";class H0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ye(W0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ye(W0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function og(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",JO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZO{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===wf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,t,r,s,a){const l=og(),c=this.$o(e,t.toUriEncodedString());ye(mm,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,s,a),this.Ko(e,c,h,r).then(p=>(ye(mm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw nl(mm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Wo(e,t,r,s,a,l){return this.Qo(e,t,r,s,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}$o(e,t){const r=JO[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class tM extends ZO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,s){const a=og();return new Promise((l,c)=>{const h=new kI;h.setWithCredentials(!0),h.listenOnce(NI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Yd.NO_ERROR:const y=h.getResponseJson();ye(on,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case Yd.TIMEOUT:ye(on,`RPC '${e}' ${a} timed out`),c(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:const g=h.getStatus();if(ye(on,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const b=function(A){const O=A.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(O)>=0?O:ee.UNKNOWN}(x.status);c(new pe(b,x.message))}else c(new pe(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{s_:e,streamId:a,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{ye(on,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ye(on,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",p,r,15)})}a_(e,t,r){const s=og(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=MI(),c=OI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=a.join("");ye(on,`Creating RPC '${e}' stream ${s}: ${y}`,h);const g=l.createWebChannel(y,h);let E=!1,x=!1;const b=new eM({Go:A=>{x?ye(on,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(E||(ye(on,`Opening RPC '${e}' stream ${s} transport.`),g.open(),E=!0),ye(on,`RPC '${e}' stream ${s} sending:`,A),g.send(A))},zo:()=>g.close()}),C=(A,O,B)=>{A.listen(O,$=>{try{B($)}catch(K){setTimeout(()=>{throw K},0)}})};return C(g,vu.EventType.OPEN,()=>{x||(ye(on,`RPC '${e}' stream ${s} transport opened.`),b.t_())}),C(g,vu.EventType.CLOSE,()=>{x||(x=!0,ye(on,`RPC '${e}' stream ${s} transport closed`),b.r_())}),C(g,vu.EventType.ERROR,A=>{x||(x=!0,nl(on,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),b.r_(new pe(ee.UNAVAILABLE,"The operation could not be completed")))}),C(g,vu.EventType.MESSAGE,A=>{var O;if(!x){const B=A.data[0];Ze(!!B,16349);const $=B,K=($==null?void 0:$.error)||((O=$[0])===null||O===void 0?void 0:O.error);if(K){ye(on,`RPC '${e}' stream ${s} received error:`,K);const Z=K.status;let ne=function(k){const L=Rt[k];if(L!==void 0)return mx(L)}(Z),N=K.message;ne===void 0&&(ne=ee.INTERNAL,N="Unknown error status: "+Z+" with message "+K.message),x=!0,b.r_(new pe(ne,N)),g.close()}else ye(on,`RPC '${e}' stream ${s} received:`,B),b.i_(B)}}),C(c,DI.STAT_EVENT,A=>{A.stat===Km.PROXY?ye(on,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Km.NOPROXY&&ye(on,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(n){return new sO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,r=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="PersistentStream";class Px{constructor(e,t,r,s,a,l,c,h){this.bi=e,this.R_=r,this.V_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Rx(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===t&&this.B_(r,s)},r=>{e(()=>{const s=new pe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ye(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ye(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nM extends Px{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=lO(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ve.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ve.min():l.readTime?fi(l.readTime):Ve.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=ig(this.serializer),t.addTarget=function(a,l){let c;const h=l.target;if(c=Zm(h)?{documents:dO(a,h)}:{query:fO(a,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=vx(a,l.resumeToken);const p=tg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ve.min())>0){c.readTime=Sf(a,l.snapshotVersion.toTimestamp());const p=tg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=pO(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=ig(this.serializer),t.removeTarget=e,this.F_(t)}}class rM extends Px{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=cO(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=ig(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>uO(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{}class sM extends iM{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,ng(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ee.UNKNOWN,a.toString())})}Wo(e,t,r,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,ng(t,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ee.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class oM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(qi(t),this.ea=!1):ye("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class aM{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{r.enqueueAndForget(async()=>{Qo(this)&&(ye(Uo,"Restarting streams for network reachability change."),await async function(h){const p=Fe(h);p.aa.add(4),await ec(p),p.la.set("Unknown"),p.aa.delete(4),await rh(p)}(this))})}),this.la=new oM(r,s)}}async function rh(n){if(Qo(n))for(const e of n.ua)await e(!0)}async function ec(n){for(const e of n.ua)await e(!1)}function kx(n,e){const t=Fe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),sy(t)?iy(t):yl(t).b_()&&ry(t,e))}function ny(n,e){const t=Fe(n),r=yl(t);t._a.delete(e),r.b_()&&Nx(t,e),t._a.size===0&&(r.b_()?r.v_():Qo(t)&&t.la.set("Unknown"))}function ry(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(n).U_(e)}function Nx(n,e){n.ha.Ke(e),yl(n).K_(e)}function iy(n){n.ha=new tO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),yl(n).start(),n.la.ta()}function sy(n){return Qo(n)&&!yl(n).w_()&&n._a.size>0}function Qo(n){return Fe(n).aa.size===0}function Dx(n){n.ha=void 0}async function lM(n){n.la.set("Online")}async function uM(n){n._a.forEach((e,t)=>{ry(n,e)})}async function cM(n,e){Dx(n),sy(n)?(n.la.ia(e),iy(n)):n.la.set("Unknown")}async function dM(n,e,t){if(n.la.set("Online"),e instanceof yx&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s._a.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s._a.delete(c),s.ha.removeTarget(c))}(n,e)}catch(r){ye(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Af(n,r)}else if(e instanceof Zd?n.ha.Xe(e):e instanceof gx?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ve.min()))try{const r=await Cx(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.ha.It(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=a._a.get(p);y&&a._a.set(p,y.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const y=a._a.get(h);if(!y)return;a._a.set(h,y.withResumeToken(Zt.EMPTY_BYTE_STRING,y.snapshotVersion)),Nx(a,h);const g=new Ms(y.target,h,p,y.sequenceNumber);ry(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ye(Uo,"Failed to raise snapshot:",r),await Af(n,r)}}async function Af(n,e,t){if(!ml(e))throw e;n.aa.add(1),await ec(n),n.la.set("Offline"),t||(t=()=>Cx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Uo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await rh(n)})}function Ox(n,e){return e().catch(t=>Af(n,t,e))}async function ih(n){const e=Fe(n),t=qs(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:$g;for(;fM(e);)try{const s=await GO(e.localStore,r);if(s===null){e.oa.length===0&&t.v_();break}r=s.batchId,hM(e,s)}catch(s){await Af(e,s)}Mx(e)&&Lx(e)}function fM(n){return Qo(n)&&n.oa.length<10}function hM(n,e){n.oa.push(e);const t=qs(n);t.b_()&&t.W_&&t.G_(e.mutations)}function Mx(n){return Qo(n)&&!qs(n).w_()&&n.oa.length>0}function Lx(n){qs(n).start()}async function pM(n){qs(n).H_()}async function mM(n){const e=qs(n);for(const t of n.oa)e.G_(t.mutations)}async function gM(n,e,t){const r=n.oa.shift(),s=Yg.from(r,e,t);await Ox(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ih(n)}async function yM(n,e){e&&qs(n).W_&&await async function(r,s){if(function(l){return Z2(l)&&l!==ee.ABORTED}(s.code)){const a=r.oa.shift();qs(r).D_(),await Ox(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await ih(r)}}(n,e),Mx(n)&&Lx(n)}async function G0(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),ye(Uo,"RemoteStore received new credentials");const r=Qo(t);t.aa.add(3),await ec(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await rh(t)}async function vM(n,e){const t=Fe(n);e?(t.aa.delete(2),await rh(t)):e||(t.aa.add(2),await ec(t),t.la.set("Unknown"))}function yl(n){return n.Pa||(n.Pa=function(t,r,s){const a=Fe(t);return a.Y_(),new nM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:lM.bind(null,n),Jo:uM.bind(null,n),Zo:cM.bind(null,n),Q_:dM.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),sy(n)?iy(n):n.la.set("Unknown")):(await n.Pa.stop(),Dx(n))})),n.Pa}function qs(n){return n.Ta||(n.Ta=function(t,r,s){const a=Fe(t);return a.Y_(),new rM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:pM.bind(null,n),Zo:yM.bind(null,n),z_:mM.bind(null,n),j_:gM.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await ih(n)):(await n.Ta.stop(),n.oa.length>0&&(ye(Uo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new oy(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(n,e){if(qi("AsyncQueue",`${e}: ${n}`),ml(n))return new pe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=wu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.Ia=new _t(Ae.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Oe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class al{constructor(e,t,r,s,a,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new al(e,t,Qa.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class _M{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const s=Fe(t),a=s.queries;s.queries=Y0(),a.forEach((l,c)=>{for(const h of c.Ra)h.onError(r)})})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function Y0(){return new Yo(n=>rx(n),Xf)}async function Vx(n,e){const t=Fe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Va()&&e.ma()&&(r=2):(a=new wM,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(s,!0);break;case 1:a.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=ay(l,`Initialization of query '${za(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&ly(t)}async function Fx(n,e){const t=Fe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function EM(n,e){const t=Fe(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.Ra)c.pa(s)&&(r=!0);l.Aa=s}}r&&ly(t)}function TM(n,e,t){const r=Fe(n),s=r.queries.get(e);if(s)for(const a of s.Ra)a.onError(t);r.queries.delete(e)}function ly(n){n.fa.forEach(e=>{e.next()})}var ag,Q0;(Q0=ag||(ag={})).ya="default",Q0.Cache="cache";class jx{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.key=e}}class $x{constructor(e){this.key=e}}class IM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=We(),this.mutatedKeys=We(),this.Ua=ix(e),this.Ka=new Qa(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new K0,s=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,g)=>{const E=s.get(y),x=Jf(this.query,g)?g:null,b=!!E&&this.mutatedKeys.has(E.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let A=!1;E&&x?E.data.isEqual(x.data)?b!==C&&(r.track({type:3,doc:x}),A=!0):this.ja(E,x)||(r.track({type:2,doc:x}),A=!0,(h&&this.Ua(x,h)>0||p&&this.Ua(x,p)<0)&&(c=!0)):!E&&x?(r.track({type:0,doc:x}),A=!0):E&&!x&&(r.track({type:1,doc:E}),A=!0,(h||p)&&(c=!0)),A&&(x?(l=l.add(x),a=C?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ka:l,za:r,ys:c,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((y,g)=>function(x,b){const C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:A})}};return C(x)-C(b)}(y.type,g.type)||this.Ua(y.doc,g.doc)),this.Ha(r),s=s!=null&&s;const c=t&&!s?this.Ja():[],h=this.$a.size===0&&this.current&&!s?1:0,p=h!==this.Qa;return this.Qa=h,l.length!==0||p?{snapshot:new al(this.query,e.Ka,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new K0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=We(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new $x(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new Ux(r))}),t}Xa(e){this.qa=e.Ns,this.$a=We();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return al.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const uy="SyncEngine";class xM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class SM{constructor(e){this.key=e,this.tu=!1}}class bM{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Yo(c=>rx(c),Xf),this.iu=new Map,this.su=new Set,this.ou=new _t(Ae.comparator),this._u=new Map,this.au=new Jg,this.uu={},this.cu=new Map,this.lu=ol.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function AM(n,e,t=!0){const r=Gx(n);let s;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await zx(r,e,t,!0),s}async function CM(n,e){const t=Gx(n);await zx(t,e,!0,!1)}async function zx(n,e,t,r){const s=await KO(n.localStore,di(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await RM(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&kx(n.remoteStore,s),c}async function RM(n,e,t,r,s){n.Pu=(g,E,x)=>async function(C,A,O,B){let $=A.view.Ga(O);$.ys&&($=await z0(C.localStore,A.query,!1).then(({documents:N})=>A.view.Ga(N,$)));const K=B&&B.targetChanges.get(A.targetId),Z=B&&B.targetMismatches.get(A.targetId)!=null,ne=A.view.applyChanges($,C.isPrimaryClient,K,Z);return J0(C,A.targetId,ne.Ya),ne.snapshot}(n,g,E,x);const a=await z0(n.localStore,e,!0),l=new IM(e,a.Ns),c=l.Ga(a.documents),h=Zu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(c,n.isPrimaryClient,h);J0(n,t,p.Ya);const y=new xM(e,t,l);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function PM(n,e,t){const r=Fe(n),s=r.ru.get(e),a=r.iu.get(s.targetId);if(a.length>1)return r.iu.set(s.targetId,a.filter(l=>!Xf(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&ny(r.remoteStore,s.targetId),lg(r,s.targetId)}).catch(pl)):(lg(r,s.targetId),await sg(r.localStore,s.targetId,!0))}async function kM(n,e){const t=Fe(n),r=t.ru.get(e),s=t.iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ny(t.remoteStore,r.targetId))}async function NM(n,e,t){const r=jM(n);try{const s=await function(l,c){const h=Fe(l),p=rt.now(),y=c.reduce((x,b)=>x.add(b.key),We());let g,E;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=Gi(),C=We();return h.Cs.getEntries(x,y).next(A=>{b=A,b.forEach((O,B)=>{B.isValidDocument()||(C=C.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,b)).next(A=>{g=A;const O=[];for(const B of c){const $=K2(B,g.get(B.key).overlayedDocument);$!=null&&O.push(new Zs(B.key,$,YI($.value.mapValue),dr.exists(!0)))}return h.mutationQueue.addMutationBatch(x,p,O,c)}).next(A=>{E=A;const O=A.applyToLocalDocumentSet(g,C);return h.documentOverlayCache.saveOverlays(x,A.batchId,O)})}).then(()=>({batchId:E.batchId,changes:ox(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let p=l.uu[l.currentUser.toKey()];p||(p=new _t($e)),p=p.insert(c,h),l.uu[l.currentUser.toKey()]=p}(r,s.batchId,t),await tc(r,s.changes),await ih(r.remoteStore)}catch(s){const a=ay(s,"Failed to persist write");t.reject(a)}}async function Bx(n,e){const t=Fe(n);try{const r=await HO(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t._u.get(a);l&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.tu=!0:s.modifiedDocuments.size>0?Ze(l.tu,14607):s.removedDocuments.size>0&&(Ze(l.tu,42227),l.tu=!1))}),await tc(t,r,e)}catch(r){await pl(r)}}function X0(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ru.forEach((a,l)=>{const c=l.view.ga(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Fe(l);h.onlineState=c;let p=!1;h.queries.forEach((y,g)=>{for(const E of g.Ra)E.ga(c)&&(p=!0)}),p&&ly(h)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DM(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r._u.get(e),a=s&&s.key;if(a){let l=new _t(Ae.comparator);l=l.insert(a,ln.newNoDocument(a,Ve.min()));const c=We().add(a),h=new th(Ve.min(),new Map,new _t($e),l,c);await Bx(r,h),r.ou=r.ou.remove(a),r._u.delete(e),cy(r)}else await sg(r.localStore,e,!1).then(()=>lg(r,e,t)).catch(pl)}async function OM(n,e){const t=Fe(n),r=e.batch.batchId;try{const s=await WO(t.localStore,e);Hx(t,r,null),Wx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await tc(t,s)}catch(s){await pl(s)}}async function MM(n,e,t){const r=Fe(n);try{const s=await function(l,c){const h=Fe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,c).next(g=>(Ze(g!==null,37113),y=g.keys(),h.mutationQueue.removeMutationBatch(p,g))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);Hx(r,e,t),Wx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await tc(r,s)}catch(s){await pl(s)}}function Wx(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function Hx(n,e,t){const r=Fe(n);let s=r.uu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function lg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||qx(n,r)})}function qx(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(ny(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),cy(n))}function J0(n,e,t){for(const r of t)r instanceof Ux?(n.au.addReference(r.key,e),LM(n,r)):r instanceof $x?(ye(uy,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||qx(n,r.key)):Oe(19791,{Iu:r})}function LM(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ye(uy,"New document in limbo: "+t),n.su.add(r),cy(n))}function cy(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ae(lt.fromString(e)),r=n.lu.next();n._u.set(r,new SM(t)),n.ou=n.ou.insert(t,r),kx(n.remoteStore,new Ms(di(qg(t.path)),r,"TargetPurposeLimboResolution",Kf.le))}}async function tc(n,e,t){const r=Fe(n),s=[],a=[],l=[];r.ru.isEmpty()||(r.ru.forEach((c,h)=>{l.push(r.Pu(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(p){s.push(p);const g=ey.Ps(h.targetId,p);a.push(g)}}))}),await Promise.all(l),r.nu.Q_(s),await async function(h,p){const y=Fe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>te.forEach(p,E=>te.forEach(E.ls,x=>y.persistence.referenceDelegate.addReference(g,E.targetId,x)).next(()=>te.forEach(E.hs,x=>y.persistence.referenceDelegate.removeReference(g,E.targetId,x)))))}catch(g){if(!ml(g))throw g;ye(ty,"Failed to update sequence numbers: "+g)}for(const g of p){const E=g.targetId;if(!g.fromCache){const x=y.Ss.get(E),b=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(b);y.Ss=y.Ss.insert(E,C)}}}(r.localStore,a))}async function VM(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){ye(uy,"User change. New user:",e.toKey());const r=await Ax(t.localStore,e);t.currentUser=e,function(a,l){a.cu.forEach(c=>{c.forEach(h=>{h.reject(new pe(ee.CANCELLED,l))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tc(t,r.Ms)}}function FM(n,e){const t=Fe(n),r=t._u.get(e);if(r&&r.tu)return We().add(r.key);{let s=We();const a=t.iu.get(e);if(!a)return s;for(const l of a){const c=t.ru.get(l);s=s.unionWith(c.view.Wa)}return s}}function Gx(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DM.bind(null,e),e.nu.Q_=EM.bind(null,e.eventManager),e.nu.Tu=TM.bind(null,e.eventManager),e}function jM(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MM.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return BO(this.persistence,new UO,e.initialUser,this.serializer)}Ru(e){return new bx(Zg.Ei,this.serializer)}Au(e){return new QO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class UM extends Cf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ze(this.persistence.referenceDelegate instanceof bf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SO(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new bx(r=>bf.Ei(r,t),this.serializer)}}class ug{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VM.bind(null,this.syncEngine),await vM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _M}()}createDatastore(e){const t=nh(e.databaseInfo.databaseId),r=function(a){return new tM(a)}(e.databaseInfo);return function(a,l,c,h){return new sM(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,c){return new aM(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>X0(this.syncEngine,t,0),function(){return H0.C()?new H0:new XO}())}createSyncEngine(e,t){return function(s,a,l,c,h,p,y){const g=new bM(s,a,l,c,h,p);return y&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Fe(s);ye(Uo,"RemoteStore shutting down."),a.aa.add(5),await ec(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class $M{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=an.UNAUTHENTICATED,this.clientId=jI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ye(Gs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ye(Gs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ay(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ym(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Gs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ax(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Z0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await zM(n);ye(Gs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>G0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>G0(e.remoteStore,s)),n._onlineComponents=e}async function zM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Gs,"Using user provided OfflineComponentProvider");try{await ym(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await ym(n,new Cf)}}else ye(Gs,"Using default OfflineComponentProvider"),await ym(n,new UM(void 0));return n._offlineComponents}async function Yx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Gs,"Using user provided OnlineComponentProvider"),await Z0(n,n._uninitializedComponentsProvider._online)):(ye(Gs,"Using default OnlineComponentProvider"),await Z0(n,new ug))),n._onlineComponents}function BM(n){return Yx(n).then(e=>e.syncEngine)}async function Qx(n){const e=await Yx(n),t=e.eventManager;return t.onListen=AM.bind(null,e.syncEngine),t.onUnlisten=PM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kM.bind(null,e.syncEngine),t}function WM(n,e,t={}){const r=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const y=new Kx({next:E=>{y.yu(),l.enqueueAndForget(()=>Fx(a,g));const x=E.docs.has(c);!x&&E.fromCache?p.reject(new pe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&h&&h.source==="server"?p.reject(new pe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),g=new jx(qg(c.path),y,{includeMetadataChanges:!0,Fa:!0});return Vx(a,g)}(await Qx(n),n.asyncQueue,e,t,r)),r.promise}function HM(n,e,t={}){const r=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const y=new Kx({next:E=>{y.yu(),l.enqueueAndForget(()=>Fx(a,g)),E.fromCache&&h.source==="server"?p.reject(new pe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),g=new jx(c,y,{includeMetadataChanges:!0,Fa:!0});return Vx(a,g)}(await Qx(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n,e,t){if(!t)throw new pe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qM(n,e,t,r){if(e===!0&&r===!0)throw new pe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tE(n){if(!Ae.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nE(n){if(Ae.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sh(n);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GM(n,e){if(e<=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firestore.googleapis.com",rE=!0;class iE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zx,this.ssl=rE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IO)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new e2;switch(r.type){case"firstParty":return new i2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=eE.get(t);r&&(ye("ComponentProvider","Removing Datastore"),eE.delete(t),r.terminate())}(this),Promise.resolve()}}function KM(n,e,t,r={}){var s;const a=(n=Vr(n,oh))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a.host!==Zx&&a.host!==c&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!$s(h,l)&&(n._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=an.MOCK_USER;else{p=VR(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(g)}n._authCredentials=new t2(new VI(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class js extends eo{constructor(e,t,r){super(e,t,qg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Ae(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function kd(n,e,...t){if(n=Tt(n),Jx("collection","path",e),n instanceof oh){const r=lt.fromString(e,...t);return nE(r),new js(n,null,r)}{if(!(n instanceof yn||n instanceof js))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(lt.fromString(e,...t));return nE(r),new js(n.firestore,null,r)}}function Us(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=jI.newId()),Jx("doc","path",e),n instanceof oh){const r=lt.fromString(e,...t);return tE(r),new yn(n,null,new Ae(r))}{if(!(n instanceof yn||n instanceof js))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(lt.fromString(e,...t));return tE(r),new yn(n.firestore,n instanceof js?n.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="AsyncQueue";class oE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Rx(this,"async_queue_retry"),this.ju=()=>{const r=gm();r&&ye(sE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new $i;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ml(e))throw e;ye(sE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,qi("INTERNAL UNHANDLED ERROR: ",aE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=oy.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Oe(47125,{ec:aE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function aE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Xo extends oh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new oE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function YM(n,e){const t=typeof n=="object"?n:Sg(),r=typeof n=="string"?n:wf,s=Ko(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=MR("firestore");a&&KM(s,...a)}return s}function dy(n){if(n._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QM(n),n._firestoreClient}function QM(n){var e,t,r;const s=n._freezeSettings(),a=function(c,h,p,y){return new w2(c,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Xx(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new $M(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(Zt.fromBase64String(e))}catch(t){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ll(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/^__.*__$/;class JM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ju(e,this.data,t,this.fieldTransforms)}}class eS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{oc:n})}}class my{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Rf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(tS(this.oc)&&XM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class ZM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nh(e)}dc(e,t,r,s=!1){return new my({oc:e,methodName:t,Ec:r,path:Jt.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(n){const e=n._freezeSettings(),t=nh(n._databaseId);return new ZM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nS(n,e,t,r,s,a={}){const l=n.dc(a.merge||a.mergeFields?2:0,e,t,s);gy("Data must be an object, but it was:",l,r);const c=rS(r,l);let h,p;if(a.merge)h=new Yn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const E=cg(e,g,t);if(!l.contains(E))throw new pe(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);sS(y,E)||y.push(E)}h=new Yn(y),p=l.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,p=l.fieldTransforms;return new JM(new Mn(c),h,p)}class uh extends fy{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uh}}function eL(n,e,t,r){const s=n.dc(1,e,t);gy("Data must be an object, but it was:",s,r);const a=[],l=Mn.empty();Js(r,(h,p)=>{const y=yy(e,h,t);p=Tt(p);const g=s.hc(y);if(p instanceof uh)a.push(y);else{const E=nc(p,g);E!=null&&(a.push(y),l.set(y,E))}});const c=new Yn(a);return new eS(l,c,s.fieldTransforms)}function tL(n,e,t,r,s,a){const l=n.dc(1,e,t),c=[cg(e,r,t)],h=[s];if(a.length%2!=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)c.push(cg(e,a[E])),h.push(a[E+1]);const p=[],y=Mn.empty();for(let E=c.length-1;E>=0;--E)if(!sS(p,c[E])){const x=c[E];let b=h[E];b=Tt(b);const C=l.hc(x);if(b instanceof uh)p.push(x);else{const A=nc(b,C);A!=null&&(p.push(x),y.set(x,A))}}const g=new Yn(p);return new eS(y,g,l.fieldTransforms)}function nL(n,e,t,r=!1){return nc(t,n.dc(r?4:3,e))}function nc(n,e){if(iS(n=Tt(n)))return gy("Unsupported field value:",e,n),rS(n,e);if(n instanceof fy)return function(r,s){if(!tS(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let h=nc(c,s.Pc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rt.fromDate(r);return{timestampValue:Sf(s.serializer,a)}}if(r instanceof rt){const a=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sf(s.serializer,a)}}if(r instanceof hy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ll)return{bytesValue:vx(s.serializer,r._byteString)};if(r instanceof yn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Xg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof py)return function(l,c){return{mapValue:{fields:{[GI]:{stringValue:KI},[_f]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Tc("VectorValues must only contain numeric values.");return Gg(c.serializer,p)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${sh(r)}`)}(n,e)}function rS(n,e){const t={};return $I(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,(r,s)=>{const a=nc(s,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function iS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof hy||n instanceof ll||n instanceof yn||n instanceof fy||n instanceof py)}function gy(n,e,t){if(!iS(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=sh(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function cg(n,e,t){if((e=Tt(e))instanceof ah)return e._internalPath;if(typeof e=="string")return yy(n,e);throw Rf("Field path arguments must be of type string or ",n,!1,void 0,t)}const rL=new RegExp("[~\\*/\\[\\]]");function yy(n,e,t){if(e.search(rL)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ah(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rf(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new pe(ee.INVALID_ARGUMENT,c+n+h)}function sS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ch("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iL extends oS{data(){return super.data()}}function ch(n,e){return typeof e=="string"?yy(n,e):e instanceof ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vy{}class wy extends vy{}function Nd(n,e,...t){let r=[];e instanceof vy&&r.push(e),r=r.concat(t),function(a){const l=a.filter(h=>h instanceof _y).length,c=a.filter(h=>h instanceof dh).length;if(l>1||l>0&&c>0)throw new pe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class dh extends wy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new dh(e,t,r)}_apply(e){const t=this._parse(e);return aS(e._query,t),new eo(e.firestore,e.converter,eg(e._query,t))}_parse(e){const t=lh(e.firestore);return function(a,l,c,h,p,y,g){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){cE(g,y);const b=[];for(const C of g)b.push(uE(h,a,C));E={arrayValue:{values:b}}}else E=uE(h,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||cE(g,y),E=nL(c,l,g,y==="in"||y==="not-in");return Pt.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function vm(n,e,t){const r=e,s=ch("where",n);return dh._create(s,r,t)}class _y extends vy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _y(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)aS(l,h),l=eg(l,h)}(e._query,t),new eo(e.firestore,e.converter,eg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ey extends wy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ey(e,t)}_apply(e){const t=function(s,a,l){if(s.startAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(a,l)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new gl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Dd(n,e="asc"){const t=e,r=ch("orderBy",n);return Ey._create(r,t)}class Ty extends wy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ty(e,t,r)}_apply(e){return new eo(e.firestore,e.converter,Tf(e._query,this._limit,this._limitType))}}function lE(n){return GM("limit",n),Ty._create("limit",n,"F")}function uE(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new pe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nx(e)&&t.indexOf("/")!==-1)throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(lt.fromString(t));if(!Ae.isDocumentKey(r))throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return I0(n,new Ae(r))}if(t instanceof yn)return I0(n,t._key);throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(t)}.`)}function cE(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aS(n,e){const t=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oL{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Js(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[_f].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>bt(l.doubleValue));return new py(a)}convertGeoPoint(e){return new hy(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lt.fromString(e);Ze(xx(r),9688,{name:e});const s=new Mu(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return s.isEqual(t)||qi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uS extends oS{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ch("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ef extends uS{data(e={}){return super.data(e)}}class aL{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Eu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ef(this._firestore,this._userDataWriter,r.key,r,new Eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new ef(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Eu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new ef(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Eu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),y=l.indexOf(c.doc.key)),{type:lL(c.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n){n=Vr(n,yn);const e=Vr(n.firestore,Xo);return WM(dy(e),n._key).then(t=>dL(e,n,t))}class cS extends oL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function wm(n){n=Vr(n,eo);const e=Vr(n.firestore,Xo),t=dy(e),r=new cS(e);return sL(n._query),HM(t,n._query).then(s=>new aL(e,r,n,s))}function uL(n,e,t){n=Vr(n,yn);const r=Vr(n.firestore,Xo),s=lS(n.converter,e);return fh(r,[nS(lh(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,dr.none())])}function dS(n,e,t,...r){n=Vr(n,yn);const s=Vr(n.firestore,Xo),a=lh(s);let l;return l=typeof(e=Tt(e))=="string"||e instanceof ah?tL(a,"updateDoc",n._key,e,t,r):eL(a,"updateDoc",n._key,e),fh(s,[l.toMutation(n._key,dr.exists(!0))])}function fS(n){return fh(Vr(n.firestore,Xo),[new Kg(n._key,dr.none())])}function cL(n,e){const t=Vr(n.firestore,Xo),r=Us(n),s=lS(n.converter,e);return fh(t,[nS(lh(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function fh(n,e){return function(r,s){const a=new $i;return r.asyncQueue.enqueueAndForget(async()=>NM(await BM(r),s,a)),a.promise}(dy(n),e)}function dL(n,e,t){const r=t.docs.get(e._key),s=new cS(n);return new uS(n,s,e._key,r,new Eu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){hl=s})(dl),pi(new Mr("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Xo(new n2(r.getProvider("auth-internal")),new s2(l,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(p.options.projectId,y)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),cr(d0,f0,e),cr(d0,f0,"esm2017")})();var fL="firebase",hL="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(fL,hL,"app");const pL={apiKey:"AIzaSyC-DVPD-4CjDQ0nYOjg5y2hMOy1zjx6VeU",authDomain:"grindmode-5d2bb.firebaseapp.com",projectId:"grindmode-5d2bb",storageBucket:"grindmode-5d2bb.firebasestorage.app",messagingSenderId:"1096214127157",appId:"1:1096214127157:web:7b82fd19693d933f3f877c",measurementId:"G-XJN3G8434B"},xy=ST(pL);xk(xy);const kr=YM(xy),Fr=JD(xy),mL=(n,e)=>AN(Fr,n,e),gL=(n,e)=>CN(Fr,n,e),yL=()=>UN(Fr),vL=n=>Fr.currentUser&&PN(Fr.currentUser,n),wL=()=>Fr.currentUser&&$N(Fr.currentUser),_L=jN,EL=()=>{const n=new Vi;return aD(Fr,n)},TL=LN;Fr.currentUser;const IL=Fr,ks=n=>{if(!n)return"An unknown error occurred";if(n.code){const t=n;switch(t.code){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or try logging in.";case"auth/invalid-email":return"Invalid email address. Please check your email and try again.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/user-not-found":return"No account found with this email. Please check your email or create a new account.";case"auth/wrong-password":return"Incorrect password. Please try again or reset your password.";case"auth/too-many-requests":return"Too many unsuccessful login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support for assistance.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return`Authentication error: ${t.message}`}}return`Error: ${n instanceof Error?n.message:String(n)}`},Nr=()=>{const n=Fr.currentUser;if(!n||!n.uid)throw new Error("User not authenticated");return n.uid},xL=async n=>{const e=Us(kr,"users",n),t=await Iy(e);return t.exists()?t.data():null},SL=async(n,e)=>{const t=Us(kr,"users",n);if(!(await Iy(t)).exists()){const s=rt.now();await uL(t,{...e,createdAt:s,updatedAt:s})}},bL=async(n,e)=>{const t=Us(kr,"users",n);await dS(t,{...e,updatedAt:rt.now()})},AL=async n=>{const e=Us(kr,"users",n);await fS(e)},CL=async()=>{try{const n=Nr();return await xL(n)}catch(n){return console.error("Error getting user profile:",n),null}},F$=async n=>{try{const e=Nr();await bL(e,n)}catch(e){throw console.error("Error updating user profile:",e),new Error("Failed to update profile")}},dE=async n=>{try{const e=Nr();await SL(e,n)}catch(e){throw console.error("Error creating user profile:",e),new Error("Failed to create profile")}},j$=async()=>{try{const n=Nr();await AL(n)}catch(n){throw console.error("Error deleting user profile:",n),new Error("Failed to delete profile")}};function hS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=hS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function pS(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=hS(n))&&(r&&(r+=" "),r+=e);return r}const Sy="-",RL=n=>{const e=kL(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(Sy);return c[0]===""&&c.length!==1&&c.shift(),mS(c,e)||PL(l)},getConflictingClassGroupIds:(l,c)=>{const h=t[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},mS=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?mS(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=n.join(Sy);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},fE=/^\[(.+)\]$/,PL=n=>{if(fE.test(n)){const e=fE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},kL=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)dg(t[s],r,s,e);return r},dg=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?e:hE(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(NL(s)){dg(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,l])=>{dg(l,hE(e,a),t,r)})})},hE=(n,e)=>{let t=n;return e.split(Sy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},NL=n=>n.isThemeGetter,DL=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){t.has(a)?t.set(a,l):s(a,l)}}},fg="!",hg=":",OL=hg.length,ML=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const a=[];let l=0,c=0,h=0,p;for(let b=0;b<s.length;b++){let C=s[b];if(l===0&&c===0){if(C===hg){a.push(s.slice(h,b)),h=b+OL;continue}if(C==="/"){p=b;continue}}C==="["?l++:C==="]"?l--:C==="("?c++:C===")"&&c--}const y=a.length===0?s:s.substring(h),g=LL(y),E=g!==y,x=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:g,maybePostfixModifierPosition:x}};if(e){const s=e+hg,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=a=>t({className:a,parseClassName:s})}return r},LL=n=>n.endsWith(fg)?n.substring(0,n.length-1):n.startsWith(fg)?n.substring(1):n,VL=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},FL=n=>({cache:DL(n.cacheSize),parseClassName:ML(n),sortModifiers:VL(n),...RL(n)}),jL=/\s+/,UL=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],c=n.trim().split(jL);let h="";for(let p=c.length-1;p>=0;p-=1){const y=c[p],{isExternal:g,modifiers:E,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:C}=t(y);if(g){h=y+(h.length>0?" "+h:h);continue}let A=!!C,O=r(A?b.substring(0,C):b);if(!O){if(!A){h=y+(h.length>0?" "+h:h);continue}if(O=r(b),!O){h=y+(h.length>0?" "+h:h);continue}A=!1}const B=a(E).join(":"),$=x?B+fg:B,K=$+O;if(l.includes(K))continue;l.push(K);const Z=s(O,A);for(let ne=0;ne<Z.length;++ne){const N=Z[ne];l.push($+N)}h=y+(h.length>0?" "+h:h)}return h};function $L(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=gS(e))&&(r&&(r+=" "),r+=t);return r}const gS=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=gS(n[r]))&&(t&&(t+=" "),t+=e);return t};function zL(n,...e){let t,r,s,a=l;function l(h){const p=e.reduce((y,g)=>g(y),n());return t=FL(p),r=t.cache.get,s=t.cache.set,a=c,c(h)}function c(h){const p=r(h);if(p)return p;const y=UL(h,t);return s(h,y),y}return function(){return a($L.apply(null,arguments))}}const Vt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},yS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BL=/^\d+\/\d+$/,WL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,La=n=>BL.test(n),Ue=n=>!!n&&!Number.isNaN(Number(n)),Cs=n=>!!n&&Number.isInteger(Number(n)),_m=n=>n.endsWith("%")&&Ue(n.slice(0,-1)),Li=n=>WL.test(n),YL=()=>!0,QL=n=>HL.test(n)&&!qL.test(n),wS=()=>!1,XL=n=>GL.test(n),JL=n=>KL.test(n),ZL=n=>!Ee(n)&&!Te(n),eV=n=>vl(n,TS,wS),Ee=n=>yS.test(n),Ro=n=>vl(n,IS,QL),Em=n=>vl(n,sV,Ue),pE=n=>vl(n,_S,wS),tV=n=>vl(n,ES,JL),Od=n=>vl(n,xS,XL),Te=n=>vS.test(n),du=n=>wl(n,IS),nV=n=>wl(n,oV),mE=n=>wl(n,_S),rV=n=>wl(n,TS),iV=n=>wl(n,ES),Md=n=>wl(n,xS,!0),vl=(n,e,t)=>{const r=yS.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},wl=(n,e,t=!1)=>{const r=vS.exec(n);return r?r[1]?e(r[1]):t:!1},_S=n=>n==="position"||n==="percentage",ES=n=>n==="image"||n==="url",TS=n=>n==="length"||n==="size"||n==="bg-size",IS=n=>n==="length",sV=n=>n==="number",oV=n=>n==="family-name",xS=n=>n==="shadow",aV=()=>{const n=Vt("color"),e=Vt("font"),t=Vt("text"),r=Vt("font-weight"),s=Vt("tracking"),a=Vt("leading"),l=Vt("breakpoint"),c=Vt("container"),h=Vt("spacing"),p=Vt("radius"),y=Vt("shadow"),g=Vt("inset-shadow"),E=Vt("text-shadow"),x=Vt("drop-shadow"),b=Vt("blur"),C=Vt("perspective"),A=Vt("aspect"),O=Vt("ease"),B=Vt("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...K(),Te,Ee],ne=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],R=()=>[Te,Ee,h],k=()=>[La,"full","auto",...R()],L=()=>[Cs,"none","subgrid",Te,Ee],V=()=>["auto",{span:["full",Cs,Te,Ee]},Cs,Te,Ee],U=()=>[Cs,"auto",Te,Ee],D=()=>["auto","min","max","fr",Te,Ee],Pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...R()],me=()=>[La,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],W=()=>[n,Te,Ee],J=()=>[...K(),mE,pE,{position:[Te,Ee]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",rV,eV,{size:[Te,Ee]}],Y=()=>[_m,du,Ro],ie=()=>["","none","full",p,Te,Ee],fe=()=>["",Ue,du,Ro],be=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Ue,_m,mE,pE],Me=()=>["","none",b,Te,Ee],Ne=()=>["none",Ue,Te,Ee],He=()=>["none",Ue,Te,Ee],Ut=()=>[Ue,Te,Ee],qt=()=>[La,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[YL],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[ZL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Ue],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",La,Ee,Te,A]}],container:["container"],columns:[{columns:[Ue,Ee,Te,c]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Cs,"auto",Te,Ee]}],basis:[{basis:[La,"full","auto",c,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,La,"auto","initial","none",Ee]}],grow:[{grow:["",Ue,Te,Ee]}],shrink:[{shrink:["",Ue,Te,Ee]}],order:[{order:[Cs,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Pe(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...Pe()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":Pe()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[c,"screen",...me()]}],"min-w":[{"min-w":[c,"screen","none",...me()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...me()]}],h:[{h:["screen",...me()]}],"min-h":[{"min-h":["screen","none",...me()]}],"max-h":[{"max-h":["screen",...me()]}],"font-size":[{text:["base",t,du,Ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,Em]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_m,Ee]}],"font-family":[{font:[nV,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Te,Ee]}],"line-clamp":[{"line-clamp":[Ue,"none",Te,Em]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",Te,Ro]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Ue,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Cs,Te,Ee],radial:["",Te,Ee],conic:[Cs,Te,Ee]},iV,tV]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,Te,Ee]}],"outline-w":[{outline:["",Ue,du,Ro]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",y,Md,Od]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",g,Md,Od]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Ue,Ro]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",E,Md,Od]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Ue,Te,Ee]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:Me()}],brightness:[{brightness:[Ue,Te,Ee]}],contrast:[{contrast:[Ue,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",x,Md,Od]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Ue,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Ue,Te,Ee]}],invert:[{invert:["",Ue,Te,Ee]}],saturate:[{saturate:[Ue,Te,Ee]}],sepia:[{sepia:["",Ue,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ue,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",Te,Ee]}],ease:[{ease:["linear","initial",O,Te,Ee]}],delay:[{delay:[Ue,Te,Ee]}],animate:[{animate:["none",B,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Te,Ee]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:Ut()}],"skew-x":[{"skew-x":Ut()}],"skew-y":[{"skew-y":Ut()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:qt()}],"translate-x":[{"translate-x":qt()}],"translate-y":[{"translate-y":qt()}],"translate-z":[{"translate-z":qt()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Ue,du,Ro,Em]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lV=zL(aV);function Je(...n){return lV(pS(n))}const $o=T.forwardRef(({className:n,...e},t)=>I.jsx("div",{ref:t,className:Je("rounded-xl border bg-card text-card-foreground shadow",n),...e}));$o.displayName="Card";const zo=T.forwardRef(({className:n,...e},t)=>I.jsx("div",{ref:t,className:Je("flex flex-col space-y-1.5 p-6",n),...e}));zo.displayName="CardHeader";const _l=T.forwardRef(({className:n,...e},t)=>I.jsx("div",{ref:t,className:Je("font-semibold leading-none tracking-tight",n),...e}));_l.displayName="CardTitle";const hh=T.forwardRef(({className:n,...e},t)=>I.jsx("div",{ref:t,className:Je("text-sm text-muted-foreground",n),...e}));hh.displayName="CardDescription";const Bo=T.forwardRef(({className:n,...e},t)=>I.jsx("div",{ref:t,className:Je("p-6 pt-0",n),...e}));Bo.displayName="CardContent";const rc=T.forwardRef(({className:n,...e},t)=>I.jsx("div",{ref:t,className:Je("flex items-center p-6 pt-0",n),...e}));rc.displayName="CardFooter";var by=dT();const SS=uT(by);function gE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ph(...n){return e=>{let t=!1;const r=n.map(s=>{const a=gE(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():gE(n[s],null)}}}}function jt(...n){return T.useCallback(ph(...n),n)}function ul(n){const e=uV(n),t=T.forwardRef((r,s)=>{const{children:a,...l}=r,c=T.Children.toArray(a),h=c.find(dV);if(h){const p=h.props.children,y=c.map(g=>g===h?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:g);return I.jsx(e,{...l,ref:s,children:T.isValidElement(p)?T.cloneElement(p,void 0,y):null})}return I.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var bS=ul("Slot");function uV(n){const e=T.forwardRef((t,r)=>{const{children:s,...a}=t;if(T.isValidElement(s)){const l=hV(s),c=fV(a,s.props);return s.type!==T.Fragment&&(c.ref=r?ph(r,l):l),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var AS=Symbol("radix.slottable");function cV(n){const e=({children:t})=>I.jsx(I.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=AS,e}function dV(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===AS}function fV(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{a(...c),s(...c)}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function hV(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var pV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=pV.reduce((n,e)=>{const t=ul(`Primitive.${e}`),r=T.forwardRef((s,a)=>{const{asChild:l,...c}=s,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(h,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function CS(n,e){n&&by.flushSync(()=>n.dispatchEvent(e))}var mV="Label",RS=T.forwardRef((n,e)=>I.jsx(mt.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));RS.displayName=mV;var gV=RS;function yV({className:n,...e}){return I.jsx(gV,{"data-slot":"label",className:Je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function je(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function vV(n,e){const t=T.createContext(e),r=a=>{const{children:l,...c}=a,h=T.useMemo(()=>c,Object.values(c));return I.jsx(t.Provider,{value:h,children:l})};r.displayName=n+"Provider";function s(a){const l=T.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,s]}function to(n,e=[]){let t=[];function r(a,l){const c=T.createContext(l),h=t.length;t=[...t,l];const p=g=>{var O;const{scope:E,children:x,...b}=g,C=((O=E==null?void 0:E[n])==null?void 0:O[h])||c,A=T.useMemo(()=>b,Object.values(b));return I.jsx(C.Provider,{value:A,children:x})};p.displayName=a+"Provider";function y(g,E){var C;const x=((C=E==null?void 0:E[n])==null?void 0:C[h])||c,b=T.useContext(x);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[p,y]}const s=()=>{const a=t.map(l=>T.createContext(l));return function(c){const h=(c==null?void 0:c[n])||a;return T.useMemo(()=>({[`__scope${n}`]:{...c,[n]:h}}),[c,h])}};return s.scopeName=n,[r,wV(s,...e)]}function wV(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((c,{useScope:h,scopeName:p})=>{const g=h(a)[`__scope${p}`];return{...c,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function PS(n){const e=n+"CollectionProvider",[t,r]=to(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:A,children:O}=C,B=le.useRef(null),$=le.useRef(new Map).current;return I.jsx(s,{scope:A,itemMap:$,collectionRef:B,children:O})};l.displayName=e;const c=n+"CollectionSlot",h=ul(c),p=le.forwardRef((C,A)=>{const{scope:O,children:B}=C,$=a(c,O),K=jt(A,$.collectionRef);return I.jsx(h,{ref:K,children:B})});p.displayName=c;const y=n+"CollectionItemSlot",g="data-radix-collection-item",E=ul(y),x=le.forwardRef((C,A)=>{const{scope:O,children:B,...$}=C,K=le.useRef(null),Z=jt(A,K),ne=a(y,O);return le.useEffect(()=>(ne.itemMap.set(K,{ref:K,...$}),()=>void ne.itemMap.delete(K))),I.jsx(E,{[g]:"",ref:Z,children:B})});x.displayName=y;function b(C){const A=a(n+"CollectionConsumer",C);return le.useCallback(()=>{const B=A.collectionRef.current;if(!B)return[];const $=Array.from(B.querySelectorAll(`[${g}]`));return Array.from(A.itemMap.values()).sort((ne,N)=>$.indexOf(ne.ref.current)-$.indexOf(N.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:p,ItemSlot:x},b,r]}var _V=T.createContext(void 0);function kS(n){const e=T.useContext(_V);return n||e||"ltr"}function gi(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function EV(n,e=globalThis==null?void 0:globalThis.document){const t=gi(n);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var TV="DismissableLayer",pg="dismissableLayer.update",IV="dismissableLayer.pointerDownOutside",xV="dismissableLayer.focusOutside",yE,NS=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ay=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...h}=n,p=T.useContext(NS),[y,g]=T.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=T.useState({}),b=jt(e,N=>g(N)),C=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),O=C.indexOf(A),B=y?C.indexOf(y):-1,$=p.layersWithOutsidePointerEventsDisabled.size>0,K=B>=O,Z=AV(N=>{const R=N.target,k=[...p.branches].some(L=>L.contains(R));!K||k||(s==null||s(N),l==null||l(N),N.defaultPrevented||c==null||c())},E),ne=CV(N=>{const R=N.target;[...p.branches].some(L=>L.contains(R))||(a==null||a(N),l==null||l(N),N.defaultPrevented||c==null||c())},E);return EV(N=>{B===p.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},E),T.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(yE=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),vE(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=yE)}},[y,E,t,p]),T.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),vE())},[y,p]),T.useEffect(()=>{const N=()=>x({});return document.addEventListener(pg,N),()=>document.removeEventListener(pg,N)},[]),I.jsx(mt.div,{...h,ref:b,style:{pointerEvents:$?K?"auto":"none":void 0,...n.style},onFocusCapture:je(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:je(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:je(n.onPointerDownCapture,Z.onPointerDownCapture)})});Ay.displayName=TV;var SV="DismissableLayerBranch",bV=T.forwardRef((n,e)=>{const t=T.useContext(NS),r=T.useRef(null),s=jt(e,r);return T.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),I.jsx(mt.div,{...n,ref:s})});bV.displayName=SV;function AV(n,e=globalThis==null?void 0:globalThis.document){const t=gi(n),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let h=function(){DS(IV,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function CV(n,e=globalThis==null?void 0:globalThis.document){const t=gi(n),r=T.useRef(!1);return T.useEffect(()=>{const s=a=>{a.target&&!r.current&&DS(xV,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vE(){const n=new CustomEvent(pg);document.dispatchEvent(n)}function DS(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?CS(s,a):s.dispatchEvent(a)}var Tm=0;function OS(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??wE()),document.body.insertAdjacentElement("beforeend",n[1]??wE()),Tm++,()=>{Tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tm--}},[])}function wE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Im="focusScope.autoFocusOnMount",xm="focusScope.autoFocusOnUnmount",_E={bubbles:!1,cancelable:!0},RV="FocusScope",Cy=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=n,[c,h]=T.useState(null),p=gi(s),y=gi(a),g=T.useRef(null),E=jt(e,C=>h(C)),x=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let C=function($){if(x.paused||!c)return;const K=$.target;c.contains(K)?g.current=K:Ps(g.current,{select:!0})},A=function($){if(x.paused||!c)return;const K=$.relatedTarget;K!==null&&(c.contains(K)||Ps(g.current,{select:!0}))},O=function($){if(document.activeElement===document.body)for(const Z of $)Z.removedNodes.length>0&&Ps(c)};document.addEventListener("focusin",C),document.addEventListener("focusout",A);const B=new MutationObserver(O);return c&&B.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",A),B.disconnect()}}},[r,c,x.paused]),T.useEffect(()=>{if(c){TE.add(x);const C=document.activeElement;if(!c.contains(C)){const O=new CustomEvent(Im,_E);c.addEventListener(Im,p),c.dispatchEvent(O),O.defaultPrevented||(PV(MV(MS(c)),{select:!0}),document.activeElement===C&&Ps(c))}return()=>{c.removeEventListener(Im,p),setTimeout(()=>{const O=new CustomEvent(xm,_E);c.addEventListener(xm,y),c.dispatchEvent(O),O.defaultPrevented||Ps(C??document.body,{select:!0}),c.removeEventListener(xm,y),TE.remove(x)},0)}}},[c,p,y,x]);const b=T.useCallback(C=>{if(!t&&!r||x.paused)return;const A=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,O=document.activeElement;if(A&&O){const B=C.currentTarget,[$,K]=kV(B);$&&K?!C.shiftKey&&O===K?(C.preventDefault(),t&&Ps($,{select:!0})):C.shiftKey&&O===$&&(C.preventDefault(),t&&Ps(K,{select:!0})):O===B&&C.preventDefault()}},[t,r,x.paused]);return I.jsx(mt.div,{tabIndex:-1,...l,ref:E,onKeyDown:b})});Cy.displayName=RV;function PV(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ps(r,{select:e}),document.activeElement!==t)return}function kV(n){const e=MS(n),t=EE(e,n),r=EE(e.reverse(),n);return[t,r]}function MS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function EE(n,e){for(const t of n)if(!NV(t,{upTo:e}))return t}function NV(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function DV(n){return n instanceof HTMLInputElement&&"select"in n}function Ps(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&DV(n)&&e&&n.select()}}var TE=OV();function OV(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=IE(n,e),n.unshift(e)},remove(e){var t;n=IE(n,e),(t=n[0])==null||t.resume()}}}function IE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function MV(n){return n.filter(e=>e.tagName!=="A")}var jr=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},LV=cT[" useId ".trim().toString()]||(()=>{}),VV=0;function Xa(n){const[e,t]=T.useState(LV());return jr(()=>{t(r=>r??String(VV++))},[n]),n||(e?`radix-${e}`:"")}const FV=["top","right","bottom","left"],Ks=Math.min,Gn=Math.max,Pf=Math.round,Ld=Math.floor,hi=n=>({x:n,y:n}),jV={left:"right",right:"left",bottom:"top",top:"bottom"},UV={start:"end",end:"start"};function mg(n,e,t){return Gn(n,Ks(e,t))}function Ki(n,e){return typeof n=="function"?n(e):n}function Yi(n){return n.split("-")[0]}function El(n){return n.split("-")[1]}function Ry(n){return n==="x"?"y":"x"}function Py(n){return n==="y"?"height":"width"}function zi(n){return["top","bottom"].includes(Yi(n))?"y":"x"}function ky(n){return Ry(zi(n))}function $V(n,e,t){t===void 0&&(t=!1);const r=El(n),s=ky(n),a=Py(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=kf(l)),[l,kf(l)]}function zV(n){const e=kf(n);return[gg(n),e,gg(e)]}function gg(n){return n.replace(/start|end/g,e=>UV[e])}function BV(n,e,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?a:l;default:return[]}}function WV(n,e,t,r){const s=El(n);let a=BV(Yi(n),t==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(gg)))),a}function kf(n){return n.replace(/left|right|bottom|top/g,e=>jV[e])}function HV(n){return{top:0,right:0,bottom:0,left:0,...n}}function LS(n){return typeof n!="number"?HV(n):{top:n,right:n,bottom:n,left:n}}function Nf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function xE(n,e,t){let{reference:r,floating:s}=n;const a=zi(e),l=ky(e),c=Py(l),h=Yi(e),p=a==="y",y=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,E=r[c]/2-s[c]/2;let x;switch(h){case"top":x={x:y,y:r.y-s.height};break;case"bottom":x={x:y,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-s.width,y:g};break;default:x={x:r.x,y:r.y}}switch(El(e)){case"start":x[l]-=E*(t&&p?-1:1);break;case"end":x[l]+=E*(t&&p?-1:1);break}return x}const qV=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:y,y:g}=xE(p,r,h),E=r,x={},b=0;for(let C=0;C<c.length;C++){const{name:A,fn:O}=c[C],{x:B,y:$,data:K,reset:Z}=await O({x:y,y:g,initialPlacement:r,placement:E,strategy:s,middlewareData:x,rects:p,platform:l,elements:{reference:n,floating:e}});y=B??y,g=$??g,x={...x,[A]:{...x[A],...K}},Z&&b<=50&&(b++,typeof Z=="object"&&(Z.placement&&(E=Z.placement),Z.rects&&(p=Z.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):Z.rects),{x:y,y:g}=xE(p,E,h)),C=-1)}return{x:y,y:g,placement:E,strategy:s,middlewareData:x}};async function Uu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:c,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:E=!1,padding:x=0}=Ki(e,n),b=LS(x),A=c[E?g==="floating"?"reference":"floating":g],O=Nf(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:p,rootBoundary:y,strategy:h})),B=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),K=await(a.isElement==null?void 0:a.isElement($))?await(a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},Z=Nf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:B,offsetParent:$,strategy:h}):B);return{top:(O.top-Z.top+b.top)/K.y,bottom:(Z.bottom-O.bottom+b.bottom)/K.y,left:(O.left-Z.left+b.left)/K.x,right:(Z.right-O.right+b.right)/K.x}}const GV=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:l,elements:c,middlewareData:h}=e,{element:p,padding:y=0}=Ki(n,e)||{};if(p==null)return{};const g=LS(y),E={x:t,y:r},x=ky(s),b=Py(x),C=await l.getDimensions(p),A=x==="y",O=A?"top":"left",B=A?"bottom":"right",$=A?"clientHeight":"clientWidth",K=a.reference[b]+a.reference[x]-E[x]-a.floating[b],Z=E[x]-a.reference[x],ne=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let N=ne?ne[$]:0;(!N||!await(l.isElement==null?void 0:l.isElement(ne)))&&(N=c.floating[$]||a.floating[b]);const R=K/2-Z/2,k=N/2-C[b]/2-1,L=Ks(g[O],k),V=Ks(g[B],k),U=L,D=N-C[b]-V,Pe=N/2-C[b]/2+R,Se=mg(U,Pe,D),ce=!h.arrow&&El(s)!=null&&Pe!==Se&&a.reference[b]/2-(Pe<U?L:V)-C[b]/2<0,me=ce?Pe<U?Pe-U:Pe-D:0;return{[x]:E[x]+me,data:{[x]:Se,centerOffset:Pe-Se-me,...ce&&{alignmentOffset:me}},reset:ce}}}),KV=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:p}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:E,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:C=!0,...A}=Ki(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const O=Yi(s),B=zi(c),$=Yi(c)===c,K=await(h.isRTL==null?void 0:h.isRTL(p.floating)),Z=E||($||!C?[kf(c)]:zV(c)),ne=b!=="none";!E&&ne&&Z.push(...WV(c,C,b,K));const N=[c,...Z],R=await Uu(e,A),k=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&k.push(R[O]),g){const Se=$V(s,l,K);k.push(R[Se[0]],R[Se[1]])}if(L=[...L,{placement:s,overflows:k}],!k.every(Se=>Se<=0)){var V,U;const Se=(((V=a.flip)==null?void 0:V.index)||0)+1,ce=N[Se];if(ce){var D;const W=g==="alignment"?B!==zi(ce):!1,J=((D=L[0])==null?void 0:D.overflows[0])>0;if(!W||J)return{data:{index:Se,overflows:L},reset:{placement:ce}}}let me=(U=L.filter(W=>W.overflows[0]<=0).sort((W,J)=>W.overflows[1]-J.overflows[1])[0])==null?void 0:U.placement;if(!me)switch(x){case"bestFit":{var Pe;const W=(Pe=L.filter(J=>{if(ne){const re=zi(J.placement);return re===B||re==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(re=>re>0).reduce((re,F)=>re+F,0)]).sort((J,re)=>J[1]-re[1])[0])==null?void 0:Pe[0];W&&(me=W);break}case"initialPlacement":me=c;break}if(s!==me)return{reset:{placement:me}}}return{}}}};function SE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function bE(n){return FV.some(e=>n[e]>=0)}const YV=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=Ki(n,e);switch(r){case"referenceHidden":{const a=await Uu(e,{...s,elementContext:"reference"}),l=SE(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:bE(l)}}}case"escaped":{const a=await Uu(e,{...s,altBoundary:!0}),l=SE(a,t.floating);return{data:{escapedOffsets:l,escaped:bE(l)}}}default:return{}}}}};async function QV(n,e){const{placement:t,platform:r,elements:s}=n,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Yi(t),c=El(t),h=zi(t)==="y",p=["left","top"].includes(l)?-1:1,y=a&&h?-1:1,g=Ki(e,n);let{mainAxis:E,crossAxis:x,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof b=="number"&&(x=c==="end"?b*-1:b),h?{x:x*y,y:E*p}:{x:E*p,y:x*y}}const XV=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:a,placement:l,middlewareData:c}=e,h=await QV(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},JV=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:A=>{let{x:O,y:B}=A;return{x:O,y:B}}},...h}=Ki(n,e),p={x:t,y:r},y=await Uu(e,h),g=zi(Yi(s)),E=Ry(g);let x=p[E],b=p[g];if(a){const A=E==="y"?"top":"left",O=E==="y"?"bottom":"right",B=x+y[A],$=x-y[O];x=mg(B,x,$)}if(l){const A=g==="y"?"top":"left",O=g==="y"?"bottom":"right",B=b+y[A],$=b-y[O];b=mg(B,b,$)}const C=c.fn({...e,[E]:x,[g]:b});return{...C,data:{x:C.x-t,y:C.y-r,enabled:{[E]:a,[g]:l}}}}}},ZV=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:h=!0,crossAxis:p=!0}=Ki(n,e),y={x:t,y:r},g=zi(s),E=Ry(g);let x=y[E],b=y[g];const C=Ki(c,e),A=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const $=E==="y"?"height":"width",K=a.reference[E]-a.floating[$]+A.mainAxis,Z=a.reference[E]+a.reference[$]-A.mainAxis;x<K?x=K:x>Z&&(x=Z)}if(p){var O,B;const $=E==="y"?"width":"height",K=["top","left"].includes(Yi(s)),Z=a.reference[g]-a.floating[$]+(K&&((O=l.offset)==null?void 0:O[g])||0)+(K?0:A.crossAxis),ne=a.reference[g]+a.reference[$]+(K?0:((B=l.offset)==null?void 0:B[g])||0)-(K?A.crossAxis:0);b<Z?b=Z:b>ne&&(b=ne)}return{[E]:x,[g]:b}}}},e4=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:a,platform:l,elements:c}=e,{apply:h=()=>{},...p}=Ki(n,e),y=await Uu(e,p),g=Yi(s),E=El(s),x=zi(s)==="y",{width:b,height:C}=a.floating;let A,O;g==="top"||g==="bottom"?(A=g,O=E===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(O=g,A=E==="end"?"top":"bottom");const B=C-y.top-y.bottom,$=b-y.left-y.right,K=Ks(C-y[A],B),Z=Ks(b-y[O],$),ne=!e.middlewareData.shift;let N=K,R=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=$),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=B),ne&&!E){const L=Gn(y.left,0),V=Gn(y.right,0),U=Gn(y.top,0),D=Gn(y.bottom,0);x?R=b-2*(L!==0||V!==0?L+V:Gn(y.left,y.right)):N=C-2*(U!==0||D!==0?U+D:Gn(y.top,y.bottom))}await h({...e,availableWidth:R,availableHeight:N});const k=await l.getDimensions(c.floating);return b!==k.width||C!==k.height?{reset:{rects:!0}}:{}}}};function mh(){return typeof window<"u"}function Tl(n){return VS(n)?(n.nodeName||"").toLowerCase():"#document"}function Jn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function wi(n){var e;return(e=(VS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function VS(n){return mh()?n instanceof Node||n instanceof Jn(n).Node:!1}function Ur(n){return mh()?n instanceof Element||n instanceof Jn(n).Element:!1}function yi(n){return mh()?n instanceof HTMLElement||n instanceof Jn(n).HTMLElement:!1}function AE(n){return!mh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Jn(n).ShadowRoot}function ic(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=$r(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function t4(n){return["table","td","th"].includes(Tl(n))}function gh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Ny(n){const e=Dy(),t=Ur(n)?$r(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function n4(n){let e=Ys(n);for(;yi(e)&&!cl(e);){if(Ny(e))return e;if(gh(e))return null;e=Ys(e)}return null}function Dy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cl(n){return["html","body","#document"].includes(Tl(n))}function $r(n){return Jn(n).getComputedStyle(n)}function yh(n){return Ur(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ys(n){if(Tl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||AE(n)&&n.host||wi(n);return AE(e)?e.host:e}function FS(n){const e=Ys(n);return cl(e)?n.ownerDocument?n.ownerDocument.body:n.body:yi(e)&&ic(e)?e:FS(e)}function $u(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=FS(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),l=Jn(s);if(a){const c=yg(l);return e.concat(l,l.visualViewport||[],ic(s)?s:[],c&&t?$u(c):[])}return e.concat(s,$u(s,[],t))}function yg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function jS(n){const e=$r(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yi(n),a=s?n.offsetWidth:t,l=s?n.offsetHeight:r,c=Pf(t)!==a||Pf(r)!==l;return c&&(t=a,r=l),{width:t,height:r,$:c}}function Oy(n){return Ur(n)?n:n.contextElement}function Ja(n){const e=Oy(n);if(!yi(e))return hi(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=jS(e);let l=(a?Pf(t.width):t.width)/r,c=(a?Pf(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const r4=hi(0);function US(n){const e=Jn(n);return!Dy()||!e.visualViewport?r4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function i4(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Jn(n)?!1:e}function Wo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=Oy(n);let l=hi(1);e&&(r?Ur(r)&&(l=Ja(r)):l=Ja(n));const c=i4(a,t,r)?US(a):hi(0);let h=(s.left+c.x)/l.x,p=(s.top+c.y)/l.y,y=s.width/l.x,g=s.height/l.y;if(a){const E=Jn(a),x=r&&Ur(r)?Jn(r):r;let b=E,C=yg(b);for(;C&&r&&x!==b;){const A=Ja(C),O=C.getBoundingClientRect(),B=$r(C),$=O.left+(C.clientLeft+parseFloat(B.paddingLeft))*A.x,K=O.top+(C.clientTop+parseFloat(B.paddingTop))*A.y;h*=A.x,p*=A.y,y*=A.x,g*=A.y,h+=$,p+=K,b=Jn(C),C=yg(b)}}return Nf({width:y,height:g,x:h,y:p})}function My(n,e){const t=yh(n).scrollLeft;return e?e.left+t:Wo(wi(n)).left+t}function $S(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:My(n,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function s4(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const a=s==="fixed",l=wi(r),c=e?gh(e.floating):!1;if(r===l||c&&a)return t;let h={scrollLeft:0,scrollTop:0},p=hi(1);const y=hi(0),g=yi(r);if((g||!g&&!a)&&((Tl(r)!=="body"||ic(l))&&(h=yh(r)),yi(r))){const x=Wo(r);p=Ja(r),y.x=x.x+r.clientLeft,y.y=x.y+r.clientTop}const E=l&&!g&&!a?$S(l,h,!0):hi(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+y.x+E.x,y:t.y*p.y-h.scrollTop*p.y+y.y+E.y}}function o4(n){return Array.from(n.getClientRects())}function a4(n){const e=wi(n),t=yh(n),r=n.ownerDocument.body,s=Gn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Gn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+My(n);const c=-t.scrollTop;return $r(r).direction==="rtl"&&(l+=Gn(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:c}}function l4(n,e){const t=Jn(n),r=wi(n),s=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,h=0;if(s){a=s.width,l=s.height;const p=Dy();(!p||p&&e==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:c,y:h}}function u4(n,e){const t=Wo(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,a=yi(n)?Ja(n):hi(1),l=n.clientWidth*a.x,c=n.clientHeight*a.y,h=s*a.x,p=r*a.y;return{width:l,height:c,x:h,y:p}}function CE(n,e,t){let r;if(e==="viewport")r=l4(n,t);else if(e==="document")r=a4(wi(n));else if(Ur(e))r=u4(e,t);else{const s=US(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Nf(r)}function zS(n,e){const t=Ys(n);return t===e||!Ur(t)||cl(t)?!1:$r(t).position==="fixed"||zS(t,e)}function c4(n,e){const t=e.get(n);if(t)return t;let r=$u(n,[],!1).filter(c=>Ur(c)&&Tl(c)!=="body"),s=null;const a=$r(n).position==="fixed";let l=a?Ys(n):n;for(;Ur(l)&&!cl(l);){const c=$r(l),h=Ny(l);!h&&c.position==="fixed"&&(s=null),(a?!h&&!s:!h&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ic(l)&&!h&&zS(n,l))?r=r.filter(y=>y!==l):s=c,l=Ys(l)}return e.set(n,r),r}function d4(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?gh(e)?[]:c4(e,this._c):[].concat(t),r],c=l[0],h=l.reduce((p,y)=>{const g=CE(e,y,s);return p.top=Gn(g.top,p.top),p.right=Ks(g.right,p.right),p.bottom=Ks(g.bottom,p.bottom),p.left=Gn(g.left,p.left),p},CE(e,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function f4(n){const{width:e,height:t}=jS(n);return{width:e,height:t}}function h4(n,e,t){const r=yi(e),s=wi(e),a=t==="fixed",l=Wo(n,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=hi(0);function p(){h.x=My(s)}if(r||!r&&!a)if((Tl(e)!=="body"||ic(s))&&(c=yh(e)),r){const x=Wo(e,!0,a,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else s&&p();a&&!r&&s&&p();const y=s&&!r&&!a?$S(s,c):hi(0),g=l.left+c.scrollLeft-h.x-y.x,E=l.top+c.scrollTop-h.y-y.y;return{x:g,y:E,width:l.width,height:l.height}}function Sm(n){return $r(n).position==="static"}function RE(n,e){if(!yi(n)||$r(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return wi(n)===t&&(t=t.ownerDocument.body),t}function BS(n,e){const t=Jn(n);if(gh(n))return t;if(!yi(n)){let s=Ys(n);for(;s&&!cl(s);){if(Ur(s)&&!Sm(s))return s;s=Ys(s)}return t}let r=RE(n,e);for(;r&&t4(r)&&Sm(r);)r=RE(r,e);return r&&cl(r)&&Sm(r)&&!Ny(r)?t:r||n4(n)||t}const p4=async function(n){const e=this.getOffsetParent||BS,t=this.getDimensions,r=await t(n.floating);return{reference:h4(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function m4(n){return $r(n).direction==="rtl"}const g4={convertOffsetParentRelativeRectToViewportRelativeRect:s4,getDocumentElement:wi,getClippingRect:d4,getOffsetParent:BS,getElementRects:p4,getClientRects:o4,getDimensions:f4,getScale:Ja,isElement:Ur,isRTL:m4};function WS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function y4(n,e){let t=null,r;const s=wi(n);function a(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const p=n.getBoundingClientRect(),{left:y,top:g,width:E,height:x}=p;if(c||e(),!E||!x)return;const b=Ld(g),C=Ld(s.clientWidth-(y+E)),A=Ld(s.clientHeight-(g+x)),O=Ld(y),$={rootMargin:-b+"px "+-C+"px "+-A+"px "+-O+"px",threshold:Gn(0,Ks(1,h))||1};let K=!0;function Z(ne){const N=ne[0].intersectionRatio;if(N!==h){if(!K)return l();N?l(!1,N):r=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!WS(p,n.getBoundingClientRect())&&l(),K=!1}try{t=new IntersectionObserver(Z,{...$,root:s.ownerDocument})}catch{t=new IntersectionObserver(Z,$)}t.observe(n)}return l(!0),a}function v4(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Oy(n),y=s||a?[...p?$u(p):[],...$u(e)]:[];y.forEach(O=>{s&&O.addEventListener("scroll",t,{passive:!0}),a&&O.addEventListener("resize",t)});const g=p&&c?y4(p,t):null;let E=-1,x=null;l&&(x=new ResizeObserver(O=>{let[B]=O;B&&B.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var $;($=x)==null||$.observe(e)})),t()}),p&&!h&&x.observe(p),x.observe(e));let b,C=h?Wo(n):null;h&&A();function A(){const O=Wo(n);C&&!WS(C,O)&&t(),C=O,b=requestAnimationFrame(A)}return t(),()=>{var O;y.forEach(B=>{s&&B.removeEventListener("scroll",t),a&&B.removeEventListener("resize",t)}),g==null||g(),(O=x)==null||O.disconnect(),x=null,h&&cancelAnimationFrame(b)}}const w4=XV,_4=JV,E4=KV,T4=e4,I4=YV,PE=GV,x4=ZV,S4=(n,e,t)=>{const r=new Map,s={platform:g4,...t},a={...s.platform,_c:r};return qV(n,e,{...s,platform:a})};var tf=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Df(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Df(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&n.$$typeof)&&!Df(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function HS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function kE(n,e){const t=HS(n);return Math.round(e*t)/t}function bm(n){const e=T.useRef(n);return tf(()=>{e.current=n}),e}function b4(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:h,open:p}=n,[y,g]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,x]=T.useState(r);Df(E,r)||x(r);const[b,C]=T.useState(null),[A,O]=T.useState(null),B=T.useCallback(W=>{W!==ne.current&&(ne.current=W,C(W))},[]),$=T.useCallback(W=>{W!==N.current&&(N.current=W,O(W))},[]),K=a||b,Z=l||A,ne=T.useRef(null),N=T.useRef(null),R=T.useRef(y),k=h!=null,L=bm(h),V=bm(s),U=bm(p),D=T.useCallback(()=>{if(!ne.current||!N.current)return;const W={placement:e,strategy:t,middleware:E};V.current&&(W.platform=V.current),S4(ne.current,N.current,W).then(J=>{const re={...J,isPositioned:U.current!==!1};Pe.current&&!Df(R.current,re)&&(R.current=re,by.flushSync(()=>{g(re)}))})},[E,e,t,V,U]);tf(()=>{p===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,g(W=>({...W,isPositioned:!1})))},[p]);const Pe=T.useRef(!1);tf(()=>(Pe.current=!0,()=>{Pe.current=!1}),[]),tf(()=>{if(K&&(ne.current=K),Z&&(N.current=Z),K&&Z){if(L.current)return L.current(K,Z,D);D()}},[K,Z,D,L,k]);const Se=T.useMemo(()=>({reference:ne,floating:N,setReference:B,setFloating:$}),[B,$]),ce=T.useMemo(()=>({reference:K,floating:Z}),[K,Z]),me=T.useMemo(()=>{const W={position:t,left:0,top:0};if(!ce.floating)return W;const J=kE(ce.floating,y.x),re=kE(ce.floating,y.y);return c?{...W,transform:"translate("+J+"px, "+re+"px)",...HS(ce.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:J,top:re}},[t,c,ce.floating,y.x,y.y]);return T.useMemo(()=>({...y,update:D,refs:Se,elements:ce,floatingStyles:me}),[y,D,Se,ce,me])}const A4=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?PE({element:r.current,padding:s}).fn(t):{}:r?PE({element:r,padding:s}).fn(t):{}}}},C4=(n,e)=>({...w4(n),options:[n,e]}),R4=(n,e)=>({..._4(n),options:[n,e]}),P4=(n,e)=>({...x4(n),options:[n,e]}),k4=(n,e)=>({...E4(n),options:[n,e]}),N4=(n,e)=>({...T4(n),options:[n,e]}),D4=(n,e)=>({...I4(n),options:[n,e]}),O4=(n,e)=>({...A4(n),options:[n,e]});var M4="Arrow",qS=T.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...a}=n;return I.jsx(mt.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});qS.displayName=M4;var L4=qS;function V4(n){const[e,t]=T.useState(void 0);return jr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,c;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,c=p.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Ly="Popper",[GS,KS]=to(Ly),[F4,YS]=GS(Ly),QS=n=>{const{__scopePopper:e,children:t}=n,[r,s]=T.useState(null);return I.jsx(F4,{scope:e,anchor:r,onAnchorChange:s,children:t})};QS.displayName=Ly;var XS="PopperAnchor",JS=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,a=YS(XS,t),l=T.useRef(null),c=jt(e,l);return T.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:I.jsx(mt.div,{...s,ref:c})});JS.displayName=XS;var Vy="PopperContent",[j4,U4]=GS(Vy),ZS=T.forwardRef((n,e)=>{var ve,Me,Ne,He,Ut,qt;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:E=!1,updatePositionStrategy:x="optimized",onPlaced:b,...C}=n,A=YS(Vy,t),[O,B]=T.useState(null),$=jt(e,en=>B(en)),[K,Z]=T.useState(null),ne=V4(K),N=(ne==null?void 0:ne.width)??0,R=(ne==null?void 0:ne.height)??0,k=r+(a!=="center"?"-"+a:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(p)?p:[p],U=V.length>0,D={padding:L,boundary:V.filter(z4),altBoundary:U},{refs:Pe,floatingStyles:Se,placement:ce,isPositioned:me,middlewareData:W}=b4({strategy:"fixed",placement:k,whileElementsMounted:(...en)=>v4(...en,{animationFrame:x==="always"}),elements:{reference:A.anchor},middleware:[C4({mainAxis:s+R,alignmentAxis:l}),h&&R4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?P4():void 0,...D}),h&&k4({...D}),N4({...D,apply:({elements:en,rects:wn,availableWidth:Kr,availableHeight:Yr})=>{const{width:Vn,height:_i}=wn.reference,It=en.floating.style;It.setProperty("--radix-popper-available-width",`${Kr}px`),It.setProperty("--radix-popper-available-height",`${Yr}px`),It.setProperty("--radix-popper-anchor-width",`${Vn}px`),It.setProperty("--radix-popper-anchor-height",`${_i}px`)}}),K&&O4({element:K,padding:c}),B4({arrowWidth:N,arrowHeight:R}),E&&D4({strategy:"referenceHidden",...D})]}),[J,re]=nb(ce),F=gi(b);jr(()=>{me&&(F==null||F())},[me,F]);const Y=(ve=W.arrow)==null?void 0:ve.x,ie=(Me=W.arrow)==null?void 0:Me.y,fe=((Ne=W.arrow)==null?void 0:Ne.centerOffset)!==0,[be,ge]=T.useState();return jr(()=>{O&&ge(window.getComputedStyle(O).zIndex)},[O]),I.jsx("div",{ref:Pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:me?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(He=W.transformOrigin)==null?void 0:He.x,(Ut=W.transformOrigin)==null?void 0:Ut.y].join(" "),...((qt=W.hide)==null?void 0:qt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:I.jsx(j4,{scope:t,placedSide:J,onArrowChange:Z,arrowX:Y,arrowY:ie,shouldHideArrow:fe,children:I.jsx(mt.div,{"data-side":J,"data-align":re,...C,ref:$,style:{...C.style,animation:me?void 0:"none"}})})})});ZS.displayName=Vy;var eb="PopperArrow",$4={top:"bottom",right:"left",bottom:"top",left:"right"},tb=T.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,a=U4(eb,r),l=$4[a.placedSide];return I.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:I.jsx(L4,{...s,ref:t,style:{...s.style,display:"block"}})})});tb.displayName=eb;function z4(n){return n!==null}var B4=n=>({name:"transformOrigin",options:n,fn(e){var A,O,B;const{placement:t,rects:r,middlewareData:s}=e,l=((A=s.arrow)==null?void 0:A.centerOffset)!==0,c=l?0:n.arrowWidth,h=l?0:n.arrowHeight,[p,y]=nb(t),g={start:"0%",center:"50%",end:"100%"}[y],E=(((O=s.arrow)==null?void 0:O.x)??0)+c/2,x=(((B=s.arrow)==null?void 0:B.y)??0)+h/2;let b="",C="";return p==="bottom"?(b=l?g:`${E}px`,C=`${-h}px`):p==="top"?(b=l?g:`${E}px`,C=`${r.floating.height+h}px`):p==="right"?(b=`${-h}px`,C=l?g:`${x}px`):p==="left"&&(b=`${r.floating.width+h}px`,C=l?g:`${x}px`),{data:{x:b,y:C}}}});function nb(n){const[e,t="center"]=n.split("-");return[e,t]}var W4=QS,H4=JS,q4=ZS,G4=tb,K4="Portal",Fy=T.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[s,a]=T.useState(!1);jr(()=>a(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?SS.createPortal(I.jsx(mt.div,{...r,ref:e}),l):null});Fy.displayName=K4;var Y4=cT[" useInsertionEffect ".trim().toString()]||jr;function jy({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,a,l]=Q4({defaultProp:e,onChange:t}),c=n!==void 0,h=c?n:s;{const y=T.useRef(n!==void 0);T.useEffect(()=>{const g=y.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=c},[c,r])}const p=T.useCallback(y=>{var g;if(c){const E=X4(y)?y(n):y;E!==n&&((g=l.current)==null||g.call(l,E))}else a(y)},[c,n,a,l]);return[h,p]}function Q4({defaultProp:n,onChange:e}){const[t,r]=T.useState(n),s=T.useRef(t),a=T.useRef(e);return Y4(()=>{a.current=e},[e]),T.useEffect(()=>{var l;s.current!==t&&((l=a.current)==null||l.call(a,t),s.current=t)},[t,s]),[t,r,a]}function X4(n){return typeof n=="function"}var J4=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Va=new WeakMap,Vd=new WeakMap,Fd={},Am=0,rb=function(n){return n&&(n.host||rb(n.parentNode))},Z4=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=rb(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},eF=function(n,e,t,r){var s=Z4(e,Array.isArray(n)?n:[n]);Fd[t]||(Fd[t]=new WeakMap);var a=Fd[t],l=[],c=new Set,h=new Set(s),p=function(g){!g||c.has(g)||(c.add(g),p(g.parentNode))};s.forEach(p);var y=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(E){if(c.has(E))y(E);else try{var x=E.getAttribute(r),b=x!==null&&x!=="false",C=(Va.get(E)||0)+1,A=(a.get(E)||0)+1;Va.set(E,C),a.set(E,A),l.push(E),C===1&&b&&Vd.set(E,!0),A===1&&E.setAttribute(t,"true"),b||E.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",E,O)}})};return y(e),c.clear(),Am++,function(){l.forEach(function(g){var E=Va.get(g)-1,x=a.get(g)-1;Va.set(g,E),a.set(g,x),E||(Vd.has(g)||g.removeAttribute(r),Vd.delete(g)),x||g.removeAttribute(t)}),Am--,Am||(Va=new WeakMap,Va=new WeakMap,Vd=new WeakMap,Fd={})}},ib=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=J4(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),eF(r,s,t,"aria-hidden")):function(){return null}},nf="right-scroll-bar-position",rf="width-before-scroll-bar",tF="with-scroll-bars-hidden",nF="--removed-body-scroll-bar-size";function Cm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function rF(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var iF=typeof window<"u"?T.useLayoutEffect:T.useEffect,NE=new WeakMap;function sF(n,e){var t=rF(null,function(r){return n.forEach(function(s){return Cm(s,r)})});return iF(function(){var r=NE.get(t);if(r){var s=new Set(r),a=new Set(n),l=t.current;s.forEach(function(c){a.has(c)||Cm(c,null)}),a.forEach(function(c){s.has(c)||Cm(c,l)})}NE.set(t,n)},[n]),t}function oF(n){return n}function aF(n,e){e===void 0&&(e=oF);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var h=function(){var y=l;l=[],y.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(y){l.push(y),p()},filter:function(y){return l=l.filter(y),t}}}};return s}function lF(n){n===void 0&&(n={});var e=aF(null);return e.options=ui({async:!0,ssr:!1},n),e}var sb=function(n){var e=n.sideCar,t=Gu(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,ui({},t))};sb.isSideCarExport=!0;function uF(n,e){return n.useMedium(e),sb}var ob=lF(),Rm=function(){},vh=T.forwardRef(function(n,e){var t=T.useRef(null),r=T.useState({onScrollCapture:Rm,onWheelCapture:Rm,onTouchMoveCapture:Rm}),s=r[0],a=r[1],l=n.forwardProps,c=n.children,h=n.className,p=n.removeScrollBar,y=n.enabled,g=n.shards,E=n.sideCar,x=n.noIsolation,b=n.inert,C=n.allowPinchZoom,A=n.as,O=A===void 0?"div":A,B=n.gapMode,$=Gu(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=E,Z=sF([t,e]),ne=ui(ui({},$),s);return T.createElement(T.Fragment,null,y&&T.createElement(K,{sideCar:ob,removeScrollBar:p,shards:g,noIsolation:x,inert:b,setCallbacks:a,allowPinchZoom:!!C,lockRef:t,gapMode:B}),l?T.cloneElement(T.Children.only(c),ui(ui({},ne),{ref:Z})):T.createElement(O,ui({},ne,{className:h,ref:Z}),c))});vh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vh.classNames={fullWidth:rf,zeroRight:nf};var cF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dF(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=cF();return e&&n.setAttribute("nonce",e),n}function fF(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function hF(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var pF=function(){var n=0,e=null;return{add:function(t){n==0&&(e=dF())&&(fF(e,t),hF(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mF=function(){var n=pF();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},ab=function(){var n=mF(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},gF={left:0,top:0,right:0,gap:0},Pm=function(n){return parseInt(n||"",10)||0},yF=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Pm(t),Pm(r),Pm(s)]},vF=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return gF;var e=yF(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},wF=ab(),Za="data-scroll-locked",_F=function(n,e,t,r){var s=n.left,a=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(tF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Za,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(rf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(nf," .").concat(nf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rf," .").concat(rf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Za,`] {
    `).concat(nF,": ").concat(c,`px;
  }
`)},DE=function(){var n=parseInt(document.body.getAttribute(Za)||"0",10);return isFinite(n)?n:0},EF=function(){T.useEffect(function(){return document.body.setAttribute(Za,(DE()+1).toString()),function(){var n=DE()-1;n<=0?document.body.removeAttribute(Za):document.body.setAttribute(Za,n.toString())}},[])},TF=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;EF();var a=T.useMemo(function(){return vF(s)},[s]);return T.createElement(wF,{styles:_F(a,!e,s,t?"":"!important")})},vg=!1;if(typeof window<"u")try{var jd=Object.defineProperty({},"passive",{get:function(){return vg=!0,!0}});window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{vg=!1}var Fa=vg?{passive:!1}:!1,IF=function(n){return n.tagName==="TEXTAREA"},lb=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!IF(n)&&t[e]==="visible")},xF=function(n){return lb(n,"overflowY")},SF=function(n){return lb(n,"overflowX")},OE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ub(n,r);if(s){var a=cb(n,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},bF=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},AF=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},ub=function(n,e){return n==="v"?xF(e):SF(e)},cb=function(n,e){return n==="v"?bF(e):AF(e)},CF=function(n,e){return n==="h"&&e==="rtl"?-1:1},RF=function(n,e,t,r,s){var a=CF(n,window.getComputedStyle(e).direction),l=a*r,c=t.target,h=e.contains(c),p=!1,y=l>0,g=0,E=0;do{var x=cb(n,c),b=x[0],C=x[1],A=x[2],O=C-A-a*b;(b||O)&&ub(n,c)&&(g+=O,E+=b),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(y&&Math.abs(g)<1||!y&&Math.abs(E)<1)&&(p=!0),p},Ud=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ME=function(n){return[n.deltaX,n.deltaY]},LE=function(n){return n&&"current"in n?n.current:n},PF=function(n,e){return n[0]===e[0]&&n[1]===e[1]},kF=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},NF=0,ja=[];function DF(n){var e=T.useRef([]),t=T.useRef([0,0]),r=T.useRef(),s=T.useState(NF++)[0],a=T.useState(ab)[0],l=T.useRef(n);T.useEffect(function(){l.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var C=Ck([n.lockRef.current],(n.shards||[]).map(LE),!0).filter(Boolean);return C.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var c=T.useCallback(function(C,A){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var O=Ud(C),B=t.current,$="deltaX"in C?C.deltaX:B[0]-O[0],K="deltaY"in C?C.deltaY:B[1]-O[1],Z,ne=C.target,N=Math.abs($)>Math.abs(K)?"h":"v";if("touches"in C&&N==="h"&&ne.type==="range")return!1;var R=OE(N,ne);if(!R)return!0;if(R?Z=N:(Z=N==="v"?"h":"v",R=OE(N,ne)),!R)return!1;if(!r.current&&"changedTouches"in C&&($||K)&&(r.current=Z),!Z)return!0;var k=r.current||Z;return RF(k,A,C,k==="h"?$:K)},[]),h=T.useCallback(function(C){var A=C;if(!(!ja.length||ja[ja.length-1]!==a)){var O="deltaY"in A?ME(A):Ud(A),B=e.current.filter(function(Z){return Z.name===A.type&&(Z.target===A.target||A.target===Z.shadowParent)&&PF(Z.delta,O)})[0];if(B&&B.should){A.cancelable&&A.preventDefault();return}if(!B){var $=(l.current.shards||[]).map(LE).filter(Boolean).filter(function(Z){return Z.contains(A.target)}),K=$.length>0?c(A,$[0]):!l.current.noIsolation;K&&A.cancelable&&A.preventDefault()}}},[]),p=T.useCallback(function(C,A,O,B){var $={name:C,delta:A,target:O,should:B,shadowParent:OF(O)};e.current.push($),setTimeout(function(){e.current=e.current.filter(function(K){return K!==$})},1)},[]),y=T.useCallback(function(C){t.current=Ud(C),r.current=void 0},[]),g=T.useCallback(function(C){p(C.type,ME(C),C.target,c(C,n.lockRef.current))},[]),E=T.useCallback(function(C){p(C.type,Ud(C),C.target,c(C,n.lockRef.current))},[]);T.useEffect(function(){return ja.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:E}),document.addEventListener("wheel",h,Fa),document.addEventListener("touchmove",h,Fa),document.addEventListener("touchstart",y,Fa),function(){ja=ja.filter(function(C){return C!==a}),document.removeEventListener("wheel",h,Fa),document.removeEventListener("touchmove",h,Fa),document.removeEventListener("touchstart",y,Fa)}},[]);var x=n.removeScrollBar,b=n.inert;return T.createElement(T.Fragment,null,b?T.createElement(a,{styles:kF(s)}):null,x?T.createElement(TF,{gapMode:n.gapMode}):null)}function OF(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const MF=uF(ob,DF);var Uy=T.forwardRef(function(n,e){return T.createElement(vh,ui({},n,{ref:e,sideCar:MF}))});Uy.classNames=vh.classNames;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VF=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),VE=n=>{const e=VF(n);return e.charAt(0).toUpperCase()+e.slice(1)},db=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),FF=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},h)=>T.createElement("svg",{ref:h,...jF,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:db("lucide",s),...!a&&!FF(c)&&{"aria-hidden":"true"},...c},[...l.map(([p,y])=>T.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=(n,e)=>{const t=T.forwardRef(({className:r,...s},a)=>T.createElement(UF,{ref:a,iconNode:e,className:db(`lucide-${LF(VE(n))}`,`lucide-${n}`,r),...s}));return t.displayName=VE(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zF=cn("calendar",$F);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],WF=cn("chart-no-axes-column-increasing",BF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qF=cn("chevron-down",HF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KF=cn("chevron-left",GF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QF=cn("chevron-right",YF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],FE=cn("dumbbell",XF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ZF=cn("house",JF);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tj=cn("layout-dashboard",ej);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$y=cn("loader-circle",nj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ij=cn("log-out",rj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],oj=cn("moon",sj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lj=cn("sun",aj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cj=cn("target",uj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fb=cn("triangle-alert",dj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hj=cn("user",fj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],mj=cn("utensils-crossed",pj),jE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,UE=pS,zy=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return UE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const y=t==null?void 0:t[p],g=a==null?void 0:a[p];if(y===null)return null;const E=jE(y)||jE(g);return s[p][E]}),c=t&&Object.entries(t).reduce((p,y)=>{let[g,E]=y;return E===void 0||(p[g]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:g,className:E,...x}=y;return Object.entries(x).every(b=>{let[C,A]=b;return Array.isArray(A)?A.includes({...a,...c}[C]):{...a,...c}[C]===A})?[...p,g,E]:p},[]);return UE(n,l,h,t==null?void 0:t.class,t==null?void 0:t.className)},gj=zy("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function hb({className:n,variant:e,...t}){return I.jsx("div",{"data-slot":"alert",role:"alert",className:Je(gj({variant:e}),n),...t})}function pb({className:n,...e}){return I.jsx("div",{"data-slot":"alert-description",className:Je("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}var km={exports:{}},Nm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function yj(){if($E)return Nm;$E=1;var n=jf();function e(g,E){return g===E&&(g!==0||1/g===1/E)||g!==g&&E!==E}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function c(g,E){var x=E(),b=r({inst:{value:x,getSnapshot:E}}),C=b[0].inst,A=b[1];return a(function(){C.value=x,C.getSnapshot=E,h(C)&&A({inst:C})},[g,x,E]),s(function(){return h(C)&&A({inst:C}),g(function(){h(C)&&A({inst:C})})},[g]),l(x),x}function h(g){var E=g.getSnapshot;g=g.value;try{var x=E();return!t(g,x)}catch{return!0}}function p(g,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return Nm.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,Nm}var zE;function vj(){return zE||(zE=1,km.exports=yj()),km.exports}var wj=vj();function _j(){return wj.useSyncExternalStore(Ej,()=>!0,()=>!1)}function Ej(){return()=>{}}var By="Avatar",[Tj,U$]=to(By),[Ij,mb]=Tj(By),gb=T.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[s,a]=T.useState("idle");return I.jsx(Ij,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:I.jsx(mt.span,{...r,ref:e})})});gb.displayName=By;var yb="AvatarImage",vb=T.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:s=()=>{},...a}=n,l=mb(yb,t),c=Sj(r,a),h=gi(p=>{s(p),l.onImageLoadingStatusChange(p)});return jr(()=>{c!=="idle"&&h(c)},[c,h]),c==="loaded"?I.jsx(mt.img,{...a,ref:e,src:r}):null});vb.displayName=yb;var wb="AvatarFallback",xj=T.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...s}=n,a=mb(wb,t),[l,c]=T.useState(r===void 0);return T.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(h)}},[r]),l&&a.imageLoadingStatus!=="loaded"?I.jsx(mt.span,{...s,ref:e}):null});xj.displayName=wb;function BE(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Sj(n,{referrerPolicy:e,crossOrigin:t}){const r=_j(),s=T.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[l,c]=T.useState(()=>BE(a,n));return jr(()=>{c(BE(a,n))},[a,n]),jr(()=>{const h=g=>()=>{c(g)};if(!a)return;const p=h("loaded"),y=h("error");return a.addEventListener("load",p),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",p),a.removeEventListener("error",y)}},[a,t,e]),l}var bj=gb,Aj=vb;function Cj({className:n,...e}){return I.jsx(bj,{"data-slot":"avatar",className:Je("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function Rj({className:n,...e}){return I.jsx(Aj,{"data-slot":"avatar-image",className:Je("aspect-square size-full",n),...e})}const Pj=zy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function WE({className:n,variant:e,asChild:t=!1,...r}){const s=t?bS:"span";return I.jsx(s,{"data-slot":"badge",className:Je(Pj({variant:e}),n),...r})}const Wy=zy("inline-flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Qn=T.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},a)=>{const l=r?bS:"button";return I.jsx(l,{className:Je(Wy({variant:e,size:t,className:n})),ref:a,...s})});Qn.displayName="Button";function Wr(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Ho(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const _b=6048e5,kj=864e5;let Nj={};function wh(){return Nj}function zu(n,e){var c,h,p,y;const t=wh(),r=(e==null?void 0:e.weekStartsOn)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((y=(p=t.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,s=Wr(n),a=s.getDay(),l=(a<r?7:0)+a-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Of(n){return zu(n,{weekStartsOn:1})}function Eb(n){const e=Wr(n),t=e.getFullYear(),r=Ho(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=Of(r),a=Ho(n,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const l=Of(a);return e.getTime()>=s.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function HE(n){const e=Wr(n);return e.setHours(0,0,0,0),e}function qE(n){const e=Wr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Dj(n,e){const t=HE(n),r=HE(e),s=+t-qE(t),a=+r-qE(r);return Math.round((s-a)/kj)}function Oj(n){const e=Eb(n),t=Ho(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Of(t)}function Mj(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Lj(n){if(!Mj(n)&&typeof n!="number")return!1;const e=Wr(n);return!isNaN(Number(e))}function Vj(n){const e=Wr(n),t=Ho(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Fj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jj=(n,e,t)=>{let r;const s=Fj[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Dm(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Uj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$j={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bj={date:Dm({formats:Uj,defaultWidth:"full"}),time:Dm({formats:$j,defaultWidth:"full"}),dateTime:Dm({formats:zj,defaultWidth:"full"})},Wj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hj=(n,e,t,r)=>Wj[n];function fu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):l;s=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[c]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(e):e;return s[a]}}const qj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jj=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Zj={ordinalNumber:Jj,era:fu({values:qj,defaultWidth:"wide"}),quarter:fu({values:Gj,defaultWidth:"wide",argumentCallback:n=>n-1}),month:fu({values:Kj,defaultWidth:"wide"}),day:fu({values:Yj,defaultWidth:"wide"}),dayPeriod:fu({values:Qj,defaultWidth:"wide",formattingValues:Xj,defaultFormattingWidth:"wide"})};function hu(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(c)?tU(c,g=>g.test(l)):eU(c,g=>g.test(l));let p;p=n.valueCallback?n.valueCallback(h):h,p=t.valueCallback?t.valueCallback(p):p;const y=e.slice(l.length);return{value:p,rest:y}}}function eU(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function tU(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function nU(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],a=e.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const rU=/^(\d+)(th|st|nd|rd)?/i,iU=/\d+/i,sU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oU={any:[/^b/i,/^(a|c)/i]},aU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lU={any:[/1/i,/2/i,/3/i,/4/i]},uU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mU={ordinalNumber:nU({matchPattern:rU,parsePattern:iU,valueCallback:n=>parseInt(n,10)}),era:hu({matchPatterns:sU,defaultMatchWidth:"wide",parsePatterns:oU,defaultParseWidth:"any"}),quarter:hu({matchPatterns:aU,defaultMatchWidth:"wide",parsePatterns:lU,defaultParseWidth:"any",valueCallback:n=>n+1}),month:hu({matchPatterns:uU,defaultMatchWidth:"wide",parsePatterns:cU,defaultParseWidth:"any"}),day:hu({matchPatterns:dU,defaultMatchWidth:"wide",parsePatterns:fU,defaultParseWidth:"any"}),dayPeriod:hu({matchPatterns:hU,defaultMatchWidth:"any",parsePatterns:pU,defaultParseWidth:"any"})},gU={code:"en-US",formatDistance:jj,formatLong:Bj,formatRelative:Hj,localize:Zj,match:mU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yU(n){const e=Wr(n);return Dj(e,Vj(e))+1}function vU(n){const e=Wr(n),t=+Of(e)-+Oj(e);return Math.round(t/_b)+1}function Tb(n,e){var y,g,E,x;const t=Wr(n),r=t.getFullYear(),s=wh(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(E=s.locale)==null?void 0:E.options)==null?void 0:x.firstWeekContainsDate)??1,l=Ho(n,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const c=zu(l,e),h=Ho(n,0);h.setFullYear(r,0,a),h.setHours(0,0,0,0);const p=zu(h,e);return t.getTime()>=c.getTime()?r+1:t.getTime()>=p.getTime()?r:r-1}function wU(n,e){var c,h,p,y;const t=wh(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(p=t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,s=Tb(n,e),a=Ho(n,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),zu(a,e)}function _U(n,e){const t=Wr(n),r=+zu(t,e)-+wU(t,e);return Math.round(r/_b)+1}function tt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Rs={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return tt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):tt(t+1,2)},d(n,e){return tt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return tt(n.getHours()%12||12,e.length)},H(n,e){return tt(n.getHours(),e.length)},m(n,e){return tt(n.getMinutes(),e.length)},s(n,e){return tt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return tt(s,e.length)}},Ua={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GE={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Rs.y(n,e)},Y:function(n,e,t,r){const s=Tb(n,r),a=s>0?s:1-s;if(e==="YY"){const l=a%100;return tt(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):tt(a,e.length)},R:function(n,e){const t=Eb(n);return tt(t,e.length)},u:function(n,e){const t=n.getFullYear();return tt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return tt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return tt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Rs.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return tt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=_U(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):tt(s,e.length)},I:function(n,e,t){const r=vU(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):tt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Rs.d(n,e)},D:function(n,e,t){const r=yU(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):tt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return tt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return tt(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return tt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Ua.noon:r===0?s=Ua.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Ua.evening:r>=12?s=Ua.afternoon:r>=4?s=Ua.morning:s=Ua.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Rs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Rs.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):tt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):tt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Rs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Rs.s(n,e)},S:function(n,e){return Rs.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return YE(r);case"XXXX":case"XX":return ko(r);case"XXXXX":case"XXX":default:return ko(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return YE(r);case"xxxx":case"xx":return ko(r);case"xxxxx":case"xxx":default:return ko(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+KE(r,":");case"OOOO":default:return"GMT"+ko(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+KE(r,":");case"zzzz":default:return"GMT"+ko(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return tt(r,e.length)},T:function(n,e,t){const r=n.getTime();return tt(r,e.length)}};function KE(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+e+tt(a,2)}function YE(n,e){return n%60===0?(n>0?"-":"+")+tt(Math.abs(n)/60,2):ko(n,e)}function ko(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=tt(Math.trunc(r/60),2),a=tt(r%60,2);return t+s+e+a}const QE=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ib=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},EU=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return QE(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",QE(r,e)).replace("{{time}}",Ib(s,e))},TU={p:Ib,P:EU},IU=/^D+$/,xU=/^Y+$/,SU=["D","DD","YY","YYYY"];function bU(n){return IU.test(n)}function AU(n){return xU.test(n)}function CU(n,e,t){const r=RU(n,e,t);if(console.warn(r),SU.includes(n))throw new RangeError(r)}function RU(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NU=/^'([^]*?)'?$/,DU=/''/g,OU=/[a-zA-Z]/;function MU(n,e,t){var y,g,E,x;const r=wh(),s=r.locale??gU,a=r.firstWeekContainsDate??((g=(y=r.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,l=r.weekStartsOn??((x=(E=r.locale)==null?void 0:E.options)==null?void 0:x.weekStartsOn)??0,c=Wr(n);if(!Lj(c))throw new RangeError("Invalid time value");let h=e.match(kU).map(b=>{const C=b[0];if(C==="p"||C==="P"){const A=TU[C];return A(b,s.formatLong)}return b}).join("").match(PU).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const C=b[0];if(C==="'")return{isToken:!1,value:LU(b)};if(GE[C])return{isToken:!0,value:b};if(C.match(OU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return h.map(b=>{if(!b.isToken)return b.value;const C=b.value;(AU(C)||bU(C))&&CU(C,e,String(n));const A=GE[C[0]];return A(c,C,s.localize,p)}).join("")}function LU(n){const e=n.match(NU);return e?e[1].replace(DU,"'"):n}var Ru=function(){return Ru=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ru.apply(this,arguments)};var VU=T.createContext(void 0);function FU(){var n=T.useContext(VU);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}T.createContext(void 0);T.forwardRef(function(n,e){var t=FU(),r=t.classNames,s=t.styles,a=[r.button_reset,r.button];n.className&&a.push(n.className);var l=a.join(" "),c=Ru(Ru({},s.button_reset),s.button);return n.style&&Object.assign(c,n.style),I.jsx("button",Ru({},n,{ref:e,type:"button",className:l,style:c}))});T.createContext(void 0);T.createContext(void 0);var vi;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(vi||(vi={}));vi.Selected;vi.Disabled;vi.Hidden;vi.Today;vi.RangeEnd;vi.RangeMiddle;vi.RangeStart;vi.Outside;T.createContext(void 0);T.createContext(void 0);T.createContext(void 0);function jU(n,e){return T.useReducer((t,r)=>e[t][r]??t,n)}var no=n=>{const{present:e,children:t}=n,r=UU(e),s=typeof t=="function"?t({present:r.isPresent}):T.Children.only(t),a=jt(r.ref,$U(s));return typeof t=="function"||r.isPresent?T.cloneElement(s,{ref:a}):null};no.displayName="Presence";function UU(n){const[e,t]=T.useState(),r=T.useRef(null),s=T.useRef(n),a=T.useRef("none"),l=n?"mounted":"unmounted",[c,h]=jU(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=$d(r.current);a.current=c==="mounted"?p:"none"},[c]),jr(()=>{const p=r.current,y=s.current;if(y!==n){const E=a.current,x=$d(p);n?h("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(y&&E!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),jr(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,g=x=>{const C=$d(r.current).includes(x.animationName);if(x.target===e&&C&&(h("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},E=x=>{x.target===e&&(a.current=$d(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:T.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function $d(n){return(n==null?void 0:n.animationName)||"none"}function $U(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Om="rovingFocusGroup.onEntryFocus",zU={bubbles:!1,cancelable:!0},sc="RovingFocusGroup",[wg,xb,BU]=PS(sc),[WU,Sb]=to(sc,[BU]),[HU,qU]=WU(sc),bb=T.forwardRef((n,e)=>I.jsx(wg.Provider,{scope:n.__scopeRovingFocusGroup,children:I.jsx(wg.Slot,{scope:n.__scopeRovingFocusGroup,children:I.jsx(GU,{...n,ref:e})})}));bb.displayName=sc;var GU=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...g}=n,E=T.useRef(null),x=jt(e,E),b=kS(a),[C,A]=jy({prop:l,defaultProp:c??null,onChange:h,caller:sc}),[O,B]=T.useState(!1),$=gi(p),K=xb(t),Z=T.useRef(!1),[ne,N]=T.useState(0);return T.useEffect(()=>{const R=E.current;if(R)return R.addEventListener(Om,$),()=>R.removeEventListener(Om,$)},[$]),I.jsx(HU,{scope:t,orientation:r,dir:b,loop:s,currentTabStopId:C,onItemFocus:T.useCallback(R=>A(R),[A]),onItemShiftTab:T.useCallback(()=>B(!0),[]),onFocusableItemAdd:T.useCallback(()=>N(R=>R+1),[]),onFocusableItemRemove:T.useCallback(()=>N(R=>R-1),[]),children:I.jsx(mt.div,{tabIndex:O||ne===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...n.style},onMouseDown:je(n.onMouseDown,()=>{Z.current=!0}),onFocus:je(n.onFocus,R=>{const k=!Z.current;if(R.target===R.currentTarget&&k&&!O){const L=new CustomEvent(Om,zU);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const V=K().filter(ce=>ce.focusable),U=V.find(ce=>ce.active),D=V.find(ce=>ce.id===C),Se=[U,D,...V].filter(Boolean).map(ce=>ce.ref.current);Rb(Se,y)}}Z.current=!1}),onBlur:je(n.onBlur,()=>B(!1))})})}),Ab="RovingFocusGroupItem",Cb=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:a,children:l,...c}=n,h=Xa(),p=a||h,y=qU(Ab,t),g=y.currentTabStopId===p,E=xb(t),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:C}=y;return T.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),I.jsx(wg.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:I.jsx(mt.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...c,ref:e,onMouseDown:je(n.onMouseDown,A=>{r?y.onItemFocus(p):A.preventDefault()}),onFocus:je(n.onFocus,()=>y.onItemFocus(p)),onKeyDown:je(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){y.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const O=QU(A,y.orientation,y.dir);if(O!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let $=E().filter(K=>K.focusable).map(K=>K.ref.current);if(O==="last")$.reverse();else if(O==="prev"||O==="next"){O==="prev"&&$.reverse();const K=$.indexOf(A.currentTarget);$=y.loop?XU($,K+1):$.slice(K+1)}setTimeout(()=>Rb($))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:C!=null}):l})})});Cb.displayName=Ab;var KU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YU(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function QU(n,e,t){const r=YU(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return KU[r]}function Rb(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function XU(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var JU=bb,ZU=Cb,_g=["Enter"," "],e9=["ArrowDown","PageUp","Home"],Pb=["ArrowUp","PageDown","End"],t9=[...e9,...Pb],n9={ltr:[..._g,"ArrowRight"],rtl:[..._g,"ArrowLeft"]},r9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},oc="Menu",[Bu,i9,s9]=PS(oc),[Jo,kb]=to(oc,[s9,KS,Sb]),_h=KS(),Nb=Sb(),[o9,Zo]=Jo(oc),[a9,ac]=Jo(oc),Db=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:a,modal:l=!0}=n,c=_h(e),[h,p]=T.useState(null),y=T.useRef(!1),g=gi(a),E=kS(s);return T.useEffect(()=>{const x=()=>{y.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>y.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),I.jsx(W4,{...c,children:I.jsx(o9,{scope:e,open:t,onOpenChange:g,content:h,onContentChange:p,children:I.jsx(a9,{scope:e,onClose:T.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:E,modal:l,children:r})})})};Db.displayName=oc;var l9="MenuAnchor",Hy=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=_h(t);return I.jsx(H4,{...s,...r,ref:e})});Hy.displayName=l9;var qy="MenuPortal",[u9,Ob]=Jo(qy,{forceMount:void 0}),Mb=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,a=Zo(qy,e);return I.jsx(u9,{scope:e,forceMount:t,children:I.jsx(no,{present:t||a.open,children:I.jsx(Fy,{asChild:!0,container:s,children:r})})})};Mb.displayName=qy;var fr="MenuContent",[c9,Gy]=Jo(fr),Lb=T.forwardRef((n,e)=>{const t=Ob(fr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,a=Zo(fr,n.__scopeMenu),l=ac(fr,n.__scopeMenu);return I.jsx(Bu.Provider,{scope:n.__scopeMenu,children:I.jsx(no,{present:r||a.open,children:I.jsx(Bu.Slot,{scope:n.__scopeMenu,children:l.modal?I.jsx(d9,{...s,ref:e}):I.jsx(f9,{...s,ref:e})})})})}),d9=T.forwardRef((n,e)=>{const t=Zo(fr,n.__scopeMenu),r=T.useRef(null),s=jt(e,r);return T.useEffect(()=>{const a=r.current;if(a)return ib(a)},[]),I.jsx(Ky,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:je(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),f9=T.forwardRef((n,e)=>{const t=Zo(fr,n.__scopeMenu);return I.jsx(Ky,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),h9=ul("MenuContent.ScrollLock"),Ky=T.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:x,disableOutsideScroll:b,...C}=n,A=Zo(fr,t),O=ac(fr,t),B=_h(t),$=Nb(t),K=i9(t),[Z,ne]=T.useState(null),N=T.useRef(null),R=jt(e,N,A.onContentChange),k=T.useRef(0),L=T.useRef(""),V=T.useRef(0),U=T.useRef(null),D=T.useRef("right"),Pe=T.useRef(0),Se=b?Uy:T.Fragment,ce=b?{as:h9,allowPinchZoom:!0}:void 0,me=J=>{var ve,Me;const re=L.current+J,F=K().filter(Ne=>!Ne.disabled),Y=document.activeElement,ie=(ve=F.find(Ne=>Ne.ref.current===Y))==null?void 0:ve.textValue,fe=F.map(Ne=>Ne.textValue),be=S9(fe,re,ie),ge=(Me=F.find(Ne=>Ne.textValue===be))==null?void 0:Me.ref.current;(function Ne(He){L.current=He,window.clearTimeout(k.current),He!==""&&(k.current=window.setTimeout(()=>Ne(""),1e3))})(re),ge&&setTimeout(()=>ge.focus())};T.useEffect(()=>()=>window.clearTimeout(k.current),[]),OS();const W=T.useCallback(J=>{var F,Y;return D.current===((F=U.current)==null?void 0:F.side)&&A9(J,(Y=U.current)==null?void 0:Y.area)},[]);return I.jsx(c9,{scope:t,searchRef:L,onItemEnter:T.useCallback(J=>{W(J)&&J.preventDefault()},[W]),onItemLeave:T.useCallback(J=>{var re;W(J)||((re=N.current)==null||re.focus(),ne(null))},[W]),onTriggerLeave:T.useCallback(J=>{W(J)&&J.preventDefault()},[W]),pointerGraceTimerRef:V,onPointerGraceIntentChange:T.useCallback(J=>{U.current=J},[]),children:I.jsx(Se,{...ce,children:I.jsx(Cy,{asChild:!0,trapped:s,onMountAutoFocus:je(a,J=>{var re;J.preventDefault(),(re=N.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:I.jsx(Ay,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:E,onDismiss:x,children:I.jsx(JU,{asChild:!0,...$,dir:O.dir,orientation:"vertical",loop:r,currentTabStopId:Z,onCurrentTabStopIdChange:ne,onEntryFocus:je(h,J=>{O.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:I.jsx(q4,{role:"menu","aria-orientation":"vertical","data-state":Jb(A.open),"data-radix-menu-content":"",dir:O.dir,...B,...C,ref:R,style:{outline:"none",...C.style},onKeyDown:je(C.onKeyDown,J=>{const F=J.target.closest("[data-radix-menu-content]")===J.currentTarget,Y=J.ctrlKey||J.altKey||J.metaKey,ie=J.key.length===1;F&&(J.key==="Tab"&&J.preventDefault(),!Y&&ie&&me(J.key));const fe=N.current;if(J.target!==fe||!t9.includes(J.key))return;J.preventDefault();const ge=K().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);Pb.includes(J.key)&&ge.reverse(),I9(ge)}),onBlur:je(n.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(k.current),L.current="")}),onPointerMove:je(n.onPointerMove,Wu(J=>{const re=J.target,F=Pe.current!==J.clientX;if(J.currentTarget.contains(re)&&F){const Y=J.clientX>Pe.current?"right":"left";D.current=Y,Pe.current=J.clientX}}))})})})})})})});Lb.displayName=fr;var p9="MenuGroup",Yy=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return I.jsx(mt.div,{role:"group",...r,ref:e})});Yy.displayName=p9;var m9="MenuLabel",Vb=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return I.jsx(mt.div,{...r,ref:e})});Vb.displayName=m9;var Mf="MenuItem",XE="menu.itemSelect",Eh=T.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,a=T.useRef(null),l=ac(Mf,n.__scopeMenu),c=Gy(Mf,n.__scopeMenu),h=jt(e,a),p=T.useRef(!1),y=()=>{const g=a.current;if(!t&&g){const E=new CustomEvent(XE,{bubbles:!0,cancelable:!0});g.addEventListener(XE,x=>r==null?void 0:r(x),{once:!0}),CS(g,E),E.defaultPrevented?p.current=!1:l.onClose()}};return I.jsx(Fb,{...s,ref:h,disabled:t,onClick:je(n.onClick,y),onPointerDown:g=>{var E;(E=n.onPointerDown)==null||E.call(n,g),p.current=!0},onPointerUp:je(n.onPointerUp,g=>{var E;p.current||(E=g.currentTarget)==null||E.click()}),onKeyDown:je(n.onKeyDown,g=>{const E=c.searchRef.current!=="";t||E&&g.key===" "||_g.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Eh.displayName=Mf;var Fb=T.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...a}=n,l=Gy(Mf,t),c=Nb(t),h=T.useRef(null),p=jt(e,h),[y,g]=T.useState(!1),[E,x]=T.useState("");return T.useEffect(()=>{const b=h.current;b&&x((b.textContent??"").trim())},[a.children]),I.jsx(Bu.ItemSlot,{scope:t,disabled:r,textValue:s??E,children:I.jsx(ZU,{asChild:!0,...c,focusable:!r,children:I.jsx(mt.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:p,onPointerMove:je(n.onPointerMove,Wu(b=>{r?l.onItemLeave(b):(l.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(n.onPointerLeave,Wu(b=>l.onItemLeave(b))),onFocus:je(n.onFocus,()=>g(!0)),onBlur:je(n.onBlur,()=>g(!1))})})})}),g9="MenuCheckboxItem",jb=T.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return I.jsx(Wb,{scope:n.__scopeMenu,checked:t,children:I.jsx(Eh,{role:"menuitemcheckbox","aria-checked":Lf(t)?"mixed":t,...s,ref:e,"data-state":Xy(t),onSelect:je(s.onSelect,()=>r==null?void 0:r(Lf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});jb.displayName=g9;var Ub="MenuRadioGroup",[y9,v9]=Jo(Ub,{value:void 0,onValueChange:()=>{}}),$b=T.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,a=gi(r);return I.jsx(y9,{scope:n.__scopeMenu,value:t,onValueChange:a,children:I.jsx(Yy,{...s,ref:e})})});$b.displayName=Ub;var zb="MenuRadioItem",Bb=T.forwardRef((n,e)=>{const{value:t,...r}=n,s=v9(zb,n.__scopeMenu),a=t===s.value;return I.jsx(Wb,{scope:n.__scopeMenu,checked:a,children:I.jsx(Eh,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Xy(a),onSelect:je(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,t)},{checkForDefaultPrevented:!1})})})});Bb.displayName=zb;var Qy="MenuItemIndicator",[Wb,w9]=Jo(Qy,{checked:!1}),Hb=T.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,a=w9(Qy,t);return I.jsx(no,{present:r||Lf(a.checked)||a.checked===!0,children:I.jsx(mt.span,{...s,ref:e,"data-state":Xy(a.checked)})})});Hb.displayName=Qy;var _9="MenuSeparator",qb=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return I.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});qb.displayName=_9;var E9="MenuArrow",Gb=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=_h(t);return I.jsx(G4,{...s,...r,ref:e})});Gb.displayName=E9;var T9="MenuSub",[$$,Kb]=Jo(T9),Tu="MenuSubTrigger",Yb=T.forwardRef((n,e)=>{const t=Zo(Tu,n.__scopeMenu),r=ac(Tu,n.__scopeMenu),s=Kb(Tu,n.__scopeMenu),a=Gy(Tu,n.__scopeMenu),l=T.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=a,p={__scopeMenu:n.__scopeMenu},y=T.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return T.useEffect(()=>y,[y]),T.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),h(null)}},[c,h]),I.jsx(Hy,{asChild:!0,...p,children:I.jsx(Fb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Jb(t.open),...n,ref:ph(e,s.onTriggerChange),onClick:g=>{var E;(E=n.onClick)==null||E.call(n,g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:je(n.onPointerMove,Wu(g=>{a.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:je(n.onPointerLeave,Wu(g=>{var x,b;y();const E=(x=t.content)==null?void 0:x.getBoundingClientRect();if(E){const C=(b=t.content)==null?void 0:b.dataset.side,A=C==="right",O=A?-5:5,B=E[A?"left":"right"],$=E[A?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+O,y:g.clientY},{x:B,y:E.top},{x:$,y:E.top},{x:$,y:E.bottom},{x:B,y:E.bottom}],side:C}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:je(n.onKeyDown,g=>{var x;const E=a.searchRef.current!=="";n.disabled||E&&g.key===" "||n9[r.dir].includes(g.key)&&(t.onOpenChange(!0),(x=t.content)==null||x.focus(),g.preventDefault())})})})});Yb.displayName=Tu;var Qb="MenuSubContent",Xb=T.forwardRef((n,e)=>{const t=Ob(fr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,a=Zo(fr,n.__scopeMenu),l=ac(fr,n.__scopeMenu),c=Kb(Qb,n.__scopeMenu),h=T.useRef(null),p=jt(e,h);return I.jsx(Bu.Provider,{scope:n.__scopeMenu,children:I.jsx(no,{present:r||a.open,children:I.jsx(Bu.Slot,{scope:n.__scopeMenu,children:I.jsx(Ky,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;l.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:je(n.onFocusOutside,y=>{y.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:je(n.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:je(n.onKeyDown,y=>{var x;const g=y.currentTarget.contains(y.target),E=r9[l.dir].includes(y.key);g&&E&&(a.onOpenChange(!1),(x=c.trigger)==null||x.focus(),y.preventDefault())})})})})})});Xb.displayName=Qb;function Jb(n){return n?"open":"closed"}function Lf(n){return n==="indeterminate"}function Xy(n){return Lf(n)?"indeterminate":n?"checked":"unchecked"}function I9(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function x9(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function S9(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=x9(n,Math.max(a,0));s.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function b9(n,e){const{x:t,y:r}=n;let s=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a],h=e[l],p=c.x,y=c.y,g=h.x,E=h.y;y>r!=E>r&&t<(g-p)*(r-y)/(E-y)+p&&(s=!s)}return s}function A9(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return b9(t,e)}function Wu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var C9=Db,R9=Hy,P9=Mb,k9=Lb,N9=Yy,D9=Vb,O9=Eh,M9=jb,L9=$b,V9=Bb,F9=Hb,j9=qb,U9=Gb,$9=Yb,z9=Xb,Th="DropdownMenu",[B9,z$]=to(Th,[kb]),vn=kb(),[W9,Zb]=B9(Th),eA=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:a,onOpenChange:l,modal:c=!0}=n,h=vn(e),p=T.useRef(null),[y,g]=jy({prop:s,defaultProp:a??!1,onChange:l,caller:Th});return I.jsx(W9,{scope:e,triggerId:Xa(),triggerRef:p,contentId:Xa(),open:y,onOpenChange:g,onOpenToggle:T.useCallback(()=>g(E=>!E),[g]),modal:c,children:I.jsx(C9,{...h,open:y,onOpenChange:g,dir:r,modal:c,children:t})})};eA.displayName=Th;var tA="DropdownMenuTrigger",nA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,a=Zb(tA,t),l=vn(t);return I.jsx(R9,{asChild:!0,...l,children:I.jsx(mt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ph(e,a.triggerRef),onPointerDown:je(n.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:je(n.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});nA.displayName=tA;var H9="DropdownMenuPortal",rA=n=>{const{__scopeDropdownMenu:e,...t}=n,r=vn(e);return I.jsx(P9,{...r,...t})};rA.displayName=H9;var iA="DropdownMenuContent",sA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Zb(iA,t),a=vn(t),l=T.useRef(!1);return I.jsx(k9,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:e,onCloseAutoFocus:je(n.onCloseAutoFocus,c=>{var h;l.current||(h=s.triggerRef.current)==null||h.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:je(n.onInteractOutside,c=>{const h=c.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,y=h.button===2||p;(!s.modal||y)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sA.displayName=iA;var q9="DropdownMenuGroup",G9=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(N9,{...s,...r,ref:e})});G9.displayName=q9;var K9="DropdownMenuLabel",oA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(D9,{...s,...r,ref:e})});oA.displayName=K9;var Y9="DropdownMenuItem",aA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(O9,{...s,...r,ref:e})});aA.displayName=Y9;var Q9="DropdownMenuCheckboxItem",X9=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(M9,{...s,...r,ref:e})});X9.displayName=Q9;var J9="DropdownMenuRadioGroup",Z9=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(L9,{...s,...r,ref:e})});Z9.displayName=J9;var e3="DropdownMenuRadioItem",t3=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(V9,{...s,...r,ref:e})});t3.displayName=e3;var n3="DropdownMenuItemIndicator",r3=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(F9,{...s,...r,ref:e})});r3.displayName=n3;var i3="DropdownMenuSeparator",lA=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(j9,{...s,...r,ref:e})});lA.displayName=i3;var s3="DropdownMenuArrow",o3=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(U9,{...s,...r,ref:e})});o3.displayName=s3;var a3="DropdownMenuSubTrigger",l3=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx($9,{...s,...r,ref:e})});l3.displayName=a3;var u3="DropdownMenuSubContent",c3=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=vn(t);return I.jsx(z9,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});c3.displayName=u3;var d3=eA,f3=nA,h3=rA,p3=sA,m3=oA,g3=aA,y3=lA;function v3({...n}){return I.jsx(d3,{"data-slot":"dropdown-menu",...n})}function w3({...n}){return I.jsx(f3,{"data-slot":"dropdown-menu-trigger",...n})}function _3({className:n,sideOffset:e=4,...t}){return I.jsx(h3,{children:I.jsx(p3,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function Mm({className:n,inset:e,variant:t="default",...r}){return I.jsx(g3,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Je("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function E3({className:n,inset:e,...t}){return I.jsx(m3,{"data-slot":"dropdown-menu-label","data-inset":e,className:Je("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...t})}function JE({className:n,...e}){return I.jsx(y3,{"data-slot":"dropdown-menu-separator",className:Je("bg-border -mx-1 my-1 h-px",n),...e})}T.createContext({});T.createContext({});const uA=T.forwardRef(({className:n,type:e,...t},r)=>I.jsx("input",{type:e,className:Je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));uA.displayName="Input";function zd({className:n,...e}){return I.jsx("div",{"data-slot":"skeleton",className:Je("bg-accent animate-pulse rounded-md",n),...e})}var Ih="Dialog",[cA,dA]=to(Ih),[T3,Hr]=cA(Ih),fA=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=n,c=T.useRef(null),h=T.useRef(null),[p,y]=jy({prop:r,defaultProp:s??!1,onChange:a,caller:Ih});return I.jsx(T3,{scope:e,triggerRef:c,contentRef:h,contentId:Xa(),titleId:Xa(),descriptionId:Xa(),open:p,onOpenChange:y,onOpenToggle:T.useCallback(()=>y(g=>!g),[y]),modal:l,children:t})};fA.displayName=Ih;var hA="DialogTrigger",pA=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hr(hA,t),a=jt(e,s.triggerRef);return I.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ev(s.open),...r,ref:a,onClick:je(n.onClick,s.onOpenToggle)})});pA.displayName=hA;var Jy="DialogPortal",[I3,mA]=cA(Jy,{forceMount:void 0}),gA=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,a=Hr(Jy,e);return I.jsx(I3,{scope:e,forceMount:t,children:T.Children.map(r,l=>I.jsx(no,{present:t||a.open,children:I.jsx(Fy,{asChild:!0,container:s,children:l})}))})};gA.displayName=Jy;var Vf="DialogOverlay",yA=T.forwardRef((n,e)=>{const t=mA(Vf,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=Hr(Vf,n.__scopeDialog);return a.modal?I.jsx(no,{present:r||a.open,children:I.jsx(S3,{...s,ref:e})}):null});yA.displayName=Vf;var x3=ul("DialogOverlay.RemoveScroll"),S3=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hr(Vf,t);return I.jsx(Uy,{as:x3,allowPinchZoom:!0,shards:[s.contentRef],children:I.jsx(mt.div,{"data-state":ev(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qo="DialogContent",vA=T.forwardRef((n,e)=>{const t=mA(qo,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=Hr(qo,n.__scopeDialog);return I.jsx(no,{present:r||a.open,children:a.modal?I.jsx(b3,{...s,ref:e}):I.jsx(A3,{...s,ref:e})})});vA.displayName=qo;var b3=T.forwardRef((n,e)=>{const t=Hr(qo,n.__scopeDialog),r=T.useRef(null),s=jt(e,t.contentRef,r);return T.useEffect(()=>{const a=r.current;if(a)return ib(a)},[]),I.jsx(wA,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:je(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:je(n.onFocusOutside,a=>a.preventDefault())})}),A3=T.forwardRef((n,e)=>{const t=Hr(qo,n.__scopeDialog),r=T.useRef(!1),s=T.useRef(!1);return I.jsx(wA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var h,p;(h=n.onInteractOutside)==null||h.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),wA=T.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=n,c=Hr(qo,t),h=T.useRef(null),p=jt(e,h);return OS(),I.jsxs(I.Fragment,{children:[I.jsx(Cy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:I.jsx(Ay,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ev(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),I.jsxs(I.Fragment,{children:[I.jsx(R3,{titleId:c.titleId}),I.jsx(k3,{contentRef:h,descriptionId:c.descriptionId})]})]})}),Zy="DialogTitle",_A=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hr(Zy,t);return I.jsx(mt.h2,{id:s.titleId,...r,ref:e})});_A.displayName=Zy;var EA="DialogDescription",TA=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hr(EA,t);return I.jsx(mt.p,{id:s.descriptionId,...r,ref:e})});TA.displayName=EA;var IA="DialogClose",xA=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Hr(IA,t);return I.jsx(mt.button,{type:"button",...r,ref:e,onClick:je(n.onClick,()=>s.onOpenChange(!1))})});xA.displayName=IA;function ev(n){return n?"open":"closed"}var SA="DialogTitleWarning",[C3,bA]=vV(SA,{contentName:qo,titleName:Zy,docsSlug:"dialog"}),R3=({titleId:n})=>{const e=bA(SA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},P3="DialogDescriptionWarning",k3=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bA(P3).contentName}}.`;return T.useEffect(()=>{var a;const s=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},N3=fA,D3=pA,O3=gA,M3=yA,L3=vA,V3=_A,F3=TA,AA=xA,CA="AlertDialog",[j3,B$]=to(CA,[dA]),Ji=dA(),RA=n=>{const{__scopeAlertDialog:e,...t}=n,r=Ji(e);return I.jsx(N3,{...r,...t,modal:!0})};RA.displayName=CA;var U3="AlertDialogTrigger",PA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ji(t);return I.jsx(D3,{...s,...r,ref:e})});PA.displayName=U3;var $3="AlertDialogPortal",kA=n=>{const{__scopeAlertDialog:e,...t}=n,r=Ji(e);return I.jsx(O3,{...r,...t})};kA.displayName=$3;var z3="AlertDialogOverlay",NA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ji(t);return I.jsx(M3,{...s,...r,ref:e})});NA.displayName=z3;var el="AlertDialogContent",[B3,W3]=j3(el),H3=cV("AlertDialogContent"),DA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...s}=n,a=Ji(t),l=T.useRef(null),c=jt(e,l),h=T.useRef(null);return I.jsx(C3,{contentName:el,titleName:OA,docsSlug:"alert-dialog",children:I.jsx(B3,{scope:t,cancelRef:h,children:I.jsxs(L3,{role:"alertdialog",...a,...s,ref:c,onOpenAutoFocus:je(s.onOpenAutoFocus,p=>{var y;p.preventDefault(),(y=h.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[I.jsx(H3,{children:r}),I.jsx(G3,{contentRef:l})]})})})});DA.displayName=el;var OA="AlertDialogTitle",MA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ji(t);return I.jsx(V3,{...s,...r,ref:e})});MA.displayName=OA;var LA="AlertDialogDescription",VA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ji(t);return I.jsx(F3,{...s,...r,ref:e})});VA.displayName=LA;var q3="AlertDialogAction",FA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=Ji(t);return I.jsx(AA,{...s,...r,ref:e})});FA.displayName=q3;var jA="AlertDialogCancel",UA=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:s}=W3(jA,t),a=Ji(t),l=jt(e,s);return I.jsx(AA,{...a,...r,ref:l})});UA.displayName=jA;var G3=({contentRef:n})=>{const e=`\`${el}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${el}\` by passing a \`${LA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${el}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},K3=RA,Y3=PA,Q3=kA,$A=NA,zA=DA,BA=FA,WA=UA,HA=MA,qA=VA;const W$=K3,H$=Y3,X3=Q3,GA=T.forwardRef(({className:n,...e},t)=>I.jsx($A,{className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));GA.displayName=$A.displayName;const J3=T.forwardRef(({className:n,...e},t)=>I.jsxs(X3,{children:[I.jsx(GA,{}),I.jsx(zA,{ref:t,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));J3.displayName=zA.displayName;const Z3=({className:n,...e})=>I.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",n),...e});Z3.displayName="AlertDialogHeader";const e5=({className:n,...e})=>I.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});e5.displayName="AlertDialogFooter";const t5=T.forwardRef(({className:n,...e},t)=>I.jsx(HA,{ref:t,className:Je("text-lg font-semibold",n),...e}));t5.displayName=HA.displayName;const n5=T.forwardRef(({className:n,...e},t)=>I.jsx(qA,{ref:t,className:Je("text-sm text-muted-foreground",n),...e}));n5.displayName=qA.displayName;const r5=T.forwardRef(({className:n,...e},t)=>I.jsx(BA,{ref:t,className:Je(Wy(),n),...e}));r5.displayName=BA.displayName;const i5=T.forwardRef(({className:n,...e},t)=>I.jsx(WA,{ref:t,className:Je(Wy({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));i5.displayName=WA.displayName;const sf={userPreferences:{theme:"light",heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",notificationsEnabled:!0,workoutDaysPerWeek:3},ui:{sidebarOpen:!0,activeDashboardTab:"home"},dashboardData:{needsRefresh:!1,lastUpdated:null}},KA=le.createContext({state:sf,setHeightUnit:()=>{},setWeightUnit:()=>{},setDateFormat:()=>{},setSidebarOpen:()=>{},setTheme:()=>{},setWorkoutDaysPerWeek:()=>{}}),s5=()=>{const n=T.useContext(KA);if(!n)throw new Error("useAppState must be used within an AppProvider");const{state:e,setHeightUnit:t,setWeightUnit:r,setDateFormat:s,setSidebarOpen:a,setTheme:l,setWorkoutDaysPerWeek:c}=n;return{state:e,setHeightUnit:t,setWeightUnit:r,setDateFormat:s,setSidebarOpen:a,setTheme:l,setWorkoutDaysPerWeek:c}},Il=()=>{const n=T.useContext(fT);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return{...n}};var pu={},ZE;function o5(){if(ZE)return pu;ZE=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.parse=l,pu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,x){const b=new a,C=E.length;if(C<2)return b;const A=(x==null?void 0:x.decode)||y;let O=0;do{const B=E.indexOf("=",O);if(B===-1)break;const $=E.indexOf(";",O),K=$===-1?C:$;if(B>K){O=E.lastIndexOf(";",B-1)+1;continue}const Z=c(E,O,B),ne=h(E,B,Z),N=E.slice(Z,ne);if(b[N]===void 0){let R=c(E,B+1,K),k=h(E,K,R);const L=A(E.slice(R,k));b[N]=L}O=K+1}while(O<C);return b}function c(E,x,b){do{const C=E.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<b);return b}function h(E,x,b){for(;x>b;){const C=E.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return b}function p(E,x,b){const C=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const A=C(x);if(!e.test(A))throw new TypeError(`argument val is invalid: ${x}`);let O=E+"="+A;if(!b)return O;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);O+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);O+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);O+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);O+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(O+="; HttpOnly"),b.secure&&(O+="; Secure"),b.partitioned&&(O+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return O}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function g(E){return s.call(E)==="[object Date]"}return pu}o5();var eT="popstate";function a5(n={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Eg("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Hu(s)}return u5(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l5(){return Math.random().toString(36).substring(2,10)}function tT(n,e){return{usr:n.state,key:n.key,idx:e}}function Eg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:t,key:e&&e.key||r||l5()}}function Hu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function u5(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",h=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function g(){c="POP";let A=y(),O=A==null?null:A-p;p=A,h&&h({action:c,location:C.location,delta:O})}function E(A,O){c="PUSH";let B=Eg(C.location,A,O);p=y()+1;let $=tT(B,p),K=C.createHref(B);try{l.pushState($,"",K)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;s.location.assign(K)}a&&h&&h({action:c,location:C.location,delta:1})}function x(A,O){c="REPLACE";let B=Eg(C.location,A,O);p=y();let $=tT(B,p),K=C.createHref(B);l.replaceState($,"",K),a&&h&&h({action:c,location:C.location,delta:0})}function b(A){let O=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof A=="string"?A:Hu(A);return B=B.replace(/ $/,"%20"),pt(O,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,O)}let C={get action(){return c},get location(){return n(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(eT,g),h=A,()=>{s.removeEventListener(eT,g),h=null}},createHref(A){return e(s,A)},createURL:b,encodeLocation(A){let O=b(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:x,go(A){return l.go(A)}};return C}function YA(n,e,t="/"){return c5(n,e,t,!1)}function c5(n,e,t,r){let s=typeof e=="string"?xl(e):e,a=Qi(s.pathname||"/",t);if(a==null)return null;let l=QA(n);d5(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=T5(a);c=_5(l[h],p,r)}return c}function QA(n,e=[],t=[],r=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(pt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Bi([r,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(pt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),QA(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:v5(p,a.index),routesMeta:y})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of XA(a.path))s(a,l,h)}),e}function XA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=XA(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function d5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:w5(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var f5=/^:[\w-]+$/,h5=3,p5=2,m5=1,g5=10,y5=-2,nT=n=>n==="*";function v5(n,e){let t=n.split("/"),r=t.length;return t.some(nT)&&(r+=y5),e&&(r+=p5),t.filter(s=>!nT(s)).reduce((s,a)=>s+(f5.test(a)?h5:a===""?m5:g5),r)}function w5(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function _5(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=Ff({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),E=h.route;if(!g&&p&&t&&!r[r.length-1].route.index&&(g=Ff({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Bi([a,g.pathname]),pathnameBase:b5(Bi([a,g.pathnameBase])),route:E}),g.pathnameBase!=="/"&&(a=Bi([a,g.pathnameBase]))}return l}function Ff(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=E5(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:g},E)=>{if(y==="*"){let b=c[E]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[E];return g&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function E5(n,e=!1,t=!0){zr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function T5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function I5(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?xl(n):n;return{pathname:t?t.startsWith("/")?t:x5(t,e):e,search:A5(r),hash:C5(s)}}function x5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Lm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tv(n){let e=S5(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function nv(n,e,t,r=!1){let s;typeof n=="string"?s=xl(n):(s={...n},pt(!s.pathname||!s.pathname.includes("?"),Lm("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Lm("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Lm("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),g-=1;s.pathname=E.join("/")}c=g>=0?e[g]:"/"}let h=I5(s,c),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var Bi=n=>n.join("/").replace(/\/\/+/g,"/"),b5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),A5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,C5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function R5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var JA=["POST","PUT","PATCH","DELETE"];new Set(JA);var P5=["GET",...JA];new Set(P5);var Sl=T.createContext(null);Sl.displayName="DataRouter";var xh=T.createContext(null);xh.displayName="DataRouterState";var ZA=T.createContext({isTransitioning:!1});ZA.displayName="ViewTransition";var k5=T.createContext(new Map);k5.displayName="Fetchers";var N5=T.createContext(null);N5.displayName="Await";var qr=T.createContext(null);qr.displayName="Navigation";var lc=T.createContext(null);lc.displayName="Location";var Gr=T.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var rv=T.createContext(null);rv.displayName="RouteError";function D5(n,{relative:e}={}){pt(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(qr),{hash:s,pathname:a,search:l}=uc(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Bi([t,a])),r.createHref({pathname:c,search:l,hash:s})}function bl(){return T.useContext(lc)!=null}function Zi(){return pt(bl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(lc).location}var eC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tC(n){T.useContext(qr).static||T.useLayoutEffect(n)}function Al(){let{isDataRoute:n}=T.useContext(Gr);return n?K5():O5()}function O5(){pt(bl(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Sl),{basename:e,navigator:t}=T.useContext(qr),{matches:r}=T.useContext(Gr),{pathname:s}=Zi(),a=JSON.stringify(tv(r)),l=T.useRef(!1);return tC(()=>{l.current=!0}),T.useCallback((h,p={})=>{if(zr(l.current,eC),!l.current)return;if(typeof h=="number"){t.go(h);return}let y=nv(h,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Bi([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,s,n])}var M5=T.createContext(null);function L5(n){let e=T.useContext(Gr).outlet;return e&&T.createElement(M5.Provider,{value:n},e)}function uc(n,{relative:e}={}){let{matches:t}=T.useContext(Gr),{pathname:r}=Zi(),s=JSON.stringify(tv(t));return T.useMemo(()=>nv(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function V5(n,e){return nC(n,e)}function nC(n,e,t,r){var B;pt(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=T.useContext(qr),{matches:l}=T.useContext(Gr),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",g=c&&c.route;{let $=g&&g.path||"";rC(p,!g||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=Zi(),x;if(e){let $=typeof e=="string"?xl(e):e;pt(y==="/"||((B=$.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),x=$}else x=E;let b=x.pathname||"/",C=b;if(y!=="/"){let $=y.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice($.length).join("/")}let A=!a&&t&&t.matches&&t.matches.length>0?t.matches:YA(n,{pathname:C});zr(g||A!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=z5(A&&A.map($=>Object.assign({},$,{params:Object.assign({},h,$.params),pathname:Bi([y,s.encodeLocation?s.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Bi([y,s.encodeLocation?s.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),l,t,r);return e&&O?T.createElement(lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},O):O}function F5(){let n=G5(),e=R5(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:s},t):null,l)}var j5=T.createElement(F5,null),U5=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(Gr.Provider,{value:this.props.routeContext},T.createElement(rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $5({routeContext:n,match:e,children:t}){let r=T.useContext(Sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Gr.Provider,{value:n},t)}function z5(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);pt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:y,errors:g}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||E){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let g,E=!1,x=null,b=null;t&&(g=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||j5,l&&(c<0&&y===0?(rC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):c===y&&(E=!0,b=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,y+1)),A=()=>{let O;return g?O=x:E?O=b:p.route.Component?O=T.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,T.createElement($5,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?T.createElement(U5,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}function iv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B5(n){let e=T.useContext(Sl);return pt(e,iv(n)),e}function W5(n){let e=T.useContext(xh);return pt(e,iv(n)),e}function H5(n){let e=T.useContext(Gr);return pt(e,iv(n)),e}function sv(n){let e=H5(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function q5(){return sv("useRouteId")}function G5(){var r;let n=T.useContext(rv),e=W5("useRouteError"),t=sv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function K5(){let{router:n}=B5("useNavigate"),e=sv("useNavigate"),t=T.useRef(!1);return tC(()=>{t.current=!0}),T.useCallback(async(s,a={})=>{zr(t.current,eC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var rT={};function rC(n,e,t){!e&&!rT[n]&&(rT[n]=!0,zr(!1,t))}T.memo(Y5);function Y5({routes:n,future:e,state:t}){return nC(n,void 0,t,e)}function Pu({to:n,replace:e,state:t,relative:r}){pt(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext(qr);zr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Gr),{pathname:l}=Zi(),c=Al(),h=nv(n,tv(a),l,r==="path"),p=JSON.stringify(h);return T.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function ov(n){return L5(n.context)}function Nn(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q5({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){pt(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=xl(t));let{pathname:h="/",search:p="",hash:y="",state:g=null,key:E="default"}=t,x=T.useMemo(()=>{let b=Qi(h,l);return b==null?null:{location:{pathname:b,search:p,hash:y,state:g,key:E},navigationType:r}},[l,h,p,y,g,E,r]);return zr(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(qr.Provider,{value:c},T.createElement(lc.Provider,{children:e,value:x}))}function X5({children:n,location:e}){return V5(Tg(n),e)}function Tg(n,e=[]){let t=[];return T.Children.forEach(n,(r,s)=>{if(!T.isValidElement(r))return;let a=[...e,s];if(r.type===T.Fragment){t.push.apply(t,Tg(r.props.children,a));return}pt(r.type===Nn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Tg(r.props.children,a)),t.push(l)}),t}var of="get",af="application/x-www-form-urlencoded";function Sh(n){return n!=null&&typeof n.tagName=="string"}function J5(n){return Sh(n)&&n.tagName.toLowerCase()==="button"}function Z5(n){return Sh(n)&&n.tagName.toLowerCase()==="form"}function e6(n){return Sh(n)&&n.tagName.toLowerCase()==="input"}function t6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function n6(n,e){return n.button===0&&(!e||e==="_self")&&!t6(n)}var Bd=null;function r6(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var i6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vm(n){return n!=null&&!i6.has(n)?(zr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${af}"`),null):n}function s6(n,e){let t,r,s,a,l;if(Z5(n)){let c=n.getAttribute("action");r=c?Qi(c,e):null,t=n.getAttribute("method")||of,s=Vm(n.getAttribute("enctype"))||af,a=new FormData(n)}else if(J5(n)||e6(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Qi(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||of,s=Vm(n.getAttribute("formenctype"))||Vm(c.getAttribute("enctype"))||af,a=new FormData(c,n),!r6()){let{name:p,type:y,value:g}=n;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,g)}}else{if(Sh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=of,r=null,s=af,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:l}}function av(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function o6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function l6(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await o6(a,t);return l.links?l.links():[]}return[]}));return f6(r.flat(1).filter(a6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function iT(n,e,t,r,s,a){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var g;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function u6(n,e,{includeHydrateFallback:t}={}){return c6(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function c6(n){return[...new Set(n)]}function d6(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function f6(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(d6(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}var h6=new Set([100,101,204,205]);function p6(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Qi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function iC(){let n=T.useContext(Sl);return av(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function m6(){let n=T.useContext(xh);return av(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lv=T.createContext(void 0);lv.displayName="FrameworkContext";function sC(){let n=T.useContext(lv);return av(n,"You must render this element inside a <HydratedRouter> element"),n}function g6(n,e){let t=T.useContext(lv),[r,s]=T.useState(!1),[a,l]=T.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:g}=e,E=T.useRef(null);T.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=O=>{O.forEach(B=>{l(B.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[n]),T.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let x=()=>{s(!0)},b=()=>{s(!1),l(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:mu(c,x),onBlur:mu(h,b),onMouseEnter:mu(p,x),onMouseLeave:mu(y,b),onTouchStart:mu(g,x)}]:[!1,E,{}]}function mu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function y6({page:n,...e}){let{router:t}=iC(),r=T.useMemo(()=>YA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?T.createElement(w6,{page:n,matches:r,...e}):null}function v6(n){let{manifest:e,routeModules:t}=sC(),[r,s]=T.useState([]);return T.useEffect(()=>{let a=!1;return l6(n,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[n,e,t]),r}function w6({page:n,matches:e,...t}){let r=Zi(),{manifest:s,routeModules:a}=sC(),{basename:l}=iC(),{loaderData:c,matches:h}=m6(),p=T.useMemo(()=>iT(n,e,h,s,r,"data"),[n,e,h,s,r]),y=T.useMemo(()=>iT(n,e,h,s,r,"assets"),[n,e,h,s,r]),g=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(e.forEach(O=>{var $;let B=s.routes[O.route.id];!B||!B.hasLoader||(!p.some(K=>K.route.id===O.route.id)&&O.route.id in c&&(($=a[O.route.id])!=null&&$.shouldRevalidate)||B.hasClientLoader?C=!0:b.add(O.route.id))}),b.size===0)return[];let A=p6(n,l);return C&&b.size>0&&A.searchParams.set("_routes",e.filter(O=>b.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[l,c,r,s,p,e,n,a]),E=T.useMemo(()=>u6(y,s),[y,s]),x=v6(y);return T.createElement(T.Fragment,null,g.map(b=>T.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),E.map(b=>T.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),x.map(({key:b,link:C})=>T.createElement("link",{key:b,...C})))}function _6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oC&&(window.__reactRouterVersion="7.5.2")}catch{}function E6({basename:n,children:e,window:t}){let r=T.useRef();r.current==null&&(r.current=a5({window:t,v5Compat:!0}));let s=r.current,[a,l]=T.useState({action:s.action,location:s.location}),c=T.useCallback(h=>{T.startTransition(()=>l(h))},[l]);return T.useLayoutEffect(()=>s.listen(c),[s,c]),T.createElement(Q5,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cl=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:y,viewTransition:g,...E},x){let{basename:b}=T.useContext(qr),C=typeof p=="string"&&aC.test(p),A,O=!1;if(typeof p=="string"&&C&&(A=p,oC))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),V=Qi(L.pathname,b);L.origin===k.origin&&V!=null?p=V+L.search+L.hash:O=!0}catch{zr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=D5(p,{relative:s}),[$,K,Z]=g6(r,E),ne=x6(p,{replace:l,state:c,target:h,preventScrollReset:y,relative:s,viewTransition:g});function N(k){e&&e(k),k.defaultPrevented||ne(k)}let R=T.createElement("a",{...E,...Z,href:A||B,onClick:O||a?e:N,ref:_6(x,K),target:h,"data-discover":!C&&t==="render"?"true":void 0});return $&&!C?T.createElement(T.Fragment,null,R,T.createElement(y6,{page:B})):R});Cl.displayName="Link";var lC=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...p},y){let g=uc(l,{relative:p.relative}),E=Zi(),x=T.useContext(xh),{navigator:b,basename:C}=T.useContext(qr),A=x!=null&&R6(g)&&c===!0,O=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,B=E.pathname,$=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(B=B.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&C&&($=Qi($,C)||$);const K=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Z=B===O||!s&&B.startsWith(O)&&B.charAt(K)==="/",ne=$!=null&&($===O||!s&&$.startsWith(O)&&$.charAt(O.length)==="/"),N={isActive:Z,isPending:ne,isTransitioning:A},R=Z?e:void 0,k;typeof r=="function"?k=r(N):k=[r,Z?"active":null,ne?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(N):a;return T.createElement(Cl,{...p,"aria-current":R,className:k,ref:y,style:L,to:l,viewTransition:c},typeof h=="function"?h(N):h)});lC.displayName="NavLink";var T6=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:l=of,action:c,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:g,...E},x)=>{let b=A6(),C=C6(c,{relative:p}),A=l.toLowerCase()==="get"?"get":"post",O=typeof c=="string"&&aC.test(c),B=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let K=$.nativeEvent.submitter,Z=(K==null?void 0:K.getAttribute("formmethod"))||l;b(K||$.currentTarget,{fetcherKey:e,method:Z,navigate:t,replace:s,state:a,relative:p,preventScrollReset:y,viewTransition:g})};return T.createElement("form",{ref:x,method:A,action:C,onSubmit:r?h:B,...E,"data-discover":!O&&n==="render"?"true":void 0})});T6.displayName="Form";function I6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uC(n){let e=T.useContext(Sl);return pt(e,I6(n)),e}function x6(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Al(),h=Zi(),p=uc(n,{relative:a});return T.useCallback(y=>{if(n6(y,e)){y.preventDefault();let g=t!==void 0?t:Hu(h)===Hu(p);c(n,{replace:g,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,p,t,r,e,n,s,a,l])}var S6=0,b6=()=>`__${String(++S6)}__`;function A6(){let{router:n}=uC("useSubmit"),{basename:e}=T.useContext(qr),t=q5();return T.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=s6(r,e);if(s.navigate===!1){let y=s.fetcherKey||b6();await n.fetch(y,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function C6(n,{relative:e}={}){let{basename:t}=T.useContext(qr),r=T.useContext(Gr);pt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...uc(n||".",{relative:e})},l=Zi();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(y=>y==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let y=c.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Bi([t,a.pathname])),Hu(a)}function R6(n,e={}){let t=T.useContext(ZA);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uC("useViewTransitionState"),s=uc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Qi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Qi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ff(s.pathname,l)!=null||Ff(s.pathname,a)!=null}new TextEncoder;[...h6];const P6=({children:n})=>{const[e,t]=T.useState(null),[r,s]=T.useState("loading"),[a,l]=T.useState(null);T.useEffect(()=>{const b=_L(IL,async C=>{if(C){let A=C.displayName;const O=C.photoURL;if(!A||!O){const B=await CL();console.log("userProfile",B),B&&(A=B.displayName)}t({uid:C.uid,email:C.email,displayName:A||"",photoURL:O||""}),s("authenticated")}else t(null),s("unauthenticated")});return()=>b()},[]);const x={isAuthenticated:r==="authenticated",isLoading:r==="loading",user:e,error:a,login:async(b,C)=>{l(null);try{await gL(b,C)}catch(A){const O=ks(A),B=new Error(O);throw l(B),B}},loginWithGoogle:async()=>{l(null);try{const b=await EL(),C=TL(b);if(!(C!=null&&C.isNewUser))return;await dE({email:b.user.email||"",displayName:b.user.displayName||""}),t({uid:b.user.uid,email:b.user.email,displayName:b.user.displayName||"",photoURL:b.user.photoURL||""})}catch(b){const C=ks(b),A=new Error(C);throw l(A),A}},signup:async(b,C,A)=>{l(null);try{const O=await mL(b,C);O.user&&(await dE({email:O.user.email||"",displayName:A}),t({uid:O.user.uid,email:O.user.email,displayName:A,photoURL:O.user.photoURL||""}))}catch(O){const B=ks(O),$=new Error(B);throw l($),$}},logout:async()=>{l(null);try{await yL()}catch(b){const C=ks(b),A=new Error(C);throw l(A),A}},updateProfile:async b=>{l(null);try{const{displayName:C}=b;C&&await vL({displayName:C})}catch(C){const A=ks(C),O=new Error(A);throw l(O),O}},deleteProfile:async()=>{l(null);try{await wL()}catch(b){const C=ks(b),A=new Error(C);throw l(A),A}}};return I.jsx(fT.Provider,{value:x,children:n})},k6="modulepreload",N6=function(n){return"/grindmode/"+n},sT={},bh=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(t.map(p=>{if(p=N6(p),p in sT)return;sT[p]=!0;const y=p.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":k6,y||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),y)return new Promise((x,b)=>{E.addEventListener("load",x),E.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},D6=()=>I.jsx("footer",{className:"py-4 text-center",children:I.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["© ",new Date().getFullYear()," GrindMode"]})}),O6={theme:"light",setTheme:()=>null},cC=T.createContext(O6),M6=()=>{const n=T.useContext(cC);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},L6=({onLogout:n})=>{const{user:e,isAuthenticated:t}=Il(),{theme:r,setTheme:s}=M6(),a=Al();return I.jsx("header",{className:"sticky top-0 z-30 flex h-16 items-center bg-white dark:bg-background border-b border-gray-200 dark:border-border px-4",children:I.jsx("div",{className:"ml-auto flex items-center space-x-2",children:t?I.jsx(I.Fragment,{children:I.jsxs(v3,{children:[I.jsx(w3,{children:I.jsxs("div",{className:"flex items-center gap-2 rounded-full pl-1 cursor-pointer",children:[(e==null?void 0:e.photoURL)&&I.jsx(Cj,{className:"h-8 w-8",children:I.jsx(Rj,{src:e==null?void 0:e.photoURL,alt:"User Avatar"})}),I.jsx("span",{className:"hidden md:inline text-sm font-medium",children:e==null?void 0:e.displayName}),I.jsx(qF,{className:"h-4 w-4 opacity-50"})]})}),I.jsxs(_3,{align:"end",className:"w-56",children:[I.jsx(E3,{children:I.jsxs("div",{className:"flex flex-col space-y-1",children:[I.jsx("p",{className:"text-sm font-medium",children:e==null?void 0:e.displayName}),I.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e==null?void 0:e.email})]})}),I.jsx(JE,{}),I.jsxs(Mm,{onClick:()=>a("profile"),children:[I.jsx(hj,{className:"mr-2 h-4 w-4"}),I.jsx("span",{children:"Profile"})]}),I.jsx(Mm,{onClick:()=>s(r==="dark"?"light":"dark"),children:I.jsxs("span",{className:"flex items-center gap-2",children:[r==="dark"?I.jsx(lj,{className:"h-4 w-4 bg-gray-800 dark:bg-card rounded-full"}):I.jsx(oj,{className:"h-4 w-4 bg-gray-200 dark:bg-card rounded-full"}),I.jsx("span",{children:"Toggle Theme"})]})}),I.jsx(JE,{}),I.jsxs(Mm,{onClick:n,children:[I.jsx(ij,{className:"mr-2 h-4 w-4"}),I.jsx("span",{children:"Log out"})]})]})]})}):I.jsxs(I.Fragment,{children:[I.jsx(Qn,{variant:"ghost",size:"sm",onClick:()=>a("/login"),className:"hidden md:inline-flex",children:"Log in"}),I.jsx(Qn,{size:"sm",onClick:()=>a("/signup"),children:"Sign up"})]})})})},V6=({navItems:n,isCollapsed:e=!1})=>I.jsx("ul",{className:Je("space-y-1",e?"px-2":"px-3"),children:n.map(t=>I.jsx("li",{className:"transform transition-all duration-200 ease-in-out",children:I.jsxs(lC,{to:t.path,className:({isActive:r})=>Je("flex items-center rounded-md px-3 py-2 text-sm transition-all duration-300 ease-in-out",r?"bg-sidebar-accent text-sidebar-accent-foreground dark:bg-sidebar-accent dark:text-sidebar-accent-foreground":"hover:bg-accent/50 text-muted-foreground hover:text-foreground dark:hover:bg-sidebar-accent/30 dark:text-sidebar-foreground dark:hover:text-sidebar-foreground",e?"justify-center":"justify-start"),children:[I.jsx("div",{className:Je("flex items-center transition-all duration-300 ease-in-out",e?"w-full justify-center":"mr-3"),children:I.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:t.icon})}),I.jsx("span",{className:Je("whitespace-nowrap transition-all duration-300 ease-in-out",e?"w-0 opacity-0 overflow-hidden":"w-auto opacity-100"),children:t.label})]})},t.path))}),F6=()=>[{path:"/dashboard",label:"Dashboard",icon:I.jsx(tj,{className:"h-4 w-4"})},{path:"/workoutplanner",label:"Workout Planner",icon:I.jsx(FE,{className:"h-4 w-4"})},{path:"/workout",label:"Planned Workouts",icon:I.jsx(FE,{className:"h-4 w-4"})},{path:"/nutrition",label:"Nutrition",icon:I.jsx(mj,{className:"h-4 w-4"})},{path:"/progress",label:"Progress",icon:I.jsx(WF,{className:"h-4 w-4"})},{path:"/goals",label:"Goals",icon:I.jsx(cj,{className:"h-4 w-4"})}],j6=({isCollapsed:n=!1,toggleSidebar:e})=>{const t=F6();return I.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-sidebar",children:[I.jsx("div",{className:Je("flex h-16 items-center border-b dark:border-sidebar-border",n?"justify-center":"px-4"),children:n?I.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center",children:I.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}):I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"rounded-full bg-primary h-6 w-6 flex items-center justify-center",children:I.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"GM"})}),I.jsx("span",{className:"font-semibold text-lg dark:text-sidebar-foreground",children:"GrindMode"})]})}),I.jsx("nav",{className:"flex-1 overflow-y-auto py-6 no-scrollbar bg-white dark:bg-sidebar",children:I.jsx(V6,{navItems:t,isCollapsed:n})}),I.jsx("div",{className:"flex items-center justify-center border-t dark:border-sidebar-border p-2 bg-white dark:bg-sidebar",children:I.jsx(Qn,{variant:"ghost",size:"icon",onClick:e,className:"w-full h-10 rounded-full hover:bg-accent/50 dark:hover:bg-sidebar-accent/50","aria-label":"Toggle sidebar",children:n?I.jsx(QF,{className:"h-5 w-5 dark:text-sidebar-foreground"}):I.jsx(KF,{className:"h-5 w-5 dark:text-sidebar-foreground"})})})]})},U6=({isAuthenticated:n})=>n?I.jsx(ov,{}):I.jsx(Pu,{to:"/login"}),$6=()=>{const{state:n,setSidebarOpen:e}=s5(),{logout:t}=Il(),r=Al(),s=n.ui.sidebarOpen,a=()=>{e(!s)},l=T.useCallback(async()=>{try{t&&await t(),r("/login")}catch(c){console.error("Logout failed:",c)}},[t,r]);return I.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-background",children:[I.jsx("div",{className:`${s?"w-64":"w-20"} transition-all duration-300 ease-in-out bg-white dark:bg-sidebar shadow-lg`,children:I.jsx(j6,{isCollapsed:!s,toggleSidebar:a})}),I.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[I.jsx(L6,{onLogout:l}),I.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 dark:bg-background",children:I.jsx("div",{className:"container mx-auto",children:I.jsx(ov,{})})})]})]})};function z6(){return I.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-foreground p-4",children:[I.jsxs("header",{className:"text-center mb-12",children:[I.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Welcome to Grind Mode"}),I.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Your ultimate companion for tracking fitness and diet, helping you stay motivated and achieve your health goals. Log workouts, monitor nutrition, and see your progress all in one place."})]}),I.jsxs("main",{className:"text-center",children:[I.jsxs("section",{className:"mb-12",children:[I.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"What Grind Mode Offers"}),I.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[I.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-md",children:[I.jsx("h3",{className:"text-2xl font-semibold mb-2 text-card-foreground",children:"Fitness Tracking"}),I.jsx("p",{className:"text-muted-foreground",children:"Log your workouts with ease. Track sets, reps and weight for various exercises."})]}),I.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-md",children:[I.jsx("h3",{className:"text-2xl font-semibold mb-2 text-card-foreground",children:"Diet Logging"}),I.jsx("p",{className:"text-muted-foreground",children:"Keep a detailed record of your meals and nutritional intake. Understand your calorie consumption and macronutrient breakdown."})]})]})]}),I.jsx(Cl,{to:"/login",children:I.jsx(Qn,{size:"lg",className:"text-lg px-8 py-4",children:"Get Started"})})]})]})}const B6=()=>I.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 dark:from-background dark:to-card",children:[I.jsx("header",{className:"w-full py-6 px-4",children:I.jsxs("div",{className:"container mx-auto flex justify-center",children:[I.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:I.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}),I.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-foreground",children:"Grind Mode"})]})}),I.jsx("main",{className:"flex flex-grow items-center justify-center px-4 py-8",children:I.jsx("div",{className:"w-full max-w-md",children:I.jsx(ov,{})})}),I.jsx(D6,{})]}),Ha=({label:n,id:e,name:t,type:r,autoComplete:s,value:a,onChange:l,className:c})=>I.jsxs("div",{className:"space-y-2",children:[I.jsx("div",{className:"flex items-center justify-between",children:I.jsx(yV,{htmlFor:e,children:n})}),I.jsx(uA,{id:e,name:t,type:r,autoComplete:s,value:a,onChange:l,className:`w-full ${c??""}`})]}),dC=({text:n,onClick:e,isLoading:t})=>I.jsxs(Qn,{type:"button",variant:"outline",onClick:e,disabled:t,className:"w-full mt-2",children:[I.jsx("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:I.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[I.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),I.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),I.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),I.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),n]}),W6=({onSignup:n,onGoogleSignIn:e,isLoading:t,error:r})=>{const[s,a]=le.useState({email:"",password:"",confirmPassword:"",displayName:""}),[l,c]=le.useState(!0),h=y=>{const{name:g,value:E}=y.target;a(x=>({...x,[g]:E})),(g==="password"||g==="confirmPassword")&&c(g==="confirmPassword"?s.password===E:E===s.confirmPassword)},p=async y=>{if(y.preventDefault(),s.password!==s.confirmPassword){c(!1);return}await n(s)};return I.jsxs($o,{className:"w-full max-w-md mx-auto",children:[I.jsx(zo,{children:I.jsx(_l,{className:"text-2xl text-center font-bold",children:"Sign up"})}),I.jsx(Bo,{children:I.jsxs("form",{onSubmit:p,className:"space-y-4",children:[I.jsx(Ha,{label:"Full Name",id:"displayName",name:"displayName",type:"text",autoComplete:"name",value:s.displayName,onChange:h,required:!0}),I.jsx(Ha,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:s.email,onChange:h,required:!0}),I.jsx(Ha,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"new-password",value:s.password,onChange:h}),I.jsx(Ha,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",value:s.confirmPassword,onChange:h,className:` ${!l&&s.confirmPassword?"border-destructive":""}`,autoComplete:"new-password"}),!l&&s.confirmPassword&&I.jsx("p",{className:"text-xs text-destructive mt-1",children:"Passwords don't match"}),r&&I.jsx("p",{className:"text-sm text-destructive",children:r}),I.jsx(Qn,{type:"submit",className:"w-full",disabled:t||!l,children:t?I.jsxs(I.Fragment,{children:[I.jsx($y,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})}),I.jsx(rc,{children:I.jsx(dC,{text:"Continue with Google",onClick:e,isLoading:t})})]})},H6=({onLogin:n,isLoading:e,onGoogleSignIn:t})=>{const[r,s]=T.useState({email:"",password:""}),a=c=>{const{name:h,value:p}=c.target;s(y=>({...y,[h]:p}))},l=async c=>{c.preventDefault(),n(r)};return I.jsxs($o,{className:"w-full max-w-md mx-auto",children:[I.jsx(zo,{children:I.jsx(_l,{className:"text-2xl text-center font-bold",children:"Login"})}),I.jsx(Bo,{children:I.jsxs("form",{onSubmit:l,className:"space-y-4",children:[I.jsx(Ha,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:a,required:!0}),I.jsx(Ha,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"current-password",value:r.password,onChange:a,required:!0}),I.jsx(Qn,{type:"submit",className:"w-full",disabled:e,children:e?I.jsxs(I.Fragment,{children:[I.jsx($y,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})}),t&&I.jsx(rc,{children:I.jsx(dC,{onClick:t,isLoading:e,text:"Continue with Google"})})]})},q6=()=>{const[n,e]=le.useState(null),[t,r]=le.useState(!1),{isAuthenticated:s,login:a,loginWithGoogle:l}=Il();if(s)return I.jsx(Pu,{to:"/"});const c=async()=>{e(null),r(!0);try{if(!l)throw new Error("Google Sign-In function is not available");await l()}catch(p){e(ks(p))}finally{r(!1)}},h=async p=>{e(null),r(!0);try{if(!a)throw new Error("Login function is not available");await a(p.email,p.password)}catch(y){e(ks(y))}finally{r(!1)}};return I.jsxs($o,{children:[I.jsxs(zo,{className:"space-y-1",children:[I.jsx(_l,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),I.jsx(hh,{className:"text-center",children:"Log in to continue your fitness journey"})]}),I.jsxs(Bo,{children:[n&&I.jsxs(hb,{variant:"destructive",className:"mb-4",children:[I.jsx(fb,{className:"h-4 w-4"}),I.jsx(pb,{children:n})]}),I.jsx(H6,{onGoogleSignIn:c,onLogin:h,isLoading:t})]}),I.jsx(rc,{className:"flex justify-center",children:I.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dont have an account?"," ",I.jsx(Cl,{to:"/signup",className:"font-medium text-primary hover:underline",children:"Sign up"})]})})]})},G6=()=>{const[n,e]=T.useState(!1),[t,r]=T.useState(null),s=Al(),{signup:a,loginWithGoogle:l}=Il(),c=async p=>{const{email:y,password:g,displayName:E}=p;e(!0),r(null);try{a(y,g,E),s("/dashboard")}catch(x){let b="Failed to create account. Please try again.";x instanceof Error&&(x.message.includes("email-already-in-use")?b="This email is already registered. Please use another email or login.":x.message.includes("weak-password")?b="Password should be at least 6 characters long.":x.message.includes("invalid-email")&&(b="Please enter a valid email address.")),r(b)}finally{e(!1)}},h=async()=>{e(!0),r(null);try{l(),s("/dashboard")}catch(p){r("Google sign-in failed. Please try again."),console.error("Google sign-in error:",p)}finally{e(!1)}};return I.jsxs($o,{children:[I.jsxs(zo,{className:"space-y-1",children:[I.jsx(_l,{className:"text-2xl font-bold text-center",children:"Create your account"}),I.jsx(hh,{className:"text-center",children:"Join GrindMode to track your fitness journey"})]}),I.jsxs(Bo,{children:[t&&I.jsxs(hb,{variant:"destructive",className:"mb-4",children:[I.jsx(fb,{className:"h-4 w-4"}),I.jsx(pb,{children:t})]}),I.jsx(W6,{onSignup:c,isLoading:n,error:t,onGoogleSignIn:h})]}),I.jsx(rc,{className:"flex justify-center",children:I.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",I.jsx(Cl,{to:"/login",className:"font-medium text-primary hover:underline",children:"Log in"})]})})]})},oT=()=>I.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground",children:[I.jsx($y,{className:"animate-spin h-12 w-12 text-primary mb-4"}),I.jsx("p",{className:"text-xl font-semibold",children:"Loading..."}),I.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait a moment."})]}),K6=()=>{const n=Zi();return I.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground p-4 text-center",children:[I.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),I.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),I.jsxs("p",{className:"text-muted-foreground mb-6",children:["Sorry, the page you are looking for at"," ",I.jsx("code",{className:"bg-muted p-1 rounded-sm text-sm",children:n.pathname})," ","does not exist."]}),I.jsx(Qn,{asChild:!0,children:I.jsxs(Cl,{to:"/",children:[I.jsx(ZF,{className:"mr-2 h-4 w-4"}),"Go to Homepage"]})})]})};class Y6{constructor(e){g_(this,"collectionName");this.collectionName=e}async add(e,t=!0){if(!e)throw new Error(`Invalid data for ${this.collectionName}`);const r=Nr(),s=kd(kr,"users",r,this.collectionName),a=t?{date:rt.now(),createdAt:rt.now(),updatedAt:rt.now()}:{};return(await cL(s,{...e,...a})).id}async getAll(e){const t=Nr();if(!t)throw new Error("User not authenticated");const r=kd(kr,"users",t,this.collectionName),s=e?Nd(r,Dd("date","desc"),lE(e)):Nd(r,Dd("date","desc"));return(await wm(s)).docs.map(l=>({id:l.id,...l.data()}))}async getById(e){if(!e)throw new Error(`Invalid ID for fetching ${this.collectionName}`);try{const t=Nr();if(!t)throw new Error("User not authenticated");const r=Us(kr,"users",t,this.collectionName,e),s=await Iy(r);return s.exists()?{id:s.id,...s.data()}:null}catch(t){return console.error(`Error fetching ${this.collectionName} document ${e}:`,t),null}}async update(e,t){if(!e||!t)throw new Error(`Invalid parameters for update ${this.collectionName}`);const r=Nr(),s=Us(kr,"users",r,this.collectionName,e);return await dS(s,{...t,updatedAt:rt.now()}),!0}async delete(e){if(!e)throw new Error(`Invalid ID for delete ${this.collectionName}`);const t=Nr(),r=Us(kr,"users",t,this.collectionName,e);return await fS(r),!0}async getByDateRange(e,t,r="date"){if(!e||!t)throw new Error(`Invalid date parameters for ${this.collectionName} date range query`);const s=Nr(),a=kd(kr,"users",s,this.collectionName),l=Nd(a,vm(r,">=",rt.fromDate(e)),vm(r,"<=",rt.fromDate(t)),Dd(r,"desc"));return(await wm(l)).docs.map(h=>({id:h.id,...h.data()}))}async getByDate(e,t="date"){const r=new Date(e);r.setHours(0,0,0,0);const s=new Date(e);return s.setHours(23,59,59,999),this.getByDateRange(r,s,t)}async query(e=[],t="date",r="desc",s){const a=Nr(),l=kd(kr,"users",a,this.collectionName),c=[...e.map(y=>vm(y.field,y.operator,y.value)),Dd(t,r)];s&&c.push(lE(s));const h=Nd(l,...c);return(await wm(h)).docs.map(y=>({id:y.id,...y.data()}))}}const uv=new Y6("plannedWorkouts"),q$=async n=>{try{return await uv.add(n),!0}catch(e){return console.error("Error adding workout:",e),!1}},Q6=async()=>{try{return await uv.getAll()}catch(n){return console.error("Error fetching workouts:",n),[]}},G$=async n=>{try{return await uv.delete(n),!0}catch(e){return console.error("Error deleting workout:",e),!1}},X6=()=>{const[n,e]=T.useState([]),[t,r]=T.useState(!0),[s,a]=T.useState(null),l=Al();T.useEffect(()=>{(async()=>{try{r(!0);const y=await Q6();e(y)}catch(y){a("Failed to fetch planned workouts. Please try again."),console.error("Error fetching planned workouts:",y)}finally{r(!1)}})()},[]);const c=p=>{l(`/workout/start/${p}`)},h=p=>{l(`/workout/edit/${p}`)};return I.jsxs("div",{className:"container mx-auto py-8 px-4",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsx("h1",{className:"text-3xl font-bold",children:"Planned Workouts"}),I.jsx(Qn,{onClick:()=>l("/workoutplanner"),children:"Create New Workout"})]}),t&&I.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,y)=>I.jsxs($o,{className:"w-full",children:[I.jsxs(zo,{children:[I.jsx(zd,{className:"h-8 w-1/3"}),I.jsx(zd,{className:"h-4 w-1/4"})]}),I.jsxs(Bo,{children:[I.jsx(zd,{className:"h-4 w-full mb-2"}),I.jsx(zd,{className:"h-4 w-2/3"})]})]},y))}),s&&I.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:I.jsx("span",{className:"block sm:inline",children:s})}),!t&&!s&&n.length===0&&I.jsxs("div",{className:"text-center py-12",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"No Planned Workouts"}),I.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't created any workout plans yet."}),I.jsx(Qn,{onClick:()=>l("/workout/create"),children:"Create Your First Workout Plan"})]}),!t&&n.length>0&&I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(p=>I.jsxs($o,{className:"w-full",children:[I.jsxs(zo,{children:[I.jsx(_l,{children:p.name}),I.jsxs(hh,{className:"flex items-center gap-1",children:[I.jsx(zF,{className:"h-4 w-4"}),p.createdAt?MU(p.createdAt.toDate(),"PPP"):"Date unknown"]})]}),I.jsxs(Bo,{children:[p.workouts&&p.workouts.length>0&&I.jsxs("div",{className:"mb-4",children:[I.jsx("p",{className:"text-sm font-medium mb-2",children:"Workouts:"}),I.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.workouts.slice(0,3).map((y,g)=>I.jsx(WE,{variant:"secondary",children:y.name},g)),p.workouts.length>3&&I.jsxs(WE,{variant:"outline",children:["+",p.workouts.length-3," more"]})]})]}),I.jsxs("div",{className:"flex gap-2 mt-4",children:[I.jsx(Qn,{onClick:()=>c(p.id),className:"flex-1",children:"Start"}),I.jsx(Qn,{onClick:()=>h(p.id),variant:"outline",className:"flex-1",children:"Edit"})]})]})]},p.id))})]})},J6=T.lazy(()=>bh(()=>import("./Dashboard-D5S06mGL.js"),__vite__mapDeps([0,1,2])).then(n=>({default:n.Dashboard}))),Z6=T.lazy(()=>bh(()=>import("./Nutrition-IeEu_hg2.js"),__vite__mapDeps([3,4,5,1,6,2])).then(n=>({default:n.Nutrition}))),e$=T.lazy(()=>bh(()=>import("./index-BoAAOY9I.js"),__vite__mapDeps([7,6,2,5])).then(n=>({default:n.WorkoutPlanner}))),t$=T.lazy(()=>bh(()=>import("./index-BCx_PDF4.js"),__vite__mapDeps([8,4,5])).then(n=>({default:n.Profile}))),n$=()=>{const{isAuthenticated:n,isLoading:e}=Il();return e?I.jsx(oT,{}):I.jsx(T.Suspense,{fallback:I.jsx(oT,{}),children:I.jsxs(X5,{children:[I.jsx(Nn,{path:"/",element:n?I.jsx(Pu,{to:"/dashboard"}):I.jsx(z6,{})}),I.jsxs(Nn,{element:I.jsx(B6,{}),children:[I.jsx(Nn,{path:"/login",element:n?I.jsx(Pu,{to:"/dashboard"}):I.jsx(q6,{})}),I.jsx(Nn,{path:"/signup",element:n?I.jsx(Pu,{to:"/dashboard"}):I.jsx(G6,{})})]},"auth-layout"),I.jsx(Nn,{element:I.jsx(U6,{isAuthenticated:n}),children:I.jsxs(Nn,{element:I.jsx($6,{}),children:[I.jsx(Nn,{path:"/dashboard",element:I.jsx(J6,{})}),I.jsx(Nn,{path:"/nutrition",element:I.jsx(Z6,{})}),I.jsx(Nn,{path:"/workoutplanner",element:I.jsx(e$,{})}),I.jsx(Nn,{path:"/workout",element:I.jsx(X6,{})}),I.jsx(Nn,{path:"/profile",element:I.jsx(t$,{})}),I.jsx(Nn,{path:"/progress",element:I.jsx("div",{children:"Progress Tracking"})})]})}),I.jsx(Nn,{path:"*",element:I.jsx(K6,{})})]})})},r$=({children:n})=>{const[e,t]=T.useState(()=>{const x=localStorage.getItem("appState");if(x)try{return JSON.parse(x)}catch(b){console.error("Failed to parse saved app state",b)}return sf}),{user:r}=Il();T.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(e))},[e]),T.useEffect(()=>{r||t(x=>({...x,ui:sf.ui,dashboardData:sf.dashboardData}))},[r]);const E={state:e,setTheme:x=>{t(b=>({...b,userPreferences:{...b.userPreferences,theme:x}}))},setSidebarOpen:x=>{t(b=>({...b,ui:{...b.ui,sidebarOpen:x}}))},setHeightUnit:x=>{t(b=>({...b,userPreferences:{...b.userPreferences,heightUnit:x}}))},setWeightUnit:x=>{t(b=>({...b,userPreferences:{...b.userPreferences,weightUnit:x}}))},setDateFormat:x=>{t(b=>({...b,userPreferences:{...b.userPreferences,dateFormat:x}}))},markDashboardNeedsRefresh:()=>{t(x=>({...x,dashboardData:{...x.dashboardData,needsRefresh:!0}}))},resetDashboardRefreshState:()=>{t(x=>({...x,dashboardData:{needsRefresh:!1,lastUpdated:new Date}}))},setWorkoutDaysPerWeek:x=>{t(b=>({...b,userPreferences:{...b.userPreferences,workoutDaysPerWeek:x}}))}};return I.jsx(KA.Provider,{value:E,children:n})};function i$({children:n,defaultTheme:e="light",storageKey:t="appState",...r}){const[s,a]=T.useState(()=>{var c;try{const h=localStorage.getItem(t);if(h){const p=JSON.parse(h);return((c=p==null?void 0:p.userPreferences)==null?void 0:c.theme)||e}}catch(h){console.error("Error reading theme from localStorage:",h)}return e});T.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(h);return}c.classList.add(s)},[s]);const l={theme:s,setTheme:c=>{try{const h=localStorage.getItem(t),p=h?JSON.parse(h):{};p.userPreferences||(p.userPreferences={heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",workoutDaysPerWeek:3,theme:c,notificationsEnabled:!0}),p.userPreferences.theme=c,localStorage.setItem(t,JSON.stringify(p)),a(c)}catch(h){console.error("Error saving theme to localStorage:",h),a(c)}}};return I.jsx(cC.Provider,{...r,value:l,children:n})}function s$(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const o$=n=>{switch(n){case"success":return u$;case"info":return d$;case"warning":return c$;case"error":return f$;default:return null}},a$=Array(12).fill(0),l$=({visible:n,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},le.createElement("div",{className:"sonner-spinner"},a$.map((t,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),u$=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),c$=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),d$=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),f$=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),h$=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),p$=()=>{const[n,e]=le.useState(document.hidden);return le.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Ig=1;class m${constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ig++,l=this.toasts.find(h=>h.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:r}),{...h,...e,id:a,dismissible:c,title:r}):h):this.addToast({title:r,...s,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const c=s.then(async p=>{if(l=["resolve",p],le.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(y$(p)&&!p.ok){a=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,b=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:E,...b})}else if(p instanceof Error){a=!1;const g=typeof t.error=="function"?await t.error(p):t.error,E=typeof t.description=="function"?await t.description(p):t.description,b=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:E,...b})}else if(t.success!==void 0){a=!1;const g=typeof t.success=="function"?await t.success(p):t.success,E=typeof t.description=="function"?await t.description(p):t.description,b=typeof g=="object"&&!le.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:E,...b})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){a=!1;const y=typeof t.error=="function"?await t.error(p):t.error,g=typeof t.description=="function"?await t.description(p):t.description,x=typeof y=="object"&&!le.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:g,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,y)=>c.then(()=>l[0]==="reject"?y(l[1]):p(l[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||Ig++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Dn=new m$,g$=(n,e)=>{const t=(e==null?void 0:e.id)||Ig++;return Dn.addToast({title:n,...e,id:t}),t},y$=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",v$=g$,w$=()=>Dn.toasts,_$=()=>Dn.getActiveToasts(),K$=Object.assign(v$,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:w$,getToasts:_$});s$("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Wd(n){return n.label!==void 0}const E$=3,T$="24px",I$="16px",aT=4e3,x$=356,S$=14,b$=45,A$=200;function ai(...n){return n.filter(Boolean).join(" ")}function C$(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const R$=n=>{var e,t,r,s,a,l,c,h,p;const{invert:y,toast:g,unstyled:E,interacting:x,setHeights:b,visibleToasts:C,heights:A,index:O,toasts:B,expanded:$,removeToast:K,defaultRichColors:Z,closeButton:ne,style:N,cancelButtonStyle:R,actionButtonStyle:k,className:L="",descriptionClassName:V="",duration:U,position:D,gap:Pe,expandByDefault:Se,classNames:ce,icons:me,closeButtonAriaLabel:W="Close toast"}=n,[J,re]=le.useState(null),[F,Y]=le.useState(null),[ie,fe]=le.useState(!1),[be,ge]=le.useState(!1),[ve,Me]=le.useState(!1),[Ne,He]=le.useState(!1),[Ut,qt]=le.useState(!1),[en,wn]=le.useState(0),[Kr,Yr]=le.useState(0),Vn=le.useRef(g.duration||U||aT),_i=le.useRef(null),It=le.useRef(null),pr=O===0,mr=O+1<=C,kt=g.type,Fn=g.dismissible!==!1,es=g.className||"",ro=g.descriptionClassName||"",ut=le.useMemo(()=>A.findIndex(ke=>ke.toastId===g.id)||0,[A,g.id]),xt=le.useMemo(()=>{var ke;return(ke=g.closeButton)!=null?ke:ne},[g.closeButton,ne]),Zn=le.useMemo(()=>g.duration||U||aT,[g.duration,U]),Ei=le.useRef(0),dn=le.useRef(0),Qr=le.useRef(0),_n=le.useRef(null),[io,so]=D.split("-"),ts=le.useMemo(()=>A.reduce((ke,ct,dt)=>dt>=ut?ke:ke+ct.height,0),[A,ut]),ns=p$(),oo=g.invert||y,gr=kt==="loading";dn.current=le.useMemo(()=>ut*Pe+ts,[ut,ts]),le.useEffect(()=>{Vn.current=Zn},[Zn]),le.useEffect(()=>{fe(!0)},[]),le.useEffect(()=>{const ke=It.current;if(ke){const ct=ke.getBoundingClientRect().height;return Yr(ct),b(dt=>[{toastId:g.id,height:ct,position:g.position},...dt]),()=>b(dt=>dt.filter(Nt=>Nt.toastId!==g.id))}},[b,g.id]),le.useLayoutEffect(()=>{if(!ie)return;const ke=It.current,ct=ke.style.height;ke.style.height="auto";const dt=ke.getBoundingClientRect().height;ke.style.height=ct,Yr(dt),b(Nt=>Nt.find(gt=>gt.toastId===g.id)?Nt.map(gt=>gt.toastId===g.id?{...gt,height:dt}:gt):[{toastId:g.id,height:dt,position:g.position},...Nt])},[ie,g.title,g.description,b,g.id]);const fn=le.useCallback(()=>{ge(!0),wn(dn.current),b(ke=>ke.filter(ct=>ct.toastId!==g.id)),setTimeout(()=>{K(g)},A$)},[g,K,b,dn]);le.useEffect(()=>{if(g.promise&&kt==="loading"||g.duration===1/0||g.type==="loading")return;let ke;return $||x||ns?(()=>{if(Qr.current<Ei.current){const Nt=new Date().getTime()-Ei.current;Vn.current=Vn.current-Nt}Qr.current=new Date().getTime()})():(()=>{Vn.current!==1/0&&(Ei.current=new Date().getTime(),ke=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),fn()},Vn.current))})(),()=>clearTimeout(ke)},[$,x,g,kt,ns,fn]),le.useEffect(()=>{g.delete&&fn()},[fn,g.delete]);function rs(){var ke;if(me!=null&&me.loading){var ct;return le.createElement("div",{className:ai(ce==null?void 0:ce.loader,g==null||(ct=g.classNames)==null?void 0:ct.loader,"sonner-loader"),"data-visible":kt==="loading"},me.loading)}return le.createElement(l$,{className:ai(ce==null?void 0:ce.loader,g==null||(ke=g.classNames)==null?void 0:ke.loader),visible:kt==="loading"})}const En=g.icon||(me==null?void 0:me[kt])||o$(kt);var jn,Ti;return le.createElement("li",{tabIndex:0,ref:It,className:ai(L,es,ce==null?void 0:ce.toast,g==null||(e=g.classNames)==null?void 0:e.toast,ce==null?void 0:ce.default,ce==null?void 0:ce[kt],g==null||(t=g.classNames)==null?void 0:t[kt]),"data-sonner-toast":"","data-rich-colors":(jn=g.richColors)!=null?jn:Z,"data-styled":!(g.jsx||g.unstyled||E),"data-mounted":ie,"data-promise":!!g.promise,"data-swiped":Ut,"data-removed":be,"data-visible":mr,"data-y-position":io,"data-x-position":so,"data-index":O,"data-front":pr,"data-swiping":ve,"data-dismissible":Fn,"data-type":kt,"data-invert":oo,"data-swipe-out":Ne,"data-swipe-direction":F,"data-expanded":!!($||Se&&ie),style:{"--index":O,"--toasts-before":O,"--z-index":B.length-O,"--offset":`${be?en:dn.current}px`,"--initial-height":Se?"auto":`${Kr}px`,...N,...g.style},onDragEnd:()=>{Me(!1),re(null),_n.current=null},onPointerDown:ke=>{gr||!Fn||(_i.current=new Date,wn(dn.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Me(!0),_n.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,ct,dt;if(Ne||!Fn)return;_n.current=null;const Nt=Number(((ke=It.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tn=Number(((ct=It.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((dt=_i.current)==null?void 0:dt.getTime()),Ge=J==="x"?Nt:Tn,yr=Math.abs(Ge)/gt;if(Math.abs(Ge)>=b$||yr>.11){wn(dn.current),g.onDismiss==null||g.onDismiss.call(g,g),Y(J==="x"?Nt>0?"right":"left":Tn>0?"down":"up"),fn(),He(!0);return}else{var yt,Dt;(yt=It.current)==null||yt.style.setProperty("--swipe-amount-x","0px"),(Dt=It.current)==null||Dt.style.setProperty("--swipe-amount-y","0px")}qt(!1),Me(!1),re(null)},onPointerMove:ke=>{var ct,dt,Nt;if(!_n.current||!Fn||((ct=window.getSelection())==null?void 0:ct.toString().length)>0)return;const gt=ke.clientY-_n.current.y,Ge=ke.clientX-_n.current.x;var yr;const yt=(yr=n.swipeDirections)!=null?yr:C$(D);!J&&(Math.abs(Ge)>1||Math.abs(gt)>1)&&re(Math.abs(Ge)>Math.abs(gt)?"x":"y");let Dt={x:0,y:0};const Xr=In=>1/(1.5+Math.abs(In)/20);if(J==="y"){if(yt.includes("top")||yt.includes("bottom"))if(yt.includes("top")&&gt<0||yt.includes("bottom")&&gt>0)Dt.y=gt;else{const In=gt*Xr(gt);Dt.y=Math.abs(In)<Math.abs(gt)?In:gt}}else if(J==="x"&&(yt.includes("left")||yt.includes("right")))if(yt.includes("left")&&Ge<0||yt.includes("right")&&Ge>0)Dt.x=Ge;else{const In=Ge*Xr(Ge);Dt.x=Math.abs(In)<Math.abs(Ge)?In:Ge}(Math.abs(Dt.x)>0||Math.abs(Dt.y)>0)&&qt(!0),(dt=It.current)==null||dt.style.setProperty("--swipe-amount-x",`${Dt.x}px`),(Nt=It.current)==null||Nt.style.setProperty("--swipe-amount-y",`${Dt.y}px`)}},xt&&!g.jsx&&kt!=="loading"?le.createElement("button",{"aria-label":W,"data-disabled":gr,"data-close-button":!0,onClick:gr||!Fn?()=>{}:()=>{fn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ai(ce==null?void 0:ce.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Ti=me==null?void 0:me.close)!=null?Ti:h$):null,(kt||g.icon||g.promise)&&g.icon!==null&&((me==null?void 0:me[kt])!==null||g.icon)?le.createElement("div",{"data-icon":"",className:ai(ce==null?void 0:ce.icon,g==null||(s=g.classNames)==null?void 0:s.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||rs():null,g.type!=="loading"?En:null):null,le.createElement("div",{"data-content":"",className:ai(ce==null?void 0:ce.content,g==null||(a=g.classNames)==null?void 0:a.content)},le.createElement("div",{"data-title":"",className:ai(ce==null?void 0:ce.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?le.createElement("div",{"data-description":"",className:ai(V,ro,ce==null?void 0:ce.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),le.isValidElement(g.cancel)?g.cancel:g.cancel&&Wd(g.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:ke=>{Wd(g.cancel)&&Fn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,ke),fn())},className:ai(ce==null?void 0:ce.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,le.isValidElement(g.action)?g.action:g.action&&Wd(g.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:ke=>{Wd(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,ke),!ke.defaultPrevented&&fn())},className:ai(ce==null?void 0:ce.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function lT(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function P$(n,e){const t={};return[n,e].forEach((r,s)=>{const a=s===1,l=a?"--mobile-offset":"--offset",c=a?I$:T$;function h(p){["top","right","bottom","left"].forEach(y=>{t[`${l}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=c:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(c)}),t}const k$=le.forwardRef(function(e,t){const{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:c,className:h,offset:p,mobileOffset:y,theme:g="light",richColors:E,duration:x,style:b,visibleToasts:C=E$,toastOptions:A,dir:O=lT(),gap:B=S$,icons:$,containerAriaLabel:K="Notifications"}=e,[Z,ne]=le.useState([]),N=le.useMemo(()=>Array.from(new Set([s].concat(Z.filter(F=>F.position).map(F=>F.position)))),[Z,s]),[R,k]=le.useState([]),[L,V]=le.useState(!1),[U,D]=le.useState(!1),[Pe,Se]=le.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ce=le.useRef(null),me=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=le.useRef(null),J=le.useRef(!1),re=le.useCallback(F=>{ne(Y=>{var ie;return(ie=Y.find(fe=>fe.id===F.id))!=null&&ie.delete||Dn.dismiss(F.id),Y.filter(({id:fe})=>fe!==F.id)})},[]);return le.useEffect(()=>Dn.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{ne(Y=>Y.map(ie=>ie.id===F.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{SS.flushSync(()=>{ne(Y=>{const ie=Y.findIndex(fe=>fe.id===F.id);return ie!==-1?[...Y.slice(0,ie),{...Y[ie],...F},...Y.slice(ie+1)]:[F,...Y]})})})}),[Z]),le.useEffect(()=>{if(g!=="system"){Se(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Se("dark"):Se("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:Y})=>{Se(Y?"dark":"light")})}catch{F.addListener(({matches:ie})=>{try{Se(ie?"dark":"light")}catch(fe){console.error(fe)}})}},[g]),le.useEffect(()=>{Z.length<=1&&V(!1)},[Z]),le.useEffect(()=>{const F=Y=>{var ie;if(a.every(ge=>Y[ge]||Y.code===ge)){var be;V(!0),(be=ce.current)==null||be.focus()}Y.code==="Escape"&&(document.activeElement===ce.current||(ie=ce.current)!=null&&ie.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),le.useEffect(()=>{if(ce.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,J.current=!1)}},[ce.current]),le.createElement("section",{ref:t,"aria-label":`${K} ${me}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((F,Y)=>{var ie;const[fe,be]=F.split("-");return Z.length?le.createElement("ol",{key:F,dir:O==="auto"?lT():O,tabIndex:-1,ref:ce,className:h,"data-sonner-toaster":!0,"data-sonner-theme":Pe,"data-y-position":fe,"data-lifted":L&&Z.length>1&&!l,"data-x-position":be,style:{"--front-toast-height":`${((ie=R[0])==null?void 0:ie.height)||0}px`,"--width":`${x$}px`,"--gap":`${B}px`,...b,...P$(p,y)},onBlur:ge=>{J.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(J.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||J.current||(J.current=!0,W.current=ge.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{U||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},Z.filter(ge=>!ge.position&&Y===0||ge.position===F).map((ge,ve)=>{var Me,Ne;return le.createElement(R$,{key:ge.id,icons:$,index:ve,toast:ge,defaultRichColors:E,duration:(Me=A==null?void 0:A.duration)!=null?Me:x,className:A==null?void 0:A.className,descriptionClassName:A==null?void 0:A.descriptionClassName,invert:r,visibleToasts:C,closeButton:(Ne=A==null?void 0:A.closeButton)!=null?Ne:c,interacting:U,position:F,style:A==null?void 0:A.style,unstyled:A==null?void 0:A.unstyled,classNames:A==null?void 0:A.classNames,cancelButtonStyle:A==null?void 0:A.cancelButtonStyle,actionButtonStyle:A==null?void 0:A.actionButtonStyle,closeButtonAriaLabel:A==null?void 0:A.closeButtonAriaLabel,removeToast:re,toasts:Z.filter(He=>He.position==ge.position),heights:R.filter(He=>He.position==ge.position),setHeights:k,expandByDefault:l,gap:B,expanded:L,swipeDirections:e.swipeDirections})})):null}))}),N$=()=>I.jsx(P6,{children:I.jsx(i$,{children:I.jsxs(r$,{children:[I.jsx(n$,{}),I.jsx(k$,{})]})})}),D$="/grindmode/";SR.createRoot(document.getElementById("root")).render(I.jsx(T.StrictMode,{children:I.jsx(E6,{basename:D$,children:I.jsx(N$,{})})}));export{J3 as $,V4 as A,Qn as B,$o as C,FE as D,N3 as E,Y6 as F,O3 as G,L3 as H,uA as I,AA as J,V3 as K,$y as L,F3 as M,s5 as N,M3 as O,mt as P,K$ as Q,le as R,zd as S,rt as T,mj as U,q$ as V,Q6 as W,G$ as X,hh as Y,W$ as Z,H$ as _,zo as a,Z3 as a0,t5 as a1,n5 as a2,e5 as a3,i5 as a4,r5 as a5,hj as a6,ij as a7,Xa as a8,Sb as a9,JU as aa,ZU as ab,F$ as ac,CL as ad,j$ as ae,dE as af,xL as ag,SL as ah,bL as ai,AL as aj,KS as ak,W4 as al,PS as am,H4 as an,Fy as ao,by as ap,ib as aq,OS as ar,Uy as as,ul as at,Cy as au,Ay as av,q4 as aw,G4 as ax,_l as b,cn as c,Bo as d,zF as e,Il as f,Je as g,yV as h,rc as i,I as j,WE as k,qF as l,KF as m,QF as n,jt as o,kS as p,to as q,T as r,no as s,je as t,Al as u,gi as v,jr as w,Ho as x,HE as y,jy as z};
//# sourceMappingURL=index-BVhBuUdI.js.map
