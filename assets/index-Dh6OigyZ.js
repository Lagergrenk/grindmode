const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CPd6LIem.js","assets/vendor-react-b1n3RH4y.js","assets/vendor-26V6_GIG.js","assets/useNutritionEntry-SibYRlZB.js","assets/vendor-firebase-BgMWbdUj.js","assets/firestore-BVp1zGt2.js","assets/Nutrition-TKpQZLAR.js","assets/select-E4jjsNR2.js","assets/useDebounce-C8AyE5Jv.js","assets/index-QzwH36cN.js","assets/index-B9lN9ss1.js"])))=>i.map(i=>d[i]);
import{r as c,j as e,R as L,e as pe}from"./vendor-react-b1n3RH4y.js";import{i as be,g as je,a as we,b as ye,o as ve,d as Ne,u as Pe,s as ke,c as Ce,e as Se,f as De,G as Le,h as Ae,j as M,k as X,T as ee,l as Ee,m as Re,n as Ue}from"./vendor-firebase-BgMWbdUj.js";import{t as Ie,c as Te,R as Me,a as te,b as Fe,I as Oe,S as Ge,d as We,T as _e,P as ze,C as Be,L as Ve,e as $e,f as qe,O as se,h as Ye,i as ae,j as re,D as oe,A as ne,k as ie,l as He,m as Je,u as z,n as Ze,U as Ke,p as Qe,M as Xe,q as et,N as tt,s as st,v as at,w as rt,x as ot,y as nt,z as it,B as lt,E as B,F as D,G as F,H as V,J as le,K as dt,Q as ct,V as ut,W as y,X as mt,Y as ht}from"./vendor-26V6_GIG.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(r){if(r.ep)return;r.ep=!0;const d=a(r);fetch(r.href,d)}})();const ft={isAuthenticated:!1,isLoading:!0,user:null,error:null,login:async()=>{},loginWithGoogle:async()=>{},signup:async()=>{},logout:async()=>{},updateProfile:async()=>{},deleteProfile:async()=>{}},de=c.createContext(ft),xt={apiKey:"AIzaSyC-DVPD-4CjDQ0nYOjg5y2hMOy1zjx6VeU",authDomain:"grindmode-5d2bb.firebaseapp.com",projectId:"grindmode-5d2bb",storageBucket:"grindmode-5d2bb.firebasestorage.app",messagingSenderId:"1096214127157",appId:"1:1096214127157:web:7b82fd19693d933f3f877c",measurementId:"G-XJN3G8434B"},$=be(xt);je($);const O=we($),v=ye($),gt=(t,s)=>Ce(v,t,s),pt=(t,s)=>De(v,t,s),bt=()=>ke(v),jt=t=>v.currentUser&&Pe(v.currentUser,t),wt=()=>v.currentUser&&Ne(v.currentUser),yt=ve,vt=()=>{const t=new Le;return Ae(v,t)},Nt=Se;v.currentUser;const Pt=v,k=t=>{if(!t)return"An unknown error occurred";if(t.code){const a=t;switch(a.code){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or try logging in.";case"auth/invalid-email":return"Invalid email address. Please check your email and try again.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/user-not-found":return"No account found with this email. Please check your email or create a new account.";case"auth/wrong-password":return"Incorrect password. Please try again or reset your password.";case"auth/too-many-requests":return"Too many unsuccessful login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support for assistance.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return`Authentication error: ${a.message}`}}return`Error: ${t instanceof Error?t.message:String(t)}`},G=()=>{const t=v.currentUser;if(!t||!t.uid)throw new Error("User not authenticated");return t.uid},kt=async t=>{const s=M(O,"users",t),a=await X(s);return a.exists()?a.data():null},Ct=async(t,s)=>{const a=M(O,"users",t);if(!(await X(a)).exists()){const r=ee.now();await Ee(a,{...s,createdAt:r,updatedAt:r})}},St=async(t,s)=>{const a=M(O,"users",t);await Re(a,{...s,updatedAt:ee.now()})},Dt=async t=>{const s=M(O,"users",t);await Ue(s)},Lt=async()=>{try{const t=G();return await kt(t)}catch(t){return console.error("Error getting user profile:",t),null}},Ps=async t=>{try{const s=G();await St(s,t)}catch(s){throw console.error("Error updating user profile:",s),new Error("Failed to update profile")}},J=async t=>{try{const s=G();await Ct(s,t)}catch(s){throw console.error("Error creating user profile:",s),new Error("Failed to create profile")}},ks=async()=>{try{const t=G();await Dt(t)}catch(t){throw console.error("Error deleting user profile:",t),new Error("Failed to delete profile")}};function h(...t){return Ie(Te(t))}const A=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:h("rounded-xl border bg-card text-card-foreground shadow",t),...s}));A.displayName="Card";const E=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:h("flex flex-col space-y-1.5 p-6",t),...s}));E.displayName="CardHeader";const R=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:h("font-semibold leading-none tracking-tight",t),...s}));R.displayName="CardTitle";const q=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:h("text-sm text-muted-foreground",t),...s}));q.displayName="CardDescription";const U=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:h("p-6 pt-0",t),...s}));U.displayName="CardContent";const I=c.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:h("flex items-center p-6 pt-0",t),...s}));I.displayName="CardFooter";function At({className:t,...s}){return e.jsx(Me,{"data-slot":"label",className:h("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}const Et=te("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ce({className:t,variant:s,...a}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:h(Et({variant:s}),t),...a})}function ue({className:t,...s}){return e.jsx("div",{"data-slot":"alert-description",className:h("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}function Rt({className:t,...s}){return e.jsx(Fe,{"data-slot":"avatar",className:h("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function Ut({className:t,...s}){return e.jsx(Oe,{"data-slot":"avatar-image",className:h("aspect-square size-full",t),...s})}const Y=te("inline-flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),N=c.forwardRef(({className:t,variant:s,size:a,asChild:n=!1,...r},d)=>{const i=n?Ge:"button";return e.jsx(i,{className:h(Y({variant:s,size:a,className:t})),ref:d,...r})});N.displayName="Button";function It({...t}){return e.jsx(We,{"data-slot":"dropdown-menu",...t})}function Tt({...t}){return e.jsx(_e,{"data-slot":"dropdown-menu-trigger",...t})}function Mt({className:t,sideOffset:s=4,...a}){return e.jsx(ze,{children:e.jsx(Be,{"data-slot":"dropdown-menu-content",sideOffset:s,className:h("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...a})})}function _({className:t,inset:s,variant:a="default",...n}){return e.jsx(qe,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":a,className:h("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function Ft({className:t,inset:s,...a}){return e.jsx(Ve,{"data-slot":"dropdown-menu-label","data-inset":s,className:h("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...a})}function Z({className:t,...s}){return e.jsx($e,{"data-slot":"dropdown-menu-separator",className:h("bg-border -mx-1 my-1 h-px",t),...s})}c.createContext({});c.createContext({});const me=c.forwardRef(({className:t,type:s,...a},n)=>e.jsx("input",{type:s,className:h("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...a}));me.displayName="Input";const Cs=He,Ss=Je,Ot=Ye,he=c.forwardRef(({className:t,...s},a)=>e.jsx(se,{className:h("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));he.displayName=se.displayName;const Gt=c.forwardRef(({className:t,...s},a)=>e.jsxs(Ot,{children:[e.jsx(he,{}),e.jsx(ae,{ref:a,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Gt.displayName=ae.displayName;const Wt=({className:t,...s})=>e.jsx("div",{className:h("flex flex-col space-y-2 text-center sm:text-left",t),...s});Wt.displayName="AlertDialogHeader";const _t=({className:t,...s})=>e.jsx("div",{className:h("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});_t.displayName="AlertDialogFooter";const zt=c.forwardRef(({className:t,...s},a)=>e.jsx(re,{ref:a,className:h("text-lg font-semibold",t),...s}));zt.displayName=re.displayName;const Bt=c.forwardRef(({className:t,...s},a)=>e.jsx(oe,{ref:a,className:h("text-sm text-muted-foreground",t),...s}));Bt.displayName=oe.displayName;const Vt=c.forwardRef(({className:t,...s},a)=>e.jsx(ne,{ref:a,className:h(Y(),t),...s}));Vt.displayName=ne.displayName;const $t=c.forwardRef(({className:t,...s},a)=>e.jsx(ie,{ref:a,className:h(Y({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));$t.displayName=ie.displayName;const T={userPreferences:{theme:"light",heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",notificationsEnabled:!0,workoutDaysPerWeek:3},ui:{sidebarOpen:!0,activeDashboardTab:"home"},dashboardData:{needsRefresh:!1,lastUpdated:null}},fe=L.createContext({state:T,setHeightUnit:()=>{},setWeightUnit:()=>{},setDateFormat:()=>{},setSidebarOpen:()=>{},setTheme:()=>{},setWorkoutDaysPerWeek:()=>{}}),qt=()=>{const t=c.useContext(fe);if(!t)throw new Error("useAppState must be used within an AppProvider");const{state:s,setHeightUnit:a,setWeightUnit:n,setDateFormat:r,setSidebarOpen:d,setTheme:i,setWorkoutDaysPerWeek:l}=t;return{state:s,setHeightUnit:a,setWeightUnit:n,setDateFormat:r,setSidebarOpen:d,setTheme:i,setWorkoutDaysPerWeek:l}},S=()=>{const t=c.useContext(de);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return{...t}},Yt=({children:t})=>{const[s,a]=c.useState(null),[n,r]=c.useState("loading"),[d,i]=c.useState(null);c.useEffect(()=>{const o=yt(Pt,async x=>{if(x){let g=x.displayName;const j=x.photoURL;if(!g||!j){const P=await Lt();console.log("userProfile",P),P&&(g=P.displayName)}a({uid:x.uid,email:x.email,displayName:g||"",photoURL:j||""}),r("authenticated")}else a(null),r("unauthenticated")});return()=>o()},[]);const m={isAuthenticated:n==="authenticated",isLoading:n==="loading",user:s,error:d,login:async(o,x)=>{i(null);try{await pt(o,x)}catch(g){const j=k(g),P=new Error(j);throw i(P),P}},loginWithGoogle:async()=>{i(null);try{const o=await vt(),x=Nt(o);if(!(x!=null&&x.isNewUser))return;await J({email:o.user.email||"",displayName:o.user.displayName||""}),a({uid:o.user.uid,email:o.user.email,displayName:o.user.displayName||"",photoURL:o.user.photoURL||""})}catch(o){const x=k(o),g=new Error(x);throw i(g),g}},signup:async(o,x,g)=>{i(null);try{const j=await gt(o,x);j.user&&(await J({email:j.user.email||"",displayName:g}),a({uid:j.user.uid,email:j.user.email,displayName:g,photoURL:j.user.photoURL||""}))}catch(j){const P=k(j),H=new Error(P);throw i(H),H}},logout:async()=>{i(null);try{await bt()}catch(o){const x=k(o),g=new Error(x);throw i(g),g}},updateProfile:async o=>{i(null);try{const{displayName:x}=o;x&&await jt({displayName:x})}catch(x){const g=k(x),j=new Error(g);throw i(j),j}},deleteProfile:async()=>{i(null);try{await wt()}catch(o){const x=k(o),g=new Error(x);throw i(g),g}}};return e.jsx(de.Provider,{value:m,children:t})},Ht="modulepreload",Jt=function(t){return"/grindmode/"+t},K={},W=function(s,a,n){let r=Promise.resolve();if(a&&a.length>0){let i=function(u){return Promise.all(u.map(p=>Promise.resolve(p).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),f=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=i(a.map(u=>{if(u=Jt(u),u in K)return;K[u]=!0;const p=u.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${w}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":Ht,p||(b.as="script"),b.crossOrigin="",b.href=u,f&&b.setAttribute("nonce",f),document.head.appendChild(b),p)return new Promise((m,o)=>{b.addEventListener("load",m),b.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${u}`)))})}))}function d(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return r.then(i=>{for(const l of i||[])l.status==="rejected"&&d(l.reason);return s().catch(d)})},Zt=()=>e.jsx("footer",{className:"py-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["© ",new Date().getFullYear()," GrindMode"]})}),Kt={theme:"light",setTheme:()=>null},xe=c.createContext(Kt),Qt=()=>{const t=c.useContext(xe);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Xt=({onLogout:t})=>{const{user:s,isAuthenticated:a}=S(),{theme:n,setTheme:r}=Qt(),d=z();return e.jsx("header",{className:"sticky top-0 z-30 flex h-16 items-center bg-white dark:bg-background border-b border-gray-200 dark:border-border px-4",children:e.jsx("div",{className:"ml-auto flex items-center space-x-2",children:a?e.jsx(e.Fragment,{children:e.jsxs(It,{children:[e.jsx(Tt,{children:e.jsxs("div",{className:"flex items-center gap-2 rounded-full pl-1 cursor-pointer",children:[(s==null?void 0:s.photoURL)&&e.jsx(Rt,{className:"h-8 w-8",children:e.jsx(Ut,{src:s==null?void 0:s.photoURL,alt:"User Avatar"})}),e.jsx("span",{className:"hidden md:inline text-sm font-medium",children:s==null?void 0:s.displayName}),e.jsx(Ze,{className:"h-4 w-4 opacity-50"})]})}),e.jsxs(Mt,{align:"end",className:"w-56",children:[e.jsx(Ft,{children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s==null?void 0:s.displayName}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s==null?void 0:s.email})]})}),e.jsx(Z,{}),e.jsxs(_,{onClick:()=>d("profile"),children:[e.jsx(Ke,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]}),e.jsx(_,{onClick:()=>r(n==="dark"?"light":"dark"),children:e.jsxs("span",{className:"flex items-center gap-2",children:[n==="dark"?e.jsx(Qe,{className:"h-4 w-4 bg-gray-800 dark:bg-card rounded-full"}):e.jsx(Xe,{className:"h-4 w-4 bg-gray-200 dark:bg-card rounded-full"}),e.jsx("span",{children:"Toggle Theme"})]})}),e.jsx(Z,{}),e.jsxs(_,{onClick:t,children:[e.jsx(et,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>d("/login"),className:"hidden md:inline-flex",children:"Log in"}),e.jsx(N,{size:"sm",onClick:()=>d("/signup"),children:"Sign up"})]})})})},es=({navItems:t,isCollapsed:s=!1})=>e.jsx("ul",{className:h("space-y-1",s?"px-2":"px-3"),children:t.map(a=>e.jsx("li",{className:"transform transition-all duration-200 ease-in-out",children:e.jsxs(tt,{to:a.path,className:({isActive:n})=>h("flex items-center rounded-md px-3 py-2 text-sm transition-all duration-300 ease-in-out",n?"bg-sidebar-accent text-sidebar-accent-foreground dark:bg-sidebar-accent dark:text-sidebar-accent-foreground":"hover:bg-accent/50 text-muted-foreground hover:text-foreground dark:hover:bg-sidebar-accent/30 dark:text-sidebar-foreground dark:hover:text-sidebar-foreground",s?"justify-center":"justify-start"),children:[e.jsx("div",{className:h("flex items-center transition-all duration-300 ease-in-out",s?"w-full justify-center":"mr-3"),children:e.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:a.icon})}),e.jsx("span",{className:h("whitespace-nowrap transition-all duration-300 ease-in-out",s?"w-0 opacity-0 overflow-hidden":"w-auto opacity-100"),children:a.label})]})},a.path))}),ts=()=>[{path:"/dashboard",label:"Dashboard",icon:e.jsx(st,{className:"h-4 w-4"})},{path:"/workoutplanner",label:"Workout Planner",icon:e.jsx(at,{className:"h-4 w-4"})},{path:"/nutrition",label:"Nutrition",icon:e.jsx(rt,{className:"h-4 w-4"})},{path:"/progress",label:"Progress",icon:e.jsx(ot,{className:"h-4 w-4"})},{path:"/goals",label:"Goals",icon:e.jsx(nt,{className:"h-4 w-4"})}],ss=({isCollapsed:t=!1,toggleSidebar:s})=>{const a=ts();return e.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-sidebar",children:[e.jsx("div",{className:h("flex h-16 items-center border-b dark:border-sidebar-border",t?"justify-center":"px-4"),children:t?e.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"rounded-full bg-primary h-6 w-6 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"GM"})}),e.jsx("span",{className:"font-semibold text-lg dark:text-sidebar-foreground",children:"GrindMode"})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-6 no-scrollbar bg-white dark:bg-sidebar",children:e.jsx(es,{navItems:a,isCollapsed:t})}),e.jsx("div",{className:"flex items-center justify-center border-t dark:border-sidebar-border p-2 bg-white dark:bg-sidebar",children:e.jsx(N,{variant:"ghost",size:"icon",onClick:s,className:"w-full h-10 rounded-full hover:bg-accent/50 dark:hover:bg-sidebar-accent/50","aria-label":"Toggle sidebar",children:t?e.jsx(it,{className:"h-5 w-5 dark:text-sidebar-foreground"}):e.jsx(lt,{className:"h-5 w-5 dark:text-sidebar-foreground"})})})]})},as=({isAuthenticated:t})=>t?e.jsx(B,{}):e.jsx(D,{to:"/login"}),rs=()=>{const{state:t,setSidebarOpen:s}=qt(),{logout:a}=S(),n=z(),r=t.ui.sidebarOpen,d=()=>{s(!r)},i=c.useCallback(async()=>{try{a&&await a(),n("/login")}catch(l){console.error("Logout failed:",l)}},[a,n]);return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-background",children:[e.jsx("div",{className:`${r?"w-64":"w-20"} transition-all duration-300 ease-in-out bg-white dark:bg-sidebar shadow-lg`,children:e.jsx(ss,{isCollapsed:!r,toggleSidebar:d})}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsx(Xt,{onLogout:i}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 dark:bg-background",children:e.jsx("div",{className:"container mx-auto",children:e.jsx(B,{})})})]})]})};function os(){return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-foreground p-4",children:[e.jsxs("header",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Welcome to Grind Mode"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Your ultimate companion for tracking fitness and diet, helping you stay motivated and achieve your health goals. Log workouts, monitor nutrition, and see your progress all in one place."})]}),e.jsxs("main",{className:"text-center",children:[e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"What Grind Mode Offers"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-2 text-card-foreground",children:"Fitness Tracking"}),e.jsx("p",{className:"text-muted-foreground",children:"Log your workouts with ease. Track sets, reps and weight for various exercises."})]}),e.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-2 text-card-foreground",children:"Diet Logging"}),e.jsx("p",{className:"text-muted-foreground",children:"Keep a detailed record of your meals and nutritional intake. Understand your calorie consumption and macronutrient breakdown."})]})]})]}),e.jsx(F,{to:"/login",children:e.jsx(N,{size:"lg",className:"text-lg px-8 py-4",children:"Get Started"})})]})]})}const ns=()=>e.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 dark:from-background dark:to-card",children:[e.jsx("header",{className:"w-full py-6 px-4",children:e.jsxs("div",{className:"container mx-auto flex justify-center",children:[e.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:e.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}),e.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-foreground",children:"Grind Mode"})]})}),e.jsx("main",{className:"flex flex-grow items-center justify-center px-4 py-8",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(B,{})})}),e.jsx(Zt,{})]}),C=({label:t,id:s,name:a,type:n,autoComplete:r,value:d,onChange:i,className:l})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(At,{htmlFor:s,children:t})}),e.jsx(me,{id:s,name:a,type:n,autoComplete:r,value:d,onChange:i,className:`w-full ${l??""}`})]}),ge=({text:t,onClick:s,isLoading:a})=>e.jsxs(N,{type:"button",variant:"outline",onClick:s,disabled:a,className:"w-full mt-2",children:[e.jsx("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[e.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),e.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),e.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),e.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),t]}),is=({onSignup:t,onGoogleSignIn:s,isLoading:a,error:n})=>{const[r,d]=L.useState({email:"",password:"",confirmPassword:"",displayName:""}),[i,l]=L.useState(!0),f=p=>{const{name:w,value:b}=p.target;d(m=>({...m,[w]:b})),(w==="password"||w==="confirmPassword")&&l(w==="confirmPassword"?r.password===b:b===r.confirmPassword)},u=async p=>{if(p.preventDefault(),r.password!==r.confirmPassword){l(!1);return}await t(r)};return e.jsxs(A,{className:"w-full max-w-md mx-auto",children:[e.jsx(E,{children:e.jsx(R,{className:"text-2xl text-center font-bold",children:"Sign up"})}),e.jsx(U,{children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsx(C,{label:"Full Name",id:"displayName",name:"displayName",type:"text",autoComplete:"name",value:r.displayName,onChange:f,required:!0}),e.jsx(C,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:f,required:!0}),e.jsx(C,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"new-password",value:r.password,onChange:f}),e.jsx(C,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:f,className:` ${!i&&r.confirmPassword?"border-destructive":""}`,autoComplete:"new-password"}),!i&&r.confirmPassword&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:"Passwords don't match"}),n&&e.jsx("p",{className:"text-sm text-destructive",children:n}),e.jsx(N,{type:"submit",className:"w-full",disabled:a||!i,children:a?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})}),e.jsx(I,{children:e.jsx(ge,{text:"Continue with Google",onClick:s,isLoading:a})})]})},ls=({onLogin:t,isLoading:s,onGoogleSignIn:a})=>{const[n,r]=c.useState({email:"",password:""}),d=l=>{const{name:f,value:u}=l.target;r(p=>({...p,[f]:u}))},i=async l=>{l.preventDefault(),t(n)};return e.jsxs(A,{className:"w-full max-w-md mx-auto",children:[e.jsx(E,{children:e.jsx(R,{className:"text-2xl text-center font-bold",children:"Login"})}),e.jsx(U,{children:e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsx(C,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:n.email,onChange:d,required:!0}),e.jsx(C,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"current-password",value:n.password,onChange:d,required:!0}),e.jsx(N,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})}),a&&e.jsx(I,{children:e.jsx(ge,{onClick:a,isLoading:s,text:"Continue with Google"})})]})},ds=()=>{const[t,s]=L.useState(null),[a,n]=L.useState(!1),{isAuthenticated:r,login:d,loginWithGoogle:i}=S();if(r)return e.jsx(D,{to:"/"});const l=async()=>{s(null),n(!0);try{if(!i)throw new Error("Google Sign-In function is not available");await i()}catch(u){s(k(u))}finally{n(!1)}},f=async u=>{s(null),n(!0);try{if(!d)throw new Error("Login function is not available");await d(u.email,u.password)}catch(p){s(k(p))}finally{n(!1)}};return e.jsxs(A,{children:[e.jsxs(E,{className:"space-y-1",children:[e.jsx(R,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),e.jsx(q,{className:"text-center",children:"Log in to continue your fitness journey"})]}),e.jsxs(U,{children:[t&&e.jsxs(ce,{variant:"destructive",className:"mb-4",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx(ue,{children:t})]}),e.jsx(ls,{onGoogleSignIn:l,onLogin:f,isLoading:a})]}),e.jsx(I,{className:"flex justify-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dont have an account?"," ",e.jsx(F,{to:"/signup",className:"font-medium text-primary hover:underline",children:"Sign up"})]})})]})},cs=()=>{const[t,s]=c.useState(!1),[a,n]=c.useState(null),r=z(),{signup:d,loginWithGoogle:i}=S(),l=async u=>{const{email:p,password:w,displayName:b}=u;s(!0),n(null);try{d(p,w,b),r("/dashboard")}catch(m){let o="Failed to create account. Please try again.";m instanceof Error&&(m.message.includes("email-already-in-use")?o="This email is already registered. Please use another email or login.":m.message.includes("weak-password")?o="Password should be at least 6 characters long.":m.message.includes("invalid-email")&&(o="Please enter a valid email address.")),n(o)}finally{s(!1)}},f=async()=>{s(!0),n(null);try{i(),r("/dashboard")}catch(u){n("Google sign-in failed. Please try again."),console.error("Google sign-in error:",u)}finally{s(!1)}};return e.jsxs(A,{children:[e.jsxs(E,{className:"space-y-1",children:[e.jsx(R,{className:"text-2xl font-bold text-center",children:"Create your account"}),e.jsx(q,{className:"text-center",children:"Join GrindMode to track your fitness journey"})]}),e.jsxs(U,{children:[a&&e.jsxs(ce,{variant:"destructive",className:"mb-4",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx(ue,{children:a})]}),e.jsx(is,{onSignup:l,isLoading:t,error:a,onGoogleSignIn:f})]}),e.jsx(I,{className:"flex justify-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(F,{to:"/login",className:"font-medium text-primary hover:underline",children:"Log in"})]})})]})},Q=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground",children:[e.jsx(V,{className:"animate-spin h-12 w-12 text-primary mb-4"}),e.jsx("p",{className:"text-xl font-semibold",children:"Loading..."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait a moment."})]}),us=()=>{const t=dt();return e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground p-4 text-center",children:[e.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["Sorry, the page you are looking for at"," ",e.jsx("code",{className:"bg-muted p-1 rounded-sm text-sm",children:t.pathname})," ","does not exist."]}),e.jsx(N,{asChild:!0,children:e.jsxs(F,{to:"/",children:[e.jsx(ct,{className:"mr-2 h-4 w-4"}),"Go to Homepage"]})})]})},ms=c.lazy(()=>W(()=>import("./Dashboard-CPd6LIem.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.Dashboard}))),hs=c.lazy(()=>W(()=>import("./Nutrition-TKpQZLAR.js"),__vite__mapDeps([6,1,2,7,4,3,5,8])).then(t=>({default:t.Nutrition}))),fs=c.lazy(()=>W(()=>import("./index-QzwH36cN.js"),__vite__mapDeps([9,1,2,8,4,5])).then(t=>({default:t.WorkoutPlanner}))),xs=c.lazy(()=>W(()=>import("./index-B9lN9ss1.js"),__vite__mapDeps([10,1,2,7,4])).then(t=>({default:t.Profile}))),gs=()=>{const{isAuthenticated:t,isLoading:s}=S();return s?e.jsx(Q,{}):e.jsx(c.Suspense,{fallback:e.jsx(Q,{}),children:e.jsxs(ut,{children:[e.jsx(y,{path:"/",element:t?e.jsx(D,{to:"/dashboard"}):e.jsx(os,{})}),e.jsxs(y,{element:e.jsx(ns,{}),children:[e.jsx(y,{path:"/login",element:t?e.jsx(D,{to:"/dashboard"}):e.jsx(ds,{})}),e.jsx(y,{path:"/signup",element:t?e.jsx(D,{to:"/dashboard"}):e.jsx(cs,{})})]},"auth-layout"),e.jsx(y,{element:e.jsx(as,{isAuthenticated:t}),children:e.jsxs(y,{element:e.jsx(rs,{}),children:[e.jsx(y,{path:"/dashboard",element:e.jsx(ms,{})}),e.jsx(y,{path:"/nutrition",element:e.jsx(hs,{})}),e.jsx(y,{path:"/workoutplanner",element:e.jsx(fs,{})}),e.jsx(y,{path:"/profile",element:e.jsx(xs,{})}),e.jsx(y,{path:"/progress",element:e.jsx("div",{children:"Progress Tracking"})})]})}),e.jsx(y,{path:"*",element:e.jsx(us,{})})]})})},ps=({children:t})=>{const[s,a]=c.useState(()=>{const m=localStorage.getItem("appState");if(m)try{return JSON.parse(m)}catch(o){console.error("Failed to parse saved app state",o)}return T}),{user:n}=S();c.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(s))},[s]),c.useEffect(()=>{n||a(m=>({...m,ui:T.ui,dashboardData:T.dashboardData}))},[n]);const b={state:s,setTheme:m=>{a(o=>({...o,userPreferences:{...o.userPreferences,theme:m}}))},setSidebarOpen:m=>{a(o=>({...o,ui:{...o.ui,sidebarOpen:m}}))},setHeightUnit:m=>{a(o=>({...o,userPreferences:{...o.userPreferences,heightUnit:m}}))},setWeightUnit:m=>{a(o=>({...o,userPreferences:{...o.userPreferences,weightUnit:m}}))},setDateFormat:m=>{a(o=>({...o,userPreferences:{...o.userPreferences,dateFormat:m}}))},markDashboardNeedsRefresh:()=>{a(m=>({...m,dashboardData:{...m.dashboardData,needsRefresh:!0}}))},resetDashboardRefreshState:()=>{a(m=>({...m,dashboardData:{needsRefresh:!1,lastUpdated:new Date}}))},setWorkoutDaysPerWeek:m=>{a(o=>({...o,userPreferences:{...o.userPreferences,workoutDaysPerWeek:m}}))}};return e.jsx(fe.Provider,{value:b,children:t})};function bs({children:t,defaultTheme:s="light",storageKey:a="appState",...n}){const[r,d]=c.useState(()=>{var l;try{const f=localStorage.getItem(a);if(f){const u=JSON.parse(f);return((l=u==null?void 0:u.userPreferences)==null?void 0:l.theme)||s}}catch(f){console.error("Error reading theme from localStorage:",f)}return s});c.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),r==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(f);return}l.classList.add(r)},[r]);const i={theme:r,setTheme:l=>{try{const f=localStorage.getItem(a),u=f?JSON.parse(f):{};u.userPreferences||(u.userPreferences={heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",workoutDaysPerWeek:3,theme:l,notificationsEnabled:!0}),u.userPreferences.theme=l,localStorage.setItem(a,JSON.stringify(u)),d(l)}catch(f){console.error("Error saving theme to localStorage:",f),d(l)}}};return e.jsx(xe.Provider,{...n,value:i,children:t})}const js=()=>e.jsx(Yt,{children:e.jsx(bs,{children:e.jsxs(ps,{children:[e.jsx(gs,{}),e.jsx(mt,{})]})})}),ws="/grindmode/";pe.createRoot(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(ht,{basename:ws,children:e.jsx(js,{})})}));export{Cs as A,N as B,A as C,me as I,At as L,E as a,R as b,U as c,h as d,I as e,qt as f,G as g,O as h,q as i,Ss as j,Gt as k,Wt as l,zt as m,Bt as n,_t as o,$t as p,Vt as q,Ps as r,Lt as s,ks as t,S as u,J as v,kt as w,Ct as x,St as y,Dt as z};
