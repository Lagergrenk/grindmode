const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-AxH-IBpf.js","assets/useNutritionEntry-BQGr6nOi.js","assets/circle-plus-BhErUmzi.js","assets/Nutrition-B29o8Uz-.js","assets/select-D3gPwQx0.js","assets/chevron-up-CMITYEf9.js","assets/useDebounce-DHlhbeU_.js","assets/index-CN3GQh-F.js","assets/index-DHlXkcu-.js","assets/ActiveWorkout-BQFqnrs-.js","assets/useActiveWorkout-CyYQB84A.js","assets/WorkoutSummary-PyoUozjv.js","assets/formatTime-Cq3egqay.js","assets/WorkoutHistory-UPIOJ6W6.js"])))=>i.map(i=>d[i]);
var W1=Object.defineProperty;var H1=(n,e,t)=>e in n?W1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Y_=(n,e,t)=>H1(n,typeof e!="symbol"?e+"":e,t);function q1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function JT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vm={exports:{}},Tu={},wm={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function G1(){if(Q_)return We;Q_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function b(j,V,X){this.props=j,this.context=V,this.refs=A,this.updater=X||I}b.prototype.isReactComponent={},b.prototype.setState=function(j,V){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,V,"setState")},b.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=b.prototype;function z(j,V,X){this.props=j,this.context=V,this.refs=A,this.updater=X||I}var U=z.prototype=new D;U.constructor=z,S(U,b.prototype),U.isPureReactComponent=!0;var q=Array.isArray,J=Object.prototype.hasOwnProperty,ee={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(j,V,X){var se,ie={},ue=null,he=null;if(V!=null)for(se in V.ref!==void 0&&(he=V.ref),V.key!==void 0&&(ue=""+V.key),V)J.call(V,se)&&!k.hasOwnProperty(se)&&(ie[se]=V[se]);var Ce=arguments.length-2;if(Ce===1)ie.children=X;else if(1<Ce){for(var _e=Array(Ce),$e=0;$e<Ce;$e++)_e[$e]=arguments[$e+2];ie.children=_e}if(j&&j.defaultProps)for(se in Ce=j.defaultProps,Ce)ie[se]===void 0&&(ie[se]=Ce[se]);return{$$typeof:n,type:j,key:ue,ref:he,props:ie,_owner:ee.current}}function N(j,V){return{$$typeof:n,type:j.type,key:V,ref:j.ref,props:j.props,_owner:j._owner}}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function F(j){var V={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(X){return V[X]})}var B=/\/+/g;function O(j,V){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):V.toString(36)}function Re(j,V,X,se,ie){var ue=typeof j;(ue==="undefined"||ue==="boolean")&&(j=null);var he=!1;if(j===null)he=!0;else switch(ue){case"string":case"number":he=!0;break;case"object":switch(j.$$typeof){case n:case e:he=!0}}if(he)return he=j,ie=ie(he),j=se===""?"."+O(he,0):se,q(ie)?(X="",j!=null&&(X=j.replace(B,"$&/")+"/"),Re(ie,V,X,"",function($e){return $e})):ie!=null&&(M(ie)&&(ie=N(ie,X+(!ie.key||he&&he.key===ie.key?"":(""+ie.key).replace(B,"$&/")+"/")+j)),V.push(ie)),1;if(he=0,se=se===""?".":se+":",q(j))for(var Ce=0;Ce<j.length;Ce++){ue=j[Ce];var _e=se+O(ue,Ce);he+=Re(ue,V,X,_e,ie)}else if(_e=T(j),typeof _e=="function")for(j=_e.call(j),Ce=0;!(ue=j.next()).done;)ue=ue.value,_e=se+O(ue,Ce++),he+=Re(ue,V,X,_e,ie);else if(ue==="object")throw V=String(j),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return he}function Se(j,V,X){if(j==null)return j;var se=[],ie=0;return Re(j,se,"","",function(ue){return V.call(X,ue,ie++)}),se}function fe(j){if(j._status===-1){var V=j._result;V=V(),V.then(function(X){(j._status===0||j._status===-1)&&(j._status=1,j._result=X)},function(X){(j._status===0||j._status===-1)&&(j._status=2,j._result=X)}),j._status===-1&&(j._status=0,j._result=V)}if(j._status===1)return j._result.default;throw j._result}var ge={current:null},H={transition:null},te={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:H,ReactCurrentOwner:ee};function re(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Se,forEach:function(j,V,X){Se(j,function(){V.apply(this,arguments)},X)},count:function(j){var V=0;return Se(j,function(){V++}),V},toArray:function(j){return Se(j,function(V){return V})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},We.Component=b,We.Fragment=t,We.Profiler=i,We.PureComponent=z,We.StrictMode=r,We.Suspense=f,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,We.act=re,We.cloneElement=function(j,V,X){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var se=S({},j.props),ie=j.key,ue=j.ref,he=j._owner;if(V!=null){if(V.ref!==void 0&&(ue=V.ref,he=ee.current),V.key!==void 0&&(ie=""+V.key),j.type&&j.type.defaultProps)var Ce=j.type.defaultProps;for(_e in V)J.call(V,_e)&&!k.hasOwnProperty(_e)&&(se[_e]=V[_e]===void 0&&Ce!==void 0?Ce[_e]:V[_e])}var _e=arguments.length-2;if(_e===1)se.children=X;else if(1<_e){Ce=Array(_e);for(var $e=0;$e<_e;$e++)Ce[$e]=arguments[$e+2];se.children=Ce}return{$$typeof:n,type:j.type,key:ie,ref:ue,props:se,_owner:he}},We.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},We.createElement=R,We.createFactory=function(j){var V=R.bind(null,j);return V.type=j,V},We.createRef=function(){return{current:null}},We.forwardRef=function(j){return{$$typeof:c,render:j}},We.isValidElement=M,We.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:fe}},We.memo=function(j,V){return{$$typeof:p,type:j,compare:V===void 0?null:V}},We.startTransition=function(j){var V=H.transition;H.transition={};try{j()}finally{H.transition=V}},We.unstable_act=re,We.useCallback=function(j,V){return ge.current.useCallback(j,V)},We.useContext=function(j){return ge.current.useContext(j)},We.useDebugValue=function(){},We.useDeferredValue=function(j){return ge.current.useDeferredValue(j)},We.useEffect=function(j,V){return ge.current.useEffect(j,V)},We.useId=function(){return ge.current.useId()},We.useImperativeHandle=function(j,V,X){return ge.current.useImperativeHandle(j,V,X)},We.useInsertionEffect=function(j,V){return ge.current.useInsertionEffect(j,V)},We.useLayoutEffect=function(j,V){return ge.current.useLayoutEffect(j,V)},We.useMemo=function(j,V){return ge.current.useMemo(j,V)},We.useReducer=function(j,V,X){return ge.current.useReducer(j,V,X)},We.useRef=function(j){return ge.current.useRef(j)},We.useState=function(j){return ge.current.useState(j)},We.useSyncExternalStore=function(j,V,X){return ge.current.useSyncExternalStore(j,V,X)},We.useTransition=function(){return ge.current.useTransition()},We.version="18.3.1",We}var X_;function eh(){return X_||(X_=1,wm.exports=G1()),wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function K1(){if(J_)return Tu;J_=1;var n=eh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var y,g={},T=null,I=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(I=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(g[y]=f[y]);if(c&&c.defaultProps)for(y in f=c.defaultProps,f)g[y]===void 0&&(g[y]=f[y]);return{$$typeof:e,type:c,key:T,ref:I,props:g,_owner:i.current}}return Tu.Fragment=t,Tu.jsx=l,Tu.jsxs=l,Tu}var Z_;function Y1(){return Z_||(Z_=1,vm.exports=K1()),vm.exports}var E=Y1(),_=eh();const de=JT(_),ZT=q1({__proto__:null,default:de},[_]);var Fd={},_m={exports:{}},Dn={},Em={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function Q1(){return e0||(e0=1,function(n){function e(H,te){var re=H.length;H.push(te);e:for(;0<re;){var j=re-1>>>1,V=H[j];if(0<i(V,te))H[j]=te,H[re]=V,re=j;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],re=H.pop();if(re!==te){H[0]=re;e:for(var j=0,V=H.length,X=V>>>1;j<X;){var se=2*(j+1)-1,ie=H[se],ue=se+1,he=H[ue];if(0>i(ie,re))ue<V&&0>i(he,ie)?(H[j]=he,H[ue]=re,j=ue):(H[j]=ie,H[se]=re,j=se);else if(ue<V&&0>i(he,re))H[j]=he,H[ue]=re,j=ue;else break e}}return te}function i(H,te){var re=H.sortIndex-te.sortIndex;return re!==0?re:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],y=1,g=null,T=3,I=!1,S=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(H){for(var te=t(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=H)r(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(p)}}function q(H){if(A=!1,U(H),!S)if(t(f)!==null)S=!0,fe(J);else{var te=t(p);te!==null&&ge(q,te.startTime-H)}}function J(H,te){S=!1,A&&(A=!1,D(R),R=-1),I=!0;var re=T;try{for(U(te),g=t(f);g!==null&&(!(g.expirationTime>te)||H&&!F());){var j=g.callback;if(typeof j=="function"){g.callback=null,T=g.priorityLevel;var V=j(g.expirationTime<=te);te=n.unstable_now(),typeof V=="function"?g.callback=V:g===t(f)&&r(f),U(te)}else r(f);g=t(f)}if(g!==null)var X=!0;else{var se=t(p);se!==null&&ge(q,se.startTime-te),X=!1}return X}finally{g=null,T=re,I=!1}}var ee=!1,k=null,R=-1,N=5,M=-1;function F(){return!(n.unstable_now()-M<N)}function B(){if(k!==null){var H=n.unstable_now();M=H;var te=!0;try{te=k(!0,H)}finally{te?O():(ee=!1,k=null)}}else ee=!1}var O;if(typeof z=="function")O=function(){z(B)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Se=Re.port2;Re.port1.onmessage=B,O=function(){Se.postMessage(null)}}else O=function(){b(B,0)};function fe(H){k=H,ee||(ee=!0,O())}function ge(H,te){R=b(function(){H(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){S||I||(S=!0,fe(J))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(H){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var re=T;T=te;try{return H()}finally{T=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=T;T=H;try{return te()}finally{T=re}},n.unstable_scheduleCallback=function(H,te,re){var j=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?j+re:j):re=j,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=re+V,H={id:y++,callback:te,priorityLevel:H,startTime:re,expirationTime:V,sortIndex:-1},re>j?(H.sortIndex=re,e(p,H),t(f)===null&&H===t(p)&&(A?(D(R),R=-1):A=!0,ge(q,re-j))):(H.sortIndex=V,e(f,H),S||I||(S=!0,fe(J))),H},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(H){var te=T;return function(){var re=T;T=te;try{return H.apply(this,arguments)}finally{T=re}}}}(Tm)),Tm}var t0;function X1(){return t0||(t0=1,Em.exports=Q1()),Em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function J1(){if(n0)return Dn;n0=1;var n=eh(),e=X1();function t(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,s){l(o,s),l(o+"Capture",s)}function l(o,s){for(i[o]=s,o=0;o<s.length;o++)r.add(s[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function T(o){return f.call(g,o)?!0:f.call(y,o)?!1:p.test(o)?g[o]=!0:(y[o]=!0,!1)}function I(o,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,s,u,h){if(s===null||typeof s>"u"||I(o,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function A(o,s,u,h,m,w,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=o,this.type=s,this.sanitizeURL=w,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new A(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];b[s]=new A(s,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new A(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new A(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new A(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new A(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new A(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new A(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new A(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function z(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(D,z);b[s]=new A(s,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(D,z);b[s]=new A(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(D,z);b[s]=new A(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new A(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new A(o,1,!1,o.toLowerCase(),null,!0,!0)});function U(o,s,u,h){var m=b.hasOwnProperty(s)?b[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,u,m,h)&&(u=null),h||m===null?T(s)&&(u===null?o.removeAttribute(s):o.setAttribute(s,""+u)):m.mustUseProperty?o[m.propertyName]=u===null?m.type===3?!1:"":u:(s=m.attributeName,h=m.attributeNamespace,u===null?o.removeAttribute(s):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?o.setAttributeNS(h,s,u):o.setAttribute(s,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),ee=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),H=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var re=Object.assign,j;function V(o){if(j===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+o}var X=!1;function se(o,s){if(!o||X)return"";X=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var h=Q}Reflect.construct(o,[],s)}else{try{s.call()}catch(Q){h=Q}o.call(s.prototype)}else{try{throw Error()}catch(Q){h=Q}o()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),w=h.stack.split(`
`),C=m.length-1,L=w.length-1;1<=C&&0<=L&&m[C]!==w[L];)L--;for(;1<=C&&0<=L;C--,L--)if(m[C]!==w[L]){if(C!==1||L!==1)do if(C--,L--,0>L||m[C]!==w[L]){var $=`
`+m[C].replace(" at new "," at ");return o.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",o.displayName)),$}while(1<=C&&0<=L);break}}}finally{X=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?V(o):""}function ie(o){switch(o.tag){case 5:return V(o.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return o=se(o.type,!1),o;case 11:return o=se(o.type.render,!1),o;case 1:return o=se(o.type,!0),o;default:return""}}function ue(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case ee:return"Portal";case N:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case Re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case B:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Se:return s=o.displayName||null,s!==null?s:ue(o.type)||"Memo";case fe:s=o._payload,o=o._init;try{return ue(o(s))}catch{}}return null}function he(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function _e(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $e(o){var s=_e(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),h=""+o[s];if(!o.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,w=u.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return m.call(this)},set:function(C){h=""+C,w.call(this,C)}}),Object.defineProperty(o,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function $t(o){o._valueTracker||(o._valueTracker=$e(o))}function Gt(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return o&&(h=_e(o)?o.checked?"true":"false":o.value),o=h,o!==u?(s.setValue(o),!0):!1}function tn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function En(o,s){var u=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??o._wrapperState.initialChecked})}function Jr(o,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=Ce(s.value!=null?s.value:u),o._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Zr(o,s){s=s.checked,s!=null&&U(o,"checked",s,!1)}function Un(o,s){Zr(o,s);var u=Ce(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+u):o.value!==""+u&&(o.value=""+u);else if(h==="submit"||h==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?It(o,s.type,u):s.hasOwnProperty("defaultValue")&&It(o,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function Io(o,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,u||s===o.value||(o.value=s),o.defaultValue=s}u=o.name,u!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,u!==""&&(o.name=u)}function It(o,s,u){(s!=="number"||tn(o.ownerDocument)!==o)&&(u==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+u&&(o.defaultValue=""+u))}var vr=Array.isArray;function wr(o,s,u,h){if(o=o.options,s){s={};for(var m=0;m<u.length;m++)s["$"+u[m]]=!0;for(u=0;u<o.length;u++)m=s.hasOwnProperty("$"+o[u].value),o[u].selected!==m&&(o[u].selected=m),m&&h&&(o[u].defaultSelected=!0)}else{for(u=""+Ce(u),s=null,m=0;m<o.length;m++){if(o[m].value===u){o[m].selected=!0,h&&(o[m].defaultSelected=!0);return}s!==null||o[m].disabled||(s=o[m])}s!==null&&(s.selected=!0)}}function Dt(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function $n(o,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(vr(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}o._wrapperState={initialValue:Ce(u)}}function ai(o,s){var u=Ce(s.value),h=Ce(s.defaultValue);u!=null&&(u=""+u,u!==o.value&&(o.value=u),s.defaultValue==null&&o.defaultValue!==u&&(o.defaultValue=u)),h!=null&&(o.defaultValue=""+h)}function cs(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function dt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?dt(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var tr,So=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,m){MSApp.execUnsafeLocalFunction(function(){return o(s,u,h,m)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=tr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function fn(o,s){if(s){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=s;return}}o.textContent=s}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tn=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(o){Tn.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),eo[s]=eo[o]})});function ds(o,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||eo.hasOwnProperty(o)&&eo[o]?(""+s).trim():s+"px"}function fs(o,s){o=o.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=ds(u,s[u],h);u==="float"&&(u="cssFloat"),h?o.setProperty(u,m):o[u]=m}}var li=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ui(o,s){if(s){if(li[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function hs(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _r=null;function hn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ci=null,xn=null,Bn=null;function bo(o){if(o=au(o)){if(typeof ci!="function")throw Error(t(280));var s=o.stateNode;s&&(s=Zc(s),ci(o.stateNode,o.type,s))}}function De(o){xn?Bn?Bn.push(o):Bn=[o]:xn=o}function ft(){if(xn){var o=xn,s=Bn;if(Bn=xn=null,bo(o),s)for(o=0;o<s.length;o++)bo(s[o])}}function ht(o,s){return o(s)}function Ot(){}var In=!1;function yt(o,s,u){if(In)return o(s,u);In=!0;try{return ht(o,s,u)}finally{In=!1,(xn!==null||Bn!==null)&&(Ot(),ft())}}function Ke(o,s){var u=o.stateNode;if(u===null)return null;var h=Zc(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var Er=!1;if(c)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){Er=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Er=!1}function Mt(o,s,u,h,m,w,C,L,$){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(u,Q)}catch(le){this.onError(le)}}var to=!1,Sn=null,nr=!1,$l=null,qh={onError:function(o){to=!0,Sn=o}};function fa(o,s,u,h,m,w,C,L,$){to=!1,Sn=null,Mt.apply(qh,arguments)}function Ic(o,s,u,h,m,w,C,L,$){if(fa.apply(this,arguments),to){if(to){var Q=Sn;to=!1,Sn=null}else throw Error(t(198));nr||(nr=!0,$l=Q)}}function Tr(o){var s=o,u=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(u=s.return),o=s.return;while(o)}return s.tag===3?u:null}function ps(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function xr(o){if(Tr(o)!==o)throw Error(t(188))}function Sc(o){var s=o.alternate;if(!s){if(s=Tr(o),s===null)throw Error(t(188));return s!==o?null:o}for(var u=o,h=s;;){var m=u.return;if(m===null)break;var w=m.alternate;if(w===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===u)return xr(m),o;if(w===h)return xr(m),s;w=w.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=w;else{for(var C=!1,L=m.child;L;){if(L===u){C=!0,u=m,h=w;break}if(L===h){C=!0,h=m,u=w;break}L=L.sibling}if(!C){for(L=w.child;L;){if(L===u){C=!0,u=w,h=m;break}if(L===h){C=!0,h=w,u=m;break}L=L.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?o:s}function Bl(o){return o=Sc(o),o!==null?ha(o):null}function ha(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=ha(o);if(s!==null)return s;o=o.sibling}return null}var pa=e.unstable_scheduleCallback,zl=e.unstable_cancelCallback,bc=e.unstable_shouldYield,Gh=e.unstable_requestPaint,it=e.unstable_now,Cc=e.unstable_getCurrentPriorityLevel,ms=e.unstable_ImmediatePriority,di=e.unstable_UserBlockingPriority,rr=e.unstable_NormalPriority,Wl=e.unstable_LowPriority,Ac=e.unstable_IdlePriority,gs=null,zn=null;function Rc(o){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(gs,o,void 0,(o.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:kc,Hl=Math.log,Pc=Math.LN2;function kc(o){return o>>>=0,o===0?32:31-(Hl(o)/Pc|0)|0}var ma=64,ga=4194304;function fi(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ys(o,s){var u=o.pendingLanes;if(u===0)return 0;var h=0,m=o.suspendedLanes,w=o.pingedLanes,C=u&268435455;if(C!==0){var L=C&~m;L!==0?h=fi(L):(w&=C,w!==0&&(h=fi(w)))}else C=u&~m,C!==0?h=fi(C):w!==0&&(h=fi(w));if(h===0)return 0;if(s!==0&&s!==h&&(s&m)===0&&(m=h&-h,w=s&-s,m>=w||m===16&&(w&4194240)!==0))return s;if((h&4)!==0&&(h|=u&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=h;0<s;)u=31-pn(s),m=1<<u,h|=o[u],s&=~m;return h}function Kh(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(o,s){for(var u=o.suspendedLanes,h=o.pingedLanes,m=o.expirationTimes,w=o.pendingLanes;0<w;){var C=31-pn(w),L=1<<C,$=m[C];$===-1?((L&u)===0||(L&h)!==0)&&(m[C]=Kh(L,s)):$<=s&&(o.expiredLanes|=L),w&=~L}}function Wn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function vs(){var o=ma;return ma<<=1,(ma&4194240)===0&&(ma=64),o}function hi(o){for(var s=[],u=0;31>u;u++)s.push(o);return s}function pi(o,s,u){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-pn(s),o[s]=u}function ot(o,s){var u=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var h=o.eventTimes;for(o=o.expirationTimes;0<u;){var m=31-pn(u),w=1<<m;s[m]=0,h[m]=-1,o[m]=-1,u&=~w}}function mi(o,s){var u=o.entangledLanes|=s;for(o=o.entanglements;u;){var h=31-pn(u),m=1<<h;m&s|o[h]&s&&(o[h]|=s),u&=~m}}var Ge=0;function gi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Nc,ya,Dc,Oc,Mc,ql=!1,no=[],Kt=null,Ir=null,Sr=null,yi=new Map,or=new Map,ro=[],Yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(o,s){switch(o){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":yi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":or.delete(s.pointerId)}}function bn(o,s,u,h,m,w){return o===null||o.nativeEvent!==w?(o={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[m]},s!==null&&(s=au(s),s!==null&&ya(s)),o):(o.eventSystemFlags|=h,s=o.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),o)}function Qh(o,s,u,h,m){switch(s){case"focusin":return Kt=bn(Kt,o,s,u,h,m),!0;case"dragenter":return Ir=bn(Ir,o,s,u,h,m),!0;case"mouseover":return Sr=bn(Sr,o,s,u,h,m),!0;case"pointerover":var w=m.pointerId;return yi.set(w,bn(yi.get(w)||null,o,s,u,h,m)),!0;case"gotpointercapture":return w=m.pointerId,or.set(w,bn(or.get(w)||null,o,s,u,h,m)),!0}return!1}function Vc(o){var s=xs(o.target);if(s!==null){var u=Tr(s);if(u!==null){if(s=u.tag,s===13){if(s=ps(u),s!==null){o.blockedOn=s,Mc(o.priority,function(){Dc(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ao(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var u=va(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(u===null){u=o.nativeEvent;var h=new u.constructor(u.type,u);_r=h,u.target.dispatchEvent(h),_r=null}else return s=au(u),s!==null&&ya(s),o.blockedOn=u,!1;s.shift()}return!0}function ws(o,s,u){Ao(o)&&u.delete(s)}function Fc(){ql=!1,Kt!==null&&Ao(Kt)&&(Kt=null),Ir!==null&&Ao(Ir)&&(Ir=null),Sr!==null&&Ao(Sr)&&(Sr=null),yi.forEach(ws),or.forEach(ws)}function br(o,s){o.blockedOn===s&&(o.blockedOn=null,ql||(ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fc)))}function Cr(o){function s(m){return br(m,o)}if(0<no.length){br(no[0],o);for(var u=1;u<no.length;u++){var h=no[u];h.blockedOn===o&&(h.blockedOn=null)}}for(Kt!==null&&br(Kt,o),Ir!==null&&br(Ir,o),Sr!==null&&br(Sr,o),yi.forEach(s),or.forEach(s),u=0;u<ro.length;u++)h=ro[u],h.blockedOn===o&&(h.blockedOn=null);for(;0<ro.length&&(u=ro[0],u.blockedOn===null);)Vc(u),u.blockedOn===null&&ro.shift()}var Ro=q.ReactCurrentBatchConfig,vi=!0;function pt(o,s,u,h){var m=Ge,w=Ro.transition;Ro.transition=null;try{Ge=1,Gl(o,s,u,h)}finally{Ge=m,Ro.transition=w}}function Xh(o,s,u,h){var m=Ge,w=Ro.transition;Ro.transition=null;try{Ge=4,Gl(o,s,u,h)}finally{Ge=m,Ro.transition=w}}function Gl(o,s,u,h){if(vi){var m=va(o,s,u,h);if(m===null)lp(o,s,h,_s,u),Lc(o,h);else if(Qh(m,o,s,u,h))h.stopPropagation();else if(Lc(o,h),s&4&&-1<Yh.indexOf(o)){for(;m!==null;){var w=au(m);if(w!==null&&Nc(w),w=va(o,s,u,h),w===null&&lp(o,s,h,_s,u),w===m)break;m=w}m!==null&&h.stopPropagation()}else lp(o,s,h,null,u)}}var _s=null;function va(o,s,u,h){if(_s=null,o=hn(h),o=xs(o),o!==null)if(s=Tr(o),s===null)o=null;else if(u=s.tag,u===13){if(o=ps(s),o!==null)return o;o=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return _s=o,null}function Kl(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cc()){case ms:return 1;case di:return 4;case rr:case Wl:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var Hn=null,wa=null,Cn=null;function Yl(){if(Cn)return Cn;var o,s=wa,u=s.length,h,m="value"in Hn?Hn.value:Hn.textContent,w=m.length;for(o=0;o<u&&s[o]===m[o];o++);var C=u-o;for(h=1;h<=C&&s[u-h]===m[w-h];h++);return Cn=m.slice(o,1<h?1-h:void 0)}function _a(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function oo(){return!0}function Ql(){return!1}function Yt(o){function s(u,h,m,w,C){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(u=o[L],this[L]=u?u(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?oo:Ql,this.isPropagationStopped=Ql,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),s}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Yt(Ar),io=re({},Ar,{view:0,detail:0}),Jh=Yt(io),Ta,Po,wi,Es=re({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==wi&&(wi&&o.type==="mousemove"?(Ta=o.screenX-wi.screenX,Po=o.screenY-wi.screenY):Po=Ta=0,wi=o),Ta)},movementY:function(o){return"movementY"in o?o.movementY:Po}}),xa=Yt(Es),Xl=re({},Es,{dataTransfer:0}),jc=Yt(Xl),Ia=re({},io,{relatedTarget:0}),Sa=Yt(Ia),Uc=re({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),ko=Yt(Uc),$c=re({},Ar,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Bc=Yt($c),zc=re({},Ar,{data:0}),Jl=Yt(zc),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Wc[o])?!!s[o]:!1}function so(){return Hc}var d=re({},io,{key:function(o){if(o.key){var s=ba[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=_a(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(o){return o.type==="keypress"?_a(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_a(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),v=Yt(d),x=re({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Yt(x),G=re({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),Z=Yt(G),me=re({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),nt=Yt(me),Lt=re({},Es,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=Yt(Lt),Bt=[9,13,27,32],At=c&&"CompositionEvent"in window,ir=null;c&&"documentMode"in document&&(ir=document.documentMode);var qn=c&&"TextEvent"in window&&!ir,Ts=c&&(!At||ir&&8<ir&&11>=ir),Ca=" ",zv=!1;function Wv(o,s){switch(o){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Aa=!1;function $R(o,s){switch(o){case"compositionend":return Hv(s);case"keypress":return s.which!==32?null:(zv=!0,Ca);case"textInput":return o=s.data,o===Ca&&zv?null:o;default:return null}}function BR(o,s){if(Aa)return o==="compositionend"||!At&&Wv(o,s)?(o=Yl(),Cn=wa=Hn=null,Aa=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ts&&s.locale!=="ko"?null:s.data;default:return null}}var zR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qv(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!zR[o.type]:s==="textarea"}function Gv(o,s,u,h){De(h),s=Qc(s,"onChange"),0<s.length&&(u=new Ea("onChange","change",null,u,h),o.push({event:u,listeners:s}))}var Zl=null,eu=null;function WR(o){dw(o,0)}function qc(o){var s=Da(o);if(Gt(s))return o}function HR(o,s){if(o==="change")return s}var Kv=!1;if(c){var Zh;if(c){var ep="oninput"in document;if(!ep){var Yv=document.createElement("div");Yv.setAttribute("oninput","return;"),ep=typeof Yv.oninput=="function"}Zh=ep}else Zh=!1;Kv=Zh&&(!document.documentMode||9<document.documentMode)}function Qv(){Zl&&(Zl.detachEvent("onpropertychange",Xv),eu=Zl=null)}function Xv(o){if(o.propertyName==="value"&&qc(eu)){var s=[];Gv(s,eu,o,hn(o)),yt(WR,s)}}function qR(o,s,u){o==="focusin"?(Qv(),Zl=s,eu=u,Zl.attachEvent("onpropertychange",Xv)):o==="focusout"&&Qv()}function GR(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return qc(eu)}function KR(o,s){if(o==="click")return qc(s)}function YR(o,s){if(o==="input"||o==="change")return qc(s)}function QR(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Rr=typeof Object.is=="function"?Object.is:QR;function tu(o,s){if(Rr(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var u=Object.keys(o),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(s,m)||!Rr(o[m],s[m]))return!1}return!0}function Jv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Zv(o,s){var u=Jv(o);o=0;for(var h;u;){if(u.nodeType===3){if(h=o+u.textContent.length,o<=s&&h>=s)return{node:u,offset:s-o};o=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Jv(u)}}function ew(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?ew(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function tw(){for(var o=window,s=tn();s instanceof o.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)o=s.contentWindow;else break;s=tn(o.document)}return s}function tp(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function XR(o){var s=tw(),u=o.focusedElem,h=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&ew(u.ownerDocument.documentElement,u)){if(h!==null&&tp(u)){if(s=h.start,o=h.end,o===void 0&&(o=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(o,u.value.length);else if(o=(s=u.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var m=u.textContent.length,w=Math.min(h.start,m);h=h.end===void 0?w:Math.min(h.end,m),!o.extend&&w>h&&(m=h,h=w,w=m),m=Zv(u,w);var C=Zv(u,h);m&&C&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==C.node||o.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),o.removeAllRanges(),w>h?(o.addRange(s),o.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),o.addRange(s)))}}for(s=[],o=u;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)o=s[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var JR=c&&"documentMode"in document&&11>=document.documentMode,Ra=null,np=null,nu=null,rp=!1;function nw(o,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;rp||Ra==null||Ra!==tn(h)||(h=Ra,"selectionStart"in h&&tp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),nu&&tu(nu,h)||(nu=h,h=Qc(np,"onSelect"),0<h.length&&(s=new Ea("onSelect","select",null,s,u),o.push({event:s,listeners:h}),s.target=Ra)))}function Gc(o,s){var u={};return u[o.toLowerCase()]=s.toLowerCase(),u["Webkit"+o]="webkit"+s,u["Moz"+o]="moz"+s,u}var Pa={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},op={},rw={};c&&(rw=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Kc(o){if(op[o])return op[o];if(!Pa[o])return o;var s=Pa[o],u;for(u in s)if(s.hasOwnProperty(u)&&u in rw)return op[o]=s[u];return o}var ow=Kc("animationend"),iw=Kc("animationiteration"),sw=Kc("animationstart"),aw=Kc("transitionend"),lw=new Map,uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(o,s){lw.set(o,s),a(s,[o])}for(var ip=0;ip<uw.length;ip++){var sp=uw[ip],ZR=sp.toLowerCase(),e1=sp[0].toUpperCase()+sp.slice(1);_i(ZR,"on"+e1)}_i(ow,"onAnimationEnd"),_i(iw,"onAnimationIteration"),_i(sw,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(aw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function cw(o,s,u){var h=o.type||"unknown-event";o.currentTarget=u,Ic(h,s,void 0,o),o.currentTarget=null}function dw(o,s){s=(s&4)!==0;for(var u=0;u<o.length;u++){var h=o[u],m=h.event;h=h.listeners;e:{var w=void 0;if(s)for(var C=h.length-1;0<=C;C--){var L=h[C],$=L.instance,Q=L.currentTarget;if(L=L.listener,$!==w&&m.isPropagationStopped())break e;cw(m,L,Q),w=$}else for(C=0;C<h.length;C++){if(L=h[C],$=L.instance,Q=L.currentTarget,L=L.listener,$!==w&&m.isPropagationStopped())break e;cw(m,L,Q),w=$}}}if(nr)throw o=$l,nr=!1,$l=null,o}function lt(o,s){var u=s[pp];u===void 0&&(u=s[pp]=new Set);var h=o+"__bubble";u.has(h)||(fw(s,o,2,!1),u.add(h))}function ap(o,s,u){var h=0;s&&(h|=4),fw(u,o,h,s)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function ou(o){if(!o[Yc]){o[Yc]=!0,r.forEach(function(u){u!=="selectionchange"&&(t1.has(u)||ap(u,!1,o),ap(u,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Yc]||(s[Yc]=!0,ap("selectionchange",!1,s))}}function fw(o,s,u,h){switch(Kl(s)){case 1:var m=pt;break;case 4:m=Xh;break;default:m=Gl}u=m.bind(null,s,u,o),m=void 0,!Er||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?o.addEventListener(s,u,{capture:!0,passive:m}):o.addEventListener(s,u,!0):m!==void 0?o.addEventListener(s,u,{passive:m}):o.addEventListener(s,u,!1)}function lp(o,s,u,h,m){var w=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var L=h.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(C===4)for(C=h.return;C!==null;){var $=C.tag;if(($===3||$===4)&&($=C.stateNode.containerInfo,$===m||$.nodeType===8&&$.parentNode===m))return;C=C.return}for(;L!==null;){if(C=xs(L),C===null)return;if($=C.tag,$===5||$===6){h=w=C;continue e}L=L.parentNode}}h=h.return}yt(function(){var Q=w,le=hn(u),ce=[];e:{var ae=lw.get(o);if(ae!==void 0){var ye=Ea,Te=o;switch(o){case"keypress":if(_a(u)===0)break e;case"keydown":case"keyup":ye=v;break;case"focusin":Te="focus",ye=Sa;break;case"focusout":Te="blur",ye=Sa;break;case"beforeblur":case"afterblur":ye=Sa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Z;break;case ow:case iw:case sw:ye=ko;break;case aw:ye=nt;break;case"scroll":ye=Jh;break;case"wheel":ye=Ye;break;case"copy":case"cut":case"paste":ye=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=P}var be=(s&4)!==0,bt=!be&&o==="scroll",K=be?ae!==null?ae+"Capture":null:ae;be=[];for(var W=Q,Y;W!==null;){Y=W;var pe=Y.stateNode;if(Y.tag===5&&pe!==null&&(Y=pe,K!==null&&(pe=Ke(W,K),pe!=null&&be.push(iu(W,pe,Y)))),bt)break;W=W.return}0<be.length&&(ae=new ye(ae,Te,null,u,le),ce.push({event:ae,listeners:be}))}}if((s&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",ae&&u!==_r&&(Te=u.relatedTarget||u.fromElement)&&(xs(Te)||Te[No]))break e;if((ye||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,ye?(Te=u.relatedTarget||u.toElement,ye=Q,Te=Te?xs(Te):null,Te!==null&&(bt=Tr(Te),Te!==bt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ye=null,Te=Q),ye!==Te)){if(be=xa,pe="onMouseLeave",K="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(be=P,pe="onPointerLeave",K="onPointerEnter",W="pointer"),bt=ye==null?ae:Da(ye),Y=Te==null?ae:Da(Te),ae=new be(pe,W+"leave",ye,u,le),ae.target=bt,ae.relatedTarget=Y,pe=null,xs(le)===Q&&(be=new be(K,W+"enter",Te,u,le),be.target=Y,be.relatedTarget=bt,pe=be),bt=pe,ye&&Te)t:{for(be=ye,K=Te,W=0,Y=be;Y;Y=ka(Y))W++;for(Y=0,pe=K;pe;pe=ka(pe))Y++;for(;0<W-Y;)be=ka(be),W--;for(;0<Y-W;)K=ka(K),Y--;for(;W--;){if(be===K||K!==null&&be===K.alternate)break t;be=ka(be),K=ka(K)}be=null}else be=null;ye!==null&&hw(ce,ae,ye,be,!1),Te!==null&&bt!==null&&hw(ce,bt,Te,be,!0)}}e:{if(ae=Q?Da(Q):window,ye=ae.nodeName&&ae.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ae.type==="file")var Ae=HR;else if(qv(ae))if(Kv)Ae=YR;else{Ae=GR;var ke=qR}else(ye=ae.nodeName)&&ye.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ae=KR);if(Ae&&(Ae=Ae(o,Q))){Gv(ce,Ae,u,le);break e}ke&&ke(o,ae,Q),o==="focusout"&&(ke=ae._wrapperState)&&ke.controlled&&ae.type==="number"&&It(ae,"number",ae.value)}switch(ke=Q?Da(Q):window,o){case"focusin":(qv(ke)||ke.contentEditable==="true")&&(Ra=ke,np=Q,nu=null);break;case"focusout":nu=np=Ra=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,nw(ce,u,le);break;case"selectionchange":if(JR)break;case"keydown":case"keyup":nw(ce,u,le)}var Ne;if(At)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Aa?Wv(o,u)&&(Ve="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ts&&u.locale!=="ko"&&(Aa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Aa&&(Ne=Yl()):(Hn=le,wa="value"in Hn?Hn.value:Hn.textContent,Aa=!0)),ke=Qc(Q,Ve),0<ke.length&&(Ve=new Jl(Ve,o,null,u,le),ce.push({event:Ve,listeners:ke}),Ne?Ve.data=Ne:(Ne=Hv(u),Ne!==null&&(Ve.data=Ne)))),(Ne=qn?$R(o,u):BR(o,u))&&(Q=Qc(Q,"onBeforeInput"),0<Q.length&&(le=new Jl("onBeforeInput","beforeinput",null,u,le),ce.push({event:le,listeners:Q}),le.data=Ne))}dw(ce,s)})}function iu(o,s,u){return{instance:o,listener:s,currentTarget:u}}function Qc(o,s){for(var u=s+"Capture",h=[];o!==null;){var m=o,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=Ke(o,u),w!=null&&h.unshift(iu(o,w,m)),w=Ke(o,s),w!=null&&h.push(iu(o,w,m))),o=o.return}return h}function ka(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function hw(o,s,u,h,m){for(var w=s._reactName,C=[];u!==null&&u!==h;){var L=u,$=L.alternate,Q=L.stateNode;if($!==null&&$===h)break;L.tag===5&&Q!==null&&(L=Q,m?($=Ke(u,w),$!=null&&C.unshift(iu(u,$,L))):m||($=Ke(u,w),$!=null&&C.push(iu(u,$,L)))),u=u.return}C.length!==0&&o.push({event:s,listeners:C})}var n1=/\r\n?/g,r1=/\u0000|\uFFFD/g;function pw(o){return(typeof o=="string"?o:""+o).replace(n1,`
`).replace(r1,"")}function Xc(o,s,u){if(s=pw(s),pw(o)!==s&&u)throw Error(t(425))}function Jc(){}var up=null,cp=null;function dp(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(o){return mw.resolve(null).then(o).catch(s1)}:fp;function s1(o){setTimeout(function(){throw o})}function hp(o,s){var u=s,h=0;do{var m=u.nextSibling;if(o.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){o.removeChild(m),Cr(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);Cr(s)}function Ei(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function gw(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return o;s--}else u==="/$"&&s++}o=o.previousSibling}return null}var Na=Math.random().toString(36).slice(2),ao="__reactFiber$"+Na,su="__reactProps$"+Na,No="__reactContainer$"+Na,pp="__reactEvents$"+Na,a1="__reactListeners$"+Na,l1="__reactHandles$"+Na;function xs(o){var s=o[ao];if(s)return s;for(var u=o.parentNode;u;){if(s=u[No]||u[ao]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(o=gw(o);o!==null;){if(u=o[ao])return u;o=gw(o)}return s}o=u,u=o.parentNode}return null}function au(o){return o=o[ao]||o[No],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Da(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Zc(o){return o[su]||null}var mp=[],Oa=-1;function Ti(o){return{current:o}}function ut(o){0>Oa||(o.current=mp[Oa],mp[Oa]=null,Oa--)}function st(o,s){Oa++,mp[Oa]=o.current,o.current=s}var xi={},nn=Ti(xi),An=Ti(!1),Is=xi;function Ma(o,s){var u=o.type.contextTypes;if(!u)return xi;var h=o.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in u)m[w]=s[w];return h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=m),m}function Rn(o){return o=o.childContextTypes,o!=null}function ed(){ut(An),ut(nn)}function yw(o,s,u){if(nn.current!==xi)throw Error(t(168));st(nn,s),st(An,u)}function vw(o,s,u){var h=o.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(t(108,he(o)||"Unknown",m));return re({},u,h)}function td(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||xi,Is=nn.current,st(nn,o),st(An,An.current),!0}function ww(o,s,u){var h=o.stateNode;if(!h)throw Error(t(169));u?(o=vw(o,s,Is),h.__reactInternalMemoizedMergedChildContext=o,ut(An),ut(nn),st(nn,o)):ut(An),st(An,u)}var Do=null,nd=!1,gp=!1;function _w(o){Do===null?Do=[o]:Do.push(o)}function u1(o){nd=!0,_w(o)}function Ii(){if(!gp&&Do!==null){gp=!0;var o=0,s=Ge;try{var u=Do;for(Ge=1;o<u.length;o++){var h=u[o];do h=h(!0);while(h!==null)}Do=null,nd=!1}catch(m){throw Do!==null&&(Do=Do.slice(o+1)),pa(ms,Ii),m}finally{Ge=s,gp=!1}}return null}var La=[],Va=0,rd=null,od=0,sr=[],ar=0,Ss=null,Oo=1,Mo="";function bs(o,s){La[Va++]=od,La[Va++]=rd,rd=o,od=s}function Ew(o,s,u){sr[ar++]=Oo,sr[ar++]=Mo,sr[ar++]=Ss,Ss=o;var h=Oo;o=Mo;var m=32-pn(h)-1;h&=~(1<<m),u+=1;var w=32-pn(s)+m;if(30<w){var C=m-m%5;w=(h&(1<<C)-1).toString(32),h>>=C,m-=C,Oo=1<<32-pn(s)+m|u<<m|h,Mo=w+o}else Oo=1<<w|u<<m|h,Mo=o}function yp(o){o.return!==null&&(bs(o,1),Ew(o,1,0))}function vp(o){for(;o===rd;)rd=La[--Va],La[Va]=null,od=La[--Va],La[Va]=null;for(;o===Ss;)Ss=sr[--ar],sr[ar]=null,Mo=sr[--ar],sr[ar]=null,Oo=sr[--ar],sr[ar]=null}var Gn=null,Kn=null,mt=!1,Pr=null;function Tw(o,s){var u=dr(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=o,s=o.deletions,s===null?(o.deletions=[u],o.flags|=16):s.push(u)}function xw(o,s){switch(o.tag){case 5:var u=o.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,Gn=o,Kn=Ei(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,Gn=o,Kn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Ss!==null?{id:Oo,overflow:Mo}:null,o.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=dr(18,null,null,0),u.stateNode=s,u.return=o,o.child=u,Gn=o,Kn=null,!0):!1;default:return!1}}function wp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function _p(o){if(mt){var s=Kn;if(s){var u=s;if(!xw(o,s)){if(wp(o))throw Error(t(418));s=Ei(u.nextSibling);var h=Gn;s&&xw(o,s)?Tw(h,u):(o.flags=o.flags&-4097|2,mt=!1,Gn=o)}}else{if(wp(o))throw Error(t(418));o.flags=o.flags&-4097|2,mt=!1,Gn=o}}}function Iw(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Gn=o}function id(o){if(o!==Gn)return!1;if(!mt)return Iw(o),mt=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!dp(o.type,o.memoizedProps)),s&&(s=Kn)){if(wp(o))throw Sw(),Error(t(418));for(;s;)Tw(o,s),s=Ei(s.nextSibling)}if(Iw(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"){if(s===0){Kn=Ei(o.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}o=o.nextSibling}Kn=null}}else Kn=Gn?Ei(o.stateNode.nextSibling):null;return!0}function Sw(){for(var o=Kn;o;)o=Ei(o.nextSibling)}function Fa(){Kn=Gn=null,mt=!1}function Ep(o){Pr===null?Pr=[o]:Pr.push(o)}var c1=q.ReactCurrentBatchConfig;function lu(o,s,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,o));var m=h,w=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===w?s.ref:(s=function(C){var L=m.refs;C===null?delete L[w]:L[w]=C},s._stringRef=w,s)}if(typeof o!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,o))}return o}function sd(o,s){throw o=Object.prototype.toString.call(s),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function bw(o){var s=o._init;return s(o._payload)}function Cw(o){function s(K,W){if(o){var Y=K.deletions;Y===null?(K.deletions=[W],K.flags|=16):Y.push(W)}}function u(K,W){if(!o)return null;for(;W!==null;)s(K,W),W=W.sibling;return null}function h(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function m(K,W){return K=Ni(K,W),K.index=0,K.sibling=null,K}function w(K,W,Y){return K.index=Y,o?(Y=K.alternate,Y!==null?(Y=Y.index,Y<W?(K.flags|=2,W):Y):(K.flags|=2,W)):(K.flags|=1048576,W)}function C(K){return o&&K.alternate===null&&(K.flags|=2),K}function L(K,W,Y,pe){return W===null||W.tag!==6?(W=fm(Y,K.mode,pe),W.return=K,W):(W=m(W,Y),W.return=K,W)}function $(K,W,Y,pe){var Ae=Y.type;return Ae===k?le(K,W,Y.props.children,pe,Y.key):W!==null&&(W.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===fe&&bw(Ae)===W.type)?(pe=m(W,Y.props),pe.ref=lu(K,W,Y),pe.return=K,pe):(pe=Pd(Y.type,Y.key,Y.props,null,K.mode,pe),pe.ref=lu(K,W,Y),pe.return=K,pe)}function Q(K,W,Y,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=hm(Y,K.mode,pe),W.return=K,W):(W=m(W,Y.children||[]),W.return=K,W)}function le(K,W,Y,pe,Ae){return W===null||W.tag!==7?(W=Os(Y,K.mode,pe,Ae),W.return=K,W):(W=m(W,Y),W.return=K,W)}function ce(K,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=fm(""+W,K.mode,Y),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case J:return Y=Pd(W.type,W.key,W.props,null,K.mode,Y),Y.ref=lu(K,null,W),Y.return=K,Y;case ee:return W=hm(W,K.mode,Y),W.return=K,W;case fe:var pe=W._init;return ce(K,pe(W._payload),Y)}if(vr(W)||te(W))return W=Os(W,K.mode,Y,null),W.return=K,W;sd(K,W)}return null}function ae(K,W,Y,pe){var Ae=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ae!==null?null:L(K,W,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case J:return Y.key===Ae?$(K,W,Y,pe):null;case ee:return Y.key===Ae?Q(K,W,Y,pe):null;case fe:return Ae=Y._init,ae(K,W,Ae(Y._payload),pe)}if(vr(Y)||te(Y))return Ae!==null?null:le(K,W,Y,pe,null);sd(K,Y)}return null}function ye(K,W,Y,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return K=K.get(Y)||null,L(W,K,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case J:return K=K.get(pe.key===null?Y:pe.key)||null,$(W,K,pe,Ae);case ee:return K=K.get(pe.key===null?Y:pe.key)||null,Q(W,K,pe,Ae);case fe:var ke=pe._init;return ye(K,W,Y,ke(pe._payload),Ae)}if(vr(pe)||te(pe))return K=K.get(Y)||null,le(W,K,pe,Ae,null);sd(W,pe)}return null}function Te(K,W,Y,pe){for(var Ae=null,ke=null,Ne=W,Ve=W=0,Ht=null;Ne!==null&&Ve<Y.length;Ve++){Ne.index>Ve?(Ht=Ne,Ne=null):Ht=Ne.sibling;var Je=ae(K,Ne,Y[Ve],pe);if(Je===null){Ne===null&&(Ne=Ht);break}o&&Ne&&Je.alternate===null&&s(K,Ne),W=w(Je,W,Ve),ke===null?Ae=Je:ke.sibling=Je,ke=Je,Ne=Ht}if(Ve===Y.length)return u(K,Ne),mt&&bs(K,Ve),Ae;if(Ne===null){for(;Ve<Y.length;Ve++)Ne=ce(K,Y[Ve],pe),Ne!==null&&(W=w(Ne,W,Ve),ke===null?Ae=Ne:ke.sibling=Ne,ke=Ne);return mt&&bs(K,Ve),Ae}for(Ne=h(K,Ne);Ve<Y.length;Ve++)Ht=ye(Ne,K,Ve,Y[Ve],pe),Ht!==null&&(o&&Ht.alternate!==null&&Ne.delete(Ht.key===null?Ve:Ht.key),W=w(Ht,W,Ve),ke===null?Ae=Ht:ke.sibling=Ht,ke=Ht);return o&&Ne.forEach(function(Di){return s(K,Di)}),mt&&bs(K,Ve),Ae}function be(K,W,Y,pe){var Ae=te(Y);if(typeof Ae!="function")throw Error(t(150));if(Y=Ae.call(Y),Y==null)throw Error(t(151));for(var ke=Ae=null,Ne=W,Ve=W=0,Ht=null,Je=Y.next();Ne!==null&&!Je.done;Ve++,Je=Y.next()){Ne.index>Ve?(Ht=Ne,Ne=null):Ht=Ne.sibling;var Di=ae(K,Ne,Je.value,pe);if(Di===null){Ne===null&&(Ne=Ht);break}o&&Ne&&Di.alternate===null&&s(K,Ne),W=w(Di,W,Ve),ke===null?Ae=Di:ke.sibling=Di,ke=Di,Ne=Ht}if(Je.done)return u(K,Ne),mt&&bs(K,Ve),Ae;if(Ne===null){for(;!Je.done;Ve++,Je=Y.next())Je=ce(K,Je.value,pe),Je!==null&&(W=w(Je,W,Ve),ke===null?Ae=Je:ke.sibling=Je,ke=Je);return mt&&bs(K,Ve),Ae}for(Ne=h(K,Ne);!Je.done;Ve++,Je=Y.next())Je=ye(Ne,K,Ve,Je.value,pe),Je!==null&&(o&&Je.alternate!==null&&Ne.delete(Je.key===null?Ve:Je.key),W=w(Je,W,Ve),ke===null?Ae=Je:ke.sibling=Je,ke=Je);return o&&Ne.forEach(function(z1){return s(K,z1)}),mt&&bs(K,Ve),Ae}function bt(K,W,Y,pe){if(typeof Y=="object"&&Y!==null&&Y.type===k&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case J:e:{for(var Ae=Y.key,ke=W;ke!==null;){if(ke.key===Ae){if(Ae=Y.type,Ae===k){if(ke.tag===7){u(K,ke.sibling),W=m(ke,Y.props.children),W.return=K,K=W;break e}}else if(ke.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===fe&&bw(Ae)===ke.type){u(K,ke.sibling),W=m(ke,Y.props),W.ref=lu(K,ke,Y),W.return=K,K=W;break e}u(K,ke);break}else s(K,ke);ke=ke.sibling}Y.type===k?(W=Os(Y.props.children,K.mode,pe,Y.key),W.return=K,K=W):(pe=Pd(Y.type,Y.key,Y.props,null,K.mode,pe),pe.ref=lu(K,W,Y),pe.return=K,K=pe)}return C(K);case ee:e:{for(ke=Y.key;W!==null;){if(W.key===ke)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){u(K,W.sibling),W=m(W,Y.children||[]),W.return=K,K=W;break e}else{u(K,W);break}else s(K,W);W=W.sibling}W=hm(Y,K.mode,pe),W.return=K,K=W}return C(K);case fe:return ke=Y._init,bt(K,W,ke(Y._payload),pe)}if(vr(Y))return Te(K,W,Y,pe);if(te(Y))return be(K,W,Y,pe);sd(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(u(K,W.sibling),W=m(W,Y),W.return=K,K=W):(u(K,W),W=fm(Y,K.mode,pe),W.return=K,K=W),C(K)):u(K,W)}return bt}var ja=Cw(!0),Aw=Cw(!1),ad=Ti(null),ld=null,Ua=null,Tp=null;function xp(){Tp=Ua=ld=null}function Ip(o){var s=ad.current;ut(ad),o._currentValue=s}function Sp(o,s,u){for(;o!==null;){var h=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),o===u)break;o=o.return}}function $a(o,s){ld=o,Tp=Ua=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&s)!==0&&(Pn=!0),o.firstContext=null)}function lr(o){var s=o._currentValue;if(Tp!==o)if(o={context:o,memoizedValue:s,next:null},Ua===null){if(ld===null)throw Error(t(308));Ua=o,ld.dependencies={lanes:0,firstContext:o}}else Ua=Ua.next=o;return s}var Cs=null;function bp(o){Cs===null?Cs=[o]:Cs.push(o)}function Rw(o,s,u,h){var m=s.interleaved;return m===null?(u.next=u,bp(s)):(u.next=m.next,m.next=u),s.interleaved=u,Lo(o,h)}function Lo(o,s){o.lanes|=s;var u=o.alternate;for(u!==null&&(u.lanes|=s),u=o,o=o.return;o!==null;)o.childLanes|=s,u=o.alternate,u!==null&&(u.childLanes|=s),u=o,o=o.return;return u.tag===3?u.stateNode:null}var Si=!1;function Cp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pw(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Vo(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function bi(o,s,u){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,(Xe&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,Lo(o,u)}return m=h.interleaved,m===null?(s.next=s,bp(h)):(s.next=m.next,m.next=s),h.interleaved=s,Lo(o,u)}function ud(o,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=o.pendingLanes,u|=h,s.lanes=u,mi(o,u)}}function kw(o,s){var u=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?m=w=C:w=w.next=C,u=u.next}while(u!==null);w===null?m=w=s:w=w.next=s}else m=w=s;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:h.shared,effects:h.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=s:o.next=s,u.lastBaseUpdate=s}function cd(o,s,u,h){var m=o.updateQueue;Si=!1;var w=m.firstBaseUpdate,C=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var $=L,Q=$.next;$.next=null,C===null?w=Q:C.next=Q,C=$;var le=o.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==C&&(L===null?le.firstBaseUpdate=Q:L.next=Q,le.lastBaseUpdate=$))}if(w!==null){var ce=m.baseState;C=0,le=Q=$=null,L=w;do{var ae=L.lane,ye=L.eventTime;if((h&ae)===ae){le!==null&&(le=le.next={eventTime:ye,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Te=o,be=L;switch(ae=s,ye=u,be.tag){case 1:if(Te=be.payload,typeof Te=="function"){ce=Te.call(ye,ce,ae);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=be.payload,ae=typeof Te=="function"?Te.call(ye,ce,ae):Te,ae==null)break e;ce=re({},ce,ae);break e;case 2:Si=!0}}L.callback!==null&&L.lane!==0&&(o.flags|=64,ae=m.effects,ae===null?m.effects=[L]:ae.push(L))}else ye={eventTime:ye,lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(Q=le=ye,$=ce):le=le.next=ye,C|=ae;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);if(le===null&&($=ce),m.baseState=$,m.firstBaseUpdate=Q,m.lastBaseUpdate=le,s=m.shared.interleaved,s!==null){m=s;do C|=m.lane,m=m.next;while(m!==s)}else w===null&&(m.shared.lanes=0);Ps|=C,o.lanes=C,o.memoizedState=ce}}function Nw(o,s,u){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var h=o[s],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var uu={},lo=Ti(uu),cu=Ti(uu),du=Ti(uu);function As(o){if(o===uu)throw Error(t(174));return o}function Ap(o,s){switch(st(du,s),st(cu,o),st(lo,uu),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:St(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=St(s,o)}ut(lo),st(lo,s)}function Ba(){ut(lo),ut(cu),ut(du)}function Dw(o){As(du.current);var s=As(lo.current),u=St(s,o.type);s!==u&&(st(cu,o),st(lo,u))}function Rp(o){cu.current===o&&(ut(lo),ut(cu))}var wt=Ti(0);function dd(o){for(var s=o;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pp=[];function kp(){for(var o=0;o<Pp.length;o++)Pp[o]._workInProgressVersionPrimary=null;Pp.length=0}var fd=q.ReactCurrentDispatcher,Np=q.ReactCurrentBatchConfig,Rs=0,_t=null,Vt=null,zt=null,hd=!1,fu=!1,hu=0,d1=0;function rn(){throw Error(t(321))}function Dp(o,s){if(s===null)return!1;for(var u=0;u<s.length&&u<o.length;u++)if(!Rr(o[u],s[u]))return!1;return!0}function Op(o,s,u,h,m,w){if(Rs=w,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,fd.current=o===null||o.memoizedState===null?m1:g1,o=u(h,m),fu){w=0;do{if(fu=!1,hu=0,25<=w)throw Error(t(301));w+=1,zt=Vt=null,s.updateQueue=null,fd.current=y1,o=u(h,m)}while(fu)}if(fd.current=gd,s=Vt!==null&&Vt.next!==null,Rs=0,zt=Vt=_t=null,hd=!1,s)throw Error(t(300));return o}function Mp(){var o=hu!==0;return hu=0,o}function uo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?_t.memoizedState=zt=o:zt=zt.next=o,zt}function ur(){if(Vt===null){var o=_t.alternate;o=o!==null?o.memoizedState:null}else o=Vt.next;var s=zt===null?_t.memoizedState:zt.next;if(s!==null)zt=s,Vt=o;else{if(o===null)throw Error(t(310));Vt=o,o={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},zt===null?_t.memoizedState=zt=o:zt=zt.next=o}return zt}function pu(o,s){return typeof s=="function"?s(o):s}function Lp(o){var s=ur(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=o;var h=Vt,m=h.baseQueue,w=u.pending;if(w!==null){if(m!==null){var C=m.next;m.next=w.next,w.next=C}h.baseQueue=m=w,u.pending=null}if(m!==null){w=m.next,h=h.baseState;var L=C=null,$=null,Q=w;do{var le=Q.lane;if((Rs&le)===le)$!==null&&($=$.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:o(h,Q.action);else{var ce={lane:le,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};$===null?(L=$=ce,C=h):$=$.next=ce,_t.lanes|=le,Ps|=le}Q=Q.next}while(Q!==null&&Q!==w);$===null?C=h:$.next=L,Rr(h,s.memoizedState)||(Pn=!0),s.memoizedState=h,s.baseState=C,s.baseQueue=$,u.lastRenderedState=h}if(o=u.interleaved,o!==null){m=o;do w=m.lane,_t.lanes|=w,Ps|=w,m=m.next;while(m!==o)}else m===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Vp(o){var s=ur(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=o;var h=u.dispatch,m=u.pending,w=s.memoizedState;if(m!==null){u.pending=null;var C=m=m.next;do w=o(w,C.action),C=C.next;while(C!==m);Rr(w,s.memoizedState)||(Pn=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),u.lastRenderedState=w}return[w,h]}function Ow(){}function Mw(o,s){var u=_t,h=ur(),m=s(),w=!Rr(h.memoizedState,m);if(w&&(h.memoizedState=m,Pn=!0),h=h.queue,Fp(Fw.bind(null,u,h,o),[o]),h.getSnapshot!==s||w||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,mu(9,Vw.bind(null,u,h,m,s),void 0,null),Wt===null)throw Error(t(349));(Rs&30)!==0||Lw(u,s,m)}return m}function Lw(o,s,u){o.flags|=16384,o={getSnapshot:s,value:u},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.stores=[o]):(u=s.stores,u===null?s.stores=[o]:u.push(o))}function Vw(o,s,u,h){s.value=u,s.getSnapshot=h,jw(s)&&Uw(o)}function Fw(o,s,u){return u(function(){jw(s)&&Uw(o)})}function jw(o){var s=o.getSnapshot;o=o.value;try{var u=s();return!Rr(o,u)}catch{return!0}}function Uw(o){var s=Lo(o,1);s!==null&&Or(s,o,1,-1)}function $w(o){var s=uo();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:o},s.queue=o,o=o.dispatch=p1.bind(null,_t,o),[s.memoizedState,o]}function mu(o,s,u,h){return o={tag:o,create:s,destroy:u,deps:h,next:null},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.lastEffect=o.next=o):(u=s.lastEffect,u===null?s.lastEffect=o.next=o:(h=u.next,u.next=o,o.next=h,s.lastEffect=o)),o}function Bw(){return ur().memoizedState}function pd(o,s,u,h){var m=uo();_t.flags|=o,m.memoizedState=mu(1|s,u,void 0,h===void 0?null:h)}function md(o,s,u,h){var m=ur();h=h===void 0?null:h;var w=void 0;if(Vt!==null){var C=Vt.memoizedState;if(w=C.destroy,h!==null&&Dp(h,C.deps)){m.memoizedState=mu(s,u,w,h);return}}_t.flags|=o,m.memoizedState=mu(1|s,u,w,h)}function zw(o,s){return pd(8390656,8,o,s)}function Fp(o,s){return md(2048,8,o,s)}function Ww(o,s){return md(4,2,o,s)}function Hw(o,s){return md(4,4,o,s)}function qw(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function Gw(o,s,u){return u=u!=null?u.concat([o]):null,md(4,4,qw.bind(null,s,o),u)}function jp(){}function Kw(o,s){var u=ur();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&Dp(s,h[1])?h[0]:(u.memoizedState=[o,s],o)}function Yw(o,s){var u=ur();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&Dp(s,h[1])?h[0]:(o=o(),u.memoizedState=[o,s],o)}function Qw(o,s,u){return(Rs&21)===0?(o.baseState&&(o.baseState=!1,Pn=!0),o.memoizedState=u):(Rr(u,s)||(u=vs(),_t.lanes|=u,Ps|=u,o.baseState=!0),s)}function f1(o,s){var u=Ge;Ge=u!==0&&4>u?u:4,o(!0);var h=Np.transition;Np.transition={};try{o(!1),s()}finally{Ge=u,Np.transition=h}}function Xw(){return ur().memoizedState}function h1(o,s,u){var h=Pi(o);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Jw(o))Zw(s,u);else if(u=Rw(o,s,u,h),u!==null){var m=yn();Or(u,o,h,m),e_(u,s,h)}}function p1(o,s,u){var h=Pi(o),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jw(o))Zw(s,m);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var C=s.lastRenderedState,L=w(C,u);if(m.hasEagerState=!0,m.eagerState=L,Rr(L,C)){var $=s.interleaved;$===null?(m.next=m,bp(s)):(m.next=$.next,$.next=m),s.interleaved=m;return}}catch{}finally{}u=Rw(o,s,m,h),u!==null&&(m=yn(),Or(u,o,h,m),e_(u,s,h))}}function Jw(o){var s=o.alternate;return o===_t||s!==null&&s===_t}function Zw(o,s){fu=hd=!0;var u=o.pending;u===null?s.next=s:(s.next=u.next,u.next=s),o.pending=s}function e_(o,s,u){if((u&4194240)!==0){var h=s.lanes;h&=o.pendingLanes,u|=h,s.lanes=u,mi(o,u)}}var gd={readContext:lr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},m1={readContext:lr,useCallback:function(o,s){return uo().memoizedState=[o,s===void 0?null:s],o},useContext:lr,useEffect:zw,useImperativeHandle:function(o,s,u){return u=u!=null?u.concat([o]):null,pd(4194308,4,qw.bind(null,s,o),u)},useLayoutEffect:function(o,s){return pd(4194308,4,o,s)},useInsertionEffect:function(o,s){return pd(4,2,o,s)},useMemo:function(o,s){var u=uo();return s=s===void 0?null:s,o=o(),u.memoizedState=[o,s],o},useReducer:function(o,s,u){var h=uo();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},h.queue=o,o=o.dispatch=h1.bind(null,_t,o),[h.memoizedState,o]},useRef:function(o){var s=uo();return o={current:o},s.memoizedState=o},useState:$w,useDebugValue:jp,useDeferredValue:function(o){return uo().memoizedState=o},useTransition:function(){var o=$w(!1),s=o[0];return o=f1.bind(null,o[1]),uo().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,u){var h=_t,m=uo();if(mt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),Wt===null)throw Error(t(349));(Rs&30)!==0||Lw(h,s,u)}m.memoizedState=u;var w={value:u,getSnapshot:s};return m.queue=w,zw(Fw.bind(null,h,w,o),[o]),h.flags|=2048,mu(9,Vw.bind(null,h,w,u,s),void 0,null),u},useId:function(){var o=uo(),s=Wt.identifierPrefix;if(mt){var u=Mo,h=Oo;u=(h&~(1<<32-pn(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=hu++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=d1++,s=":"+s+"r"+u.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},g1={readContext:lr,useCallback:Kw,useContext:lr,useEffect:Fp,useImperativeHandle:Gw,useInsertionEffect:Ww,useLayoutEffect:Hw,useMemo:Yw,useReducer:Lp,useRef:Bw,useState:function(){return Lp(pu)},useDebugValue:jp,useDeferredValue:function(o){var s=ur();return Qw(s,Vt.memoizedState,o)},useTransition:function(){var o=Lp(pu)[0],s=ur().memoizedState;return[o,s]},useMutableSource:Ow,useSyncExternalStore:Mw,useId:Xw,unstable_isNewReconciler:!1},y1={readContext:lr,useCallback:Kw,useContext:lr,useEffect:Fp,useImperativeHandle:Gw,useInsertionEffect:Ww,useLayoutEffect:Hw,useMemo:Yw,useReducer:Vp,useRef:Bw,useState:function(){return Vp(pu)},useDebugValue:jp,useDeferredValue:function(o){var s=ur();return Vt===null?s.memoizedState=o:Qw(s,Vt.memoizedState,o)},useTransition:function(){var o=Vp(pu)[0],s=ur().memoizedState;return[o,s]},useMutableSource:Ow,useSyncExternalStore:Mw,useId:Xw,unstable_isNewReconciler:!1};function kr(o,s){if(o&&o.defaultProps){s=re({},s),o=o.defaultProps;for(var u in o)s[u]===void 0&&(s[u]=o[u]);return s}return s}function Up(o,s,u,h){s=o.memoizedState,u=u(h,s),u=u==null?s:re({},s,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var yd={isMounted:function(o){return(o=o._reactInternals)?Tr(o)===o:!1},enqueueSetState:function(o,s,u){o=o._reactInternals;var h=yn(),m=Pi(o),w=Vo(h,m);w.payload=s,u!=null&&(w.callback=u),s=bi(o,w,m),s!==null&&(Or(s,o,m,h),ud(s,o,m))},enqueueReplaceState:function(o,s,u){o=o._reactInternals;var h=yn(),m=Pi(o),w=Vo(h,m);w.tag=1,w.payload=s,u!=null&&(w.callback=u),s=bi(o,w,m),s!==null&&(Or(s,o,m,h),ud(s,o,m))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var u=yn(),h=Pi(o),m=Vo(u,h);m.tag=2,s!=null&&(m.callback=s),s=bi(o,m,h),s!==null&&(Or(s,o,h,u),ud(s,o,h))}};function t_(o,s,u,h,m,w,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,w,C):s.prototype&&s.prototype.isPureReactComponent?!tu(u,h)||!tu(m,w):!0}function n_(o,s,u){var h=!1,m=xi,w=s.contextType;return typeof w=="object"&&w!==null?w=lr(w):(m=Rn(s)?Is:nn.current,h=s.contextTypes,w=(h=h!=null)?Ma(o,m):xi),s=new s(u,w),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=yd,o.stateNode=s,s._reactInternals=o,h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=m,o.__reactInternalMemoizedMaskedChildContext=w),s}function r_(o,s,u,h){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==o&&yd.enqueueReplaceState(s,s.state,null)}function $p(o,s,u,h){var m=o.stateNode;m.props=u,m.state=o.memoizedState,m.refs={},Cp(o);var w=s.contextType;typeof w=="object"&&w!==null?m.context=lr(w):(w=Rn(s)?Is:nn.current,m.context=Ma(o,w)),m.state=o.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Up(o,s,w,u),m.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&yd.enqueueReplaceState(m,m.state,null),cd(o,u,m,h),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308)}function za(o,s){try{var u="",h=s;do u+=ie(h),h=h.return;while(h);var m=u}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:s,stack:m,digest:null}}function Bp(o,s,u){return{value:o,source:null,stack:u??null,digest:s??null}}function zp(o,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var v1=typeof WeakMap=="function"?WeakMap:Map;function o_(o,s,u){u=Vo(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){Id||(Id=!0,om=h),zp(o,s)},u}function i_(o,s,u){u=Vo(-1,u),u.tag=3;var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;u.payload=function(){return h(m)},u.callback=function(){zp(o,s)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){zp(o,s),typeof h!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),u}function s_(o,s,u){var h=o.pingCache;if(h===null){h=o.pingCache=new v1;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(u)||(m.add(u),o=N1.bind(null,o,s,u),s.then(o,o))}function a_(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function l_(o,s,u,h,m){return(o.mode&1)===0?(o===s?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Vo(-1,1),s.tag=2,bi(u,s,1))),u.lanes|=1),o):(o.flags|=65536,o.lanes=m,o)}var w1=q.ReactCurrentOwner,Pn=!1;function gn(o,s,u,h){s.child=o===null?Aw(s,null,u,h):ja(s,o.child,u,h)}function u_(o,s,u,h,m){u=u.render;var w=s.ref;return $a(s,m),h=Op(o,s,u,h,w,m),u=Mp(),o!==null&&!Pn?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~m,Fo(o,s,m)):(mt&&u&&yp(s),s.flags|=1,gn(o,s,h,m),s.child)}function c_(o,s,u,h,m){if(o===null){var w=u.type;return typeof w=="function"&&!dm(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=w,d_(o,s,w,h,m)):(o=Pd(u.type,null,h,s,s.mode,m),o.ref=s.ref,o.return=s,s.child=o)}if(w=o.child,(o.lanes&m)===0){var C=w.memoizedProps;if(u=u.compare,u=u!==null?u:tu,u(C,h)&&o.ref===s.ref)return Fo(o,s,m)}return s.flags|=1,o=Ni(w,h),o.ref=s.ref,o.return=s,s.child=o}function d_(o,s,u,h,m){if(o!==null){var w=o.memoizedProps;if(tu(w,h)&&o.ref===s.ref)if(Pn=!1,s.pendingProps=h=w,(o.lanes&m)!==0)(o.flags&131072)!==0&&(Pn=!0);else return s.lanes=o.lanes,Fo(o,s,m)}return Wp(o,s,u,h,m)}function f_(o,s,u){var h=s.pendingProps,m=h.children,w=o!==null?o.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ha,Yn),Yn|=u;else{if((u&1073741824)===0)return o=w!==null?w.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,st(Ha,Yn),Yn|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,st(Ha,Yn),Yn|=h}else w!==null?(h=w.baseLanes|u,s.memoizedState=null):h=u,st(Ha,Yn),Yn|=h;return gn(o,s,m,u),s.child}function h_(o,s){var u=s.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Wp(o,s,u,h,m){var w=Rn(u)?Is:nn.current;return w=Ma(s,w),$a(s,m),u=Op(o,s,u,h,w,m),h=Mp(),o!==null&&!Pn?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~m,Fo(o,s,m)):(mt&&h&&yp(s),s.flags|=1,gn(o,s,u,m),s.child)}function p_(o,s,u,h,m){if(Rn(u)){var w=!0;td(s)}else w=!1;if($a(s,m),s.stateNode===null)wd(o,s),n_(s,u,h),$p(s,u,h,m),h=!0;else if(o===null){var C=s.stateNode,L=s.memoizedProps;C.props=L;var $=C.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=lr(Q):(Q=Rn(u)?Is:nn.current,Q=Ma(s,Q));var le=u.getDerivedStateFromProps,ce=typeof le=="function"||typeof C.getSnapshotBeforeUpdate=="function";ce||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L!==h||$!==Q)&&r_(s,C,h,Q),Si=!1;var ae=s.memoizedState;C.state=ae,cd(s,h,C,m),$=s.memoizedState,L!==h||ae!==$||An.current||Si?(typeof le=="function"&&(Up(s,u,le,h),$=s.memoizedState),(L=Si||t_(s,u,L,h,ae,$,Q))?(ce||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=$),C.props=h,C.state=$,C.context=Q,h=L):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{C=s.stateNode,Pw(o,s),L=s.memoizedProps,Q=s.type===s.elementType?L:kr(s.type,L),C.props=Q,ce=s.pendingProps,ae=C.context,$=u.contextType,typeof $=="object"&&$!==null?$=lr($):($=Rn(u)?Is:nn.current,$=Ma(s,$));var ye=u.getDerivedStateFromProps;(le=typeof ye=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L!==ce||ae!==$)&&r_(s,C,h,$),Si=!1,ae=s.memoizedState,C.state=ae,cd(s,h,C,m);var Te=s.memoizedState;L!==ce||ae!==Te||An.current||Si?(typeof ye=="function"&&(Up(s,u,ye,h),Te=s.memoizedState),(Q=Si||t_(s,u,Q,h,ae,Te,$)||!1)?(le||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(h,Te,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(h,Te,$)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Te),C.props=h,C.state=Te,C.context=$,h=Q):(typeof C.componentDidUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||L===o.memoizedProps&&ae===o.memoizedState||(s.flags|=1024),h=!1)}return Hp(o,s,u,h,w,m)}function Hp(o,s,u,h,m,w){h_(o,s);var C=(s.flags&128)!==0;if(!h&&!C)return m&&ww(s,u,!1),Fo(o,s,w);h=s.stateNode,w1.current=s;var L=C&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,o!==null&&C?(s.child=ja(s,o.child,null,w),s.child=ja(s,null,L,w)):gn(o,s,L,w),s.memoizedState=h.state,m&&ww(s,u,!0),s.child}function m_(o){var s=o.stateNode;s.pendingContext?yw(o,s.pendingContext,s.pendingContext!==s.context):s.context&&yw(o,s.context,!1),Ap(o,s.containerInfo)}function g_(o,s,u,h,m){return Fa(),Ep(m),s.flags|=256,gn(o,s,u,h),s.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Gp(o){return{baseLanes:o,cachePool:null,transitions:null}}function y_(o,s,u){var h=s.pendingProps,m=wt.current,w=!1,C=(s.flags&128)!==0,L;if((L=C)||(L=o!==null&&o.memoizedState===null?!1:(m&2)!==0),L?(w=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(m|=1),st(wt,m&1),o===null)return _p(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((s.mode&1)===0?s.lanes=1:o.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(C=h.children,o=h.fallback,w?(h=s.mode,w=s.child,C={mode:"hidden",children:C},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=kd(C,h,0,null),o=Os(o,h,u,null),w.return=s,o.return=s,w.sibling=o,s.child=w,s.child.memoizedState=Gp(u),s.memoizedState=qp,o):Kp(s,C));if(m=o.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return _1(o,s,C,h,L,m,u);if(w){w=h.fallback,C=s.mode,m=o.child,L=m.sibling;var $={mode:"hidden",children:h.children};return(C&1)===0&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=$,s.deletions=null):(h=Ni(m,$),h.subtreeFlags=m.subtreeFlags&14680064),L!==null?w=Ni(L,w):(w=Os(w,C,u,null),w.flags|=2),w.return=s,h.return=s,h.sibling=w,s.child=h,h=w,w=s.child,C=o.child.memoizedState,C=C===null?Gp(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=o.childLanes&~u,s.memoizedState=qp,h}return w=o.child,o=w.sibling,h=Ni(w,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=u),h.return=s,h.sibling=null,o!==null&&(u=s.deletions,u===null?(s.deletions=[o],s.flags|=16):u.push(o)),s.child=h,s.memoizedState=null,h}function Kp(o,s){return s=kd({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function vd(o,s,u,h){return h!==null&&Ep(h),ja(s,o.child,null,u),o=Kp(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function _1(o,s,u,h,m,w,C){if(u)return s.flags&256?(s.flags&=-257,h=Bp(Error(t(422))),vd(o,s,C,h)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(w=h.fallback,m=s.mode,h=kd({mode:"visible",children:h.children},m,0,null),w=Os(w,m,C,null),w.flags|=2,h.return=s,w.return=s,h.sibling=w,s.child=h,(s.mode&1)!==0&&ja(s,o.child,null,C),s.child.memoizedState=Gp(C),s.memoizedState=qp,w);if((s.mode&1)===0)return vd(o,s,C,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var L=h.dgst;return h=L,w=Error(t(419)),h=Bp(w,h,void 0),vd(o,s,C,h)}if(L=(C&o.childLanes)!==0,Pn||L){if(h=Wt,h!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|C))!==0?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,Lo(o,m),Or(h,o,m,-1))}return cm(),h=Bp(Error(t(421))),vd(o,s,C,h)}return m.data==="$?"?(s.flags|=128,s.child=o.child,s=D1.bind(null,o),m._reactRetry=s,null):(o=w.treeContext,Kn=Ei(m.nextSibling),Gn=s,mt=!0,Pr=null,o!==null&&(sr[ar++]=Oo,sr[ar++]=Mo,sr[ar++]=Ss,Oo=o.id,Mo=o.overflow,Ss=s),s=Kp(s,h.children),s.flags|=4096,s)}function v_(o,s,u){o.lanes|=s;var h=o.alternate;h!==null&&(h.lanes|=s),Sp(o.return,s,u)}function Yp(o,s,u,h,m){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=m)}function w_(o,s,u){var h=s.pendingProps,m=h.revealOrder,w=h.tail;if(gn(o,s,h.children,u),h=wt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&v_(o,u,s);else if(o.tag===19)v_(o,u,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}if(st(wt,h),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(u=s.child,m=null;u!==null;)o=u.alternate,o!==null&&dd(o)===null&&(m=u),u=u.sibling;u=m,u===null?(m=s.child,s.child=null):(m=u.sibling,u.sibling=null),Yp(s,!1,m,u,w);break;case"backwards":for(u=null,m=s.child,s.child=null;m!==null;){if(o=m.alternate,o!==null&&dd(o)===null){s.child=m;break}o=m.sibling,m.sibling=u,u=m,m=o}Yp(s,!0,u,null,w);break;case"together":Yp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wd(o,s){(s.mode&1)===0&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function Fo(o,s,u){if(o!==null&&(s.dependencies=o.dependencies),Ps|=s.lanes,(u&s.childLanes)===0)return null;if(o!==null&&s.child!==o.child)throw Error(t(153));if(s.child!==null){for(o=s.child,u=Ni(o,o.pendingProps),s.child=u,u.return=s;o.sibling!==null;)o=o.sibling,u=u.sibling=Ni(o,o.pendingProps),u.return=s;u.sibling=null}return s.child}function E1(o,s,u){switch(s.tag){case 3:m_(s),Fa();break;case 5:Dw(s);break;case 1:Rn(s.type)&&td(s);break;case 4:Ap(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;st(ad,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(st(wt,wt.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?y_(o,s,u):(st(wt,wt.current&1),o=Fo(o,s,u),o!==null?o.sibling:null);st(wt,wt.current&1);break;case 19:if(h=(u&s.childLanes)!==0,(o.flags&128)!==0){if(h)return w_(o,s,u);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),st(wt,wt.current),h)break;return null;case 22:case 23:return s.lanes=0,f_(o,s,u)}return Fo(o,s,u)}var __,Qp,E_,T_;__=function(o,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)o.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Qp=function(){},E_=function(o,s,u,h){var m=o.memoizedProps;if(m!==h){o=s.stateNode,As(lo.current);var w=null;switch(u){case"input":m=En(o,m),h=En(o,h),w=[];break;case"select":m=re({},m,{value:void 0}),h=re({},h,{value:void 0}),w=[];break;case"textarea":m=Dt(o,m),h=Dt(o,h),w=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(o.onclick=Jc)}ui(u,h);var C;u=null;for(Q in m)if(!h.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var L=m[Q];for(C in L)L.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?w||(w=[]):(w=w||[]).push(Q,null));for(Q in h){var $=h[Q];if(L=m!=null?m[Q]:void 0,h.hasOwnProperty(Q)&&$!==L&&($!=null||L!=null))if(Q==="style")if(L){for(C in L)!L.hasOwnProperty(C)||$&&$.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in $)$.hasOwnProperty(C)&&L[C]!==$[C]&&(u||(u={}),u[C]=$[C])}else u||(w||(w=[]),w.push(Q,u)),u=$;else Q==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,L=L?L.__html:void 0,$!=null&&L!==$&&(w=w||[]).push(Q,$)):Q==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(Q,""+$):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?($!=null&&Q==="onScroll"&&lt("scroll",o),w||L===$||(w=[])):(w=w||[]).push(Q,$))}u&&(w=w||[]).push("style",u);var Q=w;(s.updateQueue=Q)&&(s.flags|=4)}},T_=function(o,s,u,h){u!==h&&(s.flags|=4)};function gu(o,s){if(!mt)switch(o.tailMode){case"hidden":s=o.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function on(o){var s=o.alternate!==null&&o.alternate.child===o.child,u=0,h=0;if(s)for(var m=o.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=h,o.childLanes=u,s}function T1(o,s,u){var h=s.pendingProps;switch(vp(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(s),null;case 1:return Rn(s.type)&&ed(),on(s),null;case 3:return h=s.stateNode,Ba(),ut(An),ut(nn),kp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(id(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Pr!==null&&(am(Pr),Pr=null))),Qp(o,s),on(s),null;case 5:Rp(s);var m=As(du.current);if(u=s.type,o!==null&&s.stateNode!=null)E_(o,s,u,h,m),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return on(s),null}if(o=As(lo.current),id(s)){h=s.stateNode,u=s.type;var w=s.memoizedProps;switch(h[ao]=s,h[su]=w,o=(s.mode&1)!==0,u){case"dialog":lt("cancel",h),lt("close",h);break;case"iframe":case"object":case"embed":lt("load",h);break;case"video":case"audio":for(m=0;m<ru.length;m++)lt(ru[m],h);break;case"source":lt("error",h);break;case"img":case"image":case"link":lt("error",h),lt("load",h);break;case"details":lt("toggle",h);break;case"input":Jr(h,w),lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},lt("invalid",h);break;case"textarea":$n(h,w),lt("invalid",h)}ui(u,w),m=null;for(var C in w)if(w.hasOwnProperty(C)){var L=w[C];C==="children"?typeof L=="string"?h.textContent!==L&&(w.suppressHydrationWarning!==!0&&Xc(h.textContent,L,o),m=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(w.suppressHydrationWarning!==!0&&Xc(h.textContent,L,o),m=["children",""+L]):i.hasOwnProperty(C)&&L!=null&&C==="onScroll"&&lt("scroll",h)}switch(u){case"input":$t(h),Io(h,w,!0);break;case"textarea":$t(h),cs(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=Jc)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=dt(u)),o==="http://www.w3.org/1999/xhtml"?u==="script"?(o=C.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof h.is=="string"?o=C.createElement(u,{is:h.is}):(o=C.createElement(u),u==="select"&&(C=o,h.multiple?C.multiple=!0:h.size&&(C.size=h.size))):o=C.createElementNS(o,u),o[ao]=s,o[su]=h,__(o,s,!1,!1),s.stateNode=o;e:{switch(C=hs(u,h),u){case"dialog":lt("cancel",o),lt("close",o),m=h;break;case"iframe":case"object":case"embed":lt("load",o),m=h;break;case"video":case"audio":for(m=0;m<ru.length;m++)lt(ru[m],o);m=h;break;case"source":lt("error",o),m=h;break;case"img":case"image":case"link":lt("error",o),lt("load",o),m=h;break;case"details":lt("toggle",o),m=h;break;case"input":Jr(o,h),m=En(o,h),lt("invalid",o);break;case"option":m=h;break;case"select":o._wrapperState={wasMultiple:!!h.multiple},m=re({},h,{value:void 0}),lt("invalid",o);break;case"textarea":$n(o,h),m=Dt(o,h),lt("invalid",o);break;default:m=h}ui(u,m),L=m;for(w in L)if(L.hasOwnProperty(w)){var $=L[w];w==="style"?fs(o,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&So(o,$)):w==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&fn(o,$):typeof $=="number"&&fn(o,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?$!=null&&w==="onScroll"&&lt("scroll",o):$!=null&&U(o,w,$,C))}switch(u){case"input":$t(o),Io(o,h,!1);break;case"textarea":$t(o),cs(o);break;case"option":h.value!=null&&o.setAttribute("value",""+Ce(h.value));break;case"select":o.multiple=!!h.multiple,w=h.value,w!=null?wr(o,!!h.multiple,w,!1):h.defaultValue!=null&&wr(o,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(o.onclick=Jc)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return on(s),null;case 6:if(o&&s.stateNode!=null)T_(o,s,o.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(u=As(du.current),As(lo.current),id(s)){if(h=s.stateNode,u=s.memoizedProps,h[ao]=s,(w=h.nodeValue!==u)&&(o=Gn,o!==null))switch(o.tag){case 3:Xc(h.nodeValue,u,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Xc(h.nodeValue,u,(o.mode&1)!==0)}w&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[ao]=s,s.stateNode=h}return on(s),null;case 13:if(ut(wt),h=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(mt&&Kn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Sw(),Fa(),s.flags|=98560,w=!1;else if(w=id(s),h!==null&&h.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[ao]=s}else Fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;on(s),w=!1}else Pr!==null&&(am(Pr),Pr=null),w=!0;if(!w)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(h=h!==null,h!==(o!==null&&o.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(o===null||(wt.current&1)!==0?Ft===0&&(Ft=3):cm())),s.updateQueue!==null&&(s.flags|=4),on(s),null);case 4:return Ba(),Qp(o,s),o===null&&ou(s.stateNode.containerInfo),on(s),null;case 10:return Ip(s.type._context),on(s),null;case 17:return Rn(s.type)&&ed(),on(s),null;case 19:if(ut(wt),w=s.memoizedState,w===null)return on(s),null;if(h=(s.flags&128)!==0,C=w.rendering,C===null)if(h)gu(w,!1);else{if(Ft!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(C=dd(o),C!==null){for(s.flags|=128,gu(w,!1),h=C.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)w=u,o=h,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,o=C.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),u=u.sibling;return st(wt,wt.current&1|2),s.child}o=o.sibling}w.tail!==null&&it()>qa&&(s.flags|=128,h=!0,gu(w,!1),s.lanes=4194304)}else{if(!h)if(o=dd(C),o!==null){if(s.flags|=128,h=!0,u=o.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),gu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!mt)return on(s),null}else 2*it()-w.renderingStartTime>qa&&u!==1073741824&&(s.flags|=128,h=!0,gu(w,!1),s.lanes=4194304);w.isBackwards?(C.sibling=s.child,s.child=C):(u=w.last,u!==null?u.sibling=C:s.child=C,w.last=C)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=it(),s.sibling=null,u=wt.current,st(wt,h?u&1|2:u&1),s):(on(s),null);case 22:case 23:return um(),h=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Yn&1073741824)!==0&&(on(s),s.subtreeFlags&6&&(s.flags|=8192)):on(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function x1(o,s){switch(vp(s),s.tag){case 1:return Rn(s.type)&&ed(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Ba(),ut(An),ut(nn),kp(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 5:return Rp(s),null;case 13:if(ut(wt),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Fa()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return ut(wt),null;case 4:return Ba(),null;case 10:return Ip(s.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var _d=!1,sn=!1,I1=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Wa(o,s){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Tt(o,s,h)}else u.current=null}function Xp(o,s,u){try{u()}catch(h){Tt(o,s,h)}}var x_=!1;function S1(o,s){if(up=vi,o=tw(),tp(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var C=0,L=-1,$=-1,Q=0,le=0,ce=o,ae=null;t:for(;;){for(var ye;ce!==u||m!==0&&ce.nodeType!==3||(L=C+m),ce!==w||h!==0&&ce.nodeType!==3||($=C+h),ce.nodeType===3&&(C+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)ae=ce,ce=ye;for(;;){if(ce===o)break t;if(ae===u&&++Q===m&&(L=C),ae===w&&++le===h&&($=C),(ye=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=ye}u=L===-1||$===-1?null:{start:L,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(cp={focusedElem:o,selectionRange:u},vi=!1,Ee=s;Ee!==null;)if(s=Ee,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Ee=o;else for(;Ee!==null;){s=Ee;try{var Te=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var be=Te.memoizedProps,bt=Te.memoizedState,K=s.stateNode,W=K.getSnapshotBeforeUpdate(s.elementType===s.type?be:kr(s.type,be),bt);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=s.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Tt(s,s.return,pe)}if(o=s.sibling,o!==null){o.return=s.return,Ee=o;break}Ee=s.return}return Te=x_,x_=!1,Te}function yu(o,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&o)===o){var w=m.destroy;m.destroy=void 0,w!==void 0&&Xp(s,u,w)}m=m.next}while(m!==h)}}function Ed(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&o)===o){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function Jp(o){var s=o.ref;if(s!==null){var u=o.stateNode;switch(o.tag){case 5:o=u;break;default:o=u}typeof s=="function"?s(o):s.current=o}}function I_(o){var s=o.alternate;s!==null&&(o.alternate=null,I_(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[ao],delete s[su],delete s[pp],delete s[a1],delete s[l1])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function S_(o){return o.tag===5||o.tag===3||o.tag===4}function b_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||S_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Zp(o,s,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(o,s):u.insertBefore(o,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(o,u)):(s=u,s.appendChild(o)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Jc));else if(h!==4&&(o=o.child,o!==null))for(Zp(o,s,u),o=o.sibling;o!==null;)Zp(o,s,u),o=o.sibling}function em(o,s,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,s?u.insertBefore(o,s):u.appendChild(o);else if(h!==4&&(o=o.child,o!==null))for(em(o,s,u),o=o.sibling;o!==null;)em(o,s,u),o=o.sibling}var Qt=null,Nr=!1;function Ci(o,s,u){for(u=u.child;u!==null;)C_(o,s,u),u=u.sibling}function C_(o,s,u){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(gs,u)}catch{}switch(u.tag){case 5:sn||Wa(u,s);case 6:var h=Qt,m=Nr;Qt=null,Ci(o,s,u),Qt=h,Nr=m,Qt!==null&&(Nr?(o=Qt,u=u.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):Qt.removeChild(u.stateNode));break;case 18:Qt!==null&&(Nr?(o=Qt,u=u.stateNode,o.nodeType===8?hp(o.parentNode,u):o.nodeType===1&&hp(o,u),Cr(o)):hp(Qt,u.stateNode));break;case 4:h=Qt,m=Nr,Qt=u.stateNode.containerInfo,Nr=!0,Ci(o,s,u),Qt=h,Nr=m;break;case 0:case 11:case 14:case 15:if(!sn&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var w=m,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&Xp(u,s,C),m=m.next}while(m!==h)}Ci(o,s,u);break;case 1:if(!sn&&(Wa(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(L){Tt(u,s,L)}Ci(o,s,u);break;case 21:Ci(o,s,u);break;case 22:u.mode&1?(sn=(h=sn)||u.memoizedState!==null,Ci(o,s,u),sn=h):Ci(o,s,u);break;default:Ci(o,s,u)}}function A_(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new I1),s.forEach(function(h){var m=O1.bind(null,o,h);u.has(h)||(u.add(h),h.then(m,m))})}}function Dr(o,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var w=o,C=s,L=C;e:for(;L!==null;){switch(L.tag){case 5:Qt=L.stateNode,Nr=!1;break e;case 3:Qt=L.stateNode.containerInfo,Nr=!0;break e;case 4:Qt=L.stateNode.containerInfo,Nr=!0;break e}L=L.return}if(Qt===null)throw Error(t(160));C_(w,C,m),Qt=null,Nr=!1;var $=m.alternate;$!==null&&($.return=null),m.return=null}catch(Q){Tt(m,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)R_(s,o),s=s.sibling}function R_(o,s){var u=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Dr(s,o),co(o),h&4){try{yu(3,o,o.return),Ed(3,o)}catch(be){Tt(o,o.return,be)}try{yu(5,o,o.return)}catch(be){Tt(o,o.return,be)}}break;case 1:Dr(s,o),co(o),h&512&&u!==null&&Wa(u,u.return);break;case 5:if(Dr(s,o),co(o),h&512&&u!==null&&Wa(u,u.return),o.flags&32){var m=o.stateNode;try{fn(m,"")}catch(be){Tt(o,o.return,be)}}if(h&4&&(m=o.stateNode,m!=null)){var w=o.memoizedProps,C=u!==null?u.memoizedProps:w,L=o.type,$=o.updateQueue;if(o.updateQueue=null,$!==null)try{L==="input"&&w.type==="radio"&&w.name!=null&&Zr(m,w),hs(L,C);var Q=hs(L,w);for(C=0;C<$.length;C+=2){var le=$[C],ce=$[C+1];le==="style"?fs(m,ce):le==="dangerouslySetInnerHTML"?So(m,ce):le==="children"?fn(m,ce):U(m,le,ce,Q)}switch(L){case"input":Un(m,w);break;case"textarea":ai(m,w);break;case"select":var ae=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var ye=w.value;ye!=null?wr(m,!!w.multiple,ye,!1):ae!==!!w.multiple&&(w.defaultValue!=null?wr(m,!!w.multiple,w.defaultValue,!0):wr(m,!!w.multiple,w.multiple?[]:"",!1))}m[su]=w}catch(be){Tt(o,o.return,be)}}break;case 6:if(Dr(s,o),co(o),h&4){if(o.stateNode===null)throw Error(t(162));m=o.stateNode,w=o.memoizedProps;try{m.nodeValue=w}catch(be){Tt(o,o.return,be)}}break;case 3:if(Dr(s,o),co(o),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Cr(s.containerInfo)}catch(be){Tt(o,o.return,be)}break;case 4:Dr(s,o),co(o);break;case 13:Dr(s,o),co(o),m=o.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(rm=it())),h&4&&A_(o);break;case 22:if(le=u!==null&&u.memoizedState!==null,o.mode&1?(sn=(Q=sn)||le,Dr(s,o),sn=Q):Dr(s,o),co(o),h&8192){if(Q=o.memoizedState!==null,(o.stateNode.isHidden=Q)&&!le&&(o.mode&1)!==0)for(Ee=o,le=o.child;le!==null;){for(ce=Ee=le;Ee!==null;){switch(ae=Ee,ye=ae.child,ae.tag){case 0:case 11:case 14:case 15:yu(4,ae,ae.return);break;case 1:Wa(ae,ae.return);var Te=ae.stateNode;if(typeof Te.componentWillUnmount=="function"){h=ae,u=ae.return;try{s=h,Te.props=s.memoizedProps,Te.state=s.memoizedState,Te.componentWillUnmount()}catch(be){Tt(h,u,be)}}break;case 5:Wa(ae,ae.return);break;case 22:if(ae.memoizedState!==null){N_(ce);continue}}ye!==null?(ye.return=ae,Ee=ye):N_(ce)}le=le.sibling}e:for(le=null,ce=o;;){if(ce.tag===5){if(le===null){le=ce;try{m=ce.stateNode,Q?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(L=ce.stateNode,$=ce.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null,L.style.display=ds("display",C))}catch(be){Tt(o,o.return,be)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=Q?"":ce.memoizedProps}catch(be){Tt(o,o.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===o)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===o)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===o)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Dr(s,o),co(o),h&4&&A_(o);break;case 21:break;default:Dr(s,o),co(o)}}function co(o){var s=o.flags;if(s&2){try{e:{for(var u=o.return;u!==null;){if(S_(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(fn(m,""),h.flags&=-33);var w=b_(o);em(o,w,m);break;case 3:case 4:var C=h.stateNode.containerInfo,L=b_(o);Zp(o,L,C);break;default:throw Error(t(161))}}catch($){Tt(o,o.return,$)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function b1(o,s,u){Ee=o,P_(o)}function P_(o,s,u){for(var h=(o.mode&1)!==0;Ee!==null;){var m=Ee,w=m.child;if(m.tag===22&&h){var C=m.memoizedState!==null||_d;if(!C){var L=m.alternate,$=L!==null&&L.memoizedState!==null||sn;L=_d;var Q=sn;if(_d=C,(sn=$)&&!Q)for(Ee=m;Ee!==null;)C=Ee,$=C.child,C.tag===22&&C.memoizedState!==null?D_(m):$!==null?($.return=C,Ee=$):D_(m);for(;w!==null;)Ee=w,P_(w),w=w.sibling;Ee=m,_d=L,sn=Q}k_(o)}else(m.subtreeFlags&8772)!==0&&w!==null?(w.return=m,Ee=w):k_(o)}}function k_(o){for(;Ee!==null;){var s=Ee;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:sn||Ed(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!sn)if(u===null)h.componentDidMount();else{var m=s.elementType===s.type?u.memoizedProps:kr(s.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=s.updateQueue;w!==null&&Nw(s,w,h);break;case 3:var C=s.updateQueue;if(C!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Nw(s,C,u)}break;case 5:var L=s.stateNode;if(u===null&&s.flags&4){u=L;var $=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var le=Q.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&Cr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||s.flags&512&&Jp(s)}catch(ae){Tt(s,s.return,ae)}}if(s===o){Ee=null;break}if(u=s.sibling,u!==null){u.return=s.return,Ee=u;break}Ee=s.return}}function N_(o){for(;Ee!==null;){var s=Ee;if(s===o){Ee=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Ee=u;break}Ee=s.return}}function D_(o){for(;Ee!==null;){var s=Ee;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Ed(4,s)}catch($){Tt(s,u,$)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch($){Tt(s,m,$)}}var w=s.return;try{Jp(s)}catch($){Tt(s,w,$)}break;case 5:var C=s.return;try{Jp(s)}catch($){Tt(s,C,$)}}}catch($){Tt(s,s.return,$)}if(s===o){Ee=null;break}var L=s.sibling;if(L!==null){L.return=s.return,Ee=L;break}Ee=s.return}}var C1=Math.ceil,Td=q.ReactCurrentDispatcher,tm=q.ReactCurrentOwner,cr=q.ReactCurrentBatchConfig,Xe=0,Wt=null,Rt=null,Xt=0,Yn=0,Ha=Ti(0),Ft=0,vu=null,Ps=0,xd=0,nm=0,wu=null,kn=null,rm=0,qa=1/0,jo=null,Id=!1,om=null,Ai=null,Sd=!1,Ri=null,bd=0,_u=0,im=null,Cd=-1,Ad=0;function yn(){return(Xe&6)!==0?it():Cd!==-1?Cd:Cd=it()}function Pi(o){return(o.mode&1)===0?1:(Xe&2)!==0&&Xt!==0?Xt&-Xt:c1.transition!==null?(Ad===0&&(Ad=vs()),Ad):(o=Ge,o!==0||(o=window.event,o=o===void 0?16:Kl(o.type)),o)}function Or(o,s,u,h){if(50<_u)throw _u=0,im=null,Error(t(185));pi(o,u,h),((Xe&2)===0||o!==Wt)&&(o===Wt&&((Xe&2)===0&&(xd|=u),Ft===4&&ki(o,Xt)),Nn(o,h),u===1&&Xe===0&&(s.mode&1)===0&&(qa=it()+500,nd&&Ii()))}function Nn(o,s){var u=o.callbackNode;Co(o,s);var h=ys(o,o===Wt?Xt:0);if(h===0)u!==null&&zl(u),o.callbackNode=null,o.callbackPriority=0;else if(s=h&-h,o.callbackPriority!==s){if(u!=null&&zl(u),s===1)o.tag===0?u1(M_.bind(null,o)):_w(M_.bind(null,o)),i1(function(){(Xe&6)===0&&Ii()}),u=null;else{switch(gi(h)){case 1:u=ms;break;case 4:u=di;break;case 16:u=rr;break;case 536870912:u=Ac;break;default:u=rr}u=z_(u,O_.bind(null,o))}o.callbackPriority=s,o.callbackNode=u}}function O_(o,s){if(Cd=-1,Ad=0,(Xe&6)!==0)throw Error(t(327));var u=o.callbackNode;if(Ga()&&o.callbackNode!==u)return null;var h=ys(o,o===Wt?Xt:0);if(h===0)return null;if((h&30)!==0||(h&o.expiredLanes)!==0||s)s=Rd(o,h);else{s=h;var m=Xe;Xe|=2;var w=V_();(Wt!==o||Xt!==s)&&(jo=null,qa=it()+500,Ns(o,s));do try{P1();break}catch(L){L_(o,L)}while(!0);xp(),Td.current=w,Xe=m,Rt!==null?s=0:(Wt=null,Xt=0,s=Ft)}if(s!==0){if(s===2&&(m=Wn(o),m!==0&&(h=m,s=sm(o,m))),s===1)throw u=vu,Ns(o,0),ki(o,h),Nn(o,it()),u;if(s===6)ki(o,h);else{if(m=o.current.alternate,(h&30)===0&&!A1(m)&&(s=Rd(o,h),s===2&&(w=Wn(o),w!==0&&(h=w,s=sm(o,w))),s===1))throw u=vu,Ns(o,0),ki(o,h),Nn(o,it()),u;switch(o.finishedWork=m,o.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ds(o,kn,jo);break;case 3:if(ki(o,h),(h&130023424)===h&&(s=rm+500-it(),10<s)){if(ys(o,0)!==0)break;if(m=o.suspendedLanes,(m&h)!==h){yn(),o.pingedLanes|=o.suspendedLanes&m;break}o.timeoutHandle=fp(Ds.bind(null,o,kn,jo),s);break}Ds(o,kn,jo);break;case 4:if(ki(o,h),(h&4194240)===h)break;for(s=o.eventTimes,m=-1;0<h;){var C=31-pn(h);w=1<<C,C=s[C],C>m&&(m=C),h&=~w}if(h=m,h=it()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*C1(h/1960))-h,10<h){o.timeoutHandle=fp(Ds.bind(null,o,kn,jo),h);break}Ds(o,kn,jo);break;case 5:Ds(o,kn,jo);break;default:throw Error(t(329))}}}return Nn(o,it()),o.callbackNode===u?O_.bind(null,o):null}function sm(o,s){var u=wu;return o.current.memoizedState.isDehydrated&&(Ns(o,s).flags|=256),o=Rd(o,s),o!==2&&(s=kn,kn=u,s!==null&&am(s)),o}function am(o){kn===null?kn=o:kn.push.apply(kn,o)}function A1(o){for(var s=o;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],w=m.getSnapshot;m=m.value;try{if(!Rr(w(),m))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(o,s){for(s&=~nm,s&=~xd,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var u=31-pn(s),h=1<<u;o[u]=-1,s&=~h}}function M_(o){if((Xe&6)!==0)throw Error(t(327));Ga();var s=ys(o,0);if((s&1)===0)return Nn(o,it()),null;var u=Rd(o,s);if(o.tag!==0&&u===2){var h=Wn(o);h!==0&&(s=h,u=sm(o,h))}if(u===1)throw u=vu,Ns(o,0),ki(o,s),Nn(o,it()),u;if(u===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,Ds(o,kn,jo),Nn(o,it()),null}function lm(o,s){var u=Xe;Xe|=1;try{return o(s)}finally{Xe=u,Xe===0&&(qa=it()+500,nd&&Ii())}}function ks(o){Ri!==null&&Ri.tag===0&&(Xe&6)===0&&Ga();var s=Xe;Xe|=1;var u=cr.transition,h=Ge;try{if(cr.transition=null,Ge=1,o)return o()}finally{Ge=h,cr.transition=u,Xe=s,(Xe&6)===0&&Ii()}}function um(){Yn=Ha.current,ut(Ha)}function Ns(o,s){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==-1&&(o.timeoutHandle=-1,o1(u)),Rt!==null)for(u=Rt.return;u!==null;){var h=u;switch(vp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ed();break;case 3:Ba(),ut(An),ut(nn),kp();break;case 5:Rp(h);break;case 4:Ba();break;case 13:ut(wt);break;case 19:ut(wt);break;case 10:Ip(h.type._context);break;case 22:case 23:um()}u=u.return}if(Wt=o,Rt=o=Ni(o.current,null),Xt=Yn=s,Ft=0,vu=null,nm=xd=Ps=0,kn=wu=null,Cs!==null){for(s=0;s<Cs.length;s++)if(u=Cs[s],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,w=u.pending;if(w!==null){var C=w.next;w.next=m,h.next=C}u.pending=h}Cs=null}return o}function L_(o,s){do{var u=Rt;try{if(xp(),fd.current=gd,hd){for(var h=_t.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}hd=!1}if(Rs=0,zt=Vt=_t=null,fu=!1,hu=0,tm.current=null,u===null||u.return===null){Ft=1,vu=s,Rt=null;break}e:{var w=o,C=u.return,L=u,$=s;if(s=Xt,L.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Q=$,le=L,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var ye=a_(C);if(ye!==null){ye.flags&=-257,l_(ye,C,L,w,s),ye.mode&1&&s_(w,Q,s),s=ye,$=Q;var Te=s.updateQueue;if(Te===null){var be=new Set;be.add($),s.updateQueue=be}else Te.add($);break e}else{if((s&1)===0){s_(w,Q,s),cm();break e}$=Error(t(426))}}else if(mt&&L.mode&1){var bt=a_(C);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),l_(bt,C,L,w,s),Ep(za($,L));break e}}w=$=za($,L),Ft!==4&&(Ft=2),wu===null?wu=[w]:wu.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,s&=-s,w.lanes|=s;var K=o_(w,$,s);kw(w,K);break e;case 1:L=$;var W=w.type,Y=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Ai===null||!Ai.has(Y)))){w.flags|=65536,s&=-s,w.lanes|=s;var pe=i_(w,L,s);kw(w,pe);break e}}w=w.return}while(w!==null)}j_(u)}catch(Ae){s=Ae,Rt===u&&u!==null&&(Rt=u=u.return);continue}break}while(!0)}function V_(){var o=Td.current;return Td.current=gd,o===null?gd:o}function cm(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||(Ps&268435455)===0&&(xd&268435455)===0||ki(Wt,Xt)}function Rd(o,s){var u=Xe;Xe|=2;var h=V_();(Wt!==o||Xt!==s)&&(jo=null,Ns(o,s));do try{R1();break}catch(m){L_(o,m)}while(!0);if(xp(),Xe=u,Td.current=h,Rt!==null)throw Error(t(261));return Wt=null,Xt=0,Ft}function R1(){for(;Rt!==null;)F_(Rt)}function P1(){for(;Rt!==null&&!bc();)F_(Rt)}function F_(o){var s=B_(o.alternate,o,Yn);o.memoizedProps=o.pendingProps,s===null?j_(o):Rt=s,tm.current=null}function j_(o){var s=o;do{var u=s.alternate;if(o=s.return,(s.flags&32768)===0){if(u=T1(u,s,Yn),u!==null){Rt=u;return}}else{if(u=x1(u,s),u!==null){u.flags&=32767,Rt=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ft=6,Rt=null;return}}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=o}while(s!==null);Ft===0&&(Ft=5)}function Ds(o,s,u){var h=Ge,m=cr.transition;try{cr.transition=null,Ge=1,k1(o,s,u,h)}finally{cr.transition=m,Ge=h}return null}function k1(o,s,u,h){do Ga();while(Ri!==null);if((Xe&6)!==0)throw Error(t(327));u=o.finishedWork;var m=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=u.lanes|u.childLanes;if(ot(o,w),o===Wt&&(Rt=Wt=null,Xt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Sd||(Sd=!0,z_(rr,function(){return Ga(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=cr.transition,cr.transition=null;var C=Ge;Ge=1;var L=Xe;Xe|=4,tm.current=null,S1(o,u),R_(u,o),XR(cp),vi=!!up,cp=up=null,o.current=u,b1(u),Gh(),Xe=L,Ge=C,cr.transition=w}else o.current=u;if(Sd&&(Sd=!1,Ri=o,bd=m),w=o.pendingLanes,w===0&&(Ai=null),Rc(u.stateNode),Nn(o,it()),s!==null)for(h=o.onRecoverableError,u=0;u<s.length;u++)m=s[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(Id)throw Id=!1,o=om,om=null,o;return(bd&1)!==0&&o.tag!==0&&Ga(),w=o.pendingLanes,(w&1)!==0?o===im?_u++:(_u=0,im=o):_u=0,Ii(),null}function Ga(){if(Ri!==null){var o=gi(bd),s=cr.transition,u=Ge;try{if(cr.transition=null,Ge=16>o?16:o,Ri===null)var h=!1;else{if(o=Ri,Ri=null,bd=0,(Xe&6)!==0)throw Error(t(331));var m=Xe;for(Xe|=4,Ee=o.current;Ee!==null;){var w=Ee,C=w.child;if((Ee.flags&16)!==0){var L=w.deletions;if(L!==null){for(var $=0;$<L.length;$++){var Q=L[$];for(Ee=Q;Ee!==null;){var le=Ee;switch(le.tag){case 0:case 11:case 15:yu(8,le,w)}var ce=le.child;if(ce!==null)ce.return=le,Ee=ce;else for(;Ee!==null;){le=Ee;var ae=le.sibling,ye=le.return;if(I_(le),le===Q){Ee=null;break}if(ae!==null){ae.return=ye,Ee=ae;break}Ee=ye}}}var Te=w.alternate;if(Te!==null){var be=Te.child;if(be!==null){Te.child=null;do{var bt=be.sibling;be.sibling=null,be=bt}while(be!==null)}}Ee=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,Ee=C;else e:for(;Ee!==null;){if(w=Ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:yu(9,w,w.return)}var K=w.sibling;if(K!==null){K.return=w.return,Ee=K;break e}Ee=w.return}}var W=o.current;for(Ee=W;Ee!==null;){C=Ee;var Y=C.child;if((C.subtreeFlags&2064)!==0&&Y!==null)Y.return=C,Ee=Y;else e:for(C=W;Ee!==null;){if(L=Ee,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Ed(9,L)}}catch(Ae){Tt(L,L.return,Ae)}if(L===C){Ee=null;break e}var pe=L.sibling;if(pe!==null){pe.return=L.return,Ee=pe;break e}Ee=L.return}}if(Xe=m,Ii(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(gs,o)}catch{}h=!0}return h}finally{Ge=u,cr.transition=s}}return!1}function U_(o,s,u){s=za(u,s),s=o_(o,s,1),o=bi(o,s,1),s=yn(),o!==null&&(pi(o,1,s),Nn(o,s))}function Tt(o,s,u){if(o.tag===3)U_(o,o,u);else for(;s!==null;){if(s.tag===3){U_(s,o,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))){o=za(u,o),o=i_(s,o,1),s=bi(s,o,1),o=yn(),s!==null&&(pi(s,1,o),Nn(s,o));break}}s=s.return}}function N1(o,s,u){var h=o.pingCache;h!==null&&h.delete(s),s=yn(),o.pingedLanes|=o.suspendedLanes&u,Wt===o&&(Xt&u)===u&&(Ft===4||Ft===3&&(Xt&130023424)===Xt&&500>it()-rm?Ns(o,0):nm|=u),Nn(o,s)}function $_(o,s){s===0&&((o.mode&1)===0?s=1:(s=ga,ga<<=1,(ga&130023424)===0&&(ga=4194304)));var u=yn();o=Lo(o,s),o!==null&&(pi(o,s,u),Nn(o,u))}function D1(o){var s=o.memoizedState,u=0;s!==null&&(u=s.retryLane),$_(o,u)}function O1(o,s){var u=0;switch(o.tag){case 13:var h=o.stateNode,m=o.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=o.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),$_(o,u)}var B_;B_=function(o,s,u){if(o!==null)if(o.memoizedProps!==s.pendingProps||An.current)Pn=!0;else{if((o.lanes&u)===0&&(s.flags&128)===0)return Pn=!1,E1(o,s,u);Pn=(o.flags&131072)!==0}else Pn=!1,mt&&(s.flags&1048576)!==0&&Ew(s,od,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;wd(o,s),o=s.pendingProps;var m=Ma(s,nn.current);$a(s,u),m=Op(null,s,h,o,m,u);var w=Mp();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Rn(h)?(w=!0,td(s)):w=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Cp(s),m.updater=yd,s.stateNode=m,m._reactInternals=s,$p(s,h,o,u),s=Hp(null,s,h,!0,w,u)):(s.tag=0,mt&&w&&yp(s),gn(null,s,m,u),s=s.child),s;case 16:h=s.elementType;e:{switch(wd(o,s),o=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=L1(h),o=kr(h,o),m){case 0:s=Wp(null,s,h,o,u);break e;case 1:s=p_(null,s,h,o,u);break e;case 11:s=u_(null,s,h,o,u);break e;case 14:s=c_(null,s,h,kr(h.type,o),u);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:kr(h,m),Wp(o,s,h,m,u);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:kr(h,m),p_(o,s,h,m,u);case 3:e:{if(m_(s),o===null)throw Error(t(387));h=s.pendingProps,w=s.memoizedState,m=w.element,Pw(o,s),cd(s,h,null,u);var C=s.memoizedState;if(h=C.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){m=za(Error(t(423)),s),s=g_(o,s,h,u,m);break e}else if(h!==m){m=za(Error(t(424)),s),s=g_(o,s,h,u,m);break e}else for(Kn=Ei(s.stateNode.containerInfo.firstChild),Gn=s,mt=!0,Pr=null,u=Aw(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Fa(),h===m){s=Fo(o,s,u);break e}gn(o,s,h,u)}s=s.child}return s;case 5:return Dw(s),o===null&&_p(s),h=s.type,m=s.pendingProps,w=o!==null?o.memoizedProps:null,C=m.children,dp(h,m)?C=null:w!==null&&dp(h,w)&&(s.flags|=32),h_(o,s),gn(o,s,C,u),s.child;case 6:return o===null&&_p(s),null;case 13:return y_(o,s,u);case 4:return Ap(s,s.stateNode.containerInfo),h=s.pendingProps,o===null?s.child=ja(s,null,h,u):gn(o,s,h,u),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:kr(h,m),u_(o,s,h,m,u);case 7:return gn(o,s,s.pendingProps,u),s.child;case 8:return gn(o,s,s.pendingProps.children,u),s.child;case 12:return gn(o,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,w=s.memoizedProps,C=m.value,st(ad,h._currentValue),h._currentValue=C,w!==null)if(Rr(w.value,C)){if(w.children===m.children&&!An.current){s=Fo(o,s,u);break e}}else for(w=s.child,w!==null&&(w.return=s);w!==null;){var L=w.dependencies;if(L!==null){C=w.child;for(var $=L.firstContext;$!==null;){if($.context===h){if(w.tag===1){$=Vo(-1,u&-u),$.tag=2;var Q=w.updateQueue;if(Q!==null){Q=Q.shared;var le=Q.pending;le===null?$.next=$:($.next=le.next,le.next=$),Q.pending=$}}w.lanes|=u,$=w.alternate,$!==null&&($.lanes|=u),Sp(w.return,u,s),L.lanes|=u;break}$=$.next}}else if(w.tag===10)C=w.type===s.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(t(341));C.lanes|=u,L=C.alternate,L!==null&&(L.lanes|=u),Sp(C,u,s),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===s){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}gn(o,s,m.children,u),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,$a(s,u),m=lr(m),h=h(m),s.flags|=1,gn(o,s,h,u),s.child;case 14:return h=s.type,m=kr(h,s.pendingProps),m=kr(h.type,m),c_(o,s,h,m,u);case 15:return d_(o,s,s.type,s.pendingProps,u);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:kr(h,m),wd(o,s),s.tag=1,Rn(h)?(o=!0,td(s)):o=!1,$a(s,u),n_(s,h,m),$p(s,h,m,u),Hp(null,s,h,!0,o,u);case 19:return w_(o,s,u);case 22:return f_(o,s,u)}throw Error(t(156,s.tag))};function z_(o,s){return pa(o,s)}function M1(o,s,u,h){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(o,s,u,h){return new M1(o,s,u,h)}function dm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function L1(o){if(typeof o=="function")return dm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===Se)return 14}return 2}function Ni(o,s){var u=o.alternate;return u===null?(u=dr(o.tag,s,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=s,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,s=o.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function Pd(o,s,u,h,m,w){var C=2;if(h=o,typeof o=="function")dm(o)&&(C=1);else if(typeof o=="string")C=5;else e:switch(o){case k:return Os(u.children,m,w,s);case R:C=8,m|=8;break;case N:return o=dr(12,u,s,m|2),o.elementType=N,o.lanes=w,o;case O:return o=dr(13,u,s,m),o.elementType=O,o.lanes=w,o;case Re:return o=dr(19,u,s,m),o.elementType=Re,o.lanes=w,o;case ge:return kd(u,m,w,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:C=10;break e;case F:C=9;break e;case B:C=11;break e;case Se:C=14;break e;case fe:C=16,h=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return s=dr(C,u,s,m),s.elementType=o,s.type=h,s.lanes=w,s}function Os(o,s,u,h){return o=dr(7,o,h,s),o.lanes=u,o}function kd(o,s,u,h){return o=dr(22,o,h,s),o.elementType=ge,o.lanes=u,o.stateNode={isHidden:!1},o}function fm(o,s,u){return o=dr(6,o,null,s),o.lanes=u,o}function hm(o,s,u){return s=dr(4,o.children!==null?o.children:[],o.key,s),s.lanes=u,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function V1(o,s,u,h,m){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function pm(o,s,u,h,m,w,C,L,$){return o=new V1(o,s,u,L,$),s===1?(s=1,w===!0&&(s|=8)):s=0,w=dr(3,null,null,s),o.current=w,w.stateNode=o,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(w),o}function F1(o,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:h==null?null:""+h,children:o,containerInfo:s,implementation:u}}function W_(o){if(!o)return xi;o=o._reactInternals;e:{if(Tr(o)!==o||o.tag!==1)throw Error(t(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(o.tag===1){var u=o.type;if(Rn(u))return vw(o,u,s)}return s}function H_(o,s,u,h,m,w,C,L,$){return o=pm(u,h,!0,o,m,w,C,L,$),o.context=W_(null),u=o.current,h=yn(),m=Pi(u),w=Vo(h,m),w.callback=s??null,bi(u,w,m),o.current.lanes=m,pi(o,m,h),Nn(o,h),o}function Nd(o,s,u,h){var m=s.current,w=yn(),C=Pi(m);return u=W_(u),s.context===null?s.context=u:s.pendingContext=u,s=Vo(w,C),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=bi(m,s,C),o!==null&&(Or(o,m,C,w),ud(o,m,C)),C}function Dd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function q_(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<s?u:s}}function mm(o,s){q_(o,s),(o=o.alternate)&&q_(o,s)}function j1(){return null}var G_=typeof reportError=="function"?reportError:function(o){console.error(o)};function gm(o){this._internalRoot=o}Od.prototype.render=gm.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(t(409));Nd(o,s,null,null)},Od.prototype.unmount=gm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;ks(function(){Nd(null,o,null,null)}),s[No]=null}};function Od(o){this._internalRoot=o}Od.prototype.unstable_scheduleHydration=function(o){if(o){var s=Oc();o={blockedOn:null,target:o,priority:s};for(var u=0;u<ro.length&&s!==0&&s<ro[u].priority;u++);ro.splice(u,0,o),u===0&&Vc(o)}};function ym(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Md(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function K_(){}function U1(o,s,u,h,m){if(m){if(typeof h=="function"){var w=h;h=function(){var Q=Dd(C);w.call(Q)}}var C=H_(s,h,o,0,null,!1,!1,"",K_);return o._reactRootContainer=C,o[No]=C.current,ou(o.nodeType===8?o.parentNode:o),ks(),C}for(;m=o.lastChild;)o.removeChild(m);if(typeof h=="function"){var L=h;h=function(){var Q=Dd($);L.call(Q)}}var $=pm(o,0,!1,null,null,!1,!1,"",K_);return o._reactRootContainer=$,o[No]=$.current,ou(o.nodeType===8?o.parentNode:o),ks(function(){Nd(s,$,u,h)}),$}function Ld(o,s,u,h,m){var w=u._reactRootContainer;if(w){var C=w;if(typeof m=="function"){var L=m;m=function(){var $=Dd(C);L.call($)}}Nd(s,C,o,m)}else C=U1(u,s,o,m,h);return Dd(C)}Nc=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var u=fi(s.pendingLanes);u!==0&&(mi(s,u|1),Nn(s,it()),(Xe&6)===0&&(qa=it()+500,Ii()))}break;case 13:ks(function(){var h=Lo(o,1);if(h!==null){var m=yn();Or(h,o,1,m)}}),mm(o,1)}},ya=function(o){if(o.tag===13){var s=Lo(o,134217728);if(s!==null){var u=yn();Or(s,o,134217728,u)}mm(o,134217728)}},Dc=function(o){if(o.tag===13){var s=Pi(o),u=Lo(o,s);if(u!==null){var h=yn();Or(u,o,s,h)}mm(o,s)}},Oc=function(){return Ge},Mc=function(o,s){var u=Ge;try{return Ge=o,s()}finally{Ge=u}},ci=function(o,s,u){switch(s){case"input":if(Un(o,u),s=u.name,u.type==="radio"&&s!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==o&&h.form===o.form){var m=Zc(h);if(!m)throw Error(t(90));Gt(h),Un(h,m)}}}break;case"textarea":ai(o,u);break;case"select":s=u.value,s!=null&&wr(o,!!u.multiple,s,!1)}},ht=lm,Ot=ks;var $1={usingClientEntryPoint:!1,Events:[au,Da,Zc,De,ft,lm]},Eu={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B1={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Bl(o),o===null?null:o.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||j1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{gs=Vd.inject(B1),zn=Vd}catch{}}return Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1,Dn.createPortal=function(o,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(s))throw Error(t(200));return F1(o,s,null,u)},Dn.createRoot=function(o,s){if(!ym(o))throw Error(t(299));var u=!1,h="",m=G_;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=pm(o,1,!1,null,null,u,!1,h,m),o[No]=s.current,ou(o.nodeType===8?o.parentNode:o),new gm(s)},Dn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Bl(s),o=o===null?null:o.stateNode,o},Dn.flushSync=function(o){return ks(o)},Dn.hydrate=function(o,s,u){if(!Md(s))throw Error(t(200));return Ld(null,o,s,!0,u)},Dn.hydrateRoot=function(o,s,u){if(!ym(o))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,w="",C=G_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),s=H_(s,null,o,1,u??null,m,!1,w,C),o[No]=s.current,ou(o),h)for(o=0;o<h.length;o++)u=h[o],m=u._getVersion,m=m(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,m]:s.mutableSourceEagerHydrationData.push(u,m);return new Od(s)},Dn.render=function(o,s,u){if(!Md(s))throw Error(t(200));return Ld(null,o,s,!1,u)},Dn.unmountComponentAtNode=function(o){if(!Md(o))throw Error(t(40));return o._reactRootContainer?(ks(function(){Ld(null,null,o,!1,function(){o._reactRootContainer=null,o[No]=null})}),!0):!1},Dn.unstable_batchedUpdates=lm,Dn.unstable_renderSubtreeIntoContainer=function(o,s,u,h){if(!Md(u))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Ld(o,s,u,!1,h)},Dn.version="18.3.1-next-f1338f8080-20240426",Dn}var r0;function ex(){if(r0)return _m.exports;r0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_m.exports=J1(),_m.exports}var o0;function Z1(){if(o0)return Fd;o0=1;var n=ex();return Fd.createRoot=n.createRoot,Fd.hydrateRoot=n.hydrateRoot,Fd}var eP=Z1();const tP={isAuthenticated:!1,isLoading:!0,user:null,error:null,login:async()=>{},loginWithGoogle:async()=>{},signup:async()=>{},logout:async()=>{},updateProfile:async()=>{},deleteProfile:async()=>{}},tx=_.createContext(tP),nP=()=>{};var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},rP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},rx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,y=a>>2,g=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,I=p&63;f||(I=64,l||(T=64)),r.push(t[y],t[g],t[T],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||g==null)throw new oP;const T=a<<2|c>>4;if(r.push(T),p!==64){const I=c<<4&240|p>>2;if(r.push(I),g!==64){const S=p<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iP=function(n){const e=nx(n);return rx.encodeByteArray(e,!0)},Tf=function(n){return iP(n).replace(/\./g,"")},ox=function(n){try{return rx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=()=>sP().__FIREBASE_DEFAULTS__,lP=()=>{if(typeof process>"u"||typeof i0>"u")return;const n=i0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ox(n[1]);return e&&JSON.parse(e)},th=()=>{try{return nP()||aP()||lP()||uP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ix=n=>{var e,t;return(t=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cP=n=>{const e=ix(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sx=()=>{var n;return(n=th())===null||n===void 0?void 0:n.config},ax=n=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Tf(JSON.stringify(t)),Tf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function pP(){var n;const e=(n=th())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yP(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vP(){return!pP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ux(){try{return typeof indexedDB=="object"}catch{return!1}}function cx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function wP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="FirebaseError";class qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_P,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?EP(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new qr(i,c,r)}}function EP(n,e){return n.replace(TP,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TP=/\{\$([^}]+)}/g;function xP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(s0(a)&&s0(l)){if(!Yi(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function s0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ru(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Pu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function IP(n,e){const t=new SP(n,e);return t.subscribe.bind(t)}class SP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=xm),i.error===void 0&&(i.error=xm),i.complete===void 0&&(i.complete=xm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=1e3,AP=2,RP=4*60*60*1e3,PP=.5;function a0(n,e=CP,t=AP){const r=e*Math.pow(t,n),i=Math.round(PP*r*(Math.random()-.5)*2);return Math.min(RP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n){return n&&n._delegate?n._delegate:n}class jr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new dP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DP(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NP(n){return n===Ls?void 0:n}function DP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const MP={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},LP=He.INFO,VP={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},FP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=VP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nh{constructor(e){this.name=e,this._logLevel=LP,this._logHandler=FP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const jP=(n,e)=>e.some(t=>n instanceof t);let l0,u0;function UP(){return l0||(l0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $P(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dx=new WeakMap,lg=new WeakMap,fx=new WeakMap,Im=new WeakMap,Xg=new WeakMap;function BP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Wi(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&dx.set(t,n)}).catch(()=>{}),Xg.set(e,n),e}function zP(n){if(lg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});lg.set(n,e)}let ug={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return lg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WP(n){ug=n(ug)}function HP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Sm(this),e,...t);return fx.set(r,e.sort?e.sort():[e]),Wi(r)}:$P().includes(n)?function(...e){return n.apply(Sm(this),e),Wi(dx.get(this))}:function(...e){return Wi(n.apply(Sm(this),e))}}function qP(n){return typeof n=="function"?HP(n):(n instanceof IDBTransaction&&zP(n),jP(n,UP())?new Proxy(n,ug):n)}function Wi(n){if(n instanceof IDBRequest)return BP(n);if(Im.has(n))return Im.get(n);const e=qP(n);return e!==n&&(Im.set(n,e),Xg.set(e,n)),e}const Sm=n=>Xg.get(n);function hx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=Wi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Wi(l.result),f.oldVersion,f.newVersion,Wi(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const GP=["get","getKey","getAll","getAllKeys","count"],KP=["put","add","delete","clear"],bm=new Map;function c0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=KP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GP.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return bm.set(e,a),a}WP(n=>({...n,get:(e,t,r)=>c0(e,t)||n.get(e,t,r),has:(e,t)=>!!c0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function QP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cg="@firebase/app",d0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new nh("@firebase/app"),XP="@firebase/app-compat",JP="@firebase/analytics-compat",ZP="@firebase/analytics",ek="@firebase/app-check-compat",tk="@firebase/app-check",nk="@firebase/auth",rk="@firebase/auth-compat",ok="@firebase/database",ik="@firebase/data-connect",sk="@firebase/database-compat",ak="@firebase/functions",lk="@firebase/functions-compat",uk="@firebase/installations",ck="@firebase/installations-compat",dk="@firebase/messaging",fk="@firebase/messaging-compat",hk="@firebase/performance",pk="@firebase/performance-compat",mk="@firebase/remote-config",gk="@firebase/remote-config-compat",yk="@firebase/storage",vk="@firebase/storage-compat",wk="@firebase/firestore",_k="@firebase/vertexai",Ek="@firebase/firestore-compat",Tk="firebase",xk="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",Ik={[cg]:"fire-core",[XP]:"fire-core-compat",[ZP]:"fire-analytics",[JP]:"fire-analytics-compat",[tk]:"fire-app-check",[ek]:"fire-app-check-compat",[nk]:"fire-auth",[rk]:"fire-auth-compat",[ok]:"fire-rtdb",[ik]:"fire-data-connect",[sk]:"fire-rtdb-compat",[ak]:"fire-fn",[lk]:"fire-fn-compat",[uk]:"fire-iid",[ck]:"fire-iid-compat",[dk]:"fire-fcm",[fk]:"fire-fcm-compat",[hk]:"fire-perf",[pk]:"fire-perf-compat",[mk]:"fire-rc",[gk]:"fire-rc-compat",[yk]:"fire-gcs",[vk]:"fire-gcs-compat",[wk]:"fire-fst",[Ek]:"fire-fst-compat",[_k]:"fire-vertex","fire-js":"fire-js",[Tk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Map,Sk=new Map,fg=new Map;function f0(n,e){try{n.container.addComponent(e)}catch(t){Ko.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wo(n){const e=n.name;if(fg.has(e))return Ko.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,n);for(const t of xf.values())f0(t,n);for(const t of Sk.values())f0(t,n);return!0}function ra(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new na("app","Firebase",bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=xk;function px(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(t||(t=sx()),!t)throw Hi.create("no-options");const a=xf.get(i);if(a){if(Yi(t,a.options)&&Yi(r,a.config))return a;throw Hi.create("duplicate-app",{appName:i})}const l=new OP(i);for(const f of fg.values())l.addComponent(f);const c=new Ck(t,r,l);return xf.set(i,c),c}function Jg(n=dg){const e=xf.get(n);if(!e&&n===dg&&sx())return px();if(!e)throw Hi.create("no-app",{appName:n});return e}function fr(n,e,t){var r;let i=(r=Ik[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ko.warn(c.join(" "));return}wo(new jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="firebase-heartbeat-database",Rk=1,Wu="firebase-heartbeat-store";let Cm=null;function mx(){return Cm||(Cm=hx(Ak,Rk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hi.create("idb-open",{originalErrorMessage:n.message})})),Cm}async function Pk(n){try{const t=(await mx()).transaction(Wu),r=await t.objectStore(Wu).get(gx(n));return await t.done,r}catch(e){if(e instanceof qr)Ko.warn(e.message);else{const t=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ko.warn(t.message)}}}async function h0(n,e){try{const r=(await mx()).transaction(Wu,"readwrite");await r.objectStore(Wu).put(e,gx(n)),await r.done}catch(t){if(t instanceof qr)Ko.warn(t.message);else{const r=Hi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ko.warn(r.message)}}}function gx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=1024,Nk=30;class Dk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=p0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Nk){const l=Lk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ko.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=p0(),{heartbeatsToSend:r,unsentEntries:i}=Ok(this._heartbeatsCache.heartbeats),a=Tf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ko.warn(t),""}}}function p0(){return new Date().toISOString().substring(0,10)}function Ok(n,e=kk){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),m0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),m0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Mk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ux()?cx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Pk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m0(n){return Tf(JSON.stringify({version:2,heartbeats:n})).length}function Lk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n){wo(new jr("platform-logger",e=>new YP(e),"PRIVATE")),wo(new jr("heartbeat",e=>new Dk(e),"PRIVATE")),fr(cg,d0,n),fr(cg,d0,"esm2017"),fr("fire-js","")}Vk("");const yx="@firebase/installations",Zg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=1e4,wx=`w:${Zg}`,_x="FIS_v2",Fk="https://firebaseinstallations.googleapis.com/v1",jk=60*60*1e3,Uk="installations",$k="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$s=new na(Uk,$k,Bk);function Ex(n){return n instanceof qr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx({projectId:n}){return`${Fk}/projects/${n}/installations`}function xx(n){return{token:n.token,requestStatus:2,expiresIn:Wk(n.expiresIn),creationTime:Date.now()}}async function Ix(n,e){const r=(await e.json()).error;return $s.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Sx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function zk(n,{refreshToken:e}){const t=Sx(n);return t.append("Authorization",Hk(e)),t}async function bx(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Wk(n){return Number(n.replace("s","000"))}function Hk(n){return`${_x} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Tx(n),i=Sx(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:t,authVersion:_x,appId:n.appId,sdkVersion:wx},c={method:"POST",headers:i,body:JSON.stringify(l)},f=await bx(()=>fetch(r,c));if(f.ok){const p=await f.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:xx(p.authToken)}}else throw await Ix("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=/^[cdef][\w-]{21}$/,hg="";function Yk(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Qk(n);return Kk.test(t)?t:hg}catch{return hg}}function Qk(n){return Gk(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map;function Rx(n,e){const t=rh(n);Px(t,e),Xk(t,e)}function Px(n,e){const t=Ax.get(n);if(t)for(const r of t)r(e)}function Xk(n,e){const t=Jk();t&&t.postMessage({key:n,fid:e}),Zk()}let Fs=null;function Jk(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=n=>{Px(n.data.key,n.data.fid)}),Fs}function Zk(){Ax.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebase-installations-database",tN=1,Bs="firebase-installations-store";let Am=null;function ey(){return Am||(Am=hx(eN,tN,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Bs)}}})),Am}async function If(n,e){const t=rh(n),i=(await ey()).transaction(Bs,"readwrite"),a=i.objectStore(Bs),l=await a.get(t);return await a.put(e,t),await i.done,(!l||l.fid!==e.fid)&&Rx(n,e.fid),e}async function kx(n){const e=rh(n),r=(await ey()).transaction(Bs,"readwrite");await r.objectStore(Bs).delete(e),await r.done}async function oh(n,e){const t=rh(n),i=(await ey()).transaction(Bs,"readwrite"),a=i.objectStore(Bs),l=await a.get(t),c=e(l);return c===void 0?await a.delete(t):await a.put(c,t),await i.done,c&&(!l||l.fid!==c.fid)&&Rx(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ty(n){let e;const t=await oh(n.appConfig,r=>{const i=nN(r),a=rN(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===hg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function nN(n){const e=n||{fid:Yk(),registrationStatus:0};return Nx(e)}function rN(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject($s.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=oN(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iN(n)}:{installationEntry:e}}async function oN(n,e){try{const t=await qk(n,e);return If(n.appConfig,t)}catch(t){throw Ex(t)&&t.customData.serverCode===409?await kx(n.appConfig):await If(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function iN(n){let e=await g0(n.appConfig);for(;e.registrationStatus===1;)await Cx(100),e=await g0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await ty(n);return r||t}return e}function g0(n){return oh(n,e=>{if(!e)throw $s.create("installation-not-found");return Nx(e)})}function Nx(n){return sN(n)?{fid:n.fid,registrationStatus:0}:n}function sN(n){return n.registrationStatus===1&&n.registrationTime+vx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN({appConfig:n,heartbeatServiceProvider:e},t){const r=lN(n,t),i=zk(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:wx,appId:n.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},f=await bx(()=>fetch(r,c));if(f.ok){const p=await f.json();return xx(p)}else throw await Ix("Generate Auth Token",f)}function lN(n,{fid:e}){return`${Tx(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ny(n,e=!1){let t;const r=await oh(n.appConfig,a=>{if(!Dx(a))throw $s.create("not-registered");const l=a.authToken;if(!e&&dN(l))return a;if(l.requestStatus===1)return t=uN(n,e),a;{if(!navigator.onLine)throw $s.create("app-offline");const c=hN(a);return t=cN(n,c),c}});return t?await t:r.authToken}async function uN(n,e){let t=await y0(n.appConfig);for(;t.authToken.requestStatus===1;)await Cx(100),t=await y0(n.appConfig);const r=t.authToken;return r.requestStatus===0?ny(n,e):r}function y0(n){return oh(n,e=>{if(!Dx(e))throw $s.create("not-registered");const t=e.authToken;return pN(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function cN(n,e){try{const t=await aN(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await If(n.appConfig,r),t}catch(t){if(Ex(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await kx(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await If(n.appConfig,r)}throw t}}function Dx(n){return n!==void 0&&n.registrationStatus===2}function dN(n){return n.requestStatus===2&&!fN(n)}function fN(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+jk}function hN(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function pN(n){return n.requestStatus===1&&n.requestTime+vx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n){const e=n,{installationEntry:t,registrationPromise:r}=await ty(e);return r?r.catch(console.error):ny(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(n,e=!1){const t=n;return await yN(t),(await ny(t,e)).token}async function yN(n){const{registrationPromise:e}=await ty(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){if(!n||!n.options)throw Rm("App Configuration");if(!n.name)throw Rm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Rm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Rm(n){return $s.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="installations",wN="installations-internal",_N=n=>{const e=n.getProvider("app").getImmediate(),t=vN(e),r=ra(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},EN=n=>{const e=n.getProvider("app").getImmediate(),t=ra(e,Ox).getImmediate();return{getId:()=>mN(t),getToken:i=>gN(t,i)}};function TN(){wo(new jr(Ox,_N,"PUBLIC")),wo(new jr(wN,EN,"PRIVATE"))}TN();fr(yx,Zg);fr(yx,Zg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="analytics",xN="firebase_id",IN="origin",SN=60*1e3,bN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ry="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new nh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zn=new na("analytics","Analytics",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n){if(!n.startsWith(ry)){const e=Zn.create("invalid-gtag-resource",{gtagURL:n});return Fn.warn(e.message),""}return n}function Mx(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function RN(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function PN(n,e){const t=RN("firebase-js-sdk-policy",{createScriptURL:AN}),r=document.createElement("script"),i=`${ry}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function kN(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function NN(n,e,t,r,i,a){const l=r[i];try{if(l)await e[l];else{const f=(await Mx(t)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(c){Fn.error(c)}n("config",i,a)}async function DN(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await Mx(t);for(const f of l){const p=c.find(g=>g.measurementId===f),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){Fn.error(a)}}function ON(n,e,t,r){async function i(a,...l){try{if(a==="event"){const[c,f]=l;await DN(n,e,t,c,f)}else if(a==="config"){const[c,f]=l;await NN(n,e,t,r,c,f)}else if(a==="consent"){const[c,f]=l;n("consent",c,f)}else if(a==="get"){const[c,f,p]=l;n("get",c,f,p)}else if(a==="set"){const[c]=l;n("set",c)}else n(a,...l)}catch(c){Fn.error(c)}}return i}function MN(n,e,t,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=ON(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function LN(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ry)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=30,FN=1e3;class jN{constructor(e={},t=FN){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Lx=new jN;function UN(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function $N(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:UN(r)},a=bN.replace("{app-id}",t),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();!((e=f.error)===null||e===void 0)&&e.message&&(c=f.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function BN(n,e=Lx,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Zn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Zn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new HN;return setTimeout(async()=>{c.abort()},SN),Vx({appId:r,apiKey:i,measurementId:a},l,c,e)}async function Vx(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Lx){var a;const{appId:l,measurementId:c}=n;try{await zN(r,e)}catch(f){if(c)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw f}try{const f=await $N(n);return i.deleteThrottleMetadata(l),f}catch(f){const p=f;if(!WN(p)){if(i.deleteThrottleMetadata(l),c)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:c};throw f}const y=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?a0(t,i.intervalMillis,VN):a0(t,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(l,g),Fn.debug(`Calling attemptFetch again in ${y} millis`),Vx(n,g,r,i)}}function zN(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WN(n){if(!(n instanceof qr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class HN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qN(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(){if(ux())try{await cx()}catch(n){return Fn.warn(Zn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Fn.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function KN(n,e,t,r,i,a,l){var c;const f=BN(n);f.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>Fn.error(I)),e.push(f);const p=GN().then(I=>{if(I)return r.getId()}),[y,g]=await Promise.all([f,p]);LN(a)||PN(a,y.measurementId),i("js",new Date);const T=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return T[IN]="firebase",T.update=!0,g!=null&&(T[xN]=g),i("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.app=e}_delete(){return delete Lu[this.app.options.appId],Promise.resolve()}}let Lu={},v0=[];const w0={};let Pm="dataLayer",QN="gtag",_0,Fx,E0=!1;function XN(){const n=[];if(lx()&&n.push("This is a browser extension environment."),wP()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Zn.create("invalid-analytics-context",{errorInfo:e});Fn.warn(t.message)}}function JN(n,e,t){XN();const r=n.options.appId;if(!r)throw Zn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zn.create("no-api-key");if(Lu[r]!=null)throw Zn.create("already-exists",{id:r});if(!E0){kN(Pm);const{wrappedGtag:a,gtagCore:l}=MN(Lu,v0,w0,Pm,QN);Fx=a,_0=l,E0=!0}return Lu[r]=KN(n,v0,w0,e,_0,Pm,t),new YN(n)}function ZN(n=Jg()){n=xt(n);const e=ra(n,Sf);return e.isInitialized()?e.getImmediate():eD(n)}function eD(n,e={}){const t=ra(n,Sf);if(t.isInitialized()){const i=t.getImmediate();if(Yi(e,t.getOptions()))return i;throw Zn.create("already-initialized")}return t.initialize({options:e})}function tD(n,e,t,r){n=xt(n),qN(Fx,Lu[n.app.options.appId],e,t,r).catch(i=>Fn.error(i))}const T0="@firebase/analytics",x0="0.10.12";function nD(){wo(new jr(Sf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return JN(r,i,t)},"PUBLIC")),wo(new jr("analytics-internal",n,"PRIVATE")),fr(T0,x0),fr(T0,x0,"esm2017");function n(e){try{const t=e.getProvider(Sf).getImmediate();return{logEvent:(r,i,a)=>tD(t,r,i,a)}}catch(t){throw Zn.create("interop-component-reg-failed",{reason:t})}}}nD();var po=function(){return po=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},po.apply(this,arguments)};function sc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function rD(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function jx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oD=jx,Ux=new na("auth","Firebase",jx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new nh("@firebase/auth");function iD(n,...e){bf.logLevel<=He.WARN&&bf.warn(`Auth (${Il}): ${n}`,...e)}function sf(n,...e){bf.logLevel<=He.ERROR&&bf.error(`Auth (${Il}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(n,...e){throw iy(n,...e)}function Fr(n,...e){return iy(n,...e)}function oy(n,e,t){const r=Object.assign(Object.assign({},oD()),{[e]:t});return new na("auth","Firebase",r).create(e,{appName:n.name})}function Wo(n){return oy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sD(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&mr(n,"argument-error"),oy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ux.create(n,...e)}function Oe(n,e,...t){if(!n)throw iy(e,...t)}function Bo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sf(e),new Error(e)}function Yo(n,e){n||Bo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function aD(){return I0()==="http:"||I0()==="https:"}function I0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aD()||lx()||"connection"in navigator)?navigator.onLine:!0}function uD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yo(t>e,"Short delay should be less than long delay!"),this.isMobile=hP()||gP()}get(){return lD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n,e){Yo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fD=new ac(3e4,6e4);function is(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ni(n,e,t,r,i={}){return Bx(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=ic(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return mP()||(p.referrerPolicy="no-referrer"),$x.fetch()(await zx(n,n.config.apiHost,t,c),p)})}async function Bx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},cD),e);try{const i=new pD(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw jd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw jd(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw jd(n,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oy(n,y,p);mr(n,y)}}catch(i){if(i instanceof qr)throw i;mr(n,"network-request-failed",{message:String(i)})}}async function lc(n,e,t,r,i={}){const a=await ni(n,e,t,r,i);return"mfaPendingCredential"in a&&mr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function zx(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?sy(n.config,i):`${n.config.apiScheme}://${i}`;return dD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function hD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),fD.get())})}}function jd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fr(n,e,r);return i.customData._tokenResponse=t,i}function S0(n){return n!==void 0&&n.enterprise!==void 0}class mD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gD(n,e){return ni(n,"GET","/v2/recaptchaConfig",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(n,e){return ni(n,"POST","/v1/accounts:delete",e)}async function Cf(n,e){return ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vD(n,e=!1){const t=xt(n),r=await t.getIdToken(e),i=ih(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Vu(km(i.auth_time)),issuedAtTime:Vu(km(i.iat)),expirationTime:Vu(km(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function km(n){return Number(n)*1e3}function ih(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const i=ox(t);return i?JSON.parse(i):(sf("Failed to decode base64 JWT payload"),null)}catch(i){return sf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function b0(n){const e=ih(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qr&&wD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function wD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(n){var e;const t=n.auth,r=await n.getIdToken(),i=await pl(n,Cf(t,{idToken:r}));Oe(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Wx(a.providerUserInfo):[],c=TD(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),y=f?p:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new mg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,g)}async function ED(n){const e=xt(n);await Af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TD(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Wx(n){return n.map(e=>{var{providerId:t}=e,r=sc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e){const t=await Bx(n,{},async()=>{const r=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await zx(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",$x.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ID(n,e){return ni(n,"POST","/v2/accounts:revokeToken",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=b0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await xD(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new sl;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Oe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return Bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=sc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await pl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return vD(this,e)}reload(){return ED(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Af(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Wo(this.auth));const e=await this.getIdToken();return await pl(this,yD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,f,p,y;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,A=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,z=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:U,emailVerified:q,isAnonymous:J,providerData:ee,stsTokenManager:k}=t;Oe(U&&k,e,"internal-error");const R=sl.fromJSON(this.name,k);Oe(typeof U=="string",e,"internal-error"),Oi(g,e.name),Oi(T,e.name),Oe(typeof q=="boolean",e,"internal-error"),Oe(typeof J=="boolean",e,"internal-error"),Oi(I,e.name),Oi(S,e.name),Oi(A,e.name),Oi(b,e.name),Oi(D,e.name),Oi(z,e.name);const N=new Vr({uid:U,auth:e,email:T,emailVerified:q,displayName:g,isAnonymous:J,photoURL:S,phoneNumber:I,tenantId:A,stsTokenManager:R,createdAt:D,lastLoginAt:z});return ee&&Array.isArray(ee)&&(N.providerData=ee.map(M=>Object.assign({},M))),b&&(N._redirectEventId=b),N}static async _fromIdTokenResponse(e,t,r=!1){const i=new sl;i.updateFromServerResponse(t);const a=new Vr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Af(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Oe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Wx(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new sl;c.updateFromIdToken(r);const f=new Vr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;function zo(n){Yo(n instanceof Function,"Expected a class definition");let e=C0.get(n);return e?(Yo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,C0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hx.type="NONE";const A0=Hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(n,e,t){return`firebase:${n}:${e}:${t}`}class al{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=af(this.userKey,i.apiKey,a),this.fullPersistenceKey=af("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cf(this.auth,{idToken:e}).catch(()=>{});return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new al(zo(A0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||zo(A0);const l=af(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const y=await p._get(l);if(y){let g;if(typeof y=="string"){const T=await Cf(e,{idToken:y}).catch(()=>{});if(!T)break;g=await Vr._fromGetAccountInfoResponse(e,T,y)}else g=Vr._fromJSON(e,y);p!==a&&(c=g),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new al(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new al(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xx(e))return"Blackberry";if(Jx(e))return"Webos";if(Gx(e))return"Safari";if((e.includes("chrome/")||Kx(e))&&!e.includes("edge/"))return"Chrome";if(Qx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qx(n=dn()){return/firefox\//i.test(n)}function Gx(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kx(n=dn()){return/crios\//i.test(n)}function Yx(n=dn()){return/iemobile/i.test(n)}function Qx(n=dn()){return/android/i.test(n)}function Xx(n=dn()){return/blackberry/i.test(n)}function Jx(n=dn()){return/webos/i.test(n)}function ay(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SD(n=dn()){var e;return ay(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bD(){return yP()&&document.documentMode===10}function Zx(n=dn()){return ay(n)||Qx(n)||Jx(n)||Xx(n)||/windows phone/i.test(n)||Yx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n,e=[]){let t;switch(n){case"Browser":t=R0(dn());break;case"Worker":t=`${R0(dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(n,e={}){return ni(n,"GET","/v2/passwordPolicy",is(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=6;class PD{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:RD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new CD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zo(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cf(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Af(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Wo(this));const t=e?xt(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AD(this),t=new PD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ID(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zo(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[zo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&iD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ss(n){return xt(n)}class P0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IP(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ND(n){sh=n}function tI(n){return sh.loadJS(n)}function DD(){return sh.recaptchaEnterpriseScript}function OD(){return sh.gapiScript}function MD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class LD{constructor(){this.enterprise=new VD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const FD="recaptcha-enterprise",nI="NO_RECAPTCHA";class jD{constructor(e){this.type=FD,this.auth=ss(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{gD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new mD(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function i(a,l,c){const f=window.grecaptcha;S0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(nI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LD().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&S0(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=DD();f.length!==0&&(f+=c),tI(f).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function k0(n,e,t,r=!1,i=!1){const a=new jD(n);let l;if(i)l=nI;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function gg(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await k0(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await k0(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n,e){const t=ra(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Yi(a,e??{}))return i;mr(i,"already-initialized")}return t.initialize({options:e})}function $D(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(zo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BD(n,e,t){const r=ss(n);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=rI(e),{host:l,port:c}=zD(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Yi(p,r.config.emulator)&&Yi(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,WD()}function rI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zD(n){const e=rI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:N0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:N0(l)}}}function N0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bo("not implemented")}_getIdTokenResponse(e){return Bo("not implemented")}_linkToIdToken(e,t){return Bo("not implemented")}_getReauthenticationResolver(e){return Bo("not implemented")}}async function HD(n,e){return ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,e){return lc(n,"POST","/v1/accounts:signInWithPassword",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(n,e){return lc(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))}async function KD(n,e){return lc(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends ly{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Hu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,t,"signInWithPassword",qD);case"emailLink":return GD(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,r,"signUpPassword",HD);case"emailLink":return KD(e,{idToken:t,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n,e){return lc(n,"POST","/v1/accounts:signInWithIdp",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="http://localhost";class zs extends ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=sc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new zs(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ll(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ll(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ll(e,t)}buildRequest(){const e={requestUri:YD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ic(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XD(n){const e=Ru(Pu(n)).link,t=e?Ru(Pu(e)).deep_link_id:null,r=Ru(Pu(n)).deep_link_id;return(r?Ru(Pu(r)).link:null)||r||t||e||n}class uy{constructor(e){var t,r,i,a,l,c;const f=Ru(Pu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,g=QD((i=f.mode)!==null&&i!==void 0?i:null);Oe(p&&y&&g,"argument-error"),this.apiKey=p,this.operation=g,this.code=y,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=XD(e);try{return new uy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,t){return Hu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=uy.parseLink(t);return Oe(r,"argument-error"),Hu._fromEmailAndCode(e,r.code,r.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends cy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends uc{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zs._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $o.credential(t,r)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends uc{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends uc{constructor(){super("twitter.com")}static credential(e,t){return zs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,e){return lc(n,"POST","/v1/accounts:signUp",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Vr._fromIdTokenResponse(e,r,i),l=D0(r);return new Ws({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=D0(r);return new Ws({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function D0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends qr{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Rf(e,t,r,i)}}function oI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(n,a,e,r):a})}async function ZD(n,e,t=!1){const r=await pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ws._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(n,e,t=!1){const{auth:r}=n;if(Xn(r.app))return Promise.reject(Wo(r));const i="reauthenticate";try{const a=await pl(n,oI(r,i,e,n),t);Oe(a.idToken,r,"internal-error");const l=ih(a.idToken);Oe(l,r,"internal-error");const{sub:c}=l;return Oe(n.uid===c,r,"user-mismatch"),Ws._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(n,e,t=!1){if(Xn(n.app))return Promise.reject(Wo(n));const r="signIn",i=await oI(n,r,e),a=await Ws._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function tO(n,e){return iI(ss(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(n){const e=ss(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nO(n,e,t){if(Xn(n.app))return Promise.reject(Wo(n));const r=ss(n),l=await gg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&sI(n),f}),c=await Ws._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function rO(n,e,t){return Xn(n.app)?Promise.reject(Wo(n)):tO(xt(n),Sl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,e){return ni(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=xt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await pl(r,oO(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=ih(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new ul(a,c)}}if(!r)return null;switch(r){case"facebook.com":return new aO(a,i);case"github.com":return new lO(a,i);case"google.com":return new uO(a,i);case"twitter.com":return new cO(a,i,n.screenName||null);case"custom":case"anonymous":return new ul(a,null);default:return new ul(a,r,i)}}class ul{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class aI extends ul{constructor(e,t,r,i){super(e,t,r),this.username=i}}class aO extends ul{constructor(e,t){super(e,"facebook.com",t)}}class lO extends aI{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class uO extends ul{constructor(e,t){super(e,"google.com",t)}}class cO extends aI{constructor(e,t,r){super(e,"twitter.com",t,r)}}function dO(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:sO(t)}function fO(n,e,t,r){return xt(n).onIdTokenChanged(e,t,r)}function hO(n,e,t){return xt(n).beforeAuthStateChanged(e,t)}function pO(n,e,t,r){return xt(n).onAuthStateChanged(e,t,r)}function mO(n){return xt(n).signOut()}async function gO(n){return xt(n).delete()}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=1e3,vO=10;class uI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);bD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vO):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},yO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uI.type="LOCAL";const wO=uI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cI.type="SESSION";const dI=cI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await _O(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=dy("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const T=g;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(){return window}function TO(n){mo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return typeof mo().WorkerGlobalScope<"u"&&typeof mo().importScripts=="function"}async function xO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function SO(){return fI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",bO=1,kf="firebaseLocalStorage",pI="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lh(n,e){return n.transaction([kf],e?"readwrite":"readonly").objectStore(kf)}function CO(){const n=indexedDB.deleteDatabase(hI);return new cc(n).toPromise()}function yg(){const n=indexedDB.open(hI,bO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kf,{keyPath:pI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(kf)?e(r):(r.close(),await CO(),e(await yg()))})})}async function O0(n,e,t){const r=lh(n,!0).put({[pI]:e,value:t});return new cc(r).toPromise()}async function AO(n,e){const t=lh(n,!1).get(e),r=await new cc(t).toPromise();return r===void 0?null:r.value}function M0(n,e){const t=lh(n,!0).delete(e);return new cc(t).toPromise()}const RO=800,PO=3;class mI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>PO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(SO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xO(),!this.activeServiceWorker)return;this.sender=new EO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await O0(e,Pf,"1"),await M0(e,Pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>O0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>AO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>M0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=lh(i,!1).getAll();return new cc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mI.type="LOCAL";const kO=mI;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n,e){return e?zo(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NO(n){return iI(n.auth,new fy(n),n.bypassAuthState)}function DO(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),eO(t,new fy(n),n.bypassAuthState)}async function OO(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),ZD(t,new fy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NO;case"linkViaPopup":case"linkViaRedirect":return OO;case"reauthViaPopup":case"reauthViaRedirect":return DO;default:mr(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new ac(2e3,1e4);async function LO(n,e,t){if(Xn(n.app))return Promise.reject(Fr(n,"operation-not-supported-in-this-environment"));const r=ss(n);sD(n,e,cy);const i=gI(r,t);return new js(r,"signInViaPopup",e,i).executeNotNull()}class js extends yI{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Yo(this.filter.length===1,"Popup operations only handle one event");const e=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MO.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="pendingRedirect",lf=new Map;class FO extends yI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=lf.get(this.auth._key());if(!e){try{const r=await jO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jO(n,e){const t=BO(e),r=$O(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function UO(n,e){lf.set(n._key(),e)}function $O(n){return zo(n._redirectPersistence)}function BO(n){return af(VO,n.config.apiKey,n.name)}async function zO(n,e,t=!1){if(Xn(n.app))return Promise.reject(Wo(n));const r=ss(n),i=gI(r,e),l=await new FO(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=10*60*1e3;class HO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WO&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(n,e={}){return ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YO=/^https?/;async function QO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GO(n);for(const t of e)try{if(XO(t))return}catch{}mr(n,"unauthorized-domain")}function XO(n){const e=pg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!YO.test(t))return!1;if(KO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new ac(3e4,6e4);function V0(){const n=mo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ZO(n){return new Promise((e,t)=>{var r,i,a;function l(){V0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V0(),t(Fr(n,"network-request-failed"))},timeout:JO.get()})}if(!((i=(r=mo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=mo().gapi)===null||a===void 0)&&a.load)l();else{const c=MD("iframefcb");return mo()[c]=()=>{gapi.load?l():t(Fr(n,"network-request-failed"))},tI(`${OD()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw uf=null,e})}let uf=null;function e2(n){return uf=uf||ZO(n),uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new ac(5e3,15e3),n2="__/auth/iframe",r2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s2(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sy(e,r2):`https://${n.config.authDomain}/${n2}`,r={apiKey:e.apiKey,appName:n.name,v:Il},i=i2.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ic(r).slice(1)}`}async function a2(n){const e=await e2(n),t=mo().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:s2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Fr(n,"network-request-failed"),c=mo().setTimeout(()=>{a(l)},t2.get());function f(){mo().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u2=500,c2=600,d2="_blank",f2="http://localhost";class F0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h2(n,e,t,r=u2,i=c2){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},l2),{width:r.toString(),height:i.toString(),top:a,left:l}),p=dn().toLowerCase();t&&(c=Kx(p)?d2:t),qx(p)&&(e=e||f2,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[I,S])=>`${T}${I}=${S},`,"");if(SD(p)&&c!=="_self")return p2(e||"",c),new F0(null);const g=window.open(e||"",c,y);Oe(g,n,"popup-blocked");try{g.focus()}catch{}return new F0(g)}function p2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="__/auth/handler",g2="emulator/auth/handler",y2=encodeURIComponent("fac");async function j0(n,e,t,r,i,a){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Il,eventId:i};if(e instanceof cy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",xP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))l[y]=g}if(e instanceof uc){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const f=await n._getAppCheckToken(),p=f?`#${y2}=${encodeURIComponent(f)}`:"";return`${v2(n)}?${ic(c).slice(1)}${p}`}function v2({config:n}){return n.emulator?sy(n,g2):`https://${n.authDomain}/${m2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class w2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dI,this._completeRedirectFn=zO,this._overrideRedirectResult=UO}async _openPopup(e,t,r,i){var a;Yo((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await j0(e,t,r,pg(),i);return h2(e,l,dy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await j0(e,t,r,pg(),i);return TO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Yo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await a2(e),r=new HO(e);return t.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Nm];l!==void 0&&t(!!l),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zx()||Gx()||ay()}}const _2=w2;var U0="@firebase/auth",$0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(n){wo(new jr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eI(n)},p=new kD(r,i,a,f);return $D(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wo(new jr("auth-internal",e=>{const t=ss(e.getProvider("auth").getImmediate());return(r=>new E2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(U0,$0,T2(n)),fr(U0,$0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=5*60,S2=ax("authIdTokenMaxAge")||I2;let B0=null;const b2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>S2)return;const i=t==null?void 0:t.token;B0!==i&&(B0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function C2(n=Jg()){const e=ra(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UD(n,{popupRedirectResolver:_2,persistence:[kO,wO,dI]}),r=ax("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=b2(a.toString());hO(t,l,()=>l(t.currentUser)),fO(t,c=>l(c))}}const i=ix("auth");return i&&BD(t,`http://${i}`),t}function A2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ND({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Fr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",A2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,wI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function N(){}N.prototype=R.prototype,k.D=R.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(M,F,B){for(var O=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)O[Re-2]=arguments[Re];return R.prototype[F].apply(M,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,N){N||(N=0);var M=Array(16);if(typeof R=="string")for(var F=0;16>F;++F)M[F]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(F=0;16>F;++F)M[F]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=k.g[0],N=k.g[1],F=k.g[2];var B=k.g[3],O=R+(B^N&(F^B))+M[0]+3614090360&4294967295;R=N+(O<<7&4294967295|O>>>25),O=B+(F^R&(N^F))+M[1]+3905402710&4294967295,B=R+(O<<12&4294967295|O>>>20),O=F+(N^B&(R^N))+M[2]+606105819&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(R^F&(B^R))+M[3]+3250441966&4294967295,N=F+(O<<22&4294967295|O>>>10),O=R+(B^N&(F^B))+M[4]+4118548399&4294967295,R=N+(O<<7&4294967295|O>>>25),O=B+(F^R&(N^F))+M[5]+1200080426&4294967295,B=R+(O<<12&4294967295|O>>>20),O=F+(N^B&(R^N))+M[6]+2821735955&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(R^F&(B^R))+M[7]+4249261313&4294967295,N=F+(O<<22&4294967295|O>>>10),O=R+(B^N&(F^B))+M[8]+1770035416&4294967295,R=N+(O<<7&4294967295|O>>>25),O=B+(F^R&(N^F))+M[9]+2336552879&4294967295,B=R+(O<<12&4294967295|O>>>20),O=F+(N^B&(R^N))+M[10]+4294925233&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(R^F&(B^R))+M[11]+2304563134&4294967295,N=F+(O<<22&4294967295|O>>>10),O=R+(B^N&(F^B))+M[12]+1804603682&4294967295,R=N+(O<<7&4294967295|O>>>25),O=B+(F^R&(N^F))+M[13]+4254626195&4294967295,B=R+(O<<12&4294967295|O>>>20),O=F+(N^B&(R^N))+M[14]+2792965006&4294967295,F=B+(O<<17&4294967295|O>>>15),O=N+(R^F&(B^R))+M[15]+1236535329&4294967295,N=F+(O<<22&4294967295|O>>>10),O=R+(F^B&(N^F))+M[1]+4129170786&4294967295,R=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(R^N))+M[6]+3225465664&4294967295,B=R+(O<<9&4294967295|O>>>23),O=F+(R^N&(B^R))+M[11]+643717713&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^R&(F^B))+M[0]+3921069994&4294967295,N=F+(O<<20&4294967295|O>>>12),O=R+(F^B&(N^F))+M[5]+3593408605&4294967295,R=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(R^N))+M[10]+38016083&4294967295,B=R+(O<<9&4294967295|O>>>23),O=F+(R^N&(B^R))+M[15]+3634488961&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^R&(F^B))+M[4]+3889429448&4294967295,N=F+(O<<20&4294967295|O>>>12),O=R+(F^B&(N^F))+M[9]+568446438&4294967295,R=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(R^N))+M[14]+3275163606&4294967295,B=R+(O<<9&4294967295|O>>>23),O=F+(R^N&(B^R))+M[3]+4107603335&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^R&(F^B))+M[8]+1163531501&4294967295,N=F+(O<<20&4294967295|O>>>12),O=R+(F^B&(N^F))+M[13]+2850285829&4294967295,R=N+(O<<5&4294967295|O>>>27),O=B+(N^F&(R^N))+M[2]+4243563512&4294967295,B=R+(O<<9&4294967295|O>>>23),O=F+(R^N&(B^R))+M[7]+1735328473&4294967295,F=B+(O<<14&4294967295|O>>>18),O=N+(B^R&(F^B))+M[12]+2368359562&4294967295,N=F+(O<<20&4294967295|O>>>12),O=R+(N^F^B)+M[5]+4294588738&4294967295,R=N+(O<<4&4294967295|O>>>28),O=B+(R^N^F)+M[8]+2272392833&4294967295,B=R+(O<<11&4294967295|O>>>21),O=F+(B^R^N)+M[11]+1839030562&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^R)+M[14]+4259657740&4294967295,N=F+(O<<23&4294967295|O>>>9),O=R+(N^F^B)+M[1]+2763975236&4294967295,R=N+(O<<4&4294967295|O>>>28),O=B+(R^N^F)+M[4]+1272893353&4294967295,B=R+(O<<11&4294967295|O>>>21),O=F+(B^R^N)+M[7]+4139469664&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^R)+M[10]+3200236656&4294967295,N=F+(O<<23&4294967295|O>>>9),O=R+(N^F^B)+M[13]+681279174&4294967295,R=N+(O<<4&4294967295|O>>>28),O=B+(R^N^F)+M[0]+3936430074&4294967295,B=R+(O<<11&4294967295|O>>>21),O=F+(B^R^N)+M[3]+3572445317&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^R)+M[6]+76029189&4294967295,N=F+(O<<23&4294967295|O>>>9),O=R+(N^F^B)+M[9]+3654602809&4294967295,R=N+(O<<4&4294967295|O>>>28),O=B+(R^N^F)+M[12]+3873151461&4294967295,B=R+(O<<11&4294967295|O>>>21),O=F+(B^R^N)+M[15]+530742520&4294967295,F=B+(O<<16&4294967295|O>>>16),O=N+(F^B^R)+M[2]+3299628645&4294967295,N=F+(O<<23&4294967295|O>>>9),O=R+(F^(N|~B))+M[0]+4096336452&4294967295,R=N+(O<<6&4294967295|O>>>26),O=B+(N^(R|~F))+M[7]+1126891415&4294967295,B=R+(O<<10&4294967295|O>>>22),O=F+(R^(B|~N))+M[14]+2878612391&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~R))+M[5]+4237533241&4294967295,N=F+(O<<21&4294967295|O>>>11),O=R+(F^(N|~B))+M[12]+1700485571&4294967295,R=N+(O<<6&4294967295|O>>>26),O=B+(N^(R|~F))+M[3]+2399980690&4294967295,B=R+(O<<10&4294967295|O>>>22),O=F+(R^(B|~N))+M[10]+4293915773&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~R))+M[1]+2240044497&4294967295,N=F+(O<<21&4294967295|O>>>11),O=R+(F^(N|~B))+M[8]+1873313359&4294967295,R=N+(O<<6&4294967295|O>>>26),O=B+(N^(R|~F))+M[15]+4264355552&4294967295,B=R+(O<<10&4294967295|O>>>22),O=F+(R^(B|~N))+M[6]+2734768916&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~R))+M[13]+1309151649&4294967295,N=F+(O<<21&4294967295|O>>>11),O=R+(F^(N|~B))+M[4]+4149444226&4294967295,R=N+(O<<6&4294967295|O>>>26),O=B+(N^(R|~F))+M[11]+3174756917&4294967295,B=R+(O<<10&4294967295|O>>>22),O=F+(R^(B|~N))+M[2]+718787259&4294967295,F=B+(O<<15&4294967295|O>>>17),O=N+(B^(F|~R))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+B&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var N=R-this.blockSize,M=this.B,F=this.h,B=0;B<R;){if(F==0)for(;B<=N;)i(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<R;)if(M[F++]=k.charCodeAt(B++),F==this.blockSize){i(this,M),F=0;break}}else for(;B<R;)if(M[F++]=k[B++],F==this.blockSize){i(this,M),F=0;break}}this.h=F,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var N=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=N&255,N/=256;for(this.u(k),k=Array(16),R=N=0;4>R;++R)for(var M=0;32>M;M+=8)k[N++]=this.g[R]>>>M&255;return k};function a(k,R){var N=c;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=R(k)}function l(k,R){this.h=R;for(var N=[],M=!0,F=k.length-1;0<=F;F--){var B=k[F]|0;M&&B==R||(N[F]=B,M=!1)}this.g=N}var c={};function f(k){return-128<=k&&128>k?a(k,function(R){return new l([R|0],0>R?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return g;if(0>k)return b(p(-k));for(var R=[],N=1,M=0;k>=N;M++)R[M]=k/N|0,N*=4294967296;return new l(R,0)}function y(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return b(y(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(R,8)),M=g,F=0;F<k.length;F+=8){var B=Math.min(8,k.length-F),O=parseInt(k.substring(F,F+B),R);8>B?(B=p(Math.pow(R,B)),M=M.j(B).add(p(O))):(M=M.j(N),M=M.add(p(O)))}return M}var g=f(0),T=f(1),I=f(16777216);n=l.prototype,n.m=function(){if(A(this))return-b(this).m();for(var k=0,R=1,N=0;N<this.g.length;N++){var M=this.i(N);k+=(0<=M?M:4294967296+M)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(A(this))return"-"+b(this).toString(k);for(var R=p(Math.pow(k,6)),N=this,M="";;){var F=q(N,R).g;N=D(N,F.j(R));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(k);if(N=F,S(N))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function A(k){return k.h==-1}n.l=function(k){return k=D(this,k),A(k)?-1:S(k)?0:1};function b(k){for(var R=k.g.length,N=[],M=0;M<R;M++)N[M]=~k.g[M];return new l(N,~k.h).add(T)}n.abs=function(){return A(this)?b(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),N=[],M=0,F=0;F<=R;F++){var B=M+(this.i(F)&65535)+(k.i(F)&65535),O=(B>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);M=O>>>16,B&=65535,O&=65535,N[F]=O<<16|B}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(k,R){return k.add(b(R))}n.j=function(k){if(S(this)||S(k))return g;if(A(this))return A(k)?b(this).j(b(k)):b(b(this).j(k));if(A(k))return b(this.j(b(k)));if(0>this.l(I)&&0>k.l(I))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,N=[],M=0;M<2*R;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<k.g.length;F++){var B=this.i(M)>>>16,O=this.i(M)&65535,Re=k.i(F)>>>16,Se=k.i(F)&65535;N[2*M+2*F]+=O*Se,z(N,2*M+2*F),N[2*M+2*F+1]+=B*Se,z(N,2*M+2*F+1),N[2*M+2*F+1]+=O*Re,z(N,2*M+2*F+1),N[2*M+2*F+2]+=B*Re,z(N,2*M+2*F+2)}for(M=0;M<R;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=R;M<2*R;M++)N[M]=0;return new l(N,0)};function z(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function U(k,R){this.g=k,this.h=R}function q(k,R){if(S(R))throw Error("division by zero");if(S(k))return new U(g,g);if(A(k))return R=q(b(k),R),new U(b(R.g),b(R.h));if(A(R))return R=q(k,b(R)),new U(b(R.g),R.h);if(30<k.g.length){if(A(k)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var N=T,M=R;0>=M.l(k);)N=J(N),M=J(M);var F=ee(N,1),B=ee(M,1);for(M=ee(M,2),N=ee(N,2);!S(M);){var O=B.add(M);0>=O.l(k)&&(F=F.add(N),B=O),M=ee(M,1),N=ee(N,1)}return R=D(k,F.j(R)),new U(F,R)}for(F=g;0<=k.l(R);){for(N=Math.max(1,Math.floor(k.m()/R.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=p(N),O=B.j(R);A(O)||0<O.l(k);)N-=M,B=p(N),O=B.j(R);S(B)&&(B=T),F=F.add(B),k=D(k,O)}return new U(F,k)}n.A=function(k){return q(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)&k.i(M);return new l(N,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)|k.i(M);return new l(N,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),N=[],M=0;M<R;M++)N[M]=this.i(M)^k.i(M);return new l(N,this.h^k.h)};function J(k){for(var R=k.g.length+1,N=[],M=0;M<R;M++)N[M]=k.i(M)<<1|k.i(M-1)>>>31;return new l(N,k.h)}function ee(k,R){var N=R>>5;R%=32;for(var M=k.g.length-N,F=[],B=0;B<M;B++)F[B]=0<R?k.i(B+N)>>>R|k.i(B+N+1)<<32-R:k.i(B+N);return new l(F,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,qi=l}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _I,ku,EI,cf,vg,TI,xI,II;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,x){return d==Array.prototype||d==Object.prototype||(d[v]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var v=0;v<d.length;++v){var x=d[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var x=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var G=d[P];if(!(G in x))break e;x=x[G]}d=d[d.length-1],P=x[d],v=v(P),v!=P&&v!=null&&e(x,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var x=0,P=!1,G={next:function(){if(!P&&x<d.length){var Z=x++;return{value:v(Z,d[Z]),done:!1}}return P=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return a(this,function(v,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,x){return d.call.apply(d.bind,arguments)}function g(d,v,x){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,P),d.apply(v,G)}}return function(){return d.apply(v,arguments)}}function T(d,v,x){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,T.apply(null,arguments)}function I(d,v){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function S(d,v){function x(){}x.prototype=v.prototype,d.aa=v.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(P,G,Z){for(var me=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)me[nt-2]=arguments[nt];return v.prototype[G].apply(P,me)}}function A(d){const v=d.length;if(0<v){const x=Array(v);for(let P=0;P<v;P++)x[P]=d[P];return x}return[]}function b(d,v){for(let x=1;x<arguments.length;x++){const P=arguments[x];if(f(P)){const G=d.length||0,Z=P.length||0;d.length=G+Z;for(let me=0;me<Z;me++)d[G+me]=P[me]}else d.push(P)}}class D{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var J=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ee(d,v,x){for(const P in d)v.call(x,d[P],P,d)}function k(d,v){for(const x in d)v.call(void 0,d[x],x,d)}function R(d){const v={};for(const x in d)v[x]=d[x];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let x,P;for(let G=1;G<arguments.length;G++){P=arguments[G];for(x in P)d[x]=P[x];for(let Z=0;Z<N.length;Z++)x=N[Z],Object.prototype.hasOwnProperty.call(P,x)&&(d[x]=P[x])}}function F(d){var v=1;d=d.split(":");const x=[];for(;0<v&&d.length;)x.push(d.shift()),v--;return d.length&&x.push(d.join(":")),x}function B(d){c.setTimeout(()=>{throw d},0)}function O(){var d=te;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Re{constructor(){this.h=this.g=null}add(v,x){const P=Se.get();P.set(v,x),this.h?this.h.next=P:this.g=P,this.h=P}}var Se=new D(()=>new fe,d=>d.reset());class fe{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,H=!1,te=new Re,re=()=>{const d=c.Promise.resolve(void 0);ge=()=>{d.then(j)}};var j=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(x){B(x)}var v=Se;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}H=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};c.addEventListener("test",x,v),c.removeEventListener("test",x,v)}catch{}return d}();function ie(d,v){if(X.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(J){e:{try{q(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else x=="mouseover"?v=d.fromElement:x=="mouseout"&&(v=d.toElement);this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ue[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ie.aa.h.call(this)}}S(ie,X);var ue={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function _e(d,v,x,P,G){this.listener=d,this.proxy=null,this.src=v,this.type=x,this.capture=!!P,this.ha=G,this.key=++Ce,this.da=this.fa=!1}function $e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function $t(d){this.src=d,this.g={},this.h=0}$t.prototype.add=function(d,v,x,P,G){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var me=tn(d,v,P,G);return-1<me?(v=d[me],x||(v.fa=!1)):(v=new _e(v,this.src,Z,!!P,G),v.fa=x,d.push(v)),v};function Gt(d,v){var x=v.type;if(x in d.g){var P=d.g[x],G=Array.prototype.indexOf.call(P,v,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(P,G,1),Z&&($e(v),d.g[x].length==0&&(delete d.g[x],d.h--))}}function tn(d,v,x,P){for(var G=0;G<d.length;++G){var Z=d[G];if(!Z.da&&Z.listener==v&&Z.capture==!!x&&Z.ha==P)return G}return-1}var En="closure_lm_"+(1e6*Math.random()|0),Jr={};function Zr(d,v,x,P,G){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Zr(d,v[Z],x,P,G);return null}return x=cs(x),d&&d[he]?d.K(v,x,p(P)?!!P.capture:!1,G):Un(d,v,x,!1,P,G)}function Un(d,v,x,P,G,Z){if(!v)throw Error("Invalid event type");var me=p(G)?!!G.capture:!!G,nt=$n(d);if(nt||(d[En]=nt=new $t(d)),x=nt.add(v,x,P,me,Z),x.proxy)return x;if(P=Io(),x.proxy=P,P.src=d,P.listener=x,d.addEventListener)se||(G=me),G===void 0&&(G=!1),d.addEventListener(v.toString(),P,G);else if(d.attachEvent)d.attachEvent(wr(v.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Io(){function d(x){return v.call(d.src,d.listener,x)}const v=Dt;return d}function It(d,v,x,P,G){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)It(d,v[Z],x,P,G);else P=p(P)?!!P.capture:!!P,x=cs(x),d&&d[he]?(d=d.i,v=String(v).toString(),v in d.g&&(Z=d.g[v],x=tn(Z,x,P,G),-1<x&&($e(Z[x]),Array.prototype.splice.call(Z,x,1),Z.length==0&&(delete d.g[v],d.h--)))):d&&(d=$n(d))&&(v=d.g[v.toString()],d=-1,v&&(d=tn(v,x,P,G)),(x=-1<d?v[d]:null)&&vr(x))}function vr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[he])Gt(v.i,d);else{var x=d.type,P=d.proxy;v.removeEventListener?v.removeEventListener(x,P,d.capture):v.detachEvent?v.detachEvent(wr(x),P):v.addListener&&v.removeListener&&v.removeListener(P),(x=$n(v))?(Gt(x,d),x.h==0&&(x.src=null,v[En]=null)):$e(d)}}}function wr(d){return d in Jr?Jr[d]:Jr[d]="on"+d}function Dt(d,v){if(d.da)d=!0;else{v=new ie(v,this);var x=d.listener,P=d.ha||d.src;d.fa&&vr(d),d=x.call(P,v)}return d}function $n(d){return d=d[En],d instanceof $t?d:null}var ai="__closure_events_fn_"+(1e9*Math.random()>>>0);function cs(d){return typeof d=="function"?d:(d[ai]||(d[ai]=function(v){return d.handleEvent(v)}),d[ai])}function dt(){V.call(this),this.i=new $t(this),this.M=this,this.F=null}S(dt,V),dt.prototype[he]=!0,dt.prototype.removeEventListener=function(d,v,x,P){It(this,d,v,x,P)};function St(d,v){var x,P=d.F;if(P)for(x=[];P;P=P.F)x.push(P);if(d=d.M,P=v.type||v,typeof v=="string")v=new X(v,d);else if(v instanceof X)v.target=v.target||d;else{var G=v;v=new X(P,d),M(v,G)}if(G=!0,x)for(var Z=x.length-1;0<=Z;Z--){var me=v.g=x[Z];G=tr(me,P,!0,v)&&G}if(me=v.g=d,G=tr(me,P,!0,v)&&G,G=tr(me,P,!1,v)&&G,x)for(Z=0;Z<x.length;Z++)me=v.g=x[Z],G=tr(me,P,!1,v)&&G}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var x=d.g[v],P=0;P<x.length;P++)$e(x[P]);delete d.g[v],d.h--}}this.F=null},dt.prototype.K=function(d,v,x,P){return this.i.add(String(d),v,!1,x,P)},dt.prototype.L=function(d,v,x,P){return this.i.add(String(d),v,!0,x,P)};function tr(d,v,x,P){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Z=0;Z<v.length;++Z){var me=v[Z];if(me&&!me.da&&me.capture==x){var nt=me.listener,Lt=me.ha||me.src;me.fa&&Gt(d.i,me),G=nt.call(Lt,P)!==!1&&G}}return G&&!P.defaultPrevented}function So(d,v,x){if(typeof d=="function")x&&(d=T(d,x));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function fn(d){d.g=So(()=>{d.g=null,d.i&&(d.i=!1,fn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class eo extends V{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(d){V.call(this),this.h=d,this.g={}}S(Tn,V);var ds=[];function fs(d){ee(d.g,function(v,x){this.g.hasOwnProperty(x)&&vr(v)},d),d.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),fs(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=c.JSON.stringify,ui=c.JSON.parse,hs=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function _r(){}_r.prototype.h=null;function hn(d){return d.h||(d.h=d.i())}function ci(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){X.call(this,"d")}S(Bn,X);function bo(){X.call(this,"c")}S(bo,X);var De={},ft=null;function ht(){return ft=ft||new dt}De.La="serverreachability";function Ot(d){X.call(this,De.La,d)}S(Ot,X);function In(d){const v=ht();St(v,new Ot(v))}De.STAT_EVENT="statevent";function yt(d,v){X.call(this,De.STAT_EVENT,d),this.stat=v}S(yt,X);function Ke(d){const v=ht();St(v,new yt(v,d))}De.Ma="timingevent";function Er(d,v){X.call(this,De.Ma,d),this.size=v}S(Er,X);function vt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function Mt(){this.g=!0}Mt.prototype.xa=function(){this.g=!1};function to(d,v,x,P,G,Z){d.info(function(){if(d.g)if(Z)for(var me="",nt=Z.split("&"),Lt=0;Lt<nt.length;Lt++){var Ye=nt[Lt].split("=");if(1<Ye.length){var Bt=Ye[0];Ye=Ye[1];var At=Bt.split("_");me=2<=At.length&&At[1]=="type"?me+(Bt+"="+Ye+"&"):me+(Bt+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+P+") [attempt "+G+"]: "+v+`
`+x+`
`+me})}function Sn(d,v,x,P,G,Z,me){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+G+"]: "+v+`
`+x+`
`+Z+" "+me})}function nr(d,v,x,P){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+qh(d,x)+(P?" "+P:"")})}function $l(d,v){d.info(function(){return"TIMEOUT: "+v})}Mt.prototype.info=function(){};function qh(d,v){if(!d.g)return v;if(!v)return null;try{var x=JSON.parse(v);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var P=x[d];if(!(2>P.length)){var G=P[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<G.length;me++)G[me]=""}}}}return li(x)}catch{return v}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ic={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function ps(){}S(ps,_r),ps.prototype.g=function(){return new XMLHttpRequest},ps.prototype.i=function(){return{}},Tr=new ps;function xr(d,v,x,P){this.j=d,this.i=v,this.l=x,this.R=P||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sc}function Sc(){this.i=null,this.g="",this.h=!1}var Bl={},ha={};function pa(d,v,x){d.L=1,d.v=mi(Wn(v)),d.m=x,d.P=!0,zl(d,null)}function zl(d,v){d.F=Date.now(),it(d),d.A=Wn(d.v);var x=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),yi(x.i,"t",P),d.C=0,x=d.j.J,d.h=new Sc,d.g=zc(d.j,x?v:null,!d.m),0<d.O&&(d.M=new eo(T(d.Y,d,d.g),d.O)),v=d.U,x=d.g,P=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(ds[0]=G.toString()),G=ds);for(var Z=0;Z<G.length;Z++){var me=Zr(x,G[Z],P||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),In(),to(d.i,d.u,d.A,d.l,d.R,d.m)}xr.prototype.ca=function(d){d=d.target;const v=this.M;v&&Cn(d)==3?v.j():this.Y(d)},xr.prototype.Y=function(d){try{if(d==this.g)e:{const At=Cn(this.g);var v=this.g.Ba();const ir=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Yl(this.g)))){this.J||At!=4||v==7||(v==8||0>=ir?In(3):In(2)),ms(this);var x=this.g.Z();this.X=x;t:if(bc(this)){var P=Yl(this.g);d="";var G=P.length,Z=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rr(this),di(this);var me="";break t}this.h.i=new c.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,d+=this.h.i.decode(P[v],{stream:!(Z&&v==G-1)});P.length=0,this.h.g+=d,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=x==200,Sn(this.i,this.u,this.A,this.l,this.R,At,x),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Lt=this.g;if((nt=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(nt)){var Ye=nt;break t}}Ye=null}if(x=Ye)nr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wl(this,x);else{this.o=!1,this.s=3,Ke(12),rr(this),di(this);break e}}if(this.P){x=!0;let qn;for(;!this.J&&this.C<me.length;)if(qn=Gh(this,me),qn==ha){At==4&&(this.s=4,Ke(14),x=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Bl){this.s=4,Ke(15),nr(this.i,this.l,me,"[Invalid Chunk]"),x=!1;break}else nr(this.i,this.l,qn,null),Wl(this,qn);if(bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||me.length!=0||this.h.h||(this.s=1,Ke(16),x=!1),this.o=this.o&&x,!x)nr(this.i,this.l,me,"[Invalid Chunked Response]"),rr(this),di(this);else if(0<me.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Xl(Bt),Bt.M=!0,Ke(11))}}else nr(this.i,this.l,me,null),Wl(this,me);At==4&&rr(this),this.o&&!this.J&&(At==4?Sa(this.j,this):(this.o=!1,it(this)))}else _a(this.g),x==400&&0<me.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),rr(this),di(this)}}}catch{}finally{}};function bc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Gh(d,v){var x=d.C,P=v.indexOf(`
`,x);return P==-1?ha:(x=Number(v.substring(x,P)),isNaN(x)?Bl:(P+=1,P+x>v.length?ha:(v=v.slice(P,P+x),d.C=P+x,v)))}xr.prototype.cancel=function(){this.J=!0,rr(this)};function it(d){d.S=Date.now()+d.I,Cc(d,d.I)}function Cc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=vt(T(d.ba,d),v)}function ms(d){d.B&&(c.clearTimeout(d.B),d.B=null)}xr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?($l(this.i,this.A),this.L!=2&&(In(),Ke(17)),rr(this),this.s=2,di(this)):Cc(this,this.S-d)};function di(d){d.j.G==0||d.J||Sa(d.j,d)}function rr(d){ms(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,fs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Wl(d,v){try{var x=d.j;if(x.G!=0&&(x.g==d||pn(x.h,d))){if(!d.K&&pn(x.h,d)&&x.G==3){try{var P=x.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var G=P;if(G[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Ia(x),Ar(x);else break e;xa(x),Ke(18)}}else x.za=G[1],0<x.za-x.T&&37500>G[2]&&x.F&&x.v==0&&!x.C&&(x.C=vt(T(x.Za,x),6e3));if(1>=Rc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ko(x,11)}else if((d.K||x.g==d)&&Ia(x),!z(v))for(G=x.Da.g.parse(v),v=0;v<G.length;v++){let Ye=G[v];if(x.T=Ye[0],Ye=Ye[1],x.G==2)if(Ye[0]=="c"){x.K=Ye[1],x.ia=Ye[2];const Bt=Ye[3];Bt!=null&&(x.la=Bt,x.j.info("VER="+x.la));const At=Ye[4];At!=null&&(x.Aa=At,x.j.info("SVER="+x.Aa));const ir=Ye[5];ir!=null&&typeof ir=="number"&&0<ir&&(P=1.5*ir,x.L=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;const qn=d.g;if(qn){const Ts=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var Z=P.h;Z.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Hl(Z,Z.h),Z.h=null))}if(P.D){const Ca=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(P.ya=Ca,ot(P.I,P.D,Ca))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),P=x;var me=d;if(P.qa=Bc(P,P.J?P.ia:null,P.W),me.K){Pc(P.h,me);var nt=me,Lt=P.L;Lt&&(nt.I=Lt),nt.B&&(ms(nt),it(nt)),P.g=me}else Es(P);0<x.i.length&&io(x)}else Ye[0]!="stop"&&Ye[0]!="close"||ko(x,7);else x.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ko(x,7):Yt(x):Ye[0]!="noop"&&x.l&&x.l.ta(Ye),x.v=0)}}In(4)}catch{}}var Ac=class{constructor(d,v){this.g=d,this.map=v}};function gs(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Rc(d){return d.h?1:d.g?d.g.size:0}function pn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Hl(d,v){d.g?d.g.add(v):d.h=v}function Pc(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}gs.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function kc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const x of d.g.values())v=v.concat(x.D);return v}return A(d.i)}function ma(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],x=d.length,P=0;P<x;P++)v.push(d[P]);return v}v=[],x=0;for(P in d)v[x++]=d[P];return v}function ga(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var x=0;x<d;x++)v.push(x);return v}v=[],x=0;for(const P in d)v[x++]=P;return v}}}function fi(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var x=ga(d),P=ma(d),G=P.length,Z=0;Z<G;Z++)v.call(void 0,P[Z],x&&x[Z],d)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(d,v){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var P=d[x].indexOf("="),G=null;if(0<=P){var Z=d[x].substring(0,P);G=d[x].substring(P+1)}else Z=d[x];v(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Co(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Co){this.h=d.h,vs(this,d.j),this.o=d.o,this.g=d.g,hi(this,d.s),this.l=d.l;var v=d.i,x=new no;x.i=v.i,v.g&&(x.g=new Map(v.g),x.h=v.h),pi(this,x),this.m=d.m}else d&&(v=String(d).match(ys))?(this.h=!1,vs(this,v[1]||"",!0),this.o=Ge(v[2]||""),this.g=Ge(v[3]||"",!0),hi(this,v[4]),this.l=Ge(v[5]||"",!0),pi(this,v[6]||"",!0),this.m=Ge(v[7]||"")):(this.h=!1,this.i=new no(null,this.h))}Co.prototype.toString=function(){var d=[],v=this.j;v&&d.push(gi(v,ya,!0),":");var x=this.g;return(x||v=="file")&&(d.push("//"),(v=this.o)&&d.push(gi(v,ya,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(gi(x,x.charAt(0)=="/"?Oc:Dc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",gi(x,ql)),d.join("")};function Wn(d){return new Co(d)}function vs(d,v,x){d.j=x?Ge(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function hi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function pi(d,v,x){v instanceof no?(d.i=v,ro(d.i,d.h)):(x||(v=gi(v,Mc)),d.i=new no(v,d.h))}function ot(d,v,x){d.i.set(v,x)}function mi(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ge(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function gi(d,v,x){return typeof d=="string"?(d=encodeURI(d).replace(v,Nc),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Nc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ya=/[#\/\?@]/g,Dc=/[#\?:]/g,Oc=/[#\?]/g,Mc=/[#\?@]/g,ql=/#/g;function no(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Kt(d){d.g||(d.g=new Map,d.h=0,d.i&&Kh(d.i,function(v,x){d.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=no.prototype,n.add=function(d,v){Kt(this),this.i=null,d=or(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(v),this.h+=1,this};function Ir(d,v){Kt(d),v=or(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Sr(d,v){return Kt(d),v=or(d,v),d.g.has(v)}n.forEach=function(d,v){Kt(this),this.g.forEach(function(x,P){x.forEach(function(G){d.call(v,G,P,this)},this)},this)},n.na=function(){Kt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),x=[];for(let P=0;P<v.length;P++){const G=d[P];for(let Z=0;Z<G.length;Z++)x.push(v[P])}return x},n.V=function(d){Kt(this);let v=[];if(typeof d=="string")Sr(this,d)&&(v=v.concat(this.g.get(or(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)v=v.concat(d[x])}return v},n.set=function(d,v){return Kt(this),this.i=null,d=or(this,d),Sr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function yi(d,v,x){Ir(d,v),0<x.length&&(d.i=null,d.g.set(or(d,v),A(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var x=0;x<v.length;x++){var P=v[x];const Z=encodeURIComponent(String(P)),me=this.V(P);for(P=0;P<me.length;P++){var G=Z;me[P]!==""&&(G+="="+encodeURIComponent(String(me[P]))),d.push(G)}}return this.i=d.join("&")};function or(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function ro(d,v){v&&!d.j&&(Kt(d),d.i=null,d.g.forEach(function(x,P){var G=P.toLowerCase();P!=G&&(Ir(this,P),yi(this,G,x))},d)),d.j=v}function Yh(d,v){const x=new Mt;if(c.Image){const P=new Image;P.onload=I(bn,x,"TestLoadImage: loaded",!0,v,P),P.onerror=I(bn,x,"TestLoadImage: error",!1,v,P),P.onabort=I(bn,x,"TestLoadImage: abort",!1,v,P),P.ontimeout=I(bn,x,"TestLoadImage: timeout",!1,v,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else v(!1)}function Lc(d,v){const x=new Mt,P=new AbortController,G=setTimeout(()=>{P.abort(),bn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:P.signal}).then(Z=>{clearTimeout(G),Z.ok?bn(x,"TestPingServer: ok",!0,v):bn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),bn(x,"TestPingServer: error",!1,v)})}function bn(d,v,x,P,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),P(x)}catch{}}function Qh(){this.g=new hs}function Vc(d,v,x){const P=x||"";try{fi(d,function(G,Z){let me=G;p(G)&&(me=li(G)),v.push(P+Z+"="+encodeURIComponent(me))})}catch(G){throw v.push(P+"type="+encodeURIComponent("_badmap")),G}}function Ao(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Ao,_r),Ao.prototype.g=function(){return new ws(this.l,this.j)},Ao.prototype.i=function(d){return function(){return d}}({});function ws(d,v){dt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ws,dt),n=ws.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Cr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?br(this):Cr(this),this.readyState==3&&Fc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,br(this))},n.Qa=function(d){this.g&&(this.response=d,br(this))},n.ga=function(){this.g&&br(this)};function br(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=v.next();return d.join(`\r
`)};function Cr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ro(d){let v="";return ee(d,function(x,P){v+=P,v+=":",v+=x,v+=`\r
`}),v}function vi(d,v,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=Ro(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):ot(d,v,x))}function pt(d){dt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(pt,dt);var Xh=/^https?$/i,Gl=["POST","PUT"];n=pt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?hn(this.o):hn(Tr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Z){_s(this,Z);return}if(d=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var G in P)x.set(G,P[G]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Z of P.keys())x.set(Z,P.get(Z));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Gl,v,void 0))||P||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of x)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){_s(this,Z)}};function _s(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,va(d),Hn(d)}function va(d){d.A||(d.A=!0,St(d,"complete"),St(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,St(this,"complete"),St(this,"abort"),Hn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Kl(this):this.bb())},n.bb=function(){Kl(this)};function Kl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Cn(d)!=4||d.Z()!=2)){if(d.u&&Cn(d)==4)So(d.Ea,0,d);else if(St(d,"readystatechange"),Cn(d)==4){d.h=!1;try{const me=d.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var P;if(P=me===0){var G=String(d.D).match(ys)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),P=!Xh.test(G?G.toLowerCase():"")}x=P}if(x)St(d,"complete"),St(d,"success");else{d.m=6;try{var Z=2<Cn(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",va(d)}}finally{Hn(d)}}}}function Hn(d,v){if(d.g){wa(d);const x=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||St(d,"ready");try{x.onreadystatechange=P}catch{}}}function wa(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Cn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ui(v)}};function Yl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _a(d){const v={};d=(d.g&&2<=Cn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(z(d[P]))continue;var x=F(d[P]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Z=v[G]||[];v[G]=Z,Z.push(x)}k(v,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(d,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||v}function Ql(d){this.Aa=0,this.i=[],this.j=new Mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,d),this.cb=oo("retryDelaySeedMs",1e4,d),this.Wa=oo("forwardChannelMaxRetries",2,d),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new gs(d&&d.concurrentRequestLimit),this.Da=new Qh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ql.prototype,n.la=8,n.G=1,n.connect=function(d,v,x,P){Ke(0),this.W=d,this.H=v||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.I=Bc(this,null,this.W),io(this)};function Yt(d){if(Ea(d),d.G==3){var v=d.U++,x=Wn(d.I);if(ot(x,"SID",d.K),ot(x,"RID",v),ot(x,"TYPE","terminate"),Po(d,x),v=new xr(d,d.j,v),v.L=2,v.v=mi(Wn(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=v.v,x=!0),x||(v.g=zc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),it(v)}$c(d)}function Ar(d){d.g&&(Xl(d),d.g.cancel(),d.g=null)}function Ea(d){Ar(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ia(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function io(d){if(!zn(d.h)&&!d.s){d.s=!0;var v=d.Ga;ge||re(),H||(ge(),H=!0),te.add(v,d),d.B=0}}function Jh(d,v){return Rc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=vt(T(d.Ga,d,v),Uc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new xr(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=R(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(v+=P,4096<v){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=wi(this,G,v),x=Wn(this.I),ot(x,"RID",d),ot(x,"CVER",22),this.D&&ot(x,"X-HTTP-Session-Id",this.D),Po(this,x),Z&&(this.O?v="headers="+encodeURIComponent(String(Ro(Z)))+"&"+v:this.m&&vi(x,this.m,Z)),Hl(this.h,G),this.Ua&&ot(x,"TYPE","init"),this.P?(ot(x,"$req",v),ot(x,"SID","null"),G.T=!0,pa(G,x,null)):pa(G,x,v),this.G=2}}else this.G==3&&(d?Ta(this,d):this.i.length==0||zn(this.h)||Ta(this))};function Ta(d,v){var x;v?x=v.l:x=d.U++;const P=Wn(d.I);ot(P,"SID",d.K),ot(P,"RID",x),ot(P,"AID",d.T),Po(d,P),d.m&&d.o&&vi(P,d.m,d.o),x=new xr(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),v&&(d.i=v.D.concat(d.i)),v=wi(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Hl(d.h,x),pa(x,P,v)}function Po(d,v){d.H&&ee(d.H,function(x,P){ot(v,P,x)}),d.l&&fi({},function(x,P){ot(v,P,x)})}function wi(d,v,x){x=Math.min(d.i.length,x);var P=d.l?T(d.l.Na,d.l,d):null;e:{var G=d.i;let Z=-1;for(;;){const me=["count="+x];Z==-1?0<x?(Z=G[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let nt=!0;for(let Lt=0;Lt<x;Lt++){let Ye=G[Lt].g;const Bt=G[Lt].map;if(Ye-=Z,0>Ye)Z=Math.max(0,G[Lt].g-100),nt=!1;else try{Vc(Bt,me,"req"+Ye+"_")}catch{P&&P(Bt)}}if(nt){P=me.join("&");break e}}}return d=d.i.splice(0,x),v.D=d,P}function Es(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ge||re(),H||(ge(),H=!0),te.add(v,d),d.v=0}}function xa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=vt(T(d.Fa,d),Uc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=vt(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),Ar(this),jc(this))};function Xl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function jc(d){d.g=new xr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Wn(d.qa);ot(v,"RID","rpc"),ot(v,"SID",d.K),ot(v,"AID",d.T),ot(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(v,"TO",d.ja),ot(v,"TYPE","xmlhttp"),Po(d,v),d.m&&d.o&&vi(v,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=mi(Wn(v)),x.m=null,x.P=!0,zl(x,d)}n.Za=function(){this.C!=null&&(this.C=null,Ar(this),xa(this),Ke(19))};function Ia(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Sa(d,v){var x=null;if(d.g==v){Ia(d),Xl(d),d.g=null;var P=2}else if(pn(d.h,v))x=v.D,Pc(d.h,v),P=1;else return;if(d.G!=0){if(v.o)if(P==1){x=v.m?v.m.length:0,v=Date.now()-v.F;var G=d.B;P=ht(),St(P,new Er(P,x)),io(d)}else Es(d);else if(G=v.s,G==3||G==0&&0<v.X||!(P==1&&Jh(d,v)||P==2&&xa(d)))switch(x&&0<x.length&&(v=d.h,v.i=v.i.concat(x)),G){case 1:ko(d,5);break;case 4:ko(d,10);break;case 3:ko(d,6);break;default:ko(d,2)}}}function Uc(d,v){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*v}function ko(d,v){if(d.j.info("Error code "+v),v==2){var x=T(d.fb,d),P=d.Xa;const G=!P;P=new Co(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vs(P,"https"),mi(P),G?Yh(P.toString(),x):Lc(P.toString(),x)}else Ke(2);d.G=0,d.l&&d.l.sa(v),$c(d),Ea(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function $c(d){if(d.G=0,d.ka=[],d.l){const v=kc(d.h);(v.length!=0||d.i.length!=0)&&(b(d.ka,v),b(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function Bc(d,v,x){var P=x instanceof Co?Wn(x):new Co(x);if(P.g!="")v&&(P.g=v+"."+P.g),hi(P,P.s);else{var G=c.location;P=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Z=new Co(null);P&&vs(Z,P),v&&(Z.g=v),G&&hi(Z,G),x&&(Z.l=x),P=Z}return x=d.D,v=d.ya,x&&v&&ot(P,x,v),ot(P,"VER",d.la),Po(d,P),P}function zc(d,v,x){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new pt(new Ao({eb:x})):new pt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}n=Jl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ba(){}ba.prototype.g=function(d,v){return new mn(d,v)};function mn(d,v){dt.call(this),this.g=new Ql(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!z(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new so(this)}S(mn,dt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=li(d),d=x);v.i.push(new Ac(v.Ya++,d)),v.G==3&&io(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)};function Wc(d){Bn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const x in v){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}S(Wc,Bn);function Hc(){bo.call(this),this.status=1}S(Hc,bo);function so(d){this.g=d}S(so,Jl),so.prototype.ua=function(){St(this.g,"a")},so.prototype.ta=function(d){St(this.g,new Wc(d))},so.prototype.sa=function(d){St(this.g,new Hc)},so.prototype.ra=function(){St(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,II=function(){return new ba},xI=function(){return ht()},TI=De,vg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,cf=fa,Ic.COMPLETE="complete",EI=Ic,ci.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ku=ci,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,_I=pt}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const W0="@firebase/firestore",H0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new nh("@firebase/firestore");function Za(){return Hs.logLevel}function we(n,...e){if(Hs.logLevel<=He.DEBUG){const t=e.map(hy);Hs.debug(`Firestore (${bl}): ${n}`,...t)}}function Qo(n,...e){if(Hs.logLevel<=He.ERROR){const t=e.map(hy);Hs.error(`Firestore (${bl}): ${n}`,...t)}}function ml(n,...e){if(Hs.logLevel<=He.WARN){const t=e.map(hy);Hs.warn(`Firestore (${bl}): ${n}`,...t)}}function hy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,SI(n,r,t)}function SI(n,e,t){let r=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Qo(r),new Error(r)}function tt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||SI(e,i,r)}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class P2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k2{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Ho;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ho,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ho)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new bI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class N2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new N2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=M2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function wg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ze(r,i);{const a=CI(),l=L2(a.encode(G0(n,t)),a.encode(G0(e,t)));return l!==0?l:ze(r,i)}}t+=r>65535?2:1}return ze(n.length,e.length)}function G0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function L2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ze(n[t],e[t]);return ze(n.length,e.length)}function gl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,Y0=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Y0);return new et(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<K0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-K0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new et(0,0))}static max(){return new Fe(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="__name__";class ho{constructor(e,t,r){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ho.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ho?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=ho.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return ze(e.length,t.length)}static compareSegments(e,t){const r=ho.isNumericId(e),i=ho.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ho.extractNumericId(e).compare(ho.extractNumericId(t)):wg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class ct extends ho{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const V2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends ho{construct(e,t,r){return new Zt(e,t,r)}static isValidIdentifier(e){return V2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new Zt([Q0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(ct.fromString(e))}static fromName(e){return new Pe(ct.fromString(e).popFirst(5))}static empty(){return new Pe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function F2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new et(t+1,0):new et(t,r));return new Qi(i,Pe.empty(),e)}function j2(n){return new Qi(n.readTime,n.key,qu)}class Qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qi(Fe.min(),Pe.empty(),qu)}static max(){return new Qi(Fe.max(),Pe.empty(),qu)}}function U2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==$2)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(y=>{l[p]=y,++c,c===a&&r(l)},y=>i(y))}})}static doWhile(e,t){return new oe((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function z2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Al(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}uh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=-1;function ch(n){return n==null}function Nf(n){return n===0&&1/n==-1/0}function W2(n){return typeof n=="number"&&Number.isInteger(n)&&!Nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="";function H2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X0(e)),e=q2(n.get(t),e);return X0(e)}function q2(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case RI:t+="";break;default:t+=a}}return t}function X0(n){return n+RI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function as(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=a??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Jt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z0(this.data.getIterator())}getIteratorFrom(e){return new Z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class Z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Ut(Zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kI("Invalid base64 string: "+a):a}}(e);return new en(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const G2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=G2.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ji(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="server_timestamp",DI="__type__",OI="__previous_value__",MI="__local_write_time__";function my(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[DI])===null||t===void 0?void 0:t.stringValue)===NI}function dh(n){const e=n.mapValue.fields[OI];return my(e)?dh(e):e}function Gu(n){const e=Xi(n.mapValue.fields[MI].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,r,i,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const Df="(default)";class Ku{constructor(e,t){this.projectId=e,this.database=t||Df}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="__type__",Y2="__max__",Bd={mapValue:{}},VI="__vector__",Of="value";function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?my(n)?4:X2(n)?9007199254740991:Q2(n)?10:11:Me(28295,{value:n})}function _o(n,e){if(n===e)return!0;const t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gu(n).isEqual(Gu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Xi(i.timestampValue),c=Xi(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Ji(i.bytesValue).isEqual(Ji(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Ct(i.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ct(i.integerValue)===Ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Ct(i.doubleValue),c=Ct(a.doubleValue);return l===c?Nf(l)===Nf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],_o);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(J0(l)!==J0(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!_o(l[f],c[f])))return!1;return!0}(n,e);default:return Me(52216,{left:n})}}function Yu(n,e){return(n.values||[]).find(t=>_o(t,e))!==void 0}function yl(n,e){if(n===e)return 0;const t=Zi(n),r=Zi(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Ct(a.integerValue||a.doubleValue),f=Ct(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return eE(n.timestampValue,e.timestampValue);case 4:return eE(Gu(n),Gu(e));case 5:return wg(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Ji(a),f=Ji(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const y=ze(c[p],f[p]);if(y!==0)return y}return ze(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=ze(Ct(a.latitude),Ct(l.latitude));return c!==0?c:ze(Ct(a.longitude),Ct(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tE(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,y;const g=a.fields||{},T=l.fields||{},I=(c=g[Of])===null||c===void 0?void 0:c.arrayValue,S=(f=T[Of])===null||f===void 0?void 0:f.arrayValue,A=ze(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return A!==0?A:tE(I,S)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Bd.mapValue&&l===Bd.mapValue)return 0;if(a===Bd.mapValue)return 1;if(l===Bd.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let g=0;g<f.length&&g<y.length;++g){const T=wg(f[g],y[g]);if(T!==0)return T;const I=yl(c[f[g]],p[y[g]]);if(I!==0)return I}return ze(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Me(23264,{Pe:t})}}function eE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Xi(n),r=Xi(e),i=ze(t.seconds,r.seconds);return i!==0?i:ze(t.nanos,r.nanos)}function tE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=yl(t[i],r[i]);if(a)return a}return ze(t.length,r.length)}function vl(n){return _g(n)}function _g(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=_g(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${_g(t.fields[l])}`;return i+"}"}(n.mapValue):Me(61005,{value:n})}function df(n){switch(Zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dh(n);return e?16+df(e):16;case 5:return 2*n.stringValue.length;case 6:return Ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+df(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return as(r.fields,(a,l)=>{i+=a.length+df(l)}),i}(n.mapValue);default:throw Me(13486,{value:n})}}function nE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Eg(n){return!!n&&"integerValue"in n}function gy(n){return!!n&&"arrayValue"in n}function rE(n){return!!n&&"nullValue"in n}function oE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ff(n){return!!n&&"mapValue"in n}function Q2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LI])===null||t===void 0?void 0:t.stringValue)===VI}function Fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return as(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function X2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Y2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(t)}setAll(e){let t=Zt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Fu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){as(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ln(Fu(this.value))}}function FI(n){const e=[];return as(n.fields,(t,r)=>{const i=new Zt([t]);if(ff(r)){const a=FI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new cn(e,0,Fe.min(),Fe.min(),Fe.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,i){return new cn(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new cn(e,2,t,Fe.min(),Fe.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Fe.min(),Fe.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t){this.position=e,this.inclusive=t}}function iE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(l.referenceValue),t.key):r=yl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function sE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_o(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function J2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{}class kt extends jI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new eM(e,t,r):t==="array-contains"?new rM(e,r):t==="in"?new oM(e,r):t==="not-in"?new iM(e,r):t==="array-contains-any"?new sM(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new tM(e,r):new nM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yl(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends jI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ur(e,t)}matches(e){return UI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function UI(n){return n.op==="and"}function $I(n){return Z2(n)&&UI(n)}function Z2(n){for(const e of n.filters)if(e instanceof Ur)return!1;return!0}function Tg(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+vl(n.value);if($I(n))return n.filters.map(e=>Tg(e)).join(",");{const e=n.filters.map(t=>Tg(t)).join(",");return`${n.op}(${e})`}}function BI(n,e){return n instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&_o(r.value,i.value)}(n,e):n instanceof Ur?function(r,i){return i instanceof Ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&BI(l,i.filters[c]),!0):!1}(n,e):void Me(19439)}function zI(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${vl(t.value)}`}(n):n instanceof Ur?function(t){return t.op.toString()+" {"+t.getFilters().map(zI).join(" ,")+"}"}(n):"Filter"}class eM extends kt{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class tM extends kt{constructor(e,t){super(e,"in",t),this.keys=WI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nM extends kt{constructor(e,t){super(e,"not-in",t),this.keys=WI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class rM extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gy(t)&&Yu(t.arrayValue,this.value)}}class oM extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class iM extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}}class sM extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function aE(n,e=null,t=[],r=[],i=null,a=null,l=null){return new aM(n,e,t,r,i,a,l)}function yy(n){const e=je(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Tg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vl(r)).join(",")),e.Ie=t}return e.Ie}function vy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!J2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sE(n.startAt,e.startAt)&&sE(n.endAt,e.endAt)}function xg(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lM(n,e,t,r,i,a,l,c){return new Rl(n,e,t,r,i,a,l,c)}function wy(n){return new Rl(n)}function lE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HI(n){return n.collectionGroup!==null}function ju(n){const e=je(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ut(Zt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Qu(a,r))}),t.has(Zt.keyField().canonicalString())||e.Ee.push(new Qu(Zt.keyField(),r))}return e.Ee}function go(n){const e=je(n);return e.de||(e.de=uM(e,ju(n))),e.de}function uM(n,e){if(n.limitType==="F")return aE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Qu(i.field,a)});const t=n.endAt?new Mf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mf(n.startAt.position,n.startAt.inclusive):null;return aE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ig(n,e){const t=n.filters.concat([e]);return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lf(n,e,t){return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fh(n,e){return vy(go(n),go(e))&&n.limitType===e.limitType}function qI(n){return`${yy(go(n))}|lt:${n.limitType}`}function el(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>zI(i)).join(", ")}]`),ch(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>vl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>vl(i)).join(",")),`Target(${r})`}(go(n))}; limitType=${n.limitType})`}function hh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of ju(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=iE(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,ju(r),i)||r.endAt&&!function(l,c,f){const p=iE(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,ju(r),i))}(n,e)}function cM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GI(n){return(e,t)=>{let r=!1;for(const i of ju(n)){const a=dM(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function dM(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?yl(f,p):Me(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return PI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new Et(Pe.comparator);function Xo(){return fM}const KI=new Et(Pe.comparator);function Nu(...n){let e=KI;for(const t of n)e=e.insert(t.key,t);return e}function YI(n){let e=KI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Us(){return Uu()}function QI(){return Uu()}function Uu(){return new oa(n=>n.toString(),(n,e)=>n.isEqual(e))}const hM=new Et(Pe.comparator),pM=new Ut(Pe.comparator);function qe(...n){let e=pM;for(const t of n)e=e.add(t);return e}const mM=new Ut(ze);function gM(){return mM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function XI(n){return{integerValue:""+n}}function yM(n,e){return W2(e)?XI(e):_y(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function vM(n,e,t){return n instanceof Vf?function(i,a){const l={fields:{[DI]:{stringValue:NI},[MI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&my(a)&&(a=dh(a)),a&&(l.fields[OI]=a),{mapValue:l}}(t,e):n instanceof Xu?ZI(n,e):n instanceof Ju?eS(n,e):function(i,a){const l=JI(i,a),c=uE(l)+uE(i.Re);return Eg(l)&&Eg(i.Re)?XI(c):_y(i.serializer,c)}(n,e)}function wM(n,e,t){return n instanceof Xu?ZI(n,e):n instanceof Ju?eS(n,e):t}function JI(n,e){return n instanceof Ff?function(r){return Eg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Vf extends ph{}class Xu extends ph{constructor(e){super(),this.elements=e}}function ZI(n,e){const t=tS(e);for(const r of n.elements)t.some(i=>_o(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ju extends ph{constructor(e){super(),this.elements=e}}function eS(n,e){let t=tS(e);for(const r of n.elements)t=t.filter(i=>!_o(i,r));return{arrayValue:{values:t}}}class Ff extends ph{constructor(e,t){super(),this.serializer=e,this.Re=t}}function uE(n){return Ct(n.integerValue||n.doubleValue)}function tS(n){return gy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _M(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Xu&&i instanceof Xu||r instanceof Ju&&i instanceof Ju?gl(r.elements,i.elements,_o):r instanceof Ff&&i instanceof Ff?_o(r.Re,i.Re):r instanceof Vf&&i instanceof Vf}(n.transform,e.transform)}class EM{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mh{}function nS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ey(n.key,hr.none()):new dc(n.key,n.data,hr.none());{const t=n.data,r=Ln.empty();let i=new Ut(Zt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ls(n.key,r,new Jn(i.toArray()),hr.none())}}function TM(n,e,t){n instanceof dc?function(i,a,l){const c=i.value.clone(),f=dE(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ls?function(i,a,l){if(!hf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=dE(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(rS(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function $u(n,e,t,r){return n instanceof dc?function(a,l,c,f){if(!hf(a.precondition,l))return c;const p=a.value.clone(),y=fE(a.fieldTransforms,f,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof ls?function(a,l,c,f){if(!hf(a.precondition,l))return c;const p=fE(a.fieldTransforms,f,l),y=l.data;return y.setAll(rS(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,l,c){return hf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function xM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=JI(r.transform,i||null);a!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,a))}return t||null}function cE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gl(r,i,(a,l)=>_M(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class dc extends mh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ls extends mh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dE(n,e,t){const r=new Map;tt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,wM(l,c,t[i]))}return r}function fE(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,vM(a,l,e))}return r}class Ey extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IM extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&TM(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$u(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$u(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QI();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=nS(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(t,r)=>cE(t,r))&&gl(this.baseMutations,e.baseMutations,(t,r)=>cE(t,r))}}class Ty{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){tt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return hM}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Ty(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bM=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Qe;function AM(n){switch(n){case ne.OK:return Me(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function oS(n){if(n===void 0)return Qo("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Pt.OK:return ne.OK;case Pt.CANCELLED:return ne.CANCELLED;case Pt.UNKNOWN:return ne.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ne.INTERNAL;case Pt.UNAVAILABLE:return ne.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ne.NOT_FOUND;case Pt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Pt.ABORTED:return ne.ABORTED;case Pt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Pt.DATA_LOSS:return ne.DATA_LOSS;default:return Me(39323,{code:n})}}(Qe=Pt||(Pt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new qi([4294967295,4294967295],0);function hE(n){const e=CI().encode(n),t=new wI;return t.update(e),new Uint8Array(t.digest())}function pE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([t,r],0),new qi([i,a],0)]}class xy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Du(`Invalid padding: ${t}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Du(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=qi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(qi.fromNumber(r)));return i.compare(RM)===1&&(i=new qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=hE(e),[r,i]=pE(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new xy(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=hE(e),[r,i]=pE(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gh(Fe.min(),i,new Et(ze),Xo(),qe())}}class fc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fc(r,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class iS{constructor(e,t){this.targetId=e,this.Ce=t}}class sS{constructor(e,t,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class mE{constructor(){this.Fe=0,this.Me=gE(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),t=qe(),r=qe();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:a})}}),new fc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=gE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PM{constructor(e){this.ze=e,this.je=new Map,this.He=Xo(),this.Je=zd(),this.Ye=zd(),this.Ze=new Et(ze)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(xg(a))if(r===0){const l=new Pe(a.path);this.tt(t,l,cn.newNoDocument(l,Fe.min()))}else tt(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),f=c?this.lt(c,e,l):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Ji(r).toUint8Array()}catch(f){if(f instanceof kI)return ml("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new xy(l,i,a)}catch(f){return ml(f instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&xg(c.target)){const f=new Pe(c.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,cn.newNoDocument(f,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=qe();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new gh(e,t,this.Ze,this.He,r);return this.He=Xo(),this.Je=zd(),this.Ye=zd(),this.Ze=new Et(ze),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new mE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ut(ze),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ut(ze),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new mE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function zd(){return new Et(Pe.comparator)}function gE(){return new Et(Pe.comparator)}const kM={asc:"ASCENDING",desc:"DESCENDING"},NM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DM={and:"AND",or:"OR"};class OM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sg(n,e){return n.useProto3Json||ch(e)?e:{value:e}}function jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MM(n,e){return jf(n,e.toTimestamp())}function yo(n){return tt(!!n,49232),Fe.fromTimestamp(function(t){const r=Xi(t);return new et(r.seconds,r.nanos)}(n))}function Iy(n,e){return bg(n,e).canonicalString()}function bg(n,e){const t=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lS(n){const e=ct.fromString(n);return tt(hS(e),10190,{key:e.toString()}),e}function Cg(n,e){return Iy(n.databaseId,e.path)}function Dm(n,e){const t=lS(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(cS(t))}function uS(n,e){return Iy(n.databaseId,e)}function LM(n){const e=lS(n);return e.length===4?ct.emptyPath():cS(e)}function Ag(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cS(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yE(n,e,t){return{name:Cg(n,e),fields:t.value.mapValue.fields}}function VM(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(tt(y===void 0||typeof y=="string",58123),en.fromBase64String(y||"")):(tt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),en.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const y=p.code===void 0?ne.UNKNOWN:oS(p.code);return new ve(y,p.message||"")}(l);t=new sS(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dm(n,r.document.name),a=yo(r.document.updateTime),l=r.document.createTime?yo(r.document.createTime):Fe.min(),c=new Ln({mapValue:{fields:r.document.fields}}),f=cn.newFoundDocument(i,a,l,c),p=r.targetIds||[],y=r.removedTargetIds||[];t=new pf(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dm(n,r.document),a=r.readTime?yo(r.readTime):Fe.min(),l=cn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new pf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dm(n,r.document),a=r.removedTargetIds||[];t=new pf([],a,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new CM(i,a),c=r.targetId;t=new iS(c,l)}}return t}function FM(n,e){let t;if(e instanceof dc)t={update:yE(n,e.key,e.value)};else if(e instanceof Ey)t={delete:Cg(n,e.key)};else if(e instanceof ls)t={update:yE(n,e.key,e.data),updateMask:GM(e.fieldMask)};else{if(!(e instanceof IM))return Me(16599,{ft:e.type});t={verify:Cg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Vf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ju)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ff)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Me(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:MM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)}(n,e.precondition)),t}function jM(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?yo(i.updateTime):yo(a);return l.isEqual(Fe.min())&&(l=yo(a)),new EM(l,i.transformResults||[])}(t,e))):[]}function UM(n,e){return{documents:[uS(n,e.path)]}}function $M(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uS(n,i);const a=function(p){if(p.length!==0)return fS(Ur.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(y=>function(T){return{field:tl(T.field),direction:WM(T.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Sg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:i}}function BM(n){let e=LM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){tt(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(g){const T=dS(g);return T instanceof Ur&&$I(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(T=>function(S){return new Qu(nl(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(g){let T;return T=typeof g=="object"?g.value:g,ch(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(g){const T=!!g.before,I=g.values||[];return new Mf(I,T)}(t.startAt));let p=null;return t.endAt&&(p=function(g){const T=!g.before,I=g.values||[];return new Mf(I,T)}(t.endAt)),lM(e,i,l,a,c,"F",f,p)}function zM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nl(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nl(t.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nl(t.unaryFilter.field);return kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nl(t.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(n):n.fieldFilter!==void 0?function(t){return kt.create(nl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ur.create(t.compositeFilter.filters.map(r=>dS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(t.compositeFilter.op))}(n):Me(30097,{filter:n})}function WM(n){return kM[n]}function HM(n){return NM[n]}function qM(n){return DM[n]}function tl(n){return{fieldPath:n.canonicalString()}}function nl(n){return Zt.fromServerFormat(n.fieldPath)}function fS(n){return n instanceof kt?function(t){if(t.op==="=="){if(oE(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NAN"}};if(rE(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oE(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NAN"}};if(rE(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(t.field),op:HM(t.op),value:t.value}}}(n):n instanceof Ur?function(t){const r=t.getFilters().map(i=>fS(i));return r.length===1?r[0]:{compositeFilter:{op:qM(t.op),filters:r}}}(n):Me(54877,{filter:n})}function GM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t,r,i,a=Fe.min(),l=Fe.min(),c=en.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.wt=e}}function YM(n){const e=BM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.yn=new XM}addToCollectionParentIndex(e,t){return this.yn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Qi.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class XM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ut(ct.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pS=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(pS,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new wl(0)}static ir(){return new wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="LruGarbageCollector",JM=1048576;function _E([n,e],[t,r]){const i=ze(n,t);return i===0?ze(e,r):i}class ZM{constructor(e){this.cr=e,this.buffer=new Ut(_E),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_E(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){we(wE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Al(t)?we(wE,"Ignoring IndexedDB error during garbage collection: ",t):await Cl(t)}await this.Ir(3e5)})}}class tL{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(uh.le);const r=new ZM(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(vE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,a,l,c,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(p=Date.now(),Za()<=He.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function nL(n,e){return new tL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.changes=new oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&$u(r.mutation,i,Jn.empty(),et.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qe()){const i=Us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Nu();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qe()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=Xo();const l=Uu(),c=function(){return Uu()}();return t.forEach((f,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof ls)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),$u(y.mutation,p,y.mutation.getFieldMask(),et.now())):l.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,y)=>l.set(p,y)),t.forEach((p,y)=>{var g;return c.set(p,new oL(y,(g=l.get(p))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Uu();let i=new Et((l,c)=>l-c),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||Jn.empty();y=c.applyToLocalView(p,y),r.set(f,y);const g=(i.get(c.batchId)||qe()).add(f);i=i.insert(c.batchId,g)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,y=f.value,g=QI();y.forEach(T=>{if(!a.has(T)){const I=nS(t.get(T),r.get(T));I!==null&&g.set(T,I),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,g))}return oe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):oe.resolve(Us());let c=qu,f=a;return l.next(p=>oe.forEach(p,(y,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{f=f.insert(y,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,qe())).next(y=>({batchId:c,changes:YI(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Nu();return this.indexManager.getCollectionParents(e,a).next(c=>oe.forEach(c,f=>{const p=function(g,T){return new Rl(T,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(y=>{y.forEach((g,T)=>{l=l.insert(g,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,cn.newInvalidDocument(y)))});let c=Nu();return l.forEach((f,p)=>{const y=a.get(f);y!==void 0&&$u(y.mutation,p,Jn.empty(),et.now()),hh(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:yo(i.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:YM(i.bundledQuery),readTime:yo(i.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.overlays=new Et(Pe.comparator),this.Or=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Us();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=Us(),a=t.length+1,l=new Pe(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Et((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Us(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const c=Us(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>c.set(p,y)),!(c.size()>=i)););return oe.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new bM(t,r));let a=this.Or.get(t);a===void 0&&(a=qe(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.Nr=new Ut(qt.Br),this.Lr=new Ut(qt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new qt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new qt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Pe(new ct([])),r=new qt(t,e),i=new qt(t,e+1),a=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Pe(new ct([])),r=new qt(t,e),i=new qt(t,e+1);let a=qe();return this.Lr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new qt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Pe.comparator(e.key,t.key)||ze(e.Gr,t.Gr)}static kr(e,t){return ze(e.Gr,t.Gr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ut(qt.Br)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new SM(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.zr=this.zr.add(new qt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?py:this.Jn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qt(t,0),i=new qt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,i],l=>{const c=this.jr(l.Gr);a.push(c)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ut(ze);return t.forEach(i=>{const a=new qt(i,0),l=new qt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],c=>{r=r.add(c.Gr)})}),oe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const l=new qt(new Pe(a),0);let c=new Ut(ze);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Gr)),!0)},l),oe.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){tt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return oe.forEach(t.mutations,i=>{const a=new qt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new qt(t,0),i=this.zr.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.Zr=e,this.docs=function(){return new Et(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=Xo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Xo();const l=t.path,c=new Pe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||U2(j2(y),r)<=0||(i.has(y.key)||hh(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Me(9500)}Xr(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dL(this)}getSize(e){return oe.resolve(this.size)}}class dL extends rL{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.persistence=e,this.ei=new oa(t=>yy(t),vy),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Sy,this.targetCount=0,this.ri=wl.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),oe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.ar(t),oe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.ei.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.ii={},this.overlays={},this.si=new uh(0),this.oi=!1,this.oi=!0,this._i=new lL,this.referenceDelegate=e(this),this.ai=new fL(this),this.indexManager=new QM,this.remoteDocumentCache=function(i){return new cL(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new KM(t),this.ci=new sL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new uL(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const i=new hL(this.si.next());return this.referenceDelegate.li(),r(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,t){return oe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class hL extends B2{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Ti=new Sy,this.Ii=null}static Ei(e){return new by(e)}get di(){if(this.Ii)return this.Ii;throw Me(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,r=>{const i=Pe.fromPath(r);return this.Ai(e,i).next(a=>{a||t.removeEntry(i,Fe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return oe.or([()=>oe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Uf{constructor(e,t){this.persistence=e,this.Ri=new oa(r=>H2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=nL(this,t)}static Ei(e,t){return new Uf(e,t)}li(){}hi(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return oe.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(a=>a?oe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,t).next(c=>{c||(r++,a.removeEntry(l,Fe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=df(e.data.value)),t}gr(e,t,r){return oe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=qe(),i=qe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Cy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return vP()?8:z2(dn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.Rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new pL;return this.fs(e,t,l).next(c=>{if(a.result=c,this.Is)return this.gs(e,t,l,c.size)})}).next(()=>a.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Za()<=He.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),oe.resolve()):(Za()<=He.DEBUG&&we("QueryEngine","Query:",el(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Za()<=He.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,go(t))):oe.resolve())}Rs(e,t){if(lE(t))return oe.resolve(null);let r=go(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Lf(t,null,"F"),r=go(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=qe(...a);return this.As.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,c);return this.ys(t,p,l,f.readTime)?this.Rs(e,Lf(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,i){return lE(t)||i.isEqual(Fe.min())?oe.resolve(null):this.As.getDocuments(e,r).next(a=>{const l=this.ps(t,a);return this.ys(t,l,r,i)?oe.resolve(null):(Za()<=He.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),el(t)),this.ws(e,l,t,F2(i,qu)).next(c=>c))})}ps(e,t){let r=new Ut(GI(e));return t.forEach((i,a)=>{hh(e,a)&&(r=r.add(a))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,t,r){return Za()<=He.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",el(t)),this.As.getDocumentsMatchingQuery(e,t,Qi.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="LocalStore",gL=3e8;class yL{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Et(ze),this.Ds=new oa(a=>yy(a),vy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iL(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function vL(n,e,t,r){return new yL(n,e,t,r)}async function gS(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=qe();for(const p of i){l.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:c}))})})}function wL(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,y){const g=p.batch,T=g.keys();let I=oe.resolve();return T.forEach(S=>{I=I.next(()=>y.getEntry(f,S)).next(A=>{const b=p.docVersions.get(S);tt(b!==null,48541),A.version.compareTo(b)<0&&(g.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),y.addEntry(A)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(f,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=qe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yS(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function _L(n,e){const t=je(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const c=[];e.targetChanges.forEach((y,g)=>{const T=i.get(g);if(!T)return;c.push(t.ai.removeMatchingKeys(a,y.removedDocuments,g).next(()=>t.ai.addMatchingKeys(a,y.addedDocuments,g)));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(en.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),i=i.insert(g,I),function(A,b,D){return A.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=gL?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(T,I,y)&&c.push(t.ai.updateTargetData(a,I))});let f=Xo(),p=qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),c.push(EL(a,l,e.documentUpdates).next(y=>{f=y.xs,p=y.Os})),!r.isEqual(Fe.min())){const y=t.ai.getLastRemoteSnapshotVersion(a).next(g=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(y)}return oe.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ss=i,a))}function EL(n,e,t){let r=qe(),i=qe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Xo();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Fe.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):we(Ay,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{xs:l,Os:i}})}function TL(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=py),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xL(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(a=>a?(i=a,oe.resolve(i)):t.ai.allocateTargetId(r).next(l=>(i=new zi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Rg(n,e,t){const r=je(n),i=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Al(l))throw l;we(Ay,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function EE(n,e,t){const r=je(n);let i=Fe.min(),a=qe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,y){const g=je(f),T=g.Ds.get(y);return T!==void 0?oe.resolve(g.Ss.get(T)):g.ai.getTargetData(p,y)}(r,l,go(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?i:Fe.min(),t?a:qe())).next(c=>(IL(r,cM(e),c),{documents:c,Ns:a})))}function IL(n,e,t){let r=n.vs.get(e)||Fe.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class TE{constructor(){this.activeTargetIds=gM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SL{constructor(){this.So=new TE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new TE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class IE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){we(xE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){we(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function Pg(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",CL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AL{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Df?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,a){const l=Pg(),c=this.$o(e,t.toUriEncodedString());we(Om,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,i,a),this.Ko(e,c,f,r).then(p=>(we(Om,`Received RPC '${e}' ${l}: `,p),p),p=>{throw ml(Om,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Wo(e,t,r,i,a,l){return this.Qo(e,t,r,i,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}$o(e,t){const r=CL[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class PL extends AL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){const a=Pg();return new Promise((l,c)=>{const f=new _I;f.setWithCredentials(!0),f.listenOnce(EI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case cf.NO_ERROR:const y=f.getResponseJson();we(an,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case cf.TIMEOUT:we(an,`RPC '${e}' ${a} timed out`),c(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case cf.HTTP_ERROR:const g=f.getStatus();if(we(an,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const S=function(b){const D=b.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(D)>=0?D:ne.UNKNOWN}(I.status);c(new ve(S,I.message))}else c(new ve(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{we(an,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);we(an,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}a_(e,t,r){const i=Pg(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=II(),c=xI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");we(an,`Creating RPC '${e}' stream ${i}: ${y}`,f);const g=l.createWebChannel(y,f);let T=!1,I=!1;const S=new RL({Go:b=>{I?we(an,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(T||(we(an,`Opening RPC '${e}' stream ${i} transport.`),g.open(),T=!0),we(an,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},zo:()=>g.close()}),A=(b,D,z)=>{b.listen(D,U=>{try{z(U)}catch(q){setTimeout(()=>{throw q},0)}})};return A(g,ku.EventType.OPEN,()=>{I||(we(an,`RPC '${e}' stream ${i} transport opened.`),S.t_())}),A(g,ku.EventType.CLOSE,()=>{I||(I=!0,we(an,`RPC '${e}' stream ${i} transport closed`),S.r_())}),A(g,ku.EventType.ERROR,b=>{I||(I=!0,ml(an,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.r_(new ve(ne.UNAVAILABLE,"The operation could not be completed")))}),A(g,ku.EventType.MESSAGE,b=>{var D;if(!I){const z=b.data[0];tt(!!z,16349);const U=z,q=(U==null?void 0:U.error)||((D=U[0])===null||D===void 0?void 0:D.error);if(q){we(an,`RPC '${e}' stream ${i} received error:`,q);const J=q.status;let ee=function(N){const M=Pt[N];if(M!==void 0)return oS(M)}(J),k=q.message;ee===void 0&&(ee=ne.INTERNAL,k="Unknown error status: "+J+" with message "+q.message),I=!0,S.r_(new ve(ee,k)),g.close()}else we(an,`RPC '${e}' stream ${i} received:`,z),S.i_(z)}}),A(c,TI.STAT_EVENT,b=>{b.stat===vg.PROXY?we(an,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===vg.NOPROXY&&we(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n){return new OM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class wS{constructor(e,t,r,i,a,l,c,f){this.bi=e,this.R_=r,this.V_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new vS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Qo(t.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new ve(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return we(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(we(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kL extends wS{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=VM(this.serializer,e),r=function(a){if(!("targetChange"in a))return Fe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?yo(l.readTime):Fe.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Ag(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=xg(f)?{documents:UM(a,f)}:{query:$M(a,f).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=aS(a,l.resumeToken);const p=Sg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Fe.min())>0){c.readTime=jf(a,l.snapshotVersion.toTimestamp());const p=Sg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=zM(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.F_(t)}}class NL extends wS{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=jM(e.writeResults,e.commitTime),r=yo(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Ag(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>FM(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{}class OL extends DL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,bg(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(ne.UNKNOWN,a.toString())})}Wo(e,t,r,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,bg(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ne.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class ML{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Qo(t),this.ea=!1):we("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class LL{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{r.enqueueAndForget(async()=>{ia(this)&&(we(qs,"Restarting streams for network reachability change."),await async function(f){const p=je(f);p.aa.add(4),await hc(p),p.la.set("Unknown"),p.aa.delete(4),await vh(p)}(this))})}),this.la=new ML(r,i)}}async function vh(n){if(ia(n))for(const e of n.ua)await e(!0)}async function hc(n){for(const e of n.ua)await e(!1)}function _S(n,e){const t=je(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Ny(t)?ky(t):Pl(t).b_()&&Py(t,e))}function Ry(n,e){const t=je(n),r=Pl(t);t._a.delete(e),r.b_()&&ES(t,e),t._a.size===0&&(r.b_()?r.v_():ia(t)&&t.la.set("Unknown"))}function Py(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pl(n).U_(e)}function ES(n,e){n.ha.Ke(e),Pl(n).K_(e)}function ky(n){n.ha=new PM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Pl(n).start(),n.la.ta()}function Ny(n){return ia(n)&&!Pl(n).w_()&&n._a.size>0}function ia(n){return je(n).aa.size===0}function TS(n){n.ha=void 0}async function VL(n){n.la.set("Online")}async function FL(n){n._a.forEach((e,t)=>{Py(n,e)})}async function jL(n,e){TS(n),Ny(n)?(n.la.ia(e),ky(n)):n.la.set("Unknown")}async function UL(n,e,t){if(n.la.set("Online"),e instanceof sS&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i._a.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i._a.delete(c),i.ha.removeTarget(c))}(n,e)}catch(r){we(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(n,r)}else if(e instanceof pf?n.ha.Xe(e):e instanceof iS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Fe.min()))try{const r=await yS(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.ha.It(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a._a.get(p);y&&a._a.set(p,y.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const y=a._a.get(f);if(!y)return;a._a.set(f,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),ES(a,f);const g=new zi(y.target,f,p,y.sequenceNumber);Py(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){we(qs,"Failed to raise snapshot:",r),await $f(n,r)}}async function $f(n,e,t){if(!Al(e))throw e;n.aa.add(1),await hc(n),n.la.set("Offline"),t||(t=()=>yS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(qs,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await vh(n)})}function xS(n,e){return e().catch(t=>$f(n,t,e))}async function wh(n){const e=je(n),t=es(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:py;for(;$L(e);)try{const i=await TL(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,BL(e,i)}catch(i){await $f(e,i)}IS(e)&&SS(e)}function $L(n){return ia(n)&&n.oa.length<10}function BL(n,e){n.oa.push(e);const t=es(n);t.b_()&&t.W_&&t.G_(e.mutations)}function IS(n){return ia(n)&&!es(n).w_()&&n.oa.length>0}function SS(n){es(n).start()}async function zL(n){es(n).H_()}async function WL(n){const e=es(n);for(const t of n.oa)e.G_(t.mutations)}async function HL(n,e,t){const r=n.oa.shift(),i=Ty.from(r,e,t);await xS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await wh(n)}async function qL(n,e){e&&es(n).W_&&await async function(r,i){if(function(l){return AM(l)&&l!==ne.ABORTED}(i.code)){const a=r.oa.shift();es(r).D_(),await xS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await wh(r)}}(n,e),IS(n)&&SS(n)}async function bE(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),we(qs,"RemoteStore received new credentials");const r=ia(t);t.aa.add(3),await hc(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await vh(t)}async function GL(n,e){const t=je(n);e?(t.aa.delete(2),await vh(t)):e||(t.aa.add(2),await hc(t),t.la.set("Unknown"))}function Pl(n){return n.Pa||(n.Pa=function(t,r,i){const a=je(t);return a.Y_(),new kL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{jo:VL.bind(null,n),Jo:FL.bind(null,n),Zo:jL.bind(null,n),Q_:UL.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Ny(n)?ky(n):n.la.set("Unknown")):(await n.Pa.stop(),TS(n))})),n.Pa}function es(n){return n.Ta||(n.Ta=function(t,r,i){const a=je(t);return a.Y_(),new NL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:zL.bind(null,n),Zo:qL.bind(null,n),z_:WL.bind(null,n),j_:HL.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await wh(n)):(await n.Ta.stop(),n.oa.length>0&&(we(qs,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new Dy(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oy(n,e){if(Qo("AsyncQueue",`${e}: ${n}`),Al(n))return new ve(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=Nu(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.Ia=new Et(Pe.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Me(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class _l{constructor(e,t,r,i,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new _l(e,t,cl.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class YL{constructor(){this.queries=AE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=je(t),a=i.queries;i.queries=AE(),a.forEach((l,c)=>{for(const f of c.Ra)f.onError(r)})})(this,new ve(ne.ABORTED,"Firestore shutting down"))}}function AE(){return new oa(n=>qI(n),fh)}async function bS(n,e){const t=je(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Va()&&e.ma()&&(r=2):(a=new KL,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(i,!0);break;case 1:a.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Oy(l,`Initialization of query '${el(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&My(t)}async function CS(n,e){const t=je(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function QL(n,e){const t=je(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.Ra)c.pa(i)&&(r=!0);l.Aa=i}}r&&My(t)}function XL(n,e,t){const r=je(n),i=r.queries.get(e);if(i)for(const a of i.Ra)a.onError(t);r.queries.delete(e)}function My(n){n.fa.forEach(e=>{e.next()})}var kg,RE;(RE=kg||(kg={})).ya="default",RE.Cache="cache";class AS{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.key=e}}class PS{constructor(e){this.key=e}}class JL{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=qe(),this.mutatedKeys=qe(),this.Ua=GI(e),this.Ka=new cl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new CE,i=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,g)=>{const T=i.get(y),I=hh(this.query,g)?g:null,S=!!T&&this.mutatedKeys.has(T.key),A=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let b=!1;T&&I?T.data.isEqual(I.data)?S!==A&&(r.track({type:3,doc:I}),b=!0):this.ja(T,I)||(r.track({type:2,doc:I}),b=!0,(f&&this.Ua(I,f)>0||p&&this.Ua(I,p)<0)&&(c=!0)):!T&&I?(r.track({type:0,doc:I}),b=!0):T&&!I&&(r.track({type:1,doc:T}),b=!0,(f||p)&&(c=!0)),b&&(I?(l=l.add(I),a=A?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ka:l,za:r,ys:c,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((y,g)=>function(I,S){const A=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:b})}};return A(I)-A(S)}(y.type,g.type)||this.Ua(y.doc,g.doc)),this.Ha(r),i=i!=null&&i;const c=t&&!i?this.Ja():[],f=this.$a.size===0&&this.current&&!i?1:0,p=f!==this.Qa;return this.Qa=f,l.length!==0||p?{snapshot:new _l(this.query,e.Ka,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new CE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=qe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new PS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new RS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=qe();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return _l.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ly="SyncEngine";class ZL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eV{constructor(e){this.key=e,this.tu=!1}}class tV{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new oa(c=>qI(c),fh),this.iu=new Map,this.su=new Set,this.ou=new Et(Pe.comparator),this._u=new Map,this.au=new Sy,this.uu={},this.cu=new Map,this.lu=wl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function nV(n,e,t=!0){const r=LS(n);let i;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await kS(r,e,t,!0),i}async function rV(n,e){const t=LS(n);await kS(t,e,!0,!1)}async function kS(n,e,t,r){const i=await xL(n.localStore,go(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await oV(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&_S(n.remoteStore,i),c}async function oV(n,e,t,r,i){n.Pu=(g,T,I)=>async function(A,b,D,z){let U=b.view.Ga(D);U.ys&&(U=await EE(A.localStore,b.query,!1).then(({documents:k})=>b.view.Ga(k,U)));const q=z&&z.targetChanges.get(b.targetId),J=z&&z.targetMismatches.get(b.targetId)!=null,ee=b.view.applyChanges(U,A.isPrimaryClient,q,J);return kE(A,b.targetId,ee.Ya),ee.snapshot}(n,g,T,I);const a=await EE(n.localStore,e,!0),l=new JL(e,a.Ns),c=l.Ga(a.documents),f=fc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);kE(n,t,p.Ya);const y=new ZL(e,t,l);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function iV(n,e,t){const r=je(n),i=r.ru.get(e),a=r.iu.get(i.targetId);if(a.length>1)return r.iu.set(i.targetId,a.filter(l=>!fh(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ry(r.remoteStore,i.targetId),Ng(r,i.targetId)}).catch(Cl)):(Ng(r,i.targetId),await Rg(r.localStore,i.targetId,!0))}async function sV(n,e){const t=je(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ry(t.remoteStore,r.targetId))}async function aV(n,e,t){const r=pV(n);try{const i=await function(l,c){const f=je(l),p=et.now(),y=c.reduce((I,S)=>I.add(S.key),qe());let g,T;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=Xo(),A=qe();return f.Cs.getEntries(I,y).next(b=>{S=b,S.forEach((D,z)=>{z.isValidDocument()||(A=A.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,S)).next(b=>{g=b;const D=[];for(const z of c){const U=xM(z,g.get(z.key).overlayedDocument);U!=null&&D.push(new ls(z.key,U,FI(U.value.mapValue),hr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,D,c)}).next(b=>{T=b;const D=b.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(I,b.batchId,D)})}).then(()=>({batchId:T.batchId,changes:YI(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.uu[l.currentUser.toKey()];p||(p=new Et(ze)),p=p.insert(c,f),l.uu[l.currentUser.toKey()]=p}(r,i.batchId,t),await pc(r,i.changes),await wh(r.remoteStore)}catch(i){const a=Oy(i,"Failed to persist write");t.reject(a)}}async function NS(n,e){const t=je(n);try{const r=await _L(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t._u.get(a);l&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?tt(l.tu,14607):i.removedDocuments.size>0&&(tt(l.tu,42227),l.tu=!1))}),await pc(t,r,e)}catch(r){await Cl(r)}}function PE(n,e,t){const r=je(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((a,l)=>{const c=l.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=je(l);f.onlineState=c;let p=!1;f.queries.forEach((y,g)=>{for(const T of g.Ra)T.ga(c)&&(p=!0)}),p&&My(f)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lV(n,e,t){const r=je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),a=i&&i.key;if(a){let l=new Et(Pe.comparator);l=l.insert(a,cn.newNoDocument(a,Fe.min()));const c=qe().add(a),f=new gh(Fe.min(),new Map,new Et(ze),l,c);await NS(r,f),r.ou=r.ou.remove(a),r._u.delete(e),Vy(r)}else await Rg(r.localStore,e,!1).then(()=>Ng(r,e,t)).catch(Cl)}async function uV(n,e){const t=je(n),r=e.batch.batchId;try{const i=await wL(t.localStore,e);OS(t,r,null),DS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pc(t,i)}catch(i){await Cl(i)}}async function cV(n,e,t){const r=je(n);try{const i=await function(l,c){const f=je(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,c).next(g=>(tt(g!==null,37113),y=g.keys(),f.mutationQueue.removeMutationBatch(p,g))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);OS(r,e,t),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pc(r,i)}catch(i){await Cl(i)}}function DS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function OS(n,e,t){const r=je(n);let i=r.uu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Ng(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||MS(n,r)})}function MS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Ry(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Vy(n))}function kE(n,e,t){for(const r of t)r instanceof RS?(n.au.addReference(r.key,e),dV(n,r)):r instanceof PS?(we(Ly,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||MS(n,r.key)):Me(19791,{Iu:r})}function dV(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(we(Ly,"New document in limbo: "+t),n.su.add(r),Vy(n))}function Vy(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Pe(ct.fromString(e)),r=n.lu.next();n._u.set(r,new eV(t)),n.ou=n.ou.insert(t,r),_S(n.remoteStore,new zi(go(wy(t.path)),r,"TargetPurposeLimboResolution",uh.le))}}async function pc(n,e,t){const r=je(n),i=[],a=[],l=[];r.ru.isEmpty()||(r.ru.forEach((c,f)=>{l.push(r.Pu(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){i.push(p);const g=Cy.Ps(f.targetId,p);a.push(g)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(f,p){const y=je(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>oe.forEach(p,T=>oe.forEach(T.ls,I=>y.persistence.referenceDelegate.addReference(g,T.targetId,I)).next(()=>oe.forEach(T.hs,I=>y.persistence.referenceDelegate.removeReference(g,T.targetId,I)))))}catch(g){if(!Al(g))throw g;we(Ay,"Failed to update sequence numbers: "+g)}for(const g of p){const T=g.targetId;if(!g.fromCache){const I=y.Ss.get(T),S=I.snapshotVersion,A=I.withLastLimboFreeSnapshotVersion(S);y.Ss=y.Ss.insert(T,A)}}}(r.localStore,a))}async function fV(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){we(Ly,"User change. New user:",e.toKey());const r=await gS(t.localStore,e);t.currentUser=e,function(a,l){a.cu.forEach(c=>{c.forEach(f=>{f.reject(new ve(ne.CANCELLED,l))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pc(t,r.Ms)}}function hV(n,e){const t=je(n),r=t._u.get(e);if(r&&r.tu)return qe().add(r.key);{let i=qe();const a=t.iu.get(e);if(!a)return i;for(const l of a){const c=t.ru.get(l);i=i.unionWith(c.view.Wa)}return i}}function LS(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lV.bind(null,e),e.nu.Q_=QL.bind(null,e.eventManager),e.nu.Tu=XL.bind(null,e.eventManager),e}function pV(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cV.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return vL(this.persistence,new mL,e.initialUser,this.serializer)}Ru(e){return new mS(by.Ei,this.serializer)}Au(e){return new SL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class mV extends Bf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){tt(this.persistence.referenceDelegate instanceof Uf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eL(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new mS(r=>Uf.Ei(r,t),this.serializer)}}class Dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fV.bind(null,this.syncEngine),await GL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YL}()}createDatastore(e){const t=yh(e.databaseInfo.databaseId),r=function(a){return new PL(a)}(e.databaseInfo);return function(a,l,c,f){return new OL(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new LL(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>PE(this.syncEngine,t,0),function(){return IE.C()?new IE:new bL}())}createSyncEngine(e,t){return function(i,a,l,c,f,p,y){const g=new tV(i,a,l,c,f,p);return y&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=je(i);we(qs,"RemoteStore shutting down."),a.aa.add(5),await hc(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class gV{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=AI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{we(ts,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(we(ts,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Oy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lm(n,e){n.asyncQueue.verifyOperationInProgress(),we(ts,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function NE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await yV(n);we(ts,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>bE(e.remoteStore,i)),n._onlineComponents=e}async function yV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(ts,"Using user provided OfflineComponentProvider");try{await Lm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ml("Error using user provided cache. Falling back to memory cache: "+t),await Lm(n,new Bf)}}else we(ts,"Using default OfflineComponentProvider"),await Lm(n,new mV(void 0));return n._offlineComponents}async function FS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(ts,"Using user provided OnlineComponentProvider"),await NE(n,n._uninitializedComponentsProvider._online)):(we(ts,"Using default OnlineComponentProvider"),await NE(n,new Dg))),n._onlineComponents}function vV(n){return FS(n).then(e=>e.syncEngine)}async function jS(n){const e=await FS(n),t=e.eventManager;return t.onListen=nV.bind(null,e.syncEngine),t.onUnlisten=iV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sV.bind(null,e.syncEngine),t}function wV(n,e,t={}){const r=new Ho;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const y=new VS({next:T=>{y.yu(),l.enqueueAndForget(()=>CS(a,g));const I=T.docs.has(c);!I&&T.fromCache?p.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&f&&f.source==="server"?p.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),g=new AS(wy(c.path),y,{includeMetadataChanges:!0,Fa:!0});return bS(a,g)}(await jS(n),n.asyncQueue,e,t,r)),r.promise}function _V(n,e,t={}){const r=new Ho;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const y=new VS({next:T=>{y.yu(),l.enqueueAndForget(()=>CS(a,g)),T.fromCache&&f.source==="server"?p.reject(new ve(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),g=new AS(c,y,{includeMetadataChanges:!0,Fa:!0});return bS(a,g)}(await jS(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(n,e,t){if(!t)throw new ve(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EV(n,e,t,r){if(e===!0&&r===!0)throw new ve(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OE(n){if(!Pe.isDocumentKey(n))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ME(n){if(Pe.isDocumentKey(n))throw new ve(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function $r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_h(n);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TV(n,e){if(e<=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firestore.googleapis.com",LE=!0;class VE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BS,this.ssl=LE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JM)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R2;switch(r.type){case"firstParty":return new D2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=DE.get(t);r&&(we("ComponentProvider","Removing Datastore"),DE.delete(t),r.terminate())}(this),Promise.resolve()}}function xV(n,e,t,r={}){var i;const a=(n=$r(n,Eh))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a.host!==BS&&a.host!==c&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!Yi(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=un.MOCK_USER;else{p=fP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(g)}n._authCredentials=new P2(new bI(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Gi extends us{constructor(e,t,r){super(e,t,wy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Pe(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Hd(n,e,...t){if(n=xt(n),$S("collection","path",e),n instanceof Eh){const r=ct.fromString(e,...t);return ME(r),new Gi(n,null,r)}{if(!(n instanceof vn||n instanceof Gi))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return ME(r),new Gi(n.firestore,null,r)}}function Ki(n,e,...t){if(n=xt(n),arguments.length===1&&(e=AI.newId()),$S("doc","path",e),n instanceof Eh){const r=ct.fromString(e,...t);return OE(r),new vn(n,null,new Pe(r))}{if(!(n instanceof vn||n instanceof Gi))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return OE(r),new vn(n.firestore,n instanceof Gi?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new vS(this,"async_queue_retry"),this.ju=()=>{const r=Mm();r&&we(FE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Mm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Mm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ho;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Al(e))throw e;we(FE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Qo("INTERNAL UNHANDLED ERROR: ",UE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=Dy.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Me(47125,{ec:UE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function UE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class sa extends Eh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function IV(n,e){const t=typeof n=="object"?n:Jg(),r=typeof n=="string"?n:Df,i=ra(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=cP("firestore");a&&xV(i,...a)}return i}function Fy(n){if(n._terminated)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SV(n),n._firestoreClient}function SV(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,p,y){return new K2(c,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,US(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new gV(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(en.fromBase64String(e))}catch(t){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new El(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=/^__.*__$/;class CV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new dc(e,this.data,t,this.fieldTransforms)}}class zS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{oc:n})}}class By{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new By(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return zf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(WS(this.oc)&&bV.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class AV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yh(e)}dc(e,t,r,i=!1){return new By({oc:e,methodName:t,Ec:r,path:Zt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xh(n){const e=n._freezeSettings(),t=yh(n._databaseId);return new AV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HS(n,e,t,r,i,a={}){const l=n.dc(a.merge||a.mergeFields?2:0,e,t,i);zy("Data must be an object, but it was:",l,r);const c=qS(r,l);let f,p;if(a.merge)f=new Jn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const T=Og(e,g,t);if(!l.contains(T))throw new ve(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);KS(y,T)||y.push(T)}f=new Jn(y),p=l.fieldTransforms.filter(g=>f.covers(g.field))}else f=null,p=l.fieldTransforms;return new CV(new Ln(c),f,p)}class Ih extends jy{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function RV(n,e,t,r){const i=n.dc(1,e,t);zy("Data must be an object, but it was:",i,r);const a=[],l=Ln.empty();as(r,(f,p)=>{const y=Wy(e,f,t);p=xt(p);const g=i.hc(y);if(p instanceof Ih)a.push(y);else{const T=mc(p,g);T!=null&&(a.push(y),l.set(y,T))}});const c=new Jn(a);return new zS(l,c,i.fieldTransforms)}function PV(n,e,t,r,i,a){const l=n.dc(1,e,t),c=[Og(e,r,t)],f=[i];if(a.length%2!=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)c.push(Og(e,a[T])),f.push(a[T+1]);const p=[],y=Ln.empty();for(let T=c.length-1;T>=0;--T)if(!KS(p,c[T])){const I=c[T];let S=f[T];S=xt(S);const A=l.hc(I);if(S instanceof Ih)p.push(I);else{const b=mc(S,A);b!=null&&(p.push(I),y.set(I,b))}}const g=new Jn(p);return new zS(y,g,l.fieldTransforms)}function kV(n,e,t,r=!1){return mc(t,n.dc(r?4:3,e))}function mc(n,e){if(GS(n=xt(n)))return zy("Unsupported field value:",e,n),qS(n,e);if(n instanceof jy)return function(r,i){if(!WS(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=mc(c,i.Pc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=et.fromDate(r);return{timestampValue:jf(i.serializer,a)}}if(r instanceof et){const a=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jf(i.serializer,a)}}if(r instanceof Uy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof El)return{bytesValue:aS(i.serializer,r._byteString)};if(r instanceof vn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Iy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $y)return function(l,c){return{mapValue:{fields:{[LI]:{stringValue:VI},[Of]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Tc("VectorValues must only contain numeric values.");return _y(c.serializer,p)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${_h(r)}`)}(n,e)}function qS(n,e){const t={};return PI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(n,(r,i)=>{const a=mc(i,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function GS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof Uy||n instanceof El||n instanceof vn||n instanceof jy||n instanceof $y)}function zy(n,e,t){if(!GS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=_h(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Og(n,e,t){if((e=xt(e))instanceof Th)return e._internalPath;if(typeof e=="string")return Wy(n,e);throw zf("Field path arguments must be of type string or ",n,!1,void 0,t)}const NV=new RegExp("[~\\*/\\[\\]]");function Wy(n,e,t){if(e.search(NV)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Th(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zf(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ve(ne.INVALID_ARGUMENT,c+n+f)}function KS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DV extends YS{data(){return super.data()}}function Sh(n,e){return typeof e=="string"?Wy(n,e):e instanceof Th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hy{}class qy extends Hy{}function qd(n,e,...t){let r=[];e instanceof Hy&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof Gy).length,c=a.filter(f=>f instanceof bh).length;if(l>1||l>0&&c>0)throw new ve(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class bh extends qy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bh(e,t,r)}_apply(e){const t=this._parse(e);return QS(e._query,t),new us(e.firestore,e.converter,Ig(e._query,t))}_parse(e){const t=xh(e.firestore);return function(a,l,c,f,p,y,g){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){zE(g,y);const S=[];for(const A of g)S.push(BE(f,a,A));T={arrayValue:{values:S}}}else T=BE(f,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||zE(g,y),T=kV(c,l,g,y==="in"||y==="not-in");return kt.create(p,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vm(n,e,t){const r=e,i=Sh("where",n);return bh._create(i,r,t)}class Gy extends Hy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)QS(l,f),l=Ig(l,f)}(e._query,t),new us(e.firestore,e.converter,Ig(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ky extends qy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ky(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(a,l)}(e._query,this._field,this._direction);return new us(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Rl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Gd(n,e="asc"){const t=e,r=Sh("orderBy",n);return Ky._create(r,t)}class Yy extends qy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Yy(e,t,r)}_apply(e){return new us(e.firestore,e.converter,Lf(e._query,this._limit,this._limitType))}}function $E(n){return TV("limit",n),Yy._create("limit",n,"F")}function BE(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new ve(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HI(e)&&t.indexOf("/")!==-1)throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ct.fromString(t));if(!Pe.isDocumentKey(r))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nE(n,new Pe(r))}if(t instanceof vn)return nE(n,t._key);throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(t)}.`)}function zE(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QS(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class MV{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return as(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Of].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Ct(l.doubleValue));return new $y(a)}convertGeoPoint(e){return new Uy(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const t=Xi(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);tt(hS(r),9688,{name:e});const i=new Ku(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return i.isEqual(t)||Qo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JS extends YS{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mf extends JS{data(e={}){return super.data(e)}}class LV{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mf(this._firestore,this._userDataWriter,r.key,r,new Ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new mf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ou(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new mf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ou(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),y=l.indexOf(c.doc.key)),{type:VV(c.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n){n=$r(n,vn);const e=$r(n.firestore,sa);return wV(Fy(e),n._key).then(t=>UV(e,n,t))}class ZS extends MV{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function Fm(n){n=$r(n,us);const e=$r(n.firestore,sa),t=Fy(e),r=new ZS(e);return OV(n._query),_V(t,n._query).then(i=>new LV(e,r,n,i))}function FV(n,e,t){n=$r(n,vn);const r=$r(n.firestore,sa),i=XS(n.converter,e);return Ch(r,[HS(xh(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,hr.none())])}function eb(n,e,t,...r){n=$r(n,vn);const i=$r(n.firestore,sa),a=xh(i);let l;return l=typeof(e=xt(e))=="string"||e instanceof Th?PV(a,"updateDoc",n._key,e,t,r):RV(a,"updateDoc",n._key,e),Ch(i,[l.toMutation(n._key,hr.exists(!0))])}function tb(n){return Ch($r(n.firestore,sa),[new Ey(n._key,hr.none())])}function jV(n,e){const t=$r(n.firestore,sa),r=Ki(n),i=XS(n.converter,e);return Ch(t,[HS(xh(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function Ch(n,e){return function(r,i){const a=new Ho;return r.asyncQueue.enqueueAndForget(async()=>aV(await vV(r),i,a)),a.promise}(Fy(n),e)}function UV(n,e,t){const r=t.docs.get(e._key),i=new ZS(n);return new JS(n,i,e._key,r,new Ou(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){bl=i})(Il),wo(new jr("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new sa(new k2(r.getProvider("auth-internal")),new O2(l,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(p.options.projectId,y)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),fr(W0,H0,e),fr(W0,H0,"esm2017")})();var $V="firebase",BV="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr($V,BV,"app");const zV={apiKey:"AIzaSyC-DVPD-4CjDQ0nYOjg5y2hMOy1zjx6VeU",authDomain:"grindmode-5d2bb.firebaseapp.com",projectId:"grindmode-5d2bb",storageBucket:"grindmode-5d2bb.firebasestorage.app",messagingSenderId:"1096214127157",appId:"1:1096214127157:web:7b82fd19693d933f3f877c",measurementId:"G-XJN3G8434B"},Xy=px(zV);ZN(Xy);const Mr=IV(Xy),Br=C2(Xy),WV=(n,e)=>nO(Br,n,e),HV=(n,e)=>rO(Br,n,e),qV=()=>mO(Br),GV=n=>Br.currentUser&&iO(Br.currentUser,n),KV=()=>Br.currentUser&&gO(Br.currentUser),YV=pO,QV=()=>{const n=new $o;return LO(Br,n)},XV=dO;Br.currentUser;const JV=Br,ji=n=>{if(!n)return"An unknown error occurred";if(n.code){const t=n;switch(t.code){case"auth/email-already-in-use":return"This email is already registered. Please use a different email or try logging in.";case"auth/invalid-email":return"Invalid email address. Please check your email and try again.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/user-not-found":return"No account found with this email. Please check your email or create a new account.";case"auth/wrong-password":return"Incorrect password. Please try again or reset your password.";case"auth/too-many-requests":return"Too many unsuccessful login attempts. Please try again later or reset your password.";case"auth/user-disabled":return"This account has been disabled. Please contact support for assistance.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return`Authentication error: ${t.message}`}}return`Error: ${n instanceof Error?n.message:String(n)}`},Lr=()=>{const n=Br.currentUser;if(!n||!n.uid)throw new Error("User not authenticated");return n.uid},ZV=async n=>{const e=Ki(Mr,"users",n),t=await Qy(e);return t.exists()?t.data():null},e4=async(n,e)=>{const t=Ki(Mr,"users",n);if(!(await Qy(t)).exists()){const i=et.now();await FV(t,{...e,createdAt:i,updatedAt:i})}},t4=async(n,e)=>{const t=Ki(Mr,"users",n);await eb(t,{...e,updatedAt:et.now()})},n4=async n=>{const e=Ki(Mr,"users",n);await tb(e)},r4=async()=>{try{const n=Lr();return await ZV(n)}catch(n){return console.error("Error getting user profile:",n),null}},MW=async n=>{try{const e=Lr();await t4(e,n)}catch(e){throw console.error("Error updating user profile:",e),new Error("Failed to update profile")}},WE=async n=>{try{const e=Lr();await e4(e,n)}catch(e){throw console.error("Error creating user profile:",e),new Error("Failed to create profile")}},LW=async()=>{try{const n=Lr();await n4(n)}catch(n){throw console.error("Error deleting user profile:",n),new Error("Failed to delete profile")}};function nb(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=nb(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function rb(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=nb(n))&&(r&&(r+=" "),r+=e);return r}const Jy="-",o4=n=>{const e=s4(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(Jy);return c[0]===""&&c.length!==1&&c.shift(),ob(c,e)||i4(l)},getConflictingClassGroupIds:(l,c)=>{const f=t[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},ob=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?ob(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Jy);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},HE=/^\[(.+)\]$/,i4=n=>{if(HE.test(n)){const e=HE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},s4=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)Mg(t[i],r,i,e);return r},Mg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:qE(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(a4(i)){Mg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{Mg(l,qE(e,a),t,r)})})},qE=(n,e)=>{let t=n;return e.split(Jy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},a4=n=>n.isThemeGetter,l4=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},Lg="!",Vg=":",u4=Vg.length,c4=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let l=0,c=0,f=0,p;for(let S=0;S<i.length;S++){let A=i[S];if(l===0&&c===0){if(A===Vg){a.push(i.slice(f,S)),f=S+u4;continue}if(A==="/"){p=S;continue}}A==="["?l++:A==="]"?l--:A==="("?c++:A===")"&&c--}const y=a.length===0?i:i.substring(f),g=d4(y),T=g!==y,I=p&&p>f?p-f:void 0;return{modifiers:a,hasImportantModifier:T,baseClassName:g,maybePostfixModifierPosition:I}};if(e){const i=e+Vg,a=r;r=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},d4=n=>n.endsWith(Lg)?n.substring(0,n.length-1):n.startsWith(Lg)?n.substring(1):n,f4=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},h4=n=>({cache:l4(n.cacheSize),parseClassName:c4(n),sortModifiers:f4(n),...o4(n)}),p4=/\s+/,m4=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],c=n.trim().split(p4);let f="";for(let p=c.length-1;p>=0;p-=1){const y=c[p],{isExternal:g,modifiers:T,hasImportantModifier:I,baseClassName:S,maybePostfixModifierPosition:A}=t(y);if(g){f=y+(f.length>0?" "+f:f);continue}let b=!!A,D=r(b?S.substring(0,A):S);if(!D){if(!b){f=y+(f.length>0?" "+f:f);continue}if(D=r(S),!D){f=y+(f.length>0?" "+f:f);continue}b=!1}const z=a(T).join(":"),U=I?z+Lg:z,q=U+D;if(l.includes(q))continue;l.push(q);const J=i(D,b);for(let ee=0;ee<J.length;++ee){const k=J[ee];l.push(U+k)}f=y+(f.length>0?" "+f:f)}return f};function g4(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=ib(e))&&(r&&(r+=" "),r+=t);return r}const ib=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=ib(n[r]))&&(t&&(t+=" "),t+=e);return t};function y4(n,...e){let t,r,i,a=l;function l(f){const p=e.reduce((y,g)=>g(y),n());return t=h4(p),r=t.cache.get,i=t.cache.set,a=c,c(f)}function c(f){const p=r(f);if(p)return p;const y=m4(f,t);return i(f,y),y}return function(){return a(g4.apply(null,arguments))}}const jt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},sb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ab=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v4=/^\d+\/\d+$/,w4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,T4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,x4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ka=n=>v4.test(n),Be=n=>!!n&&!Number.isNaN(Number(n)),Mi=n=>!!n&&Number.isInteger(Number(n)),jm=n=>n.endsWith("%")&&Be(n.slice(0,-1)),Uo=n=>w4.test(n),I4=()=>!0,S4=n=>_4.test(n)&&!E4.test(n),lb=()=>!1,b4=n=>T4.test(n),C4=n=>x4.test(n),A4=n=>!xe(n)&&!Ie(n),R4=n=>kl(n,db,lb),xe=n=>sb.test(n),Ms=n=>kl(n,fb,S4),Um=n=>kl(n,O4,Be),GE=n=>kl(n,ub,lb),P4=n=>kl(n,cb,C4),Kd=n=>kl(n,hb,b4),Ie=n=>ab.test(n),xu=n=>Nl(n,fb),k4=n=>Nl(n,M4),KE=n=>Nl(n,ub),N4=n=>Nl(n,db),D4=n=>Nl(n,cb),Yd=n=>Nl(n,hb,!0),kl=(n,e,t)=>{const r=sb.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Nl=(n,e,t=!1)=>{const r=ab.exec(n);return r?r[1]?e(r[1]):t:!1},ub=n=>n==="position"||n==="percentage",cb=n=>n==="image"||n==="url",db=n=>n==="length"||n==="size"||n==="bg-size",fb=n=>n==="length",O4=n=>n==="number",M4=n=>n==="family-name",hb=n=>n==="shadow",L4=()=>{const n=jt("color"),e=jt("font"),t=jt("text"),r=jt("font-weight"),i=jt("tracking"),a=jt("leading"),l=jt("breakpoint"),c=jt("container"),f=jt("spacing"),p=jt("radius"),y=jt("shadow"),g=jt("inset-shadow"),T=jt("text-shadow"),I=jt("drop-shadow"),S=jt("blur"),A=jt("perspective"),b=jt("aspect"),D=jt("ease"),z=jt("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...q(),Ie,xe],ee=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],R=()=>[Ie,xe,f],N=()=>[Ka,"full","auto",...R()],M=()=>[Mi,"none","subgrid",Ie,xe],F=()=>["auto",{span:["full",Mi,Ie,xe]},Mi,Ie,xe],B=()=>[Mi,"auto",Ie,xe],O=()=>["auto","min","max","fr",Ie,xe],Re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],fe=()=>["auto",...R()],ge=()=>[Ka,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],H=()=>[n,Ie,xe],te=()=>[...q(),KE,GE,{position:[Ie,xe]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",N4,R4,{size:[Ie,xe]}],V=()=>[jm,xu,Ms],X=()=>["","none","full",p,Ie,xe],se=()=>["",Be,xu,Ms],ie=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Be,jm,KE,GE],Ce=()=>["","none",S,Ie,xe],_e=()=>["none",Be,Ie,xe],$e=()=>["none",Be,Ie,xe],$t=()=>[Be,Ie,xe],Gt=()=>[Ka,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Uo],breakpoint:[Uo],color:[I4],container:[Uo],"drop-shadow":[Uo],ease:["in","out","in-out"],font:[A4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Uo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Uo],shadow:[Uo],spacing:["px",Be],text:[Uo],"text-shadow":[Uo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ka,xe,Ie,b]}],container:["container"],columns:[{columns:[Be,xe,Ie,c]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Mi,"auto",Ie,xe]}],basis:[{basis:[Ka,"full","auto",c,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Ka,"auto","initial","none",xe]}],grow:[{grow:["",Be,Ie,xe]}],shrink:[{shrink:["",Be,Ie,xe]}],order:[{order:[Mi,"first","last","none",Ie,xe]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Re(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...Re()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":Re()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:fe()}],mx:[{mx:fe()}],my:[{my:fe()}],ms:[{ms:fe()}],me:[{me:fe()}],mt:[{mt:fe()}],mr:[{mr:fe()}],mb:[{mb:fe()}],ml:[{ml:fe()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:ge()}],w:[{w:[c,"screen",...ge()]}],"min-w":[{"min-w":[c,"screen","none",...ge()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ge()]}],h:[{h:["screen",...ge()]}],"min-h":[{"min-h":["screen","none",...ge()]}],"max-h":[{"max-h":["screen",...ge()]}],"font-size":[{text:["base",t,xu,Ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,Um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jm,xe]}],"font-family":[{font:[k4,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ie,xe]}],"line-clamp":[{"line-clamp":[Be,"none",Ie,Um]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Ie,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Ie,Ms]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Be,"auto",Ie,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mi,Ie,xe],radial:["",Ie,xe],conic:[Mi,Ie,xe]},D4,P4]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Ie,xe]}],"outline-w":[{outline:["",Be,xu,Ms]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",y,Yd,Kd]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",g,Yd,Kd]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Be,Ms]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",T,Yd,Kd]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Be,Ie,xe]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ie,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,xe]}],filter:[{filter:["","none",Ie,xe]}],blur:[{blur:Ce()}],brightness:[{brightness:[Be,Ie,xe]}],contrast:[{contrast:[Be,Ie,xe]}],"drop-shadow":[{"drop-shadow":["","none",I,Yd,Kd]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Be,Ie,xe]}],"hue-rotate":[{"hue-rotate":[Be,Ie,xe]}],invert:[{invert:["",Be,Ie,xe]}],saturate:[{saturate:[Be,Ie,xe]}],sepia:[{sepia:["",Be,Ie,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,xe]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Ie,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Ie,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Ie,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Ie,xe]}],"backdrop-invert":[{"backdrop-invert":["",Be,Ie,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Ie,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Ie,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Ie,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Ie,xe]}],ease:[{ease:["linear","initial",D,Ie,xe]}],delay:[{delay:[Be,Ie,xe]}],animate:[{animate:["none",z,Ie,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Ie,xe]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:$e()}],"scale-x":[{"scale-x":$e()}],"scale-y":[{"scale-y":$e()}],"scale-z":[{"scale-z":$e()}],"scale-3d":["scale-3d"],skew:[{skew:$t()}],"skew-x":[{"skew-x":$t()}],"skew-y":[{"skew-y":$t()}],transform:[{transform:[Ie,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Gt()}],"translate-x":[{"translate-x":Gt()}],"translate-y":[{"translate-y":Gt()}],"translate-z":[{"translate-z":Gt()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,xe]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Be,xu,Ms,Um]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V4=y4(L4);function Ue(...n){return V4(rb(n))}const Gs=_.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:Ue("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Gs.displayName="Card";const Ks=_.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:Ue("flex flex-col space-y-1.5 p-6",n),...e}));Ks.displayName="CardHeader";const Dl=_.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:Ue("font-semibold leading-none tracking-tight",n),...e}));Dl.displayName="CardTitle";const Ah=_.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:Ue("text-sm text-muted-foreground",n),...e}));Ah.displayName="CardDescription";const Ys=_.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:Ue("p-6 pt-0",n),...e}));Ys.displayName="CardContent";const gc=_.forwardRef(({className:n,...e},t)=>E.jsx("div",{ref:t,className:Ue("flex items-center p-6 pt-0",n),...e}));gc.displayName="CardFooter";var Rh=ex();const Zy=JT(Rh);function YE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Jo(...n){return e=>{let t=!1;const r=n.map(i=>{const a=YE(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():YE(n[i],null)}}}}function at(...n){return _.useCallback(Jo(...n),n)}function Tl(n){const e=F4(n),t=_.forwardRef((r,i)=>{const{children:a,...l}=r,c=_.Children.toArray(a),f=c.find(U4);if(f){const p=f.props.children,y=c.map(g=>g===f?_.Children.count(p)>1?_.Children.only(null):_.isValidElement(p)?p.props.children:null:g);return E.jsx(e,{...l,ref:i,children:_.isValidElement(p)?_.cloneElement(p,void 0,y):null})}return E.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var pb=Tl("Slot");function F4(n){const e=_.forwardRef((t,r)=>{const{children:i,...a}=t;if(_.isValidElement(i)){const l=B4(i),c=$4(a,i.props);return i.type!==_.Fragment&&(c.ref=r?Jo(r,l):l),_.cloneElement(i,c)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var mb=Symbol("radix.slottable");function j4(n){const e=({children:t})=>E.jsx(E.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=mb,e}function U4(n){return _.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===mb}function $4(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{a(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function B4(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var z4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=z4.reduce((n,e)=>{const t=Tl(`Primitive.${e}`),r=_.forwardRef((i,a)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(f,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function gb(n,e){n&&Rh.flushSync(()=>n.dispatchEvent(e))}var W4="Label",yb=_.forwardRef((n,e)=>E.jsx(Ze.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));yb.displayName=W4;var H4=yb;function q4({className:n,...e}){return E.jsx(H4,{"data-slot":"label",className:Ue("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function vb(n,e){const t=_.createContext(e),r=a=>{const{children:l,...c}=a,f=_.useMemo(()=>c,Object.values(c));return E.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function i(a){const l=_.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function ri(n,e=[]){let t=[];function r(a,l){const c=_.createContext(l),f=t.length;t=[...t,l];const p=g=>{var D;const{scope:T,children:I,...S}=g,A=((D=T==null?void 0:T[n])==null?void 0:D[f])||c,b=_.useMemo(()=>S,Object.values(S));return E.jsx(A.Provider,{value:b,children:I})};p.displayName=a+"Provider";function y(g,T){var A;const I=((A=T==null?void 0:T[n])==null?void 0:A[f])||c,S=_.useContext(I);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[p,y]}const i=()=>{const a=t.map(l=>_.createContext(l));return function(c){const f=(c==null?void 0:c[n])||a;return _.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return i.scopeName=n,[r,G4(i,...e)]}function G4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:f,scopeName:p})=>{const g=f(a)[`__scope${p}`];return{...c,...g}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function wb(n){const e=n+"CollectionProvider",[t,r]=ri(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=A=>{const{scope:b,children:D}=A,z=de.useRef(null),U=de.useRef(new Map).current;return E.jsx(i,{scope:b,itemMap:U,collectionRef:z,children:D})};l.displayName=e;const c=n+"CollectionSlot",f=Tl(c),p=de.forwardRef((A,b)=>{const{scope:D,children:z}=A,U=a(c,D),q=at(b,U.collectionRef);return E.jsx(f,{ref:q,children:z})});p.displayName=c;const y=n+"CollectionItemSlot",g="data-radix-collection-item",T=Tl(y),I=de.forwardRef((A,b)=>{const{scope:D,children:z,...U}=A,q=de.useRef(null),J=at(b,q),ee=a(y,D);return de.useEffect(()=>(ee.itemMap.set(q,{ref:q,...U}),()=>void ee.itemMap.delete(q))),E.jsx(T,{[g]:"",ref:J,children:z})});I.displayName=y;function S(A){const b=a(n+"CollectionConsumer",A);return de.useCallback(()=>{const z=b.collectionRef.current;if(!z)return[];const U=Array.from(z.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((ee,k)=>U.indexOf(ee.ref.current)-U.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:p,ItemSlot:I},S,r]}var K4=_.createContext(void 0);function _b(n){const e=_.useContext(K4);return n||e||"ltr"}function jn(n){const e=_.useRef(n);return _.useEffect(()=>{e.current=n}),_.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Eb(n,e=globalThis==null?void 0:globalThis.document){const t=jn(n);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Y4="DismissableLayer",Fg="dismissableLayer.update",Q4="dismissableLayer.pointerDownOutside",X4="dismissableLayer.focusOutside",QE,Tb=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ev=_.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...f}=n,p=_.useContext(Tb),[y,g]=_.useState(null),T=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=_.useState({}),S=at(e,k=>g(k)),A=Array.from(p.layers),[b]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=A.indexOf(b),z=y?A.indexOf(y):-1,U=p.layersWithOutsidePointerEventsDisabled.size>0,q=z>=D,J=eF(k=>{const R=k.target,N=[...p.branches].some(M=>M.contains(R));!q||N||(i==null||i(k),l==null||l(k),k.defaultPrevented||c==null||c())},T),ee=tF(k=>{const R=k.target;[...p.branches].some(M=>M.contains(R))||(a==null||a(k),l==null||l(k),k.defaultPrevented||c==null||c())},T);return Eb(k=>{z===p.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},T),_.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(QE=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),XE(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=QE)}},[y,T,t,p]),_.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),XE())},[y,p]),_.useEffect(()=>{const k=()=>I({});return document.addEventListener(Fg,k),()=>document.removeEventListener(Fg,k)},[]),E.jsx(Ze.div,{...f,ref:S,style:{pointerEvents:U?q?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,ee.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,ee.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,J.onPointerDownCapture)})});ev.displayName=Y4;var J4="DismissableLayerBranch",Z4=_.forwardRef((n,e)=>{const t=_.useContext(Tb),r=_.useRef(null),i=at(e,r);return _.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),E.jsx(Ze.div,{...n,ref:i})});Z4.displayName=J4;function eF(n,e=globalThis==null?void 0:globalThis.document){const t=jn(n),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){xb(Q4,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function tF(n,e=globalThis==null?void 0:globalThis.document){const t=jn(n),r=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!r.current&&xb(X4,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function XE(){const n=new CustomEvent(Fg);document.dispatchEvent(n)}function xb(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?gb(i,a):i.dispatchEvent(a)}var $m=0;function tv(){_.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??JE()),document.body.insertAdjacentElement("beforeend",n[1]??JE()),$m++,()=>{$m===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$m--}},[])}function JE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Bm="focusScope.autoFocusOnMount",zm="focusScope.autoFocusOnUnmount",ZE={bubbles:!1,cancelable:!0},nF="FocusScope",nv=_.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[c,f]=_.useState(null),p=jn(i),y=jn(a),g=_.useRef(null),T=at(e,A=>f(A)),I=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let A=function(U){if(I.paused||!c)return;const q=U.target;c.contains(q)?g.current=q:Vi(g.current,{select:!0})},b=function(U){if(I.paused||!c)return;const q=U.relatedTarget;q!==null&&(c.contains(q)||Vi(g.current,{select:!0}))},D=function(U){if(document.activeElement===document.body)for(const J of U)J.removedNodes.length>0&&Vi(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",b);const z=new MutationObserver(D);return c&&z.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",b),z.disconnect()}}},[r,c,I.paused]),_.useEffect(()=>{if(c){tT.add(I);const A=document.activeElement;if(!c.contains(A)){const D=new CustomEvent(Bm,ZE);c.addEventListener(Bm,p),c.dispatchEvent(D),D.defaultPrevented||(rF(lF(Ib(c)),{select:!0}),document.activeElement===A&&Vi(c))}return()=>{c.removeEventListener(Bm,p),setTimeout(()=>{const D=new CustomEvent(zm,ZE);c.addEventListener(zm,y),c.dispatchEvent(D),D.defaultPrevented||Vi(A??document.body,{select:!0}),c.removeEventListener(zm,y),tT.remove(I)},0)}}},[c,p,y,I]);const S=_.useCallback(A=>{if(!t&&!r||I.paused)return;const b=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,D=document.activeElement;if(b&&D){const z=A.currentTarget,[U,q]=oF(z);U&&q?!A.shiftKey&&D===q?(A.preventDefault(),t&&Vi(U,{select:!0})):A.shiftKey&&D===U&&(A.preventDefault(),t&&Vi(q,{select:!0})):D===z&&A.preventDefault()}},[t,r,I.paused]);return E.jsx(Ze.div,{tabIndex:-1,...l,ref:T,onKeyDown:S})});nv.displayName=nF;function rF(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Vi(r,{select:e}),document.activeElement!==t)return}function oF(n){const e=Ib(n),t=eT(e,n),r=eT(e.reverse(),n);return[t,r]}function Ib(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function eT(n,e){for(const t of n)if(!iF(t,{upTo:e}))return t}function iF(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function sF(n){return n instanceof HTMLInputElement&&"select"in n}function Vi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&sF(n)&&e&&n.select()}}var tT=aF();function aF(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=nT(n,e),n.unshift(e)},remove(e){var t;n=nT(n,e),(t=n[0])==null||t.resume()}}}function nT(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function lF(n){return n.filter(e=>e.tagName!=="A")}var gr=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},uF=ZT[" useId ".trim().toString()]||(()=>{}),cF=0;function wn(n){const[e,t]=_.useState(uF());return gr(()=>{t(r=>r??String(cF++))},[n]),n||(e?`radix-${e}`:"")}const dF=["top","right","bottom","left"],ns=Math.min,Qn=Math.max,Wf=Math.round,Qd=Math.floor,vo=n=>({x:n,y:n}),fF={left:"right",right:"left",bottom:"top",top:"bottom"},hF={start:"end",end:"start"};function jg(n,e,t){return Qn(n,ns(e,t))}function Zo(n,e){return typeof n=="function"?n(e):n}function ei(n){return n.split("-")[0]}function Ol(n){return n.split("-")[1]}function rv(n){return n==="x"?"y":"x"}function ov(n){return n==="y"?"height":"width"}function qo(n){return["top","bottom"].includes(ei(n))?"y":"x"}function iv(n){return rv(qo(n))}function pF(n,e,t){t===void 0&&(t=!1);const r=Ol(n),i=iv(n),a=ov(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Hf(l)),[l,Hf(l)]}function mF(n){const e=Hf(n);return[Ug(n),e,Ug(e)]}function Ug(n){return n.replace(/start|end/g,e=>hF[e])}function gF(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function yF(n,e,t,r){const i=Ol(n);let a=gF(ei(n),t==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(Ug)))),a}function Hf(n){return n.replace(/left|right|bottom|top/g,e=>fF[e])}function vF(n){return{top:0,right:0,bottom:0,left:0,...n}}function Sb(n){return typeof n!="number"?vF(n):{top:n,right:n,bottom:n,left:n}}function qf(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function rT(n,e,t){let{reference:r,floating:i}=n;const a=qo(e),l=iv(e),c=ov(l),f=ei(e),p=a==="y",y=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,T=r[c]/2-i[c]/2;let I;switch(f){case"top":I={x:y,y:r.y-i.height};break;case"bottom":I={x:y,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:g};break;case"left":I={x:r.x-i.width,y:g};break;default:I={x:r.x,y:r.y}}switch(Ol(e)){case"start":I[l]-=T*(t&&p?-1:1);break;case"end":I[l]+=T*(t&&p?-1:1);break}return I}const wF=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:y,y:g}=rT(p,r,f),T=r,I={},S=0;for(let A=0;A<c.length;A++){const{name:b,fn:D}=c[A],{x:z,y:U,data:q,reset:J}=await D({x:y,y:g,initialPlacement:r,placement:T,strategy:i,middlewareData:I,rects:p,platform:l,elements:{reference:n,floating:e}});y=z??y,g=U??g,I={...I,[b]:{...I[b],...q}},J&&S<=50&&(S++,typeof J=="object"&&(J.placement&&(T=J.placement),J.rects&&(p=J.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):J.rects),{x:y,y:g}=rT(p,T,f)),A=-1)}return{x:y,y:g,placement:T,strategy:i,middlewareData:I}};async function Zu(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:T=!1,padding:I=0}=Zo(e,n),S=Sb(I),b=c[T?g==="floating"?"reference":"floating":g],D=qf(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:p,rootBoundary:y,strategy:f})),z=g==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,U=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),q=await(a.isElement==null?void 0:a.isElement(U))?await(a.getScale==null?void 0:a.getScale(U))||{x:1,y:1}:{x:1,y:1},J=qf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:z,offsetParent:U,strategy:f}):z);return{top:(D.top-J.top+S.top)/q.y,bottom:(J.bottom-D.bottom+S.bottom)/q.y,left:(D.left-J.left+S.left)/q.x,right:(J.right-D.right+S.right)/q.x}}const _F=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:f}=e,{element:p,padding:y=0}=Zo(n,e)||{};if(p==null)return{};const g=Sb(y),T={x:t,y:r},I=iv(i),S=ov(I),A=await l.getDimensions(p),b=I==="y",D=b?"top":"left",z=b?"bottom":"right",U=b?"clientHeight":"clientWidth",q=a.reference[S]+a.reference[I]-T[I]-a.floating[S],J=T[I]-a.reference[I],ee=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let k=ee?ee[U]:0;(!k||!await(l.isElement==null?void 0:l.isElement(ee)))&&(k=c.floating[U]||a.floating[S]);const R=q/2-J/2,N=k/2-A[S]/2-1,M=ns(g[D],N),F=ns(g[z],N),B=M,O=k-A[S]-F,Re=k/2-A[S]/2+R,Se=jg(B,Re,O),fe=!f.arrow&&Ol(i)!=null&&Re!==Se&&a.reference[S]/2-(Re<B?M:F)-A[S]/2<0,ge=fe?Re<B?Re-B:Re-O:0;return{[I]:T[I]+ge,data:{[I]:Se,centerOffset:Re-Se-ge,...fe&&{alignmentOffset:ge}},reset:fe}}}),EF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:f,elements:p}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:T,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:A=!0,...b}=Zo(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const D=ei(i),z=qo(c),U=ei(c)===c,q=await(f.isRTL==null?void 0:f.isRTL(p.floating)),J=T||(U||!A?[Hf(c)]:mF(c)),ee=S!=="none";!T&&ee&&J.push(...yF(c,A,S,q));const k=[c,...J],R=await Zu(e,b),N=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&N.push(R[D]),g){const Se=pF(i,l,q);N.push(R[Se[0]],R[Se[1]])}if(M=[...M,{placement:i,overflows:N}],!N.every(Se=>Se<=0)){var F,B;const Se=(((F=a.flip)==null?void 0:F.index)||0)+1,fe=k[Se];if(fe){var O;const H=g==="alignment"?z!==qo(fe):!1,te=((O=M[0])==null?void 0:O.overflows[0])>0;if(!H||te)return{data:{index:Se,overflows:M},reset:{placement:fe}}}let ge=(B=M.filter(H=>H.overflows[0]<=0).sort((H,te)=>H.overflows[1]-te.overflows[1])[0])==null?void 0:B.placement;if(!ge)switch(I){case"bestFit":{var Re;const H=(Re=M.filter(te=>{if(ee){const re=qo(te.placement);return re===z||re==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(re=>re>0).reduce((re,j)=>re+j,0)]).sort((te,re)=>te[1]-re[1])[0])==null?void 0:Re[0];H&&(ge=H);break}case"initialPlacement":ge=c;break}if(i!==ge)return{reset:{placement:ge}}}return{}}}};function oT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function iT(n){return dF.some(e=>n[e]>=0)}const TF=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Zo(n,e);switch(r){case"referenceHidden":{const a=await Zu(e,{...i,elementContext:"reference"}),l=oT(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:iT(l)}}}case"escaped":{const a=await Zu(e,{...i,altBoundary:!0}),l=oT(a,t.floating);return{data:{escapedOffsets:l,escaped:iT(l)}}}default:return{}}}}};async function xF(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ei(t),c=Ol(t),f=qo(t)==="y",p=["left","top"].includes(l)?-1:1,y=a&&f?-1:1,g=Zo(e,n);let{mainAxis:T,crossAxis:I,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof S=="number"&&(I=c==="end"?S*-1:S),f?{x:I*y,y:T*p}:{x:T*p,y:I*y}}const IF=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:l,middlewareData:c}=e,f=await xF(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:l}}}}},SF=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:D,y:z}=b;return{x:D,y:z}}},...f}=Zo(n,e),p={x:t,y:r},y=await Zu(e,f),g=qo(ei(i)),T=rv(g);let I=p[T],S=p[g];if(a){const b=T==="y"?"top":"left",D=T==="y"?"bottom":"right",z=I+y[b],U=I-y[D];I=jg(z,I,U)}if(l){const b=g==="y"?"top":"left",D=g==="y"?"bottom":"right",z=S+y[b],U=S-y[D];S=jg(z,S,U)}const A=c.fn({...e,[T]:I,[g]:S});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[T]:a,[g]:l}}}}}},bF=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:p=!0}=Zo(n,e),y={x:t,y:r},g=qo(i),T=rv(g);let I=y[T],S=y[g];const A=Zo(c,e),b=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(f){const U=T==="y"?"height":"width",q=a.reference[T]-a.floating[U]+b.mainAxis,J=a.reference[T]+a.reference[U]-b.mainAxis;I<q?I=q:I>J&&(I=J)}if(p){var D,z;const U=T==="y"?"width":"height",q=["top","left"].includes(ei(i)),J=a.reference[g]-a.floating[U]+(q&&((D=l.offset)==null?void 0:D[g])||0)+(q?0:b.crossAxis),ee=a.reference[g]+a.reference[U]+(q?0:((z=l.offset)==null?void 0:z[g])||0)-(q?b.crossAxis:0);S<J?S=J:S>ee&&(S=ee)}return{[T]:I,[g]:S}}}},CF=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:l,elements:c}=e,{apply:f=()=>{},...p}=Zo(n,e),y=await Zu(e,p),g=ei(i),T=Ol(i),I=qo(i)==="y",{width:S,height:A}=a.floating;let b,D;g==="top"||g==="bottom"?(b=g,D=T===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(D=g,b=T==="end"?"top":"bottom");const z=A-y.top-y.bottom,U=S-y.left-y.right,q=ns(A-y[b],z),J=ns(S-y[D],U),ee=!e.middlewareData.shift;let k=q,R=J;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=z),ee&&!T){const M=Qn(y.left,0),F=Qn(y.right,0),B=Qn(y.top,0),O=Qn(y.bottom,0);I?R=S-2*(M!==0||F!==0?M+F:Qn(y.left,y.right)):k=A-2*(B!==0||O!==0?B+O:Qn(y.top,y.bottom))}await f({...e,availableWidth:R,availableHeight:k});const N=await l.getDimensions(c.floating);return S!==N.width||A!==N.height?{reset:{rects:!0}}:{}}}};function Ph(){return typeof window<"u"}function Ml(n){return bb(n)?(n.nodeName||"").toLowerCase():"#document"}function er(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function xo(n){var e;return(e=(bb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function bb(n){return Ph()?n instanceof Node||n instanceof er(n).Node:!1}function zr(n){return Ph()?n instanceof Element||n instanceof er(n).Element:!1}function Eo(n){return Ph()?n instanceof HTMLElement||n instanceof er(n).HTMLElement:!1}function sT(n){return!Ph()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof er(n).ShadowRoot}function yc(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Wr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function AF(n){return["table","td","th"].includes(Ml(n))}function kh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function sv(n){const e=av(),t=zr(n)?Wr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function RF(n){let e=rs(n);for(;Eo(e)&&!xl(e);){if(sv(e))return e;if(kh(e))return null;e=rs(e)}return null}function av(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xl(n){return["html","body","#document"].includes(Ml(n))}function Wr(n){return er(n).getComputedStyle(n)}function Nh(n){return zr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function rs(n){if(Ml(n)==="html")return n;const e=n.assignedSlot||n.parentNode||sT(n)&&n.host||xo(n);return sT(e)?e.host:e}function Cb(n){const e=rs(n);return xl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Eo(e)&&yc(e)?e:Cb(e)}function ec(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Cb(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=er(i);if(a){const c=$g(l);return e.concat(l,l.visualViewport||[],yc(i)?i:[],c&&t?ec(c):[])}return e.concat(i,ec(i,[],t))}function $g(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Ab(n){const e=Wr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Eo(n),a=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=Wf(t)!==a||Wf(r)!==l;return c&&(t=a,r=l),{width:t,height:r,$:c}}function lv(n){return zr(n)?n:n.contextElement}function dl(n){const e=lv(n);if(!Eo(e))return vo(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=Ab(e);let l=(a?Wf(t.width):t.width)/r,c=(a?Wf(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const PF=vo(0);function Rb(n){const e=er(n);return!av()||!e.visualViewport?PF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kF(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==er(n)?!1:e}function Qs(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=lv(n);let l=vo(1);e&&(r?zr(r)&&(l=dl(r)):l=dl(n));const c=kF(a,t,r)?Rb(a):vo(0);let f=(i.left+c.x)/l.x,p=(i.top+c.y)/l.y,y=i.width/l.x,g=i.height/l.y;if(a){const T=er(a),I=r&&zr(r)?er(r):r;let S=T,A=$g(S);for(;A&&r&&I!==S;){const b=dl(A),D=A.getBoundingClientRect(),z=Wr(A),U=D.left+(A.clientLeft+parseFloat(z.paddingLeft))*b.x,q=D.top+(A.clientTop+parseFloat(z.paddingTop))*b.y;f*=b.x,p*=b.y,y*=b.x,g*=b.y,f+=U,p+=q,S=er(A),A=$g(S)}}return qf({width:y,height:g,x:f,y:p})}function uv(n,e){const t=Nh(n).scrollLeft;return e?e.left+t:Qs(xo(n)).left+t}function Pb(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:uv(n,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function NF(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=xo(r),c=e?kh(e.floating):!1;if(r===l||c&&a)return t;let f={scrollLeft:0,scrollTop:0},p=vo(1);const y=vo(0),g=Eo(r);if((g||!g&&!a)&&((Ml(r)!=="body"||yc(l))&&(f=Nh(r)),Eo(r))){const I=Qs(r);p=dl(r),y.x=I.x+r.clientLeft,y.y=I.y+r.clientTop}const T=l&&!g&&!a?Pb(l,f,!0):vo(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+y.x+T.x,y:t.y*p.y-f.scrollTop*p.y+y.y+T.y}}function DF(n){return Array.from(n.getClientRects())}function OF(n){const e=xo(n),t=Nh(n),r=n.ownerDocument.body,i=Qn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Qn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+uv(n);const c=-t.scrollTop;return Wr(r).direction==="rtl"&&(l+=Qn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}function MF(n,e){const t=er(n),r=xo(n),i=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;const p=av();(!p||p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c,y:f}}function LF(n,e){const t=Qs(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=Eo(n)?dl(n):vo(1),l=n.clientWidth*a.x,c=n.clientHeight*a.y,f=i*a.x,p=r*a.y;return{width:l,height:c,x:f,y:p}}function aT(n,e,t){let r;if(e==="viewport")r=MF(n,t);else if(e==="document")r=OF(xo(n));else if(zr(e))r=LF(e,t);else{const i=Rb(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return qf(r)}function kb(n,e){const t=rs(n);return t===e||!zr(t)||xl(t)?!1:Wr(t).position==="fixed"||kb(t,e)}function VF(n,e){const t=e.get(n);if(t)return t;let r=ec(n,[],!1).filter(c=>zr(c)&&Ml(c)!=="body"),i=null;const a=Wr(n).position==="fixed";let l=a?rs(n):n;for(;zr(l)&&!xl(l);){const c=Wr(l),f=sv(l);!f&&c.position==="fixed"&&(i=null),(a?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||yc(l)&&!f&&kb(n,l))?r=r.filter(y=>y!==l):i=c,l=rs(l)}return e.set(n,r),r}function FF(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?kh(e)?[]:VF(e,this._c):[].concat(t),r],c=l[0],f=l.reduce((p,y)=>{const g=aT(e,y,i);return p.top=Qn(g.top,p.top),p.right=ns(g.right,p.right),p.bottom=ns(g.bottom,p.bottom),p.left=Qn(g.left,p.left),p},aT(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function jF(n){const{width:e,height:t}=Ab(n);return{width:e,height:t}}function UF(n,e,t){const r=Eo(e),i=xo(e),a=t==="fixed",l=Qs(n,!0,a,e);let c={scrollLeft:0,scrollTop:0};const f=vo(0);function p(){f.x=uv(i)}if(r||!r&&!a)if((Ml(e)!=="body"||yc(i))&&(c=Nh(e)),r){const I=Qs(e,!0,a,e);f.x=I.x+e.clientLeft,f.y=I.y+e.clientTop}else i&&p();a&&!r&&i&&p();const y=i&&!r&&!a?Pb(i,c):vo(0),g=l.left+c.scrollLeft-f.x-y.x,T=l.top+c.scrollTop-f.y-y.y;return{x:g,y:T,width:l.width,height:l.height}}function Wm(n){return Wr(n).position==="static"}function lT(n,e){if(!Eo(n)||Wr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return xo(n)===t&&(t=t.ownerDocument.body),t}function Nb(n,e){const t=er(n);if(kh(n))return t;if(!Eo(n)){let i=rs(n);for(;i&&!xl(i);){if(zr(i)&&!Wm(i))return i;i=rs(i)}return t}let r=lT(n,e);for(;r&&AF(r)&&Wm(r);)r=lT(r,e);return r&&xl(r)&&Wm(r)&&!sv(r)?t:r||RF(n)||t}const $F=async function(n){const e=this.getOffsetParent||Nb,t=this.getDimensions,r=await t(n.floating);return{reference:UF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BF(n){return Wr(n).direction==="rtl"}const zF={convertOffsetParentRelativeRectToViewportRelativeRect:NF,getDocumentElement:xo,getClippingRect:FF,getOffsetParent:Nb,getElementRects:$F,getClientRects:DF,getDimensions:jF,getScale:dl,isElement:zr,isRTL:BF};function Db(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function WF(n,e){let t=null,r;const i=xo(n);function a(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),a();const p=n.getBoundingClientRect(),{left:y,top:g,width:T,height:I}=p;if(c||e(),!T||!I)return;const S=Qd(g),A=Qd(i.clientWidth-(y+T)),b=Qd(i.clientHeight-(g+I)),D=Qd(y),U={rootMargin:-S+"px "+-A+"px "+-b+"px "+-D+"px",threshold:Qn(0,ns(1,f))||1};let q=!0;function J(ee){const k=ee[0].intersectionRatio;if(k!==f){if(!q)return l();k?l(!1,k):r=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!Db(p,n.getBoundingClientRect())&&l(),q=!1}try{t=new IntersectionObserver(J,{...U,root:i.ownerDocument})}catch{t=new IntersectionObserver(J,U)}t.observe(n)}return l(!0),a}function HF(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=lv(n),y=i||a?[...p?ec(p):[],...ec(e)]:[];y.forEach(D=>{i&&D.addEventListener("scroll",t,{passive:!0}),a&&D.addEventListener("resize",t)});const g=p&&c?WF(p,t):null;let T=-1,I=null;l&&(I=new ResizeObserver(D=>{let[z]=D;z&&z.target===p&&I&&(I.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var U;(U=I)==null||U.observe(e)})),t()}),p&&!f&&I.observe(p),I.observe(e));let S,A=f?Qs(n):null;f&&b();function b(){const D=Qs(n);A&&!Db(A,D)&&t(),A=D,S=requestAnimationFrame(b)}return t(),()=>{var D;y.forEach(z=>{i&&z.removeEventListener("scroll",t),a&&z.removeEventListener("resize",t)}),g==null||g(),(D=I)==null||D.disconnect(),I=null,f&&cancelAnimationFrame(S)}}const qF=IF,GF=SF,KF=EF,YF=CF,QF=TF,uT=_F,XF=bF,JF=(n,e,t)=>{const r=new Map,i={platform:zF,...t},a={...i.platform,_c:r};return wF(n,e,{...i,platform:a})};var gf=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Gf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Gf(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Gf(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function Ob(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function cT(n,e){const t=Ob(n);return Math.round(e*t)/t}function Hm(n){const e=_.useRef(n);return gf(()=>{e.current=n}),e}function ZF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:f,open:p}=n,[y,g]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,I]=_.useState(r);Gf(T,r)||I(r);const[S,A]=_.useState(null),[b,D]=_.useState(null),z=_.useCallback(H=>{H!==ee.current&&(ee.current=H,A(H))},[]),U=_.useCallback(H=>{H!==k.current&&(k.current=H,D(H))},[]),q=a||S,J=l||b,ee=_.useRef(null),k=_.useRef(null),R=_.useRef(y),N=f!=null,M=Hm(f),F=Hm(i),B=Hm(p),O=_.useCallback(()=>{if(!ee.current||!k.current)return;const H={placement:e,strategy:t,middleware:T};F.current&&(H.platform=F.current),JF(ee.current,k.current,H).then(te=>{const re={...te,isPositioned:B.current!==!1};Re.current&&!Gf(R.current,re)&&(R.current=re,Rh.flushSync(()=>{g(re)}))})},[T,e,t,F,B]);gf(()=>{p===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[p]);const Re=_.useRef(!1);gf(()=>(Re.current=!0,()=>{Re.current=!1}),[]),gf(()=>{if(q&&(ee.current=q),J&&(k.current=J),q&&J){if(M.current)return M.current(q,J,O);O()}},[q,J,O,M,N]);const Se=_.useMemo(()=>({reference:ee,floating:k,setReference:z,setFloating:U}),[z,U]),fe=_.useMemo(()=>({reference:q,floating:J}),[q,J]),ge=_.useMemo(()=>{const H={position:t,left:0,top:0};if(!fe.floating)return H;const te=cT(fe.floating,y.x),re=cT(fe.floating,y.y);return c?{...H,transform:"translate("+te+"px, "+re+"px)",...Ob(fe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:re}},[t,c,fe.floating,y.x,y.y]);return _.useMemo(()=>({...y,update:O,refs:Se,elements:fe,floatingStyles:ge}),[y,O,Se,fe,ge])}const ej=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?uT({element:r.current,padding:i}).fn(t):{}:r?uT({element:r,padding:i}).fn(t):{}}}},tj=(n,e)=>({...qF(n),options:[n,e]}),nj=(n,e)=>({...GF(n),options:[n,e]}),rj=(n,e)=>({...XF(n),options:[n,e]}),oj=(n,e)=>({...KF(n),options:[n,e]}),ij=(n,e)=>({...YF(n),options:[n,e]}),sj=(n,e)=>({...QF(n),options:[n,e]}),aj=(n,e)=>({...ej(n),options:[n,e]});var lj="Arrow",Mb=_.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return E.jsx(Ze.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mb.displayName=lj;var uj=Mb;function cj(n){const[e,t]=_.useState(void 0);return gr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,c=p.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var cv="Popper",[Lb,Vb]=ri(cv),[dj,Fb]=Lb(cv),jb=n=>{const{__scopePopper:e,children:t}=n,[r,i]=_.useState(null);return E.jsx(dj,{scope:e,anchor:r,onAnchorChange:i,children:t})};jb.displayName=cv;var Ub="PopperAnchor",$b=_.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=Fb(Ub,t),l=_.useRef(null),c=at(e,l);return _.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:E.jsx(Ze.div,{...i,ref:c})});$b.displayName=Ub;var dv="PopperContent",[fj,hj]=Lb(dv),Bb=_.forwardRef((n,e)=>{var he,Ce,_e,$e,$t,Gt;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:T=!1,updatePositionStrategy:I="optimized",onPlaced:S,...A}=n,b=Fb(dv,t),[D,z]=_.useState(null),U=at(e,tn=>z(tn)),[q,J]=_.useState(null),ee=cj(q),k=(ee==null?void 0:ee.width)??0,R=(ee==null?void 0:ee.height)??0,N=r+(a!=="center"?"-"+a:""),M=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},F=Array.isArray(p)?p:[p],B=F.length>0,O={padding:M,boundary:F.filter(mj),altBoundary:B},{refs:Re,floatingStyles:Se,placement:fe,isPositioned:ge,middlewareData:H}=ZF({strategy:"fixed",placement:N,whileElementsMounted:(...tn)=>HF(...tn,{animationFrame:I==="always"}),elements:{reference:b.anchor},middleware:[tj({mainAxis:i+R,alignmentAxis:l}),f&&nj({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?rj():void 0,...O}),f&&oj({...O}),ij({...O,apply:({elements:tn,rects:En,availableWidth:Jr,availableHeight:Zr})=>{const{width:Un,height:Io}=En.reference,It=tn.floating.style;It.setProperty("--radix-popper-available-width",`${Jr}px`),It.setProperty("--radix-popper-available-height",`${Zr}px`),It.setProperty("--radix-popper-anchor-width",`${Un}px`),It.setProperty("--radix-popper-anchor-height",`${Io}px`)}}),q&&aj({element:q,padding:c}),gj({arrowWidth:k,arrowHeight:R}),T&&sj({strategy:"referenceHidden",...O})]}),[te,re]=Hb(fe),j=jn(S);gr(()=>{ge&&(j==null||j())},[ge,j]);const V=(he=H.arrow)==null?void 0:he.x,X=(Ce=H.arrow)==null?void 0:Ce.y,se=((_e=H.arrow)==null?void 0:_e.centerOffset)!==0,[ie,ue]=_.useState();return gr(()=>{D&&ue(window.getComputedStyle(D).zIndex)},[D]),E.jsx("div",{ref:Re.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:ge?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[($e=H.transformOrigin)==null?void 0:$e.x,($t=H.transformOrigin)==null?void 0:$t.y].join(" "),...((Gt=H.hide)==null?void 0:Gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:E.jsx(fj,{scope:t,placedSide:te,onArrowChange:J,arrowX:V,arrowY:X,shouldHideArrow:se,children:E.jsx(Ze.div,{"data-side":te,"data-align":re,...A,ref:U,style:{...A.style,animation:ge?void 0:"none"}})})})});Bb.displayName=dv;var zb="PopperArrow",pj={top:"bottom",right:"left",bottom:"top",left:"right"},Wb=_.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=hj(zb,r),l=pj[a.placedSide];return E.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:E.jsx(uj,{...i,ref:t,style:{...i.style,display:"block"}})})});Wb.displayName=zb;function mj(n){return n!==null}var gj=n=>({name:"transformOrigin",options:n,fn(e){var b,D,z;const{placement:t,rects:r,middlewareData:i}=e,l=((b=i.arrow)==null?void 0:b.centerOffset)!==0,c=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[p,y]=Hb(t),g={start:"0%",center:"50%",end:"100%"}[y],T=(((D=i.arrow)==null?void 0:D.x)??0)+c/2,I=(((z=i.arrow)==null?void 0:z.y)??0)+f/2;let S="",A="";return p==="bottom"?(S=l?g:`${T}px`,A=`${-f}px`):p==="top"?(S=l?g:`${T}px`,A=`${r.floating.height+f}px`):p==="right"?(S=`${-f}px`,A=l?g:`${I}px`):p==="left"&&(S=`${r.floating.width+f}px`,A=l?g:`${I}px`),{data:{x:S,y:A}}}});function Hb(n){const[e,t="center"]=n.split("-");return[e,t]}var yj=jb,vj=$b,wj=Bb,_j=Wb,Ej="Portal",fv=_.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,a]=_.useState(!1);gr(()=>a(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Zy.createPortal(E.jsx(Ze.div,{...r,ref:e}),l):null});fv.displayName=Ej;var Tj=ZT[" useInsertionEffect ".trim().toString()]||gr;function Dh({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,l]=xj({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:i;{const y=_.useRef(n!==void 0);_.useEffect(()=>{const g=y.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=c},[c,r])}const p=_.useCallback(y=>{var g;if(c){const T=Ij(y)?y(n):y;T!==n&&((g=l.current)==null||g.call(l,T))}else a(y)},[c,n,a,l]);return[f,p]}function xj({defaultProp:n,onChange:e}){const[t,r]=_.useState(n),i=_.useRef(t),a=_.useRef(e);return Tj(()=>{a.current=e},[e]),_.useEffect(()=>{var l;i.current!==t&&((l=a.current)==null||l.call(a,t),i.current=t)},[t,i]),[t,r,a]}function Ij(n){return typeof n=="function"}var Sj=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ya=new WeakMap,Xd=new WeakMap,Jd={},qm=0,qb=function(n){return n&&(n.host||qb(n.parentNode))},bj=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=qb(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Cj=function(n,e,t,r){var i=bj(e,Array.isArray(n)?n:[n]);Jd[t]||(Jd[t]=new WeakMap);var a=Jd[t],l=[],c=new Set,f=new Set(i),p=function(g){!g||c.has(g)||(c.add(g),p(g.parentNode))};i.forEach(p);var y=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(T){if(c.has(T))y(T);else try{var I=T.getAttribute(r),S=I!==null&&I!=="false",A=(Ya.get(T)||0)+1,b=(a.get(T)||0)+1;Ya.set(T,A),a.set(T,b),l.push(T),A===1&&S&&Xd.set(T,!0),b===1&&T.setAttribute(t,"true"),S||T.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",T,D)}})};return y(e),c.clear(),qm++,function(){l.forEach(function(g){var T=Ya.get(g)-1,I=a.get(g)-1;Ya.set(g,T),a.set(g,I),T||(Xd.has(g)||g.removeAttribute(r),Xd.delete(g)),I||g.removeAttribute(t)}),qm--,qm||(Ya=new WeakMap,Ya=new WeakMap,Xd=new WeakMap,Jd={})}},hv=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=Sj(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Cj(r,i,t,"aria-hidden")):function(){return null}},yf="right-scroll-bar-position",vf="width-before-scroll-bar",Aj="with-scroll-bars-hidden",Rj="--removed-body-scroll-bar-size";function Gm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Pj(n,e){var t=_.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var kj=typeof window<"u"?_.useLayoutEffect:_.useEffect,dT=new WeakMap;function Nj(n,e){var t=Pj(null,function(r){return n.forEach(function(i){return Gm(i,r)})});return kj(function(){var r=dT.get(t);if(r){var i=new Set(r),a=new Set(n),l=t.current;i.forEach(function(c){a.has(c)||Gm(c,null)}),a.forEach(function(c){i.has(c)||Gm(c,l)})}dT.set(t,n)},[n]),t}function Dj(n){return n}function Oj(n,e){e===void 0&&(e=Dj);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var f=function(){var y=l;l=[],y.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),t={push:function(y){l.push(y),p()},filter:function(y){return l=l.filter(y),t}}}};return i}function Mj(n){n===void 0&&(n={});var e=Oj(null);return e.options=po({async:!0,ssr:!1},n),e}var Gb=function(n){var e=n.sideCar,t=sc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,po({},t))};Gb.isSideCarExport=!0;function Lj(n,e){return n.useMedium(e),Gb}var Kb=Mj(),Km=function(){},Oh=_.forwardRef(function(n,e){var t=_.useRef(null),r=_.useState({onScrollCapture:Km,onWheelCapture:Km,onTouchMoveCapture:Km}),i=r[0],a=r[1],l=n.forwardProps,c=n.children,f=n.className,p=n.removeScrollBar,y=n.enabled,g=n.shards,T=n.sideCar,I=n.noIsolation,S=n.inert,A=n.allowPinchZoom,b=n.as,D=b===void 0?"div":b,z=n.gapMode,U=sc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=T,J=Nj([t,e]),ee=po(po({},U),i);return _.createElement(_.Fragment,null,y&&_.createElement(q,{sideCar:Kb,removeScrollBar:p,shards:g,noIsolation:I,inert:S,setCallbacks:a,allowPinchZoom:!!A,lockRef:t,gapMode:z}),l?_.cloneElement(_.Children.only(c),po(po({},ee),{ref:J})):_.createElement(D,po({},ee,{className:f,ref:J}),c))});Oh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Oh.classNames={fullWidth:vf,zeroRight:yf};var Vj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fj(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Vj();return e&&n.setAttribute("nonce",e),n}function jj(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Uj(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var $j=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Fj())&&(jj(e,t),Uj(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Bj=function(){var n=$j();return function(e,t){_.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Yb=function(){var n=Bj(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},zj={left:0,top:0,right:0,gap:0},Ym=function(n){return parseInt(n||"",10)||0},Wj=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Ym(t),Ym(r),Ym(i)]},Hj=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return zj;var e=Wj(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},qj=Yb(),fl="data-scroll-locked",Gj=function(n,e,t,r){var i=n.left,a=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Aj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(fl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(vf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vf," .").concat(vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fl,`] {
    `).concat(Rj,": ").concat(c,`px;
  }
`)},fT=function(){var n=parseInt(document.body.getAttribute(fl)||"0",10);return isFinite(n)?n:0},Kj=function(){_.useEffect(function(){return document.body.setAttribute(fl,(fT()+1).toString()),function(){var n=fT()-1;n<=0?document.body.removeAttribute(fl):document.body.setAttribute(fl,n.toString())}},[])},Yj=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Kj();var a=_.useMemo(function(){return Hj(i)},[i]);return _.createElement(qj,{styles:Gj(a,!e,i,t?"":"!important")})},Bg=!1;if(typeof window<"u")try{var Zd=Object.defineProperty({},"passive",{get:function(){return Bg=!0,!0}});window.addEventListener("test",Zd,Zd),window.removeEventListener("test",Zd,Zd)}catch{Bg=!1}var Qa=Bg?{passive:!1}:!1,Qj=function(n){return n.tagName==="TEXTAREA"},Qb=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Qj(n)&&t[e]==="visible")},Xj=function(n){return Qb(n,"overflowY")},Jj=function(n){return Qb(n,"overflowX")},hT=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Xb(n,r);if(i){var a=Jb(n,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Zj=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},eU=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Xb=function(n,e){return n==="v"?Xj(e):Jj(e)},Jb=function(n,e){return n==="v"?Zj(e):eU(e)},tU=function(n,e){return n==="h"&&e==="rtl"?-1:1},nU=function(n,e,t,r,i){var a=tU(n,window.getComputedStyle(e).direction),l=a*r,c=t.target,f=e.contains(c),p=!1,y=l>0,g=0,T=0;do{var I=Jb(n,c),S=I[0],A=I[1],b=I[2],D=A-b-a*S;(S||D)&&Xb(n,c)&&(g+=D,T+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(y&&Math.abs(g)<1||!y&&Math.abs(T)<1)&&(p=!0),p},ef=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},pT=function(n){return[n.deltaX,n.deltaY]},mT=function(n){return n&&"current"in n?n.current:n},rU=function(n,e){return n[0]===e[0]&&n[1]===e[1]},oU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},iU=0,Xa=[];function sU(n){var e=_.useRef([]),t=_.useRef([0,0]),r=_.useRef(),i=_.useState(iU++)[0],a=_.useState(Yb)[0],l=_.useRef(n);_.useEffect(function(){l.current=n},[n]),_.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var A=rD([n.lockRef.current],(n.shards||[]).map(mT),!0).filter(Boolean);return A.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=_.useCallback(function(A,b){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!l.current.allowPinchZoom;var D=ef(A),z=t.current,U="deltaX"in A?A.deltaX:z[0]-D[0],q="deltaY"in A?A.deltaY:z[1]-D[1],J,ee=A.target,k=Math.abs(U)>Math.abs(q)?"h":"v";if("touches"in A&&k==="h"&&ee.type==="range")return!1;var R=hT(k,ee);if(!R)return!0;if(R?J=k:(J=k==="v"?"h":"v",R=hT(k,ee)),!R)return!1;if(!r.current&&"changedTouches"in A&&(U||q)&&(r.current=J),!J)return!0;var N=r.current||J;return nU(N,b,A,N==="h"?U:q)},[]),f=_.useCallback(function(A){var b=A;if(!(!Xa.length||Xa[Xa.length-1]!==a)){var D="deltaY"in b?pT(b):ef(b),z=e.current.filter(function(J){return J.name===b.type&&(J.target===b.target||b.target===J.shadowParent)&&rU(J.delta,D)})[0];if(z&&z.should){b.cancelable&&b.preventDefault();return}if(!z){var U=(l.current.shards||[]).map(mT).filter(Boolean).filter(function(J){return J.contains(b.target)}),q=U.length>0?c(b,U[0]):!l.current.noIsolation;q&&b.cancelable&&b.preventDefault()}}},[]),p=_.useCallback(function(A,b,D,z){var U={name:A,delta:b,target:D,should:z,shadowParent:aU(D)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(q){return q!==U})},1)},[]),y=_.useCallback(function(A){t.current=ef(A),r.current=void 0},[]),g=_.useCallback(function(A){p(A.type,pT(A),A.target,c(A,n.lockRef.current))},[]),T=_.useCallback(function(A){p(A.type,ef(A),A.target,c(A,n.lockRef.current))},[]);_.useEffect(function(){return Xa.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:T}),document.addEventListener("wheel",f,Qa),document.addEventListener("touchmove",f,Qa),document.addEventListener("touchstart",y,Qa),function(){Xa=Xa.filter(function(A){return A!==a}),document.removeEventListener("wheel",f,Qa),document.removeEventListener("touchmove",f,Qa),document.removeEventListener("touchstart",y,Qa)}},[]);var I=n.removeScrollBar,S=n.inert;return _.createElement(_.Fragment,null,S?_.createElement(a,{styles:oU(i)}):null,I?_.createElement(Yj,{gapMode:n.gapMode}):null)}function aU(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const lU=Lj(Kb,sU);var Mh=_.forwardRef(function(n,e){return _.createElement(Oh,po({},n,{ref:e,sideCar:lU}))});Mh.classNames=Oh.classNames;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cU=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),gT=n=>{const e=cU(n);return e.charAt(0).toUpperCase()+e.slice(1)},Zb=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),dU=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=_.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},f)=>_.createElement("svg",{ref:f,...fU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Zb("lucide",i),...!a&&!dU(c)&&{"aria-hidden":"true"},...c},[...l.map(([p,y])=>_.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(n,e)=>{const t=_.forwardRef(({className:r,...i},a)=>_.createElement(hU,{ref:a,iconNode:e,className:Zb(`lucide-${uU(gT(n))}`,`lucide-${n}`,r),...i}));return t.displayName=gT(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mU=Nt("calendar",pU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],yU=Nt("chart-no-axes-column-increasing",gU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wU=Nt("check",vU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],EU=Nt("chevron-down",_U);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xU=Nt("chevron-left",TU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],SU=Nt("chevron-right",IU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],CU=Nt("circle-play",bU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],yT=Nt("dumbbell",AU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],PU=Nt("house",RU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],NU=Nt("layout-dashboard",kU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lh=Nt("loader-circle",DU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],MU=Nt("log-out",OU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],VU=Nt("moon",LU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],jU=Nt("search",FU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$U=Nt("sun",UU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zU=Nt("target",BU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eC=Nt("triangle-alert",WU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qU=Nt("user",HU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],KU=Nt("utensils-crossed",GU);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QU=Nt("x",YU),vT=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,wT=rb,pv=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return wT(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const y=t==null?void 0:t[p],g=a==null?void 0:a[p];if(y===null)return null;const T=vT(y)||vT(g);return i[p][T]}),c=t&&Object.entries(t).reduce((p,y)=>{let[g,T]=y;return T===void 0||(p[g]=T),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:g,className:T,...I}=y;return Object.entries(I).every(S=>{let[A,b]=S;return Array.isArray(b)?b.includes({...a,...c}[A]):{...a,...c}[A]===b})?[...p,g,T]:p},[]);return wT(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},XU=pv("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function tC({className:n,variant:e,...t}){return E.jsx("div",{"data-slot":"alert",role:"alert",className:Ue(XU({variant:e}),n),...t})}function nC({className:n,...e}){return E.jsx("div",{"data-slot":"alert-description",className:Ue("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}var Qm={exports:{}},Xm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function JU(){if(_T)return Xm;_T=1;var n=eh();function e(g,T){return g===T&&(g!==0||1/g===1/T)||g!==g&&T!==T}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function c(g,T){var I=T(),S=r({inst:{value:I,getSnapshot:T}}),A=S[0].inst,b=S[1];return a(function(){A.value=I,A.getSnapshot=T,f(A)&&b({inst:A})},[g,I,T]),i(function(){return f(A)&&b({inst:A}),g(function(){f(A)&&b({inst:A})})},[g]),l(I),I}function f(g){var T=g.getSnapshot;g=g.value;try{var I=T();return!t(g,I)}catch{return!0}}function p(g,T){return T()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return Xm.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,Xm}var ET;function ZU(){return ET||(ET=1,Qm.exports=JU()),Qm.exports}var e9=ZU();function t9(){return e9.useSyncExternalStore(n9,()=>!0,()=>!1)}function n9(){return()=>{}}var mv="Avatar",[r9,VW]=ri(mv),[o9,rC]=r9(mv),oC=_.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,a]=_.useState("idle");return E.jsx(o9,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:E.jsx(Ze.span,{...r,ref:e})})});oC.displayName=mv;var iC="AvatarImage",sC=_.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...a}=n,l=rC(iC,t),c=s9(r,a),f=jn(p=>{i(p),l.onImageLoadingStatusChange(p)});return gr(()=>{c!=="idle"&&f(c)},[c,f]),c==="loaded"?E.jsx(Ze.img,{...a,ref:e,src:r}):null});sC.displayName=iC;var aC="AvatarFallback",i9=_.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,a=rC(aC,t),[l,c]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(f)}},[r]),l&&a.imageLoadingStatus!=="loaded"?E.jsx(Ze.span,{...i,ref:e}):null});i9.displayName=aC;function TT(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function s9(n,{referrerPolicy:e,crossOrigin:t}){const r=t9(),i=_.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[l,c]=_.useState(()=>TT(a,n));return gr(()=>{c(TT(a,n))},[a,n]),gr(()=>{const f=g=>()=>{c(g)};if(!a)return;const p=f("loaded"),y=f("error");return a.addEventListener("load",p),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",p),a.removeEventListener("error",y)}},[a,t,e]),l}var a9=oC,l9=sC;function u9({className:n,...e}){return E.jsx(a9,{"data-slot":"avatar",className:Ue("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function c9({className:n,...e}){return E.jsx(l9,{"data-slot":"avatar-image",className:Ue("aspect-square size-full",n),...e})}const d9=pv("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function xT({className:n,variant:e,asChild:t=!1,...r}){const i=t?pb:"span";return E.jsx(i,{"data-slot":"badge",className:Ue(d9({variant:e}),n),...r})}const gv=pv("inline-flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Vn=_.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const l=r?pb:"button";return E.jsx(l,{className:Ue(gv({variant:e,size:t,className:n})),ref:a,...i})});Vn.displayName="Button";function Gr(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Xs(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const lC=6048e5,f9=864e5;let h9={};function Vh(){return h9}function tc(n,e){var c,f,p,y;const t=Vh(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((y=(p=t.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,i=Gr(n),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Kf(n){return tc(n,{weekStartsOn:1})}function uC(n){const e=Gr(n),t=e.getFullYear(),r=Xs(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=Kf(r),a=Xs(n,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const l=Kf(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function IT(n){const e=Gr(n);return e.setHours(0,0,0,0),e}function ST(n){const e=Gr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function p9(n,e){const t=IT(n),r=IT(e),i=+t-ST(t),a=+r-ST(r);return Math.round((i-a)/f9)}function m9(n){const e=uC(n),t=Xs(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Kf(t)}function g9(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function y9(n){if(!g9(n)&&typeof n!="number")return!1;const e=Gr(n);return!isNaN(Number(e))}function v9(n){const e=Gr(n),t=Xs(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const w9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_9=(n,e,t)=>{let r;const i=w9[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Jm(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const E9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},x9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I9={date:Jm({formats:E9,defaultWidth:"full"}),time:Jm({formats:T9,defaultWidth:"full"}),dateTime:Jm({formats:x9,defaultWidth:"full"})},S9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b9=(n,e,t,r)=>S9[n];function Iu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[c]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const C9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},R9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},k9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D9=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},O9={ordinalNumber:D9,era:Iu({values:C9,defaultWidth:"wide"}),quarter:Iu({values:A9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Iu({values:R9,defaultWidth:"wide"}),day:Iu({values:P9,defaultWidth:"wide"}),dayPeriod:Iu({values:k9,defaultWidth:"wide",formattingValues:N9,defaultFormattingWidth:"wide"})};function Su(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(c)?L9(c,g=>g.test(l)):M9(c,g=>g.test(l));let p;p=n.valueCallback?n.valueCallback(f):f,p=t.valueCallback?t.valueCallback(p):p;const y=e.slice(l.length);return{value:p,rest:y}}}function M9(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function L9(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function V9(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const F9=/^(\d+)(th|st|nd|rd)?/i,j9=/\d+/i,U9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$9={any:[/^b/i,/^(a|c)/i]},B9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z9={any:[/1/i,/2/i,/3/i,/4/i]},W9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},K9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q9={ordinalNumber:V9({matchPattern:F9,parsePattern:j9,valueCallback:n=>parseInt(n,10)}),era:Su({matchPatterns:U9,defaultMatchWidth:"wide",parsePatterns:$9,defaultParseWidth:"any"}),quarter:Su({matchPatterns:B9,defaultMatchWidth:"wide",parsePatterns:z9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Su({matchPatterns:W9,defaultMatchWidth:"wide",parsePatterns:H9,defaultParseWidth:"any"}),day:Su({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:G9,defaultParseWidth:"any"}),dayPeriod:Su({matchPatterns:K9,defaultMatchWidth:"any",parsePatterns:Y9,defaultParseWidth:"any"})},X9={code:"en-US",formatDistance:_9,formatLong:I9,formatRelative:b9,localize:O9,match:Q9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function J9(n){const e=Gr(n);return p9(e,v9(e))+1}function Z9(n){const e=Gr(n),t=+Kf(e)-+m9(e);return Math.round(t/lC)+1}function cC(n,e){var y,g,T,I;const t=Gr(n),r=t.getFullYear(),i=Vh(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((I=(T=i.locale)==null?void 0:T.options)==null?void 0:I.firstWeekContainsDate)??1,l=Xs(n,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const c=tc(l,e),f=Xs(n,0);f.setFullYear(r,0,a),f.setHours(0,0,0,0);const p=tc(f,e);return t.getTime()>=c.getTime()?r+1:t.getTime()>=p.getTime()?r:r-1}function e$(n,e){var c,f,p,y;const t=Vh(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(p=t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,i=cC(n,e),a=Xs(n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),tc(a,e)}function t$(n,e){const t=Gr(n),r=+tc(t,e)-+e$(t,e);return Math.round(r/lC)+1}function rt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Li={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return rt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):rt(t+1,2)},d(n,e){return rt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return rt(n.getHours()%12||12,e.length)},H(n,e){return rt(n.getHours(),e.length)},m(n,e){return rt(n.getMinutes(),e.length)},s(n,e){return rt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return rt(i,e.length)}},Ja={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bT={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Li.y(n,e)},Y:function(n,e,t,r){const i=cC(n,r),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return rt(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):rt(a,e.length)},R:function(n,e){const t=uC(n);return rt(t,e.length)},u:function(n,e){const t=n.getFullYear();return rt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return rt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return rt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Li.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return rt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=t$(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):rt(i,e.length)},I:function(n,e,t){const r=Z9(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):rt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Li.d(n,e)},D:function(n,e,t){const r=J9(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):rt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return rt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return rt(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return rt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Ja.noon:r===0?i=Ja.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Ja.evening:r>=12?i=Ja.afternoon:r>=4?i=Ja.morning:i=Ja.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Li.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Li.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):rt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):rt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Li.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Li.s(n,e)},S:function(n,e){return Li.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return AT(r);case"XXXX":case"XX":return Vs(r);case"XXXXX":case"XXX":default:return Vs(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return AT(r);case"xxxx":case"xx":return Vs(r);case"xxxxx":case"xxx":default:return Vs(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+CT(r,":");case"OOOO":default:return"GMT"+Vs(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+CT(r,":");case"zzzz":default:return"GMT"+Vs(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return rt(r,e.length)},T:function(n,e,t){const r=n.getTime();return rt(r,e.length)}};function CT(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+rt(a,2)}function AT(n,e){return n%60===0?(n>0?"-":"+")+rt(Math.abs(n)/60,2):Vs(n,e)}function Vs(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=rt(Math.trunc(r/60),2),a=rt(r%60,2);return t+i+e+a}const RT=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},n$=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return RT(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",RT(r,e)).replace("{{time}}",dC(i,e))},r$={p:dC,P:n$},o$=/^D+$/,i$=/^Y+$/,s$=["D","DD","YY","YYYY"];function a$(n){return o$.test(n)}function l$(n){return i$.test(n)}function u$(n,e,t){const r=c$(n,e,t);if(console.warn(r),s$.includes(n))throw new RangeError(r)}function c$(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const d$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h$=/^'([^]*?)'?$/,p$=/''/g,m$=/[a-zA-Z]/;function g$(n,e,t){var y,g,T,I;const r=Vh(),i=r.locale??X9,a=r.firstWeekContainsDate??((g=(y=r.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,l=r.weekStartsOn??((I=(T=r.locale)==null?void 0:T.options)==null?void 0:I.weekStartsOn)??0,c=Gr(n);if(!y9(c))throw new RangeError("Invalid time value");let f=e.match(f$).map(S=>{const A=S[0];if(A==="p"||A==="P"){const b=r$[A];return b(S,i.formatLong)}return S}).join("").match(d$).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const A=S[0];if(A==="'")return{isToken:!1,value:y$(S)};if(bT[A])return{isToken:!0,value:S};if(A.match(m$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return f.map(S=>{if(!S.isToken)return S.value;const A=S.value;(l$(A)||a$(A))&&u$(A,e,String(n));const b=bT[A[0]];return b(c,A,i.localize,p)}).join("")}function y$(n){const e=n.match(h$);return e?e[1].replace(p$,"'"):n}var Bu=function(){return Bu=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Bu.apply(this,arguments)};var v$=_.createContext(void 0);function w$(){var n=_.useContext(v$);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}_.createContext(void 0);_.forwardRef(function(n,e){var t=w$(),r=t.classNames,i=t.styles,a=[r.button_reset,r.button];n.className&&a.push(n.className);var l=a.join(" "),c=Bu(Bu({},i.button_reset),i.button);return n.style&&Object.assign(c,n.style),E.jsx("button",Bu({},n,{ref:e,type:"button",className:l,style:c}))});_.createContext(void 0);_.createContext(void 0);var To;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(To||(To={}));To.Selected;To.Disabled;To.Hidden;To.Today;To.RangeEnd;To.RangeMiddle;To.RangeStart;To.Outside;_.createContext(void 0);_.createContext(void 0);_.createContext(void 0);function _$(n,e){return _.useReducer((t,r)=>e[t][r]??t,n)}var Kr=n=>{const{present:e,children:t}=n,r=E$(e),i=typeof t=="function"?t({present:r.isPresent}):_.Children.only(t),a=at(r.ref,T$(i));return typeof t=="function"||r.isPresent?_.cloneElement(i,{ref:a}):null};Kr.displayName="Presence";function E$(n){const[e,t]=_.useState(),r=_.useRef(null),i=_.useRef(n),a=_.useRef("none"),l=n?"mounted":"unmounted",[c,f]=_$(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const p=tf(r.current);a.current=c==="mounted"?p:"none"},[c]),gr(()=>{const p=r.current,y=i.current;if(y!==n){const T=a.current,I=tf(p);n?f("MOUNT"):I==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(y&&T!==I?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),gr(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,g=I=>{const A=tf(r.current).includes(I.animationName);if(I.target===e&&A&&(f("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},T=I=>{I.target===e&&(a.current=tf(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:_.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function tf(n){return(n==null?void 0:n.animationName)||"none"}function T$(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Zm="rovingFocusGroup.onEntryFocus",x$={bubbles:!1,cancelable:!0},vc="RovingFocusGroup",[zg,fC,I$]=wb(vc),[S$,hC]=ri(vc,[I$]),[b$,C$]=S$(vc),pC=_.forwardRef((n,e)=>E.jsx(zg.Provider,{scope:n.__scopeRovingFocusGroup,children:E.jsx(zg.Slot,{scope:n.__scopeRovingFocusGroup,children:E.jsx(A$,{...n,ref:e})})}));pC.displayName=vc;var A$=_.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...g}=n,T=_.useRef(null),I=at(e,T),S=_b(a),[A,b]=Dh({prop:l,defaultProp:c??null,onChange:f,caller:vc}),[D,z]=_.useState(!1),U=jn(p),q=fC(t),J=_.useRef(!1),[ee,k]=_.useState(0);return _.useEffect(()=>{const R=T.current;if(R)return R.addEventListener(Zm,U),()=>R.removeEventListener(Zm,U)},[U]),E.jsx(b$,{scope:t,orientation:r,dir:S,loop:i,currentTabStopId:A,onItemFocus:_.useCallback(R=>b(R),[b]),onItemShiftTab:_.useCallback(()=>z(!0),[]),onFocusableItemAdd:_.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:_.useCallback(()=>k(R=>R-1),[]),children:E.jsx(Ze.div,{tabIndex:D||ee===0?-1:0,"data-orientation":r,...g,ref:I,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{J.current=!0}),onFocus:Le(n.onFocus,R=>{const N=!J.current;if(R.target===R.currentTarget&&N&&!D){const M=new CustomEvent(Zm,x$);if(R.currentTarget.dispatchEvent(M),!M.defaultPrevented){const F=q().filter(fe=>fe.focusable),B=F.find(fe=>fe.active),O=F.find(fe=>fe.id===A),Se=[B,O,...F].filter(Boolean).map(fe=>fe.ref.current);yC(Se,y)}}J.current=!1}),onBlur:Le(n.onBlur,()=>z(!1))})})}),mC="RovingFocusGroupItem",gC=_.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...c}=n,f=wn(),p=a||f,y=C$(mC,t),g=y.currentTabStopId===p,T=fC(t),{onFocusableItemAdd:I,onFocusableItemRemove:S,currentTabStopId:A}=y;return _.useEffect(()=>{if(r)return I(),()=>S()},[r,I,S]),E.jsx(zg.ItemSlot,{scope:t,id:p,focusable:r,active:i,children:E.jsx(Ze.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...c,ref:e,onMouseDown:Le(n.onMouseDown,b=>{r?y.onItemFocus(p):b.preventDefault()}),onFocus:Le(n.onFocus,()=>y.onItemFocus(p)),onKeyDown:Le(n.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){y.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const D=k$(b,y.orientation,y.dir);if(D!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let U=T().filter(q=>q.focusable).map(q=>q.ref.current);if(D==="last")U.reverse();else if(D==="prev"||D==="next"){D==="prev"&&U.reverse();const q=U.indexOf(b.currentTarget);U=y.loop?N$(U,q+1):U.slice(q+1)}setTimeout(()=>yC(U))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:A!=null}):l})})});gC.displayName=mC;var R$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P$(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function k$(n,e,t){const r=P$(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return R$[r]}function yC(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function N$(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var D$=pC,O$=gC,Wg=["Enter"," "],M$=["ArrowDown","PageUp","Home"],vC=["ArrowUp","PageDown","End"],L$=[...M$,...vC],V$={ltr:[...Wg,"ArrowRight"],rtl:[...Wg,"ArrowLeft"]},F$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wc="Menu",[nc,j$,U$]=wb(wc),[aa,wC]=ri(wc,[U$,Vb,hC]),Fh=Vb(),_C=hC(),[$$,la]=aa(wc),[B$,_c]=aa(wc),EC=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:a,modal:l=!0}=n,c=Fh(e),[f,p]=_.useState(null),y=_.useRef(!1),g=jn(a),T=_b(i);return _.useEffect(()=>{const I=()=>{y.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>y.current=!1;return document.addEventListener("keydown",I,{capture:!0}),()=>{document.removeEventListener("keydown",I,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),E.jsx(yj,{...c,children:E.jsx($$,{scope:e,open:t,onOpenChange:g,content:f,onContentChange:p,children:E.jsx(B$,{scope:e,onClose:_.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:T,modal:l,children:r})})})};EC.displayName=wc;var z$="MenuAnchor",yv=_.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Fh(t);return E.jsx(vj,{...i,...r,ref:e})});yv.displayName=z$;var vv="MenuPortal",[W$,TC]=aa(vv,{forceMount:void 0}),xC=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,a=la(vv,e);return E.jsx(W$,{scope:e,forceMount:t,children:E.jsx(Kr,{present:t||a.open,children:E.jsx(fv,{asChild:!0,container:i,children:r})})})};xC.displayName=vv;var pr="MenuContent",[H$,wv]=aa(pr),IC=_.forwardRef((n,e)=>{const t=TC(pr,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=la(pr,n.__scopeMenu),l=_c(pr,n.__scopeMenu);return E.jsx(nc.Provider,{scope:n.__scopeMenu,children:E.jsx(Kr,{present:r||a.open,children:E.jsx(nc.Slot,{scope:n.__scopeMenu,children:l.modal?E.jsx(q$,{...i,ref:e}):E.jsx(G$,{...i,ref:e})})})})}),q$=_.forwardRef((n,e)=>{const t=la(pr,n.__scopeMenu),r=_.useRef(null),i=at(e,r);return _.useEffect(()=>{const a=r.current;if(a)return hv(a)},[]),E.jsx(_v,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Le(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),G$=_.forwardRef((n,e)=>{const t=la(pr,n.__scopeMenu);return E.jsx(_v,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),K$=Tl("MenuContent.ScrollLock"),_v=_.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:T,onDismiss:I,disableOutsideScroll:S,...A}=n,b=la(pr,t),D=_c(pr,t),z=Fh(t),U=_C(t),q=j$(t),[J,ee]=_.useState(null),k=_.useRef(null),R=at(e,k,b.onContentChange),N=_.useRef(0),M=_.useRef(""),F=_.useRef(0),B=_.useRef(null),O=_.useRef("right"),Re=_.useRef(0),Se=S?Mh:_.Fragment,fe=S?{as:K$,allowPinchZoom:!0}:void 0,ge=te=>{var he,Ce;const re=M.current+te,j=q().filter(_e=>!_e.disabled),V=document.activeElement,X=(he=j.find(_e=>_e.ref.current===V))==null?void 0:he.textValue,se=j.map(_e=>_e.textValue),ie=s3(se,re,X),ue=(Ce=j.find(_e=>_e.textValue===ie))==null?void 0:Ce.ref.current;(function _e($e){M.current=$e,window.clearTimeout(N.current),$e!==""&&(N.current=window.setTimeout(()=>_e(""),1e3))})(re),ue&&setTimeout(()=>ue.focus())};_.useEffect(()=>()=>window.clearTimeout(N.current),[]),tv();const H=_.useCallback(te=>{var j,V;return O.current===((j=B.current)==null?void 0:j.side)&&l3(te,(V=B.current)==null?void 0:V.area)},[]);return E.jsx(H$,{scope:t,searchRef:M,onItemEnter:_.useCallback(te=>{H(te)&&te.preventDefault()},[H]),onItemLeave:_.useCallback(te=>{var re;H(te)||((re=k.current)==null||re.focus(),ee(null))},[H]),onTriggerLeave:_.useCallback(te=>{H(te)&&te.preventDefault()},[H]),pointerGraceTimerRef:F,onPointerGraceIntentChange:_.useCallback(te=>{B.current=te},[]),children:E.jsx(Se,{...fe,children:E.jsx(nv,{asChild:!0,trapped:i,onMountAutoFocus:Le(a,te=>{var re;te.preventDefault(),(re=k.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:E.jsx(ev,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:T,onDismiss:I,children:E.jsx(D$,{asChild:!0,...U,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:J,onCurrentTabStopIdChange:ee,onEntryFocus:Le(f,te=>{D.isUsingKeyboardRef.current||te.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(wj,{role:"menu","aria-orientation":"vertical","data-state":UC(b.open),"data-radix-menu-content":"",dir:D.dir,...z,...A,ref:R,style:{outline:"none",...A.style},onKeyDown:Le(A.onKeyDown,te=>{const j=te.target.closest("[data-radix-menu-content]")===te.currentTarget,V=te.ctrlKey||te.altKey||te.metaKey,X=te.key.length===1;j&&(te.key==="Tab"&&te.preventDefault(),!V&&X&&ge(te.key));const se=k.current;if(te.target!==se||!L$.includes(te.key))return;te.preventDefault();const ue=q().filter(he=>!he.disabled).map(he=>he.ref.current);vC.includes(te.key)&&ue.reverse(),o3(ue)}),onBlur:Le(n.onBlur,te=>{te.currentTarget.contains(te.target)||(window.clearTimeout(N.current),M.current="")}),onPointerMove:Le(n.onPointerMove,rc(te=>{const re=te.target,j=Re.current!==te.clientX;if(te.currentTarget.contains(re)&&j){const V=te.clientX>Re.current?"right":"left";O.current=V,Re.current=te.clientX}}))})})})})})})});IC.displayName=pr;var Y$="MenuGroup",Ev=_.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(Ze.div,{role:"group",...r,ref:e})});Ev.displayName=Y$;var Q$="MenuLabel",SC=_.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(Ze.div,{...r,ref:e})});SC.displayName=Q$;var Yf="MenuItem",PT="menu.itemSelect",jh=_.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,a=_.useRef(null),l=_c(Yf,n.__scopeMenu),c=wv(Yf,n.__scopeMenu),f=at(e,a),p=_.useRef(!1),y=()=>{const g=a.current;if(!t&&g){const T=new CustomEvent(PT,{bubbles:!0,cancelable:!0});g.addEventListener(PT,I=>r==null?void 0:r(I),{once:!0}),gb(g,T),T.defaultPrevented?p.current=!1:l.onClose()}};return E.jsx(bC,{...i,ref:f,disabled:t,onClick:Le(n.onClick,y),onPointerDown:g=>{var T;(T=n.onPointerDown)==null||T.call(n,g),p.current=!0},onPointerUp:Le(n.onPointerUp,g=>{var T;p.current||(T=g.currentTarget)==null||T.click()}),onKeyDown:Le(n.onKeyDown,g=>{const T=c.searchRef.current!=="";t||T&&g.key===" "||Wg.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});jh.displayName=Yf;var bC=_.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...a}=n,l=wv(Yf,t),c=_C(t),f=_.useRef(null),p=at(e,f),[y,g]=_.useState(!1),[T,I]=_.useState("");return _.useEffect(()=>{const S=f.current;S&&I((S.textContent??"").trim())},[a.children]),E.jsx(nc.ItemSlot,{scope:t,disabled:r,textValue:i??T,children:E.jsx(O$,{asChild:!0,...c,focusable:!r,children:E.jsx(Ze.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:p,onPointerMove:Le(n.onPointerMove,rc(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(n.onPointerLeave,rc(S=>l.onItemLeave(S))),onFocus:Le(n.onFocus,()=>g(!0)),onBlur:Le(n.onBlur,()=>g(!1))})})})}),X$="MenuCheckboxItem",CC=_.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return E.jsx(NC,{scope:n.__scopeMenu,checked:t,children:E.jsx(jh,{role:"menuitemcheckbox","aria-checked":Qf(t)?"mixed":t,...i,ref:e,"data-state":xv(t),onSelect:Le(i.onSelect,()=>r==null?void 0:r(Qf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});CC.displayName=X$;var AC="MenuRadioGroup",[J$,Z$]=aa(AC,{value:void 0,onValueChange:()=>{}}),RC=_.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,a=jn(r);return E.jsx(J$,{scope:n.__scopeMenu,value:t,onValueChange:a,children:E.jsx(Ev,{...i,ref:e})})});RC.displayName=AC;var PC="MenuRadioItem",kC=_.forwardRef((n,e)=>{const{value:t,...r}=n,i=Z$(PC,n.__scopeMenu),a=t===i.value;return E.jsx(NC,{scope:n.__scopeMenu,checked:a,children:E.jsx(jh,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":xv(a),onSelect:Le(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,t)},{checkForDefaultPrevented:!1})})})});kC.displayName=PC;var Tv="MenuItemIndicator",[NC,e3]=aa(Tv,{checked:!1}),DC=_.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,a=e3(Tv,t);return E.jsx(Kr,{present:r||Qf(a.checked)||a.checked===!0,children:E.jsx(Ze.span,{...i,ref:e,"data-state":xv(a.checked)})})});DC.displayName=Tv;var t3="MenuSeparator",OC=_.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return E.jsx(Ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});OC.displayName=t3;var n3="MenuArrow",MC=_.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Fh(t);return E.jsx(_j,{...i,...r,ref:e})});MC.displayName=n3;var r3="MenuSub",[FW,LC]=aa(r3),Mu="MenuSubTrigger",VC=_.forwardRef((n,e)=>{const t=la(Mu,n.__scopeMenu),r=_c(Mu,n.__scopeMenu),i=LC(Mu,n.__scopeMenu),a=wv(Mu,n.__scopeMenu),l=_.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=a,p={__scopeMenu:n.__scopeMenu},y=_.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return _.useEffect(()=>y,[y]),_.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),f(null)}},[c,f]),E.jsx(yv,{asChild:!0,...p,children:E.jsx(bC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":UC(t.open),...n,ref:Jo(e,i.onTriggerChange),onClick:g=>{var T;(T=n.onClick)==null||T.call(n,g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Le(n.onPointerMove,rc(g=>{a.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:Le(n.onPointerLeave,rc(g=>{var I,S;y();const T=(I=t.content)==null?void 0:I.getBoundingClientRect();if(T){const A=(S=t.content)==null?void 0:S.dataset.side,b=A==="right",D=b?-5:5,z=T[b?"left":"right"],U=T[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+D,y:g.clientY},{x:z,y:T.top},{x:U,y:T.top},{x:U,y:T.bottom},{x:z,y:T.bottom}],side:A}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Le(n.onKeyDown,g=>{var I;const T=a.searchRef.current!=="";n.disabled||T&&g.key===" "||V$[r.dir].includes(g.key)&&(t.onOpenChange(!0),(I=t.content)==null||I.focus(),g.preventDefault())})})})});VC.displayName=Mu;var FC="MenuSubContent",jC=_.forwardRef((n,e)=>{const t=TC(pr,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=la(pr,n.__scopeMenu),l=_c(pr,n.__scopeMenu),c=LC(FC,n.__scopeMenu),f=_.useRef(null),p=at(e,f);return E.jsx(nc.Provider,{scope:n.__scopeMenu,children:E.jsx(Kr,{present:r||a.open,children:E.jsx(nc.Slot,{scope:n.__scopeMenu,children:E.jsx(_v,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;l.isUsingKeyboardRef.current&&((g=f.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Le(n.onFocusOutside,y=>{y.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Le(n.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:Le(n.onKeyDown,y=>{var I;const g=y.currentTarget.contains(y.target),T=F$[l.dir].includes(y.key);g&&T&&(a.onOpenChange(!1),(I=c.trigger)==null||I.focus(),y.preventDefault())})})})})})});jC.displayName=FC;function UC(n){return n?"open":"closed"}function Qf(n){return n==="indeterminate"}function xv(n){return Qf(n)?"indeterminate":n?"checked":"unchecked"}function o3(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function i3(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function s3(n,e,t){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=i3(n,Math.max(a,0));i.length===1&&(l=l.filter(p=>p!==t));const f=l.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function a3(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a],f=e[l],p=c.x,y=c.y,g=f.x,T=f.y;y>r!=T>r&&t<(g-p)*(r-y)/(T-y)+p&&(i=!i)}return i}function l3(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return a3(t,e)}function rc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var u3=EC,c3=yv,d3=xC,f3=IC,h3=Ev,p3=SC,m3=jh,g3=CC,y3=RC,v3=kC,w3=DC,_3=OC,E3=MC,T3=VC,x3=jC,Uh="DropdownMenu",[I3,jW]=ri(Uh,[wC]),_n=wC(),[S3,$C]=I3(Uh),BC=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:a,onOpenChange:l,modal:c=!0}=n,f=_n(e),p=_.useRef(null),[y,g]=Dh({prop:i,defaultProp:a??!1,onChange:l,caller:Uh});return E.jsx(S3,{scope:e,triggerId:wn(),triggerRef:p,contentId:wn(),open:y,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(T=>!T),[g]),modal:c,children:E.jsx(u3,{...f,open:y,onOpenChange:g,dir:r,modal:c,children:t})})};BC.displayName=Uh;var zC="DropdownMenuTrigger",WC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,a=$C(zC,t),l=_n(t);return E.jsx(c3,{asChild:!0,...l,children:E.jsx(Ze.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Jo(e,a.triggerRef),onPointerDown:Le(n.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Le(n.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});WC.displayName=zC;var b3="DropdownMenuPortal",HC=n=>{const{__scopeDropdownMenu:e,...t}=n,r=_n(e);return E.jsx(d3,{...r,...t})};HC.displayName=b3;var qC="DropdownMenuContent",GC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=$C(qC,t),a=_n(t),l=_.useRef(!1);return E.jsx(f3,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Le(n.onCloseAutoFocus,c=>{var f;l.current||(f=i.triggerRef.current)==null||f.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Le(n.onInteractOutside,c=>{const f=c.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,y=f.button===2||p;(!i.modal||y)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GC.displayName=qC;var C3="DropdownMenuGroup",A3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(h3,{...i,...r,ref:e})});A3.displayName=C3;var R3="DropdownMenuLabel",KC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(p3,{...i,...r,ref:e})});KC.displayName=R3;var P3="DropdownMenuItem",YC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(m3,{...i,...r,ref:e})});YC.displayName=P3;var k3="DropdownMenuCheckboxItem",N3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(g3,{...i,...r,ref:e})});N3.displayName=k3;var D3="DropdownMenuRadioGroup",O3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(y3,{...i,...r,ref:e})});O3.displayName=D3;var M3="DropdownMenuRadioItem",L3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(v3,{...i,...r,ref:e})});L3.displayName=M3;var V3="DropdownMenuItemIndicator",F3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(w3,{...i,...r,ref:e})});F3.displayName=V3;var j3="DropdownMenuSeparator",QC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(_3,{...i,...r,ref:e})});QC.displayName=j3;var U3="DropdownMenuArrow",$3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(E3,{...i,...r,ref:e})});$3.displayName=U3;var B3="DropdownMenuSubTrigger",z3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(T3,{...i,...r,ref:e})});z3.displayName=B3;var W3="DropdownMenuSubContent",H3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_n(t);return E.jsx(x3,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});H3.displayName=W3;var q3=BC,G3=WC,K3=HC,Y3=GC,Q3=KC,X3=YC,J3=QC;function Z3({...n}){return E.jsx(q3,{"data-slot":"dropdown-menu",...n})}function e5({...n}){return E.jsx(G3,{"data-slot":"dropdown-menu-trigger",...n})}function t5({className:n,sideOffset:e=4,...t}){return E.jsx(K3,{children:E.jsx(Y3,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ue("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function eg({className:n,inset:e,variant:t="default",...r}){return E.jsx(X3,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Ue("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function n5({className:n,inset:e,...t}){return E.jsx(Q3,{"data-slot":"dropdown-menu-label","data-inset":e,className:Ue("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...t})}function kT({className:n,...e}){return E.jsx(J3,{"data-slot":"dropdown-menu-separator",className:Ue("bg-border -mx-1 my-1 h-px",n),...e})}_.createContext({});_.createContext({});const XC=_.forwardRef(({className:n,type:e,...t},r)=>E.jsx("input",{type:e,className:Ue("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));XC.displayName="Input";function nf({className:n,...e}){return E.jsx("div",{"data-slot":"skeleton",className:Ue("bg-accent animate-pulse rounded-md",n),...e})}var NT=1,r5=.9,o5=.8,i5=.17,tg=.1,ng=.999,s5=.9999,a5=.99,l5=/[\\\/_+.#"@\[\(\{&]/,u5=/[\\\/_+.#"@\[\(\{&]/g,c5=/[\s-]/,JC=/[\s-]/g;function Hg(n,e,t,r,i,a,l){if(a===e.length)return i===n.length?NT:a5;var c=`${i},${a}`;if(l[c]!==void 0)return l[c];for(var f=r.charAt(a),p=t.indexOf(f,i),y=0,g,T,I,S;p>=0;)g=Hg(n,e,t,r,p+1,a+1,l),g>y&&(p===i?g*=NT:l5.test(n.charAt(p-1))?(g*=o5,I=n.slice(i,p-1).match(u5),I&&i>0&&(g*=Math.pow(ng,I.length))):c5.test(n.charAt(p-1))?(g*=r5,S=n.slice(i,p-1).match(JC),S&&i>0&&(g*=Math.pow(ng,S.length))):(g*=i5,i>0&&(g*=Math.pow(ng,p-i))),n.charAt(p)!==e.charAt(a)&&(g*=s5)),(g<tg&&t.charAt(p-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&t.charAt(p-1)!==r.charAt(a))&&(T=Hg(n,e,t,r,p+1,a+2,l),T*tg>g&&(g=T*tg)),g>y&&(y=g),p=t.indexOf(f,p+1);return l[c]=y,y}function DT(n){return n.toLowerCase().replace(JC," ")}function d5(n,e,t){return n=t&&t.length>0?`${n+" "+t.join(" ")}`:n,Hg(n,e,DT(n),DT(e),0,0,{})}function ZC(n){const e=f5(n),t=_.forwardRef((r,i)=>{const{children:a,...l}=r,c=_.Children.toArray(a),f=c.find(p5);if(f){const p=f.props.children,y=c.map(g=>g===f?_.Children.count(p)>1?_.Children.only(null):_.isValidElement(p)?p.props.children:null:g);return E.jsx(e,{...l,ref:i,children:_.isValidElement(p)?_.cloneElement(p,void 0,y):null})}return E.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}function f5(n){const e=_.forwardRef((t,r)=>{const{children:i,...a}=t,l=_.isValidElement(i)?g5(i):void 0,c=at(l,r);if(_.isValidElement(i)){const f=m5(a,i.props);return i.type!==_.Fragment&&(f.ref=c),_.cloneElement(i,f)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var h5=Symbol("radix.slottable");function p5(n){return _.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===h5}function m5(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{const f=a(...c);return i(...c),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function g5(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var y5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oi=y5.reduce((n,e)=>{const t=ZC(`Primitive.${e}`),r=_.forwardRef((i,a)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(f,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function v5(n,e){n&&Rh.flushSync(()=>n.dispatchEvent(e))}var w5="DismissableLayer",qg="dismissableLayer.update",_5="dismissableLayer.pointerDownOutside",E5="dismissableLayer.focusOutside",OT,eA=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tA=_.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...f}=n,p=_.useContext(eA),[y,g]=_.useState(null),T=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=_.useState({}),S=at(e,k=>g(k)),A=Array.from(p.layers),[b]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=A.indexOf(b),z=y?A.indexOf(y):-1,U=p.layersWithOutsidePointerEventsDisabled.size>0,q=z>=D,J=I5(k=>{const R=k.target,N=[...p.branches].some(M=>M.contains(R));!q||N||(i==null||i(k),l==null||l(k),k.defaultPrevented||c==null||c())},T),ee=S5(k=>{const R=k.target;[...p.branches].some(M=>M.contains(R))||(a==null||a(k),l==null||l(k),k.defaultPrevented||c==null||c())},T);return Eb(k=>{z===p.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},T),_.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(OT=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),MT(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=OT)}},[y,T,t,p]),_.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),MT())},[y,p]),_.useEffect(()=>{const k=()=>I({});return document.addEventListener(qg,k),()=>document.removeEventListener(qg,k)},[]),E.jsx(oi.div,{...f,ref:S,style:{pointerEvents:U?q?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,ee.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,ee.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,J.onPointerDownCapture)})});tA.displayName=w5;var T5="DismissableLayerBranch",x5=_.forwardRef((n,e)=>{const t=_.useContext(eA),r=_.useRef(null),i=at(e,r);return _.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),E.jsx(oi.div,{...n,ref:i})});x5.displayName=T5;function I5(n,e=globalThis==null?void 0:globalThis.document){const t=jn(n),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){nA(_5,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function S5(n,e=globalThis==null?void 0:globalThis.document){const t=jn(n),r=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!r.current&&nA(E5,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function MT(){const n=new CustomEvent(qg);document.dispatchEvent(n)}function nA(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?v5(i,a):i.dispatchEvent(a)}var rg="focusScope.autoFocusOnMount",og="focusScope.autoFocusOnUnmount",LT={bubbles:!1,cancelable:!0},b5="FocusScope",rA=_.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[c,f]=_.useState(null),p=jn(i),y=jn(a),g=_.useRef(null),T=at(e,A=>f(A)),I=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let A=function(U){if(I.paused||!c)return;const q=U.target;c.contains(q)?g.current=q:Fi(g.current,{select:!0})},b=function(U){if(I.paused||!c)return;const q=U.relatedTarget;q!==null&&(c.contains(q)||Fi(g.current,{select:!0}))},D=function(U){if(document.activeElement===document.body)for(const J of U)J.removedNodes.length>0&&Fi(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",b);const z=new MutationObserver(D);return c&&z.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",b),z.disconnect()}}},[r,c,I.paused]),_.useEffect(()=>{if(c){FT.add(I);const A=document.activeElement;if(!c.contains(A)){const D=new CustomEvent(rg,LT);c.addEventListener(rg,p),c.dispatchEvent(D),D.defaultPrevented||(C5(N5(oA(c)),{select:!0}),document.activeElement===A&&Fi(c))}return()=>{c.removeEventListener(rg,p),setTimeout(()=>{const D=new CustomEvent(og,LT);c.addEventListener(og,y),c.dispatchEvent(D),D.defaultPrevented||Fi(A??document.body,{select:!0}),c.removeEventListener(og,y),FT.remove(I)},0)}}},[c,p,y,I]);const S=_.useCallback(A=>{if(!t&&!r||I.paused)return;const b=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,D=document.activeElement;if(b&&D){const z=A.currentTarget,[U,q]=A5(z);U&&q?!A.shiftKey&&D===q?(A.preventDefault(),t&&Fi(U,{select:!0})):A.shiftKey&&D===U&&(A.preventDefault(),t&&Fi(q,{select:!0})):D===z&&A.preventDefault()}},[t,r,I.paused]);return E.jsx(oi.div,{tabIndex:-1,...l,ref:T,onKeyDown:S})});rA.displayName=b5;function C5(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Fi(r,{select:e}),document.activeElement!==t)return}function A5(n){const e=oA(n),t=VT(e,n),r=VT(e.reverse(),n);return[t,r]}function oA(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function VT(n,e){for(const t of n)if(!R5(t,{upTo:e}))return t}function R5(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function P5(n){return n instanceof HTMLInputElement&&"select"in n}function Fi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&P5(n)&&e&&n.select()}}var FT=k5();function k5(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=jT(n,e),n.unshift(e)},remove(e){var t;n=jT(n,e),(t=n[0])==null||t.resume()}}}function jT(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function N5(n){return n.filter(e=>e.tagName!=="A")}var D5="Portal",iA=_.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,a]=_.useState(!1);gr(()=>a(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Zy.createPortal(E.jsx(oi.div,{...r,ref:e}),l):null});iA.displayName=D5;var $h="Dialog",[sA,UW]=ri($h),[O5,Yr]=sA($h),aA=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,c=_.useRef(null),f=_.useRef(null),[p,y]=Dh({prop:r,defaultProp:i??!1,onChange:a,caller:$h});return E.jsx(O5,{scope:e,triggerRef:c,contentRef:f,contentId:wn(),titleId:wn(),descriptionId:wn(),open:p,onOpenChange:y,onOpenToggle:_.useCallback(()=>y(g=>!g),[y]),modal:l,children:t})};aA.displayName=$h;var lA="DialogTrigger",M5=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yr(lA,t),a=at(e,i.triggerRef);return E.jsx(oi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bv(i.open),...r,ref:a,onClick:Le(n.onClick,i.onOpenToggle)})});M5.displayName=lA;var Iv="DialogPortal",[L5,uA]=sA(Iv,{forceMount:void 0}),cA=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=Yr(Iv,e);return E.jsx(L5,{scope:e,forceMount:t,children:_.Children.map(r,l=>E.jsx(Kr,{present:t||a.open,children:E.jsx(iA,{asChild:!0,container:i,children:l})}))})};cA.displayName=Iv;var Xf="DialogOverlay",dA=_.forwardRef((n,e)=>{const t=uA(Xf,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Yr(Xf,n.__scopeDialog);return a.modal?E.jsx(Kr,{present:r||a.open,children:E.jsx(F5,{...i,ref:e})}):null});dA.displayName=Xf;var V5=ZC("DialogOverlay.RemoveScroll"),F5=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yr(Xf,t);return E.jsx(Mh,{as:V5,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(oi.div,{"data-state":bv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Js="DialogContent",fA=_.forwardRef((n,e)=>{const t=uA(Js,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Yr(Js,n.__scopeDialog);return E.jsx(Kr,{present:r||a.open,children:a.modal?E.jsx(j5,{...i,ref:e}):E.jsx(U5,{...i,ref:e})})});fA.displayName=Js;var j5=_.forwardRef((n,e)=>{const t=Yr(Js,n.__scopeDialog),r=_.useRef(null),i=at(e,t.contentRef,r);return _.useEffect(()=>{const a=r.current;if(a)return hv(a)},[]),E.jsx(hA,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,a=>a.preventDefault())})}),U5=_.forwardRef((n,e)=>{const t=Yr(Js,n.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return E.jsx(hA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),hA=_.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,c=Yr(Js,t),f=_.useRef(null),p=at(e,f);return tv(),E.jsxs(E.Fragment,{children:[E.jsx(rA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:E.jsx(tA,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":bv(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx($5,{titleId:c.titleId}),E.jsx(z5,{contentRef:f,descriptionId:c.descriptionId})]})]})}),Sv="DialogTitle",pA=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yr(Sv,t);return E.jsx(oi.h2,{id:i.titleId,...r,ref:e})});pA.displayName=Sv;var mA="DialogDescription",gA=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yr(mA,t);return E.jsx(oi.p,{id:i.descriptionId,...r,ref:e})});gA.displayName=mA;var yA="DialogClose",vA=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Yr(yA,t);return E.jsx(oi.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>i.onOpenChange(!1))})});vA.displayName=yA;function bv(n){return n?"open":"closed"}var wA="DialogTitleWarning",[$W,_A]=vb(wA,{contentName:Js,titleName:Sv,docsSlug:"dialog"}),$5=({titleId:n})=>{const e=_A(wA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},B5="DialogDescriptionWarning",z5=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_A(B5).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},EA=aA,TA=cA,Cv=dA,Av=fA,xA=pA,IA=gA,W5=vA,bu='[cmdk-group=""]',ig='[cmdk-group-items=""]',H5='[cmdk-group-heading=""]',SA='[cmdk-item=""]',UT=`${SA}:not([aria-disabled="true"])`,Gg="cmdk-item-select",rl="data-value",q5=(n,e,t)=>d5(n,e,t),bA=_.createContext(void 0),Ec=()=>_.useContext(bA),CA=_.createContext(void 0),Rv=()=>_.useContext(CA),AA=_.createContext(void 0),RA=_.forwardRef((n,e)=>{let t=ol(()=>{var V,X;return{search:"",value:(X=(V=n.value)!=null?V:n.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=ol(()=>new Set),i=ol(()=>new Map),a=ol(()=>new Map),l=ol(()=>new Set),c=PA(n),{label:f,children:p,value:y,onValueChange:g,filter:T,shouldFilter:I,loop:S,disablePointerSelection:A=!1,vimBindings:b=!0,...D}=n,z=wn(),U=wn(),q=wn(),J=_.useRef(null),ee=r6();Zs(()=>{if(y!==void 0){let V=y.trim();t.current.value=V,k.emit()}},[y]),Zs(()=>{ee(6,O)},[]);let k=_.useMemo(()=>({subscribe:V=>(l.current.add(V),()=>l.current.delete(V)),snapshot:()=>t.current,setState:(V,X,se)=>{var ie,ue,he,Ce;if(!Object.is(t.current[V],X)){if(t.current[V]=X,V==="search")B(),M(),ee(1,F);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let _e=document.getElementById(q);_e?_e.focus():(ie=document.getElementById(z))==null||ie.focus()}if(ee(7,()=>{var _e;t.current.selectedItemId=(_e=Re())==null?void 0:_e.id,k.emit()}),se||ee(5,O),((ue=c.current)==null?void 0:ue.value)!==void 0){let _e=X??"";(Ce=(he=c.current).onValueChange)==null||Ce.call(he,_e);return}}k.emit()}},emit:()=>{l.current.forEach(V=>V())}}),[]),R=_.useMemo(()=>({value:(V,X,se)=>{var ie;X!==((ie=a.current.get(V))==null?void 0:ie.value)&&(a.current.set(V,{value:X,keywords:se}),t.current.filtered.items.set(V,N(X,se)),ee(2,()=>{M(),k.emit()}))},item:(V,X)=>(r.current.add(V),X&&(i.current.has(X)?i.current.get(X).add(V):i.current.set(X,new Set([V]))),ee(3,()=>{B(),M(),t.current.value||F(),k.emit()}),()=>{a.current.delete(V),r.current.delete(V),t.current.filtered.items.delete(V);let se=Re();ee(4,()=>{B(),(se==null?void 0:se.getAttribute("id"))===V&&F(),k.emit()})}),group:V=>(i.current.has(V)||i.current.set(V,new Set),()=>{a.current.delete(V),i.current.delete(V)}),filter:()=>c.current.shouldFilter,label:f||n["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:z,inputId:q,labelId:U,listInnerRef:J}),[]);function N(V,X){var se,ie;let ue=(ie=(se=c.current)==null?void 0:se.filter)!=null?ie:q5;return V?ue(V,t.current.search,X):0}function M(){if(!t.current.search||c.current.shouldFilter===!1)return;let V=t.current.filtered.items,X=[];t.current.filtered.groups.forEach(ie=>{let ue=i.current.get(ie),he=0;ue.forEach(Ce=>{let _e=V.get(Ce);he=Math.max(_e,he)}),X.push([ie,he])});let se=J.current;Se().sort((ie,ue)=>{var he,Ce;let _e=ie.getAttribute("id"),$e=ue.getAttribute("id");return((he=V.get($e))!=null?he:0)-((Ce=V.get(_e))!=null?Ce:0)}).forEach(ie=>{let ue=ie.closest(ig);ue?ue.appendChild(ie.parentElement===ue?ie:ie.closest(`${ig} > *`)):se.appendChild(ie.parentElement===se?ie:ie.closest(`${ig} > *`))}),X.sort((ie,ue)=>ue[1]-ie[1]).forEach(ie=>{var ue;let he=(ue=J.current)==null?void 0:ue.querySelector(`${bu}[${rl}="${encodeURIComponent(ie[0])}"]`);he==null||he.parentElement.appendChild(he)})}function F(){let V=Se().find(se=>se.getAttribute("aria-disabled")!=="true"),X=V==null?void 0:V.getAttribute(rl);k.setState("value",X||void 0)}function B(){var V,X,se,ie;if(!t.current.search||c.current.shouldFilter===!1){t.current.filtered.count=r.current.size;return}t.current.filtered.groups=new Set;let ue=0;for(let he of r.current){let Ce=(X=(V=a.current.get(he))==null?void 0:V.value)!=null?X:"",_e=(ie=(se=a.current.get(he))==null?void 0:se.keywords)!=null?ie:[],$e=N(Ce,_e);t.current.filtered.items.set(he,$e),$e>0&&ue++}for(let[he,Ce]of i.current)for(let _e of Ce)if(t.current.filtered.items.get(_e)>0){t.current.filtered.groups.add(he);break}t.current.filtered.count=ue}function O(){var V,X,se;let ie=Re();ie&&(((V=ie.parentElement)==null?void 0:V.firstChild)===ie&&((se=(X=ie.closest(bu))==null?void 0:X.querySelector(H5))==null||se.scrollIntoView({block:"nearest"})),ie.scrollIntoView({block:"nearest"}))}function Re(){var V;return(V=J.current)==null?void 0:V.querySelector(`${SA}[aria-selected="true"]`)}function Se(){var V;return Array.from(((V=J.current)==null?void 0:V.querySelectorAll(UT))||[])}function fe(V){let X=Se()[V];X&&k.setState("value",X.getAttribute(rl))}function ge(V){var X;let se=Re(),ie=Se(),ue=ie.findIndex(Ce=>Ce===se),he=ie[ue+V];(X=c.current)!=null&&X.loop&&(he=ue+V<0?ie[ie.length-1]:ue+V===ie.length?ie[0]:ie[ue+V]),he&&k.setState("value",he.getAttribute(rl))}function H(V){let X=Re(),se=X==null?void 0:X.closest(bu),ie;for(;se&&!ie;)se=V>0?t6(se,bu):n6(se,bu),ie=se==null?void 0:se.querySelector(UT);ie?k.setState("value",ie.getAttribute(rl)):ge(V)}let te=()=>fe(Se().length-1),re=V=>{V.preventDefault(),V.metaKey?te():V.altKey?H(1):ge(1)},j=V=>{V.preventDefault(),V.metaKey?fe(0):V.altKey?H(-1):ge(-1)};return _.createElement(Ze.div,{ref:e,tabIndex:-1,...D,"cmdk-root":"",onKeyDown:V=>{var X;(X=D.onKeyDown)==null||X.call(D,V);let se=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||se))switch(V.key){case"n":case"j":{b&&V.ctrlKey&&re(V);break}case"ArrowDown":{re(V);break}case"p":case"k":{b&&V.ctrlKey&&j(V);break}case"ArrowUp":{j(V);break}case"Home":{V.preventDefault(),fe(0);break}case"End":{V.preventDefault(),te();break}case"Enter":{V.preventDefault();let ie=Re();if(ie){let ue=new Event(Gg);ie.dispatchEvent(ue)}}}}},_.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:i6},f),Bh(n,V=>_.createElement(CA.Provider,{value:k},_.createElement(bA.Provider,{value:R},V))))}),G5=_.forwardRef((n,e)=>{var t,r;let i=wn(),a=_.useRef(null),l=_.useContext(AA),c=Ec(),f=PA(n),p=(r=(t=f.current)==null?void 0:t.forceMount)!=null?r:l==null?void 0:l.forceMount;Zs(()=>{if(!p)return c.item(i,l==null?void 0:l.id)},[p]);let y=kA(i,a,[n.value,n.children,a],n.keywords),g=Rv(),T=os(ee=>ee.value&&ee.value===y.current),I=os(ee=>p||c.filter()===!1?!0:ee.search?ee.filtered.items.get(i)>0:!0);_.useEffect(()=>{let ee=a.current;if(!(!ee||n.disabled))return ee.addEventListener(Gg,S),()=>ee.removeEventListener(Gg,S)},[I,n.onSelect,n.disabled]);function S(){var ee,k;A(),(k=(ee=f.current).onSelect)==null||k.call(ee,y.current)}function A(){g.setState("value",y.current,!0)}if(!I)return null;let{disabled:b,value:D,onSelect:z,forceMount:U,keywords:q,...J}=n;return _.createElement(Ze.div,{ref:Jo(a,e),...J,id:i,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!T,"data-disabled":!!b,"data-selected":!!T,onPointerMove:b||c.getDisablePointerSelection()?void 0:A,onClick:b?void 0:S},n.children)}),K5=_.forwardRef((n,e)=>{let{heading:t,children:r,forceMount:i,...a}=n,l=wn(),c=_.useRef(null),f=_.useRef(null),p=wn(),y=Ec(),g=os(I=>i||y.filter()===!1?!0:I.search?I.filtered.groups.has(l):!0);Zs(()=>y.group(l),[]),kA(l,c,[n.value,n.heading,f]);let T=_.useMemo(()=>({id:l,forceMount:i}),[i]);return _.createElement(Ze.div,{ref:Jo(c,e),...a,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&_.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:p},t),Bh(n,I=>_.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?p:void 0},_.createElement(AA.Provider,{value:T},I))))}),Y5=_.forwardRef((n,e)=>{let{alwaysRender:t,...r}=n,i=_.useRef(null),a=os(l=>!l.search);return!t&&!a?null:_.createElement(Ze.div,{ref:Jo(i,e),...r,"cmdk-separator":"",role:"separator"})}),Q5=_.forwardRef((n,e)=>{let{onValueChange:t,...r}=n,i=n.value!=null,a=Rv(),l=os(p=>p.search),c=os(p=>p.selectedItemId),f=Ec();return _.useEffect(()=>{n.value!=null&&a.setState("search",n.value)},[n.value]),_.createElement(Ze.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":c,id:f.inputId,type:"text",value:i?n.value:l,onChange:p=>{i||a.setState("search",p.target.value),t==null||t(p.target.value)}})}),X5=_.forwardRef((n,e)=>{let{children:t,label:r="Suggestions",...i}=n,a=_.useRef(null),l=_.useRef(null),c=os(p=>p.selectedItemId),f=Ec();return _.useEffect(()=>{if(l.current&&a.current){let p=l.current,y=a.current,g,T=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let I=p.offsetHeight;y.style.setProperty("--cmdk-list-height",I.toFixed(1)+"px")})});return T.observe(p),()=>{cancelAnimationFrame(g),T.unobserve(p)}}},[]),_.createElement(Ze.div,{ref:Jo(a,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:f.listId},Bh(n,p=>_.createElement("div",{ref:Jo(l,f.listInnerRef),"cmdk-list-sizer":""},p)))}),J5=_.forwardRef((n,e)=>{let{open:t,onOpenChange:r,overlayClassName:i,contentClassName:a,container:l,...c}=n;return _.createElement(EA,{open:t,onOpenChange:r},_.createElement(TA,{container:l},_.createElement(Cv,{"cmdk-overlay":"",className:i}),_.createElement(Av,{"aria-label":n.label,"cmdk-dialog":"",className:a},_.createElement(RA,{ref:e,...c}))))}),Z5=_.forwardRef((n,e)=>os(t=>t.filtered.count===0)?_.createElement(Ze.div,{ref:e,...n,"cmdk-empty":"",role:"presentation"}):null),e6=_.forwardRef((n,e)=>{let{progress:t,children:r,label:i="Loading...",...a}=n;return _.createElement(Ze.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Bh(n,l=>_.createElement("div",{"aria-hidden":!0},l)))}),Ll=Object.assign(RA,{List:X5,Item:G5,Input:Q5,Group:K5,Separator:Y5,Dialog:J5,Empty:Z5,Loading:e6});function t6(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function n6(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function PA(n){let e=_.useRef(n);return Zs(()=>{e.current=n}),e}var Zs=typeof window>"u"?_.useEffect:_.useLayoutEffect;function ol(n){let e=_.useRef();return e.current===void 0&&(e.current=n()),e}function os(n){let e=Rv(),t=()=>n(e.snapshot());return _.useSyncExternalStore(e.subscribe,t,t)}function kA(n,e,t,r=[]){let i=_.useRef(),a=Ec();return Zs(()=>{var l;let c=(()=>{var p;for(let y of t){if(typeof y=="string")return y.trim();if(typeof y=="object"&&"current"in y)return y.current?(p=y.current.textContent)==null?void 0:p.trim():i.current}})(),f=r.map(p=>p.trim());a.value(n,c,f),(l=e.current)==null||l.setAttribute(rl,c),i.current=c}),i}var r6=()=>{let[n,e]=_.useState(),t=ol(()=>new Map);return Zs(()=>{t.current.forEach(r=>r()),t.current=new Map},[n]),(r,i)=>{t.current.set(r,i),e({})}};function o6(n){let e=n.type;return typeof e=="function"?e(n.props):"render"in e?e.render(n.props):n}function Bh({asChild:n,children:e},t){return n&&_.isValidElement(e)?_.cloneElement(o6(e),{ref:e.ref},t(e.props.children)):t(e)}var i6={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const s6=EA,a6=TA,NA=_.forwardRef(({className:n,...e},t)=>E.jsx(Cv,{ref:t,className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));NA.displayName=Cv.displayName;const DA=_.forwardRef(({className:n,children:e,...t},r)=>E.jsxs(a6,{children:[E.jsx(NA,{}),E.jsxs(Av,{ref:r,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,E.jsxs(W5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[E.jsx(QU,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DA.displayName=Av.displayName;const OA=({className:n,...e})=>E.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});OA.displayName="DialogHeader";const l6=({className:n,...e})=>E.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});l6.displayName="DialogFooter";const MA=_.forwardRef(({className:n,...e},t)=>E.jsx(xA,{ref:t,className:Ue("text-lg font-semibold leading-none tracking-tight",n),...e}));MA.displayName=xA.displayName;const LA=_.forwardRef(({className:n,...e},t)=>E.jsx(IA,{ref:t,className:Ue("text-sm text-muted-foreground",n),...e}));LA.displayName=IA.displayName;function u6({className:n,...e}){return E.jsx(Ll,{"data-slot":"command",className:Ue("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",n),...e})}function c6({className:n,...e}){return E.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[E.jsx(jU,{className:"size-4 shrink-0 opacity-50"}),E.jsx(Ll.Input,{"data-slot":"command-input",className:Ue("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",n),...e})]})}function d6({className:n,...e}){return E.jsx(Ll.List,{"data-slot":"command-list",className:Ue("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",n),...e})}function f6({...n}){return E.jsx(Ll.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...n})}function h6({className:n,...e}){return E.jsx(Ll.Group,{"data-slot":"command-group",className:Ue("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",n),...e})}function p6({className:n,...e}){return E.jsx(Ll.Item,{"data-slot":"command-item",className:Ue("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}var zh="Dialog",[VA,FA]=ri(zh),[m6,Qr]=VA(zh),jA=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,c=_.useRef(null),f=_.useRef(null),[p,y]=Dh({prop:r,defaultProp:i??!1,onChange:a,caller:zh});return E.jsx(m6,{scope:e,triggerRef:c,contentRef:f,contentId:wn(),titleId:wn(),descriptionId:wn(),open:p,onOpenChange:y,onOpenToggle:_.useCallback(()=>y(g=>!g),[y]),modal:l,children:t})};jA.displayName=zh;var UA="DialogTrigger",$A=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qr(UA,t),a=at(e,i.triggerRef);return E.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Nv(i.open),...r,ref:a,onClick:Le(n.onClick,i.onOpenToggle)})});$A.displayName=UA;var Pv="DialogPortal",[g6,BA]=VA(Pv,{forceMount:void 0}),zA=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=Qr(Pv,e);return E.jsx(g6,{scope:e,forceMount:t,children:_.Children.map(r,l=>E.jsx(Kr,{present:t||a.open,children:E.jsx(fv,{asChild:!0,container:i,children:l})}))})};zA.displayName=Pv;var Jf="DialogOverlay",WA=_.forwardRef((n,e)=>{const t=BA(Jf,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Qr(Jf,n.__scopeDialog);return a.modal?E.jsx(Kr,{present:r||a.open,children:E.jsx(v6,{...i,ref:e})}):null});WA.displayName=Jf;var y6=Tl("DialogOverlay.RemoveScroll"),v6=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qr(Jf,t);return E.jsx(Mh,{as:y6,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(Ze.div,{"data-state":Nv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ea="DialogContent",HA=_.forwardRef((n,e)=>{const t=BA(ea,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Qr(ea,n.__scopeDialog);return E.jsx(Kr,{present:r||a.open,children:a.modal?E.jsx(w6,{...i,ref:e}):E.jsx(_6,{...i,ref:e})})});HA.displayName=ea;var w6=_.forwardRef((n,e)=>{const t=Qr(ea,n.__scopeDialog),r=_.useRef(null),i=at(e,t.contentRef,r);return _.useEffect(()=>{const a=r.current;if(a)return hv(a)},[]),E.jsx(qA,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,a=>a.preventDefault())})}),_6=_.forwardRef((n,e)=>{const t=Qr(ea,n.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return E.jsx(qA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var f,p;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),qA=_.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,c=Qr(ea,t),f=_.useRef(null),p=at(e,f);return tv(),E.jsxs(E.Fragment,{children:[E.jsx(nv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:E.jsx(ev,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Nv(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(T6,{titleId:c.titleId}),E.jsx(I6,{contentRef:f,descriptionId:c.descriptionId})]})]})}),kv="DialogTitle",GA=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qr(kv,t);return E.jsx(Ze.h2,{id:i.titleId,...r,ref:e})});GA.displayName=kv;var KA="DialogDescription",YA=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qr(KA,t);return E.jsx(Ze.p,{id:i.descriptionId,...r,ref:e})});YA.displayName=KA;var QA="DialogClose",XA=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qr(QA,t);return E.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>i.onOpenChange(!1))})});XA.displayName=QA;function Nv(n){return n?"open":"closed"}var JA="DialogTitleWarning",[E6,ZA]=vb(JA,{contentName:ea,titleName:kv,docsSlug:"dialog"}),T6=({titleId:n})=>{const e=ZA(JA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},x6="DialogDescriptionWarning",I6=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZA(x6).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},S6=jA,b6=$A,C6=zA,A6=WA,R6=HA,P6=GA,k6=YA,eR=XA,tR="AlertDialog",[N6,BW]=ri(tR,[FA]),ii=FA(),nR=n=>{const{__scopeAlertDialog:e,...t}=n,r=ii(e);return E.jsx(S6,{...r,...t,modal:!0})};nR.displayName=tR;var D6="AlertDialogTrigger",rR=_.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ii(t);return E.jsx(b6,{...i,...r,ref:e})});rR.displayName=D6;var O6="AlertDialogPortal",oR=n=>{const{__scopeAlertDialog:e,...t}=n,r=ii(e);return E.jsx(C6,{...r,...t})};oR.displayName=O6;var M6="AlertDialogOverlay",iR=_.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ii(t);return E.jsx(A6,{...i,...r,ref:e})});iR.displayName=M6;var hl="AlertDialogContent",[L6,V6]=N6(hl),F6=j4("AlertDialogContent"),sR=_.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,a=ii(t),l=_.useRef(null),c=at(e,l),f=_.useRef(null);return E.jsx(E6,{contentName:hl,titleName:aR,docsSlug:"alert-dialog",children:E.jsx(L6,{scope:t,cancelRef:f,children:E.jsxs(R6,{role:"alertdialog",...a,...i,ref:c,onOpenAutoFocus:Le(i.onOpenAutoFocus,p=>{var y;p.preventDefault(),(y=f.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[E.jsx(F6,{children:r}),E.jsx(U6,{contentRef:l})]})})})});sR.displayName=hl;var aR="AlertDialogTitle",lR=_.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ii(t);return E.jsx(P6,{...i,...r,ref:e})});lR.displayName=aR;var uR="AlertDialogDescription",cR=_.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ii(t);return E.jsx(k6,{...i,...r,ref:e})});cR.displayName=uR;var j6="AlertDialogAction",dR=_.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ii(t);return E.jsx(eR,{...i,...r,ref:e})});dR.displayName=j6;var fR="AlertDialogCancel",hR=_.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=V6(fR,t),a=ii(t),l=at(e,i);return E.jsx(eR,{...a,...r,ref:l})});hR.displayName=fR;var U6=({contentRef:n})=>{const e=`\`${hl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${hl}\` by passing a \`${uR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${hl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},$6=nR,B6=rR,z6=oR,pR=iR,mR=sR,gR=dR,yR=hR,vR=lR,wR=cR;const zW=$6,WW=B6,W6=z6,_R=_.forwardRef(({className:n,...e},t)=>E.jsx(pR,{className:Ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));_R.displayName=pR.displayName;const H6=_.forwardRef(({className:n,...e},t)=>E.jsxs(W6,{children:[E.jsx(_R,{}),E.jsx(mR,{ref:t,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));H6.displayName=mR.displayName;const q6=({className:n,...e})=>E.jsx("div",{className:Ue("flex flex-col space-y-2 text-center sm:text-left",n),...e});q6.displayName="AlertDialogHeader";const G6=({className:n,...e})=>E.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});G6.displayName="AlertDialogFooter";const K6=_.forwardRef(({className:n,...e},t)=>E.jsx(vR,{ref:t,className:Ue("text-lg font-semibold",n),...e}));K6.displayName=vR.displayName;const Y6=_.forwardRef(({className:n,...e},t)=>E.jsx(wR,{ref:t,className:Ue("text-sm text-muted-foreground",n),...e}));Y6.displayName=wR.displayName;const Q6=_.forwardRef(({className:n,...e},t)=>E.jsx(gR,{ref:t,className:Ue(gv(),n),...e}));Q6.displayName=gR.displayName;const X6=_.forwardRef(({className:n,...e},t)=>E.jsx(yR,{ref:t,className:Ue(gv({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));X6.displayName=yR.displayName;const wf={userPreferences:{theme:"light",heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",notificationsEnabled:!0,workoutDaysPerWeek:3},ui:{sidebarOpen:!0,activeDashboardTab:"home"},dashboardData:{needsRefresh:!1,lastUpdated:null}},ER=de.createContext({state:wf,setHeightUnit:()=>{},setWeightUnit:()=>{},setDateFormat:()=>{},setSidebarOpen:()=>{},setTheme:()=>{},setWorkoutDaysPerWeek:()=>{}}),J6=()=>{const n=_.useContext(ER);if(!n)throw new Error("useAppState must be used within an AppProvider");const{state:e,setHeightUnit:t,setWeightUnit:r,setDateFormat:i,setSidebarOpen:a,setTheme:l,setWorkoutDaysPerWeek:c}=n;return{state:e,setHeightUnit:t,setWeightUnit:r,setDateFormat:i,setSidebarOpen:a,setTheme:l,setWorkoutDaysPerWeek:c}},ua=()=>{const n=_.useContext(tx);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return{...n}};var Cu={},$T;function Z6(){if($T)return Cu;$T=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.parse=l,Cu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function l(T,I){const S=new a,A=T.length;if(A<2)return S;const b=(I==null?void 0:I.decode)||y;let D=0;do{const z=T.indexOf("=",D);if(z===-1)break;const U=T.indexOf(";",D),q=U===-1?A:U;if(z>q){D=T.lastIndexOf(";",z-1)+1;continue}const J=c(T,D,z),ee=f(T,z,J),k=T.slice(J,ee);if(S[k]===void 0){let R=c(T,z+1,q),N=f(T,q,R);const M=b(T.slice(R,N));S[k]=M}D=q+1}while(D<A);return S}function c(T,I,S){do{const A=T.charCodeAt(I);if(A!==32&&A!==9)return I}while(++I<S);return S}function f(T,I,S){for(;I>S;){const A=T.charCodeAt(--I);if(A!==32&&A!==9)return I+1}return S}function p(T,I,S){const A=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const b=A(I);if(!e.test(b))throw new TypeError(`argument val is invalid: ${I}`);let D=T+"="+b;if(!S)return D;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);D+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);D+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);D+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);D+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(D+="; HttpOnly"),S.secure&&(D+="; Secure"),S.partitioned&&(D+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return D}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function g(T){return i.call(T)==="[object Date]"}return Cu}Z6();var BT="popstate";function eB(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Kg("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:oc(i)}return nB(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tB(){return Math.random().toString(36).substring(2,10)}function zT(n,e){return{usr:n.state,key:n.key,idx:e}}function Kg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vl(e):e,state:t,key:e&&e.key||r||tB()}}function oc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function nB(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",f=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function g(){c="POP";let b=y(),D=b==null?null:b-p;p=b,f&&f({action:c,location:A.location,delta:D})}function T(b,D){c="PUSH";let z=Kg(A.location,b,D);p=y()+1;let U=zT(z,p),q=A.createHref(z);try{l.pushState(U,"",q)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(q)}a&&f&&f({action:c,location:A.location,delta:1})}function I(b,D){c="REPLACE";let z=Kg(A.location,b,D);p=y();let U=zT(z,p),q=A.createHref(z);l.replaceState(U,"",q),a&&f&&f({action:c,location:A.location,delta:0})}function S(b){let D=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof b=="string"?b:oc(b);return z=z.replace(/ $/,"%20"),gt(D,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,D)}let A={get action(){return c},get location(){return n(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(BT,g),f=b,()=>{i.removeEventListener(BT,g),f=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let D=S(b);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:T,replace:I,go(b){return l.go(b)}};return A}function TR(n,e,t="/"){return rB(n,e,t,!1)}function rB(n,e,t,r){let i=typeof e=="string"?Vl(e):e,a=ti(i.pathname||"/",t);if(a==null)return null;let l=xR(n);oB(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=mB(a);c=hB(l[f],p,r)}return c}function xR(n,e=[],t=[],r=""){let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(gt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Go([r,f.relativePath]),y=t.concat(f);a.children&&a.children.length>0&&(gt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xR(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:dB(p,a.index),routesMeta:y})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of IR(a.path))i(a,l,f)}),e}function IR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=IR(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function oB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var iB=/^:[\w-]+$/,sB=3,aB=2,lB=1,uB=10,cB=-2,WT=n=>n==="*";function dB(n,e){let t=n.split("/"),r=t.length;return t.some(WT)&&(r+=cB),e&&(r+=aB),t.filter(i=>!WT(i)).reduce((i,a)=>i+(iB.test(a)?sB:a===""?lB:uB),r)}function fB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function hB(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=Zf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),T=f.route;if(!g&&p&&t&&!r[r.length-1].route.index&&(g=Zf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Go([a,g.pathname]),pathnameBase:wB(Go([a,g.pathnameBase])),route:T}),g.pathnameBase!=="/"&&(a=Go([a,g.pathnameBase]))}return l}function Zf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=pB(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:g},T)=>{if(y==="*"){let S=c[T]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const I=c[T];return g&&!I?p[y]=void 0:p[y]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function pB(n,e=!1,t=!0){Hr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ti(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function gB(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Vl(n):n;return{pathname:t?t.startsWith("/")?t:yB(t,e):e,search:_B(r),hash:EB(i)}}function yB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function sg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vB(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dv(n){let e=vB(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ov(n,e,t,r=!1){let i;typeof n=="string"?i=Vl(n):(i={...n},gt(!i.pathname||!i.pathname.includes("?"),sg("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),sg("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),sg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),g-=1;i.pathname=T.join("/")}c=g>=0?e[g]:"/"}let f=gB(i,c),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Go=n=>n.join("/").replace(/\/\/+/g,"/"),wB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_B=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,EB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function TB(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var SR=["POST","PUT","PATCH","DELETE"];new Set(SR);var xB=["GET",...SR];new Set(xB);var Fl=_.createContext(null);Fl.displayName="DataRouter";var Wh=_.createContext(null);Wh.displayName="DataRouterState";var bR=_.createContext({isTransitioning:!1});bR.displayName="ViewTransition";var IB=_.createContext(new Map);IB.displayName="Fetchers";var SB=_.createContext(null);SB.displayName="Await";var Xr=_.createContext(null);Xr.displayName="Navigation";var Tc=_.createContext(null);Tc.displayName="Location";var yr=_.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var Mv=_.createContext(null);Mv.displayName="RouteError";function bB(n,{relative:e}={}){gt(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=_.useContext(Xr),{hash:i,pathname:a,search:l}=xc(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Go([t,a])),r.createHref({pathname:c,search:l,hash:i})}function jl(){return _.useContext(Tc)!=null}function si(){return gt(jl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Tc).location}var CR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AR(n){_.useContext(Xr).static||_.useLayoutEffect(n)}function ca(){let{isDataRoute:n}=_.useContext(yr);return n?$B():CB()}function CB(){gt(jl(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext(Fl),{basename:e,navigator:t}=_.useContext(Xr),{matches:r}=_.useContext(yr),{pathname:i}=si(),a=JSON.stringify(Dv(r)),l=_.useRef(!1);return AR(()=>{l.current=!0}),_.useCallback((f,p={})=>{if(Hr(l.current,CR),!l.current)return;if(typeof f=="number"){t.go(f);return}let y=Ov(f,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Go([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,i,n])}var AB=_.createContext(null);function RB(n){let e=_.useContext(yr).outlet;return e&&_.createElement(AB.Provider,{value:n},e)}function HW(){let{matches:n}=_.useContext(yr),e=n[n.length-1];return e?e.params:{}}function xc(n,{relative:e}={}){let{matches:t}=_.useContext(yr),{pathname:r}=si(),i=JSON.stringify(Dv(t));return _.useMemo(()=>Ov(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function PB(n,e){return RR(n,e)}function RR(n,e,t,r){var z;gt(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=_.useContext(Xr),{matches:l}=_.useContext(yr),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",g=c&&c.route;{let U=g&&g.path||"";PR(p,!g||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=si(),I;if(e){let U=typeof e=="string"?Vl(e):e;gt(y==="/"||((z=U.pathname)==null?void 0:z.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),I=U}else I=T;let S=I.pathname||"/",A=S;if(y!=="/"){let U=y.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(U.length).join("/")}let b=!a&&t&&t.matches&&t.matches.length>0?t.matches:TR(n,{pathname:A});Hr(g||b!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Hr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=MB(b&&b.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Go([y,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Go([y,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,r);return e&&D?_.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},D):D}function kB(){let n=UB(),e=TB(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:i},t):null,l)}var NB=_.createElement(kB,null),DB=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?_.createElement(yr.Provider,{value:this.props.routeContext},_.createElement(Mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OB({routeContext:n,match:e,children:t}){let r=_.useContext(Fl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(yr.Provider,{value:n},t)}function MB(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);gt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:y,errors:g}=t,T=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||T){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,p,y)=>{let g,T=!1,I=null,S=null;t&&(g=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||NB,l&&(c<0&&y===0?(PR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,S=null):c===y&&(T=!0,S=p.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,y+1)),b=()=>{let D;return g?D=I:T?D=S:p.route.Component?D=_.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=f,_.createElement(OB,{match:p,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?_.createElement(DB,{location:t.location,revalidation:t.revalidation,component:I,error:g,children:b(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):b()},null)}function Lv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LB(n){let e=_.useContext(Fl);return gt(e,Lv(n)),e}function VB(n){let e=_.useContext(Wh);return gt(e,Lv(n)),e}function FB(n){let e=_.useContext(yr);return gt(e,Lv(n)),e}function Vv(n){let e=FB(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jB(){return Vv("useRouteId")}function UB(){var r;let n=_.useContext(Mv),e=VB("useRouteError"),t=Vv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function $B(){let{router:n}=LB("useNavigate"),e=Vv("useNavigate"),t=_.useRef(!1);return AR(()=>{t.current=!0}),_.useCallback(async(i,a={})=>{Hr(t.current,CR),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var HT={};function PR(n,e,t){!e&&!HT[n]&&(HT[n]=!0,Hr(!1,t))}_.memo(BB);function BB({routes:n,future:e,state:t}){return RR(n,void 0,t,e)}function zu({to:n,replace:e,state:t,relative:r}){gt(jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Xr);Hr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(yr),{pathname:l}=si(),c=ca(),f=Ov(n,Dv(a),l,r==="path"),p=JSON.stringify(f);return _.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function Fv(n){return RB(n.context)}function ln(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zB({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){gt(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=Vl(t));let{pathname:f="/",search:p="",hash:y="",state:g=null,key:T="default"}=t,I=_.useMemo(()=>{let S=ti(f,l);return S==null?null:{location:{pathname:S,search:p,hash:y,state:g,key:T},navigationType:r}},[l,f,p,y,g,T,r]);return Hr(I!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:_.createElement(Xr.Provider,{value:c},_.createElement(Tc.Provider,{children:e,value:I}))}function WB({children:n,location:e}){return PB(Yg(n),e)}function Yg(n,e=[]){let t=[];return _.Children.forEach(n,(r,i)=>{if(!_.isValidElement(r))return;let a=[...e,i];if(r.type===_.Fragment){t.push.apply(t,Yg(r.props.children,a));return}gt(r.type===ln,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Yg(r.props.children,a)),t.push(l)}),t}var _f="get",Ef="application/x-www-form-urlencoded";function Hh(n){return n!=null&&typeof n.tagName=="string"}function HB(n){return Hh(n)&&n.tagName.toLowerCase()==="button"}function qB(n){return Hh(n)&&n.tagName.toLowerCase()==="form"}function GB(n){return Hh(n)&&n.tagName.toLowerCase()==="input"}function KB(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YB(n,e){return n.button===0&&(!e||e==="_self")&&!KB(n)}var rf=null;function QB(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var XB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(n){return n!=null&&!XB.has(n)?(Hr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):n}function JB(n,e){let t,r,i,a,l;if(qB(n)){let c=n.getAttribute("action");r=c?ti(c,e):null,t=n.getAttribute("method")||_f,i=ag(n.getAttribute("enctype"))||Ef,a=new FormData(n)}else if(HB(n)||GB(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?ti(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||_f,i=ag(n.getAttribute("formenctype"))||ag(c.getAttribute("enctype"))||Ef,a=new FormData(c,n),!QB()){let{name:p,type:y,value:g}=n;if(y==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,g)}}else{if(Hh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_f,r=null,i=Ef,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function jv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ZB(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ez(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tz(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await ZB(a,t);return l.links?l.links():[]}return[]}));return iz(r.flat(1).filter(ez).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qT(n,e,t,r,i,a){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{var g;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function nz(n,e,{includeHydrateFallback:t}={}){return rz(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function rz(n){return[...new Set(n)]}function oz(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function iz(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(oz(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}var sz=new Set([100,101,204,205]);function az(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ti(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function kR(){let n=_.useContext(Fl);return jv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lz(){let n=_.useContext(Wh);return jv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Uv=_.createContext(void 0);Uv.displayName="FrameworkContext";function NR(){let n=_.useContext(Uv);return jv(n,"You must render this element inside a <HydratedRouter> element"),n}function uz(n,e){let t=_.useContext(Uv),[r,i]=_.useState(!1),[a,l]=_.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:g}=e,T=_.useRef(null);_.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=D=>{D.forEach(z=>{l(z.isIntersecting)})},b=new IntersectionObserver(A,{threshold:.5});return T.current&&b.observe(T.current),()=>{b.disconnect()}}},[n]),_.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let I=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:Au(c,I),onBlur:Au(f,S),onMouseEnter:Au(p,I),onMouseLeave:Au(y,S),onTouchStart:Au(g,I)}]:[!1,T,{}]}function Au(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cz({page:n,...e}){let{router:t}=kR(),r=_.useMemo(()=>TR(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?_.createElement(fz,{page:n,matches:r,...e}):null}function dz(n){let{manifest:e,routeModules:t}=NR(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return tz(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function fz({page:n,matches:e,...t}){let r=si(),{manifest:i,routeModules:a}=NR(),{basename:l}=kR(),{loaderData:c,matches:f}=lz(),p=_.useMemo(()=>qT(n,e,f,i,r,"data"),[n,e,f,i,r]),y=_.useMemo(()=>qT(n,e,f,i,r,"assets"),[n,e,f,i,r]),g=_.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(D=>{var U;let z=i.routes[D.route.id];!z||!z.hasLoader||(!p.some(q=>q.route.id===D.route.id)&&D.route.id in c&&((U=a[D.route.id])!=null&&U.shouldRevalidate)||z.hasClientLoader?A=!0:S.add(D.route.id))}),S.size===0)return[];let b=az(n,l);return A&&S.size>0&&b.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[b.pathname+b.search]},[l,c,r,i,p,e,n,a]),T=_.useMemo(()=>nz(y,i),[y,i]),I=dz(y);return _.createElement(_.Fragment,null,g.map(S=>_.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),T.map(S=>_.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),I.map(({key:S,link:A})=>_.createElement("link",{key:S,...A})))}function hz(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DR&&(window.__reactRouterVersion="7.5.2")}catch{}function pz({basename:n,children:e,window:t}){let r=_.useRef();r.current==null&&(r.current=eB({window:t,v5Compat:!0}));let i=r.current,[a,l]=_.useState({action:i.action,location:i.location}),c=_.useCallback(f=>{_.startTransition(()=>l(f))},[l]);return _.useLayoutEffect(()=>i.listen(c),[i,c]),_.createElement(zB,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var OR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ul=_.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:y,viewTransition:g,...T},I){let{basename:S}=_.useContext(Xr),A=typeof p=="string"&&OR.test(p),b,D=!1;if(typeof p=="string"&&A&&(b=p,DR))try{let N=new URL(window.location.href),M=p.startsWith("//")?new URL(N.protocol+p):new URL(p),F=ti(M.pathname,S);M.origin===N.origin&&F!=null?p=F+M.search+M.hash:D=!0}catch{Hr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=bB(p,{relative:i}),[U,q,J]=uz(r,T),ee=yz(p,{replace:l,state:c,target:f,preventScrollReset:y,relative:i,viewTransition:g});function k(N){e&&e(N),N.defaultPrevented||ee(N)}let R=_.createElement("a",{...T,...J,href:b||z,onClick:D||a?e:k,ref:hz(I,q),target:f,"data-discover":!A&&t==="render"?"true":void 0});return U&&!A?_.createElement(_.Fragment,null,R,_.createElement(cz,{page:z})):R});Ul.displayName="Link";var MR=_.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:f,...p},y){let g=xc(l,{relative:p.relative}),T=si(),I=_.useContext(Wh),{navigator:S,basename:A}=_.useContext(Xr),b=I!=null&&Tz(g)&&c===!0,D=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,z=T.pathname,U=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(z=z.toLowerCase(),U=U?U.toLowerCase():null,D=D.toLowerCase()),U&&A&&(U=ti(U,A)||U);const q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let J=z===D||!i&&z.startsWith(D)&&z.charAt(q)==="/",ee=U!=null&&(U===D||!i&&U.startsWith(D)&&U.charAt(D.length)==="/"),k={isActive:J,isPending:ee,isTransitioning:b},R=J?e:void 0,N;typeof r=="function"?N=r(k):N=[r,J?"active":null,ee?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(k):a;return _.createElement(Ul,{...p,"aria-current":R,className:N,ref:y,style:M,to:l,viewTransition:c},typeof f=="function"?f(k):f)});MR.displayName="NavLink";var mz=_.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=_f,action:c,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:g,...T},I)=>{let S=_z(),A=Ez(c,{relative:p}),b=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&OR.test(c),z=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let q=U.nativeEvent.submitter,J=(q==null?void 0:q.getAttribute("formmethod"))||l;S(q||U.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:i,state:a,relative:p,preventScrollReset:y,viewTransition:g})};return _.createElement("form",{ref:I,method:b,action:A,onSubmit:r?f:z,...T,"data-discover":!D&&n==="render"?"true":void 0})});mz.displayName="Form";function gz(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LR(n){let e=_.useContext(Fl);return gt(e,gz(n)),e}function yz(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=ca(),f=si(),p=xc(n,{relative:a});return _.useCallback(y=>{if(YB(y,e)){y.preventDefault();let g=t!==void 0?t:oc(f)===oc(p);c(n,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,c,p,t,r,e,n,i,a,l])}var vz=0,wz=()=>`__${String(++vz)}__`;function _z(){let{router:n}=LR("useSubmit"),{basename:e}=_.useContext(Xr),t=jB();return _.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=JB(r,e);if(i.navigate===!1){let y=i.fetcherKey||wz();await n.fetch(y,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function Ez(n,{relative:e}={}){let{basename:t}=_.useContext(Xr),r=_.useContext(yr);gt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...xc(n||".",{relative:e})},l=si();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(y=>y==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let y=c.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Go([t,a.pathname])),oc(a)}function Tz(n,e={}){let t=_.useContext(bR);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LR("useViewTransitionState"),i=xc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ti(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ti(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zf(i.pathname,l)!=null||Zf(i.pathname,a)!=null}new TextEncoder;[...sz];const xz=({children:n})=>{const[e,t]=_.useState(null),[r,i]=_.useState("loading"),[a,l]=_.useState(null);_.useEffect(()=>{const S=YV(JV,async A=>{if(A){let b=A.displayName;const D=A.photoURL;if(!b||!D){const z=await r4();z&&(b=z.displayName)}t({uid:A.uid,email:A.email,displayName:b||"",photoURL:D||""}),i("authenticated")}else t(null),i("unauthenticated")});return()=>S()},[]);const I={isAuthenticated:r==="authenticated",isLoading:r==="loading",user:e,error:a,login:async(S,A)=>{l(null);try{await HV(S,A)}catch(b){const D=ji(b),z=new Error(D);throw l(z),z}},loginWithGoogle:async()=>{l(null);try{const S=await QV(),A=XV(S);if(!(A!=null&&A.isNewUser))return;await WE({email:S.user.email||"",displayName:S.user.displayName||""}),t({uid:S.user.uid,email:S.user.email,displayName:S.user.displayName||"",photoURL:S.user.photoURL||""})}catch(S){const A=ji(S),b=new Error(A);throw l(b),b}},signup:async(S,A,b)=>{l(null);try{const D=await WV(S,A);D.user&&(await WE({email:D.user.email||"",displayName:b}),t({uid:D.user.uid,email:D.user.email,displayName:b,photoURL:D.user.photoURL||""}))}catch(D){const z=ji(D),U=new Error(z);throw l(U),U}},logout:async()=>{l(null);try{await qV()}catch(S){const A=ji(S),b=new Error(A);throw l(b),b}},updateProfile:async S=>{l(null);try{const{displayName:A}=S;A&&await GV({displayName:A})}catch(A){const b=ji(A),D=new Error(b);throw l(D),D}},deleteProfile:async()=>{l(null);try{await KV()}catch(S){const A=ji(S),b=new Error(A);throw l(b),b}}};return E.jsx(tx.Provider,{value:I,children:n})},Iz="modulepreload",Sz=function(n){return"/grindmode/"+n},GT={},da=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(t.map(p=>{if(p=Sz(p),p in GT)return;GT[p]=!0;const y=p.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":Iz,y||(T.as="script"),T.crossOrigin="",T.href=p,f&&T.setAttribute("nonce",f),document.head.appendChild(T),y)return new Promise((I,S)=>{T.addEventListener("load",I),T.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},bz=()=>E.jsx("footer",{className:"py-4 text-center",children:E.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," GrindMode"]})}),Cz={theme:"light",setTheme:()=>null},VR=_.createContext(Cz),Az=()=>{const n=_.useContext(VR);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Rz=({onLogout:n})=>{const{user:e,isAuthenticated:t}=ua(),{theme:r,setTheme:i}=Az(),a=ca();return E.jsx("header",{className:"sticky top-0 z-30 flex h-16 items-center bg-white dark:bg-background border-b border-gray-200 dark:border-border px-4",children:E.jsx("div",{className:"ml-auto flex items-center space-x-2",children:t?E.jsx(E.Fragment,{children:E.jsxs(Z3,{children:[E.jsx(e5,{children:E.jsxs("div",{className:"flex items-center gap-2 rounded-full pl-1 cursor-pointer",children:[(e==null?void 0:e.photoURL)&&E.jsx(u9,{className:"h-8 w-8",children:E.jsx(c9,{src:e==null?void 0:e.photoURL,alt:"User Avatar"})}),E.jsx("span",{className:"hidden md:inline text-sm font-medium",children:e==null?void 0:e.displayName}),E.jsx(EU,{className:"h-4 w-4 opacity-50"})]})}),E.jsxs(t5,{align:"end",className:"w-56",children:[E.jsx(n5,{children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("p",{className:"text-sm font-medium",children:e==null?void 0:e.displayName}),E.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e==null?void 0:e.email})]})}),E.jsx(kT,{}),E.jsxs(eg,{onClick:()=>a("profile"),children:[E.jsx(qU,{className:"mr-2 h-4 w-4"}),E.jsx("span",{children:"Profile"})]}),E.jsx(eg,{onClick:()=>i(r==="dark"?"light":"dark"),children:E.jsxs("span",{className:"flex items-center gap-2",children:[r==="dark"?E.jsx($U,{className:"h-4 w-4 bg-gray-800 dark:bg-card rounded-full"}):E.jsx(VU,{className:"h-4 w-4 bg-gray-200 dark:bg-card rounded-full"}),E.jsx("span",{children:"Toggle Theme"})]})}),E.jsx(kT,{}),E.jsxs(eg,{onClick:n,children:[E.jsx(MU,{className:"mr-2 h-4 w-4"}),E.jsx("span",{children:"Log out"})]})]})]})}):E.jsxs(E.Fragment,{children:[E.jsx(Vn,{variant:"ghost",size:"sm",onClick:()=>a("/login"),className:"hidden md:inline-flex",children:"Log in"}),E.jsx(Vn,{size:"sm",onClick:()=>a("/signup"),children:"Sign up"})]})})})},Pz=({navItems:n,isCollapsed:e=!1})=>E.jsx("ul",{className:Ue("space-y-1",e?"px-2":"px-3"),children:n.map(t=>E.jsx("li",{className:"transform transition-all duration-200 ease-in-out",children:E.jsxs(MR,{to:t.path,className:({isActive:r})=>Ue("flex items-center rounded-md px-3 py-2 text-sm transition-all duration-300 ease-in-out",r?"bg-sidebar-accent text-sidebar-accent-foreground dark:bg-sidebar-accent dark:text-sidebar-accent-foreground":"hover:bg-accent/50 text-muted-foreground hover:text-foreground dark:hover:bg-sidebar-accent/30 dark:text-sidebar-foreground dark:hover:text-sidebar-foreground",e?"justify-center":"justify-start"),children:[E.jsx("div",{className:Ue("flex items-center transition-all duration-300 ease-in-out",e?"w-full justify-center":"mr-3"),children:E.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:t.icon})}),E.jsx("span",{className:Ue("whitespace-nowrap transition-all duration-300 ease-in-out",e?"w-0 opacity-0 overflow-hidden":"w-auto opacity-100"),children:t.label})]})},t.path))}),kz=()=>[{path:"/dashboard",label:"Dashboard",icon:E.jsx(NU,{className:"h-4 w-4"})},{path:"/workoutplanner",label:"Workout Planner",icon:E.jsx(yT,{className:"h-4 w-4"})},{path:"/workout",label:"Planned Workouts",icon:E.jsx(yT,{className:"h-4 w-4"})},{path:"/nutrition",label:"Nutrition",icon:E.jsx(KU,{className:"h-4 w-4"})},{path:"/progress",label:"Progress",icon:E.jsx(yU,{className:"h-4 w-4"})},{path:"/goals",label:"Goals",icon:E.jsx(zU,{className:"h-4 w-4"})}],Nz=({isCollapsed:n=!1,toggleSidebar:e})=>{const t=kz();return E.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-sidebar",children:[E.jsx("div",{className:Ue("flex h-16 items-center border-b dark:border-sidebar-border",n?"justify-center":"px-4"),children:n?E.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center",children:E.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}):E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"rounded-full bg-primary h-6 w-6 flex items-center justify-center",children:E.jsx("span",{className:"text-xs font-bold text-primary-foreground",children:"GM"})}),E.jsx("span",{className:"font-semibold text-lg dark:text-sidebar-foreground",children:"GrindMode"})]})}),E.jsx("nav",{className:"flex-1 overflow-y-auto py-6 no-scrollbar bg-white dark:bg-sidebar",children:E.jsx(Pz,{navItems:t,isCollapsed:n})}),E.jsx("div",{className:"flex items-center justify-center border-t dark:border-sidebar-border p-2 bg-white dark:bg-sidebar",children:E.jsx(Vn,{variant:"ghost",size:"icon",onClick:e,className:"w-full h-10 rounded-full hover:bg-accent/50 dark:hover:bg-sidebar-accent/50","aria-label":"Toggle sidebar",children:n?E.jsx(SU,{className:"h-5 w-5 dark:text-sidebar-foreground"}):E.jsx(xU,{className:"h-5 w-5 dark:text-sidebar-foreground"})})})]})},Dz=({isAuthenticated:n})=>n?E.jsx(Fv,{}):E.jsx(zu,{to:"/login"}),Oz=()=>{const{state:n,setSidebarOpen:e}=J6(),{logout:t}=ua(),r=ca(),i=n.ui.sidebarOpen,a=()=>{e(!i)},l=_.useCallback(async()=>{try{t&&await t(),r("/login")}catch(c){console.error("Logout failed:",c)}},[t,r]);return E.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-background",children:[E.jsx("div",{className:`${i?"w-64":"w-20"} transition-all duration-300 ease-in-out bg-white dark:bg-sidebar shadow-lg`,children:E.jsx(Nz,{isCollapsed:!i,toggleSidebar:a})}),E.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[E.jsx(Rz,{onLogout:l}),E.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 dark:bg-background",children:E.jsx("div",{className:"container mx-auto",children:E.jsx(Fv,{})})})]})]})};function Mz(){return E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-foreground p-4",children:[E.jsxs("header",{className:"text-center mb-12",children:[E.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Welcome to Grind Mode"}),E.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Your ultimate companion for tracking fitness and diet, helping you stay motivated and achieve your health goals. Log workouts, monitor nutrition, and see your progress all in one place."})]}),E.jsxs("main",{className:"text-center",children:[E.jsxs("section",{className:"mb-12",children:[E.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"What Grind Mode Offers"}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[E.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-md",children:[E.jsx("h3",{className:"text-2xl font-semibold mb-2 text-card-foreground",children:"Fitness Tracking"}),E.jsx("p",{className:"text-muted-foreground",children:"Log your workouts with ease. Track sets, reps and weight for various exercises."})]}),E.jsxs("div",{className:"p-6 bg-card rounded-lg shadow-md",children:[E.jsx("h3",{className:"text-2xl font-semibold mb-2 text-card-foreground",children:"Diet Logging"}),E.jsx("p",{className:"text-muted-foreground",children:"Keep a detailed record of your meals and nutritional intake. Understand your calorie consumption and macronutrient breakdown."})]})]})]}),E.jsx(Ul,{to:"/login",children:E.jsx(Vn,{size:"lg",className:"text-lg px-8 py-4",children:"Get Started"})})]})]})}const Lz=()=>E.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 dark:from-background dark:to-card",children:[E.jsx("header",{className:"w-full py-6 px-4",children:E.jsxs("div",{className:"container mx-auto flex justify-center",children:[E.jsx("div",{className:"rounded-full bg-primary h-8 w-8 flex items-center justify-center mr-2",children:E.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"GM"})}),E.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-foreground",children:"Grind Mode"})]})}),E.jsx("main",{className:"flex flex-grow items-center justify-center px-4 py-8",children:E.jsx("div",{className:"w-full max-w-md",children:E.jsx(Fv,{})})}),E.jsx(bz,{})]}),il=({label:n,id:e,name:t,type:r,autoComplete:i,value:a,onChange:l,className:c})=>E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsx(q4,{htmlFor:e,children:n})}),E.jsx(XC,{id:e,name:t,type:r,autoComplete:i,value:a,onChange:l,className:`w-full ${c??""}`})]}),FR=({text:n,onClick:e,isLoading:t})=>E.jsxs(Vn,{type:"button",variant:"outline",onClick:e,disabled:t,className:"w-full mt-2",children:[E.jsx("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:E.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[E.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),E.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),E.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),E.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),n]}),Vz=({onSignup:n,onGoogleSignIn:e,isLoading:t,error:r})=>{const[i,a]=de.useState({email:"",password:"",confirmPassword:"",displayName:""}),[l,c]=de.useState(!0),f=y=>{const{name:g,value:T}=y.target;a(I=>({...I,[g]:T})),(g==="password"||g==="confirmPassword")&&c(g==="confirmPassword"?i.password===T:T===i.confirmPassword)},p=async y=>{if(y.preventDefault(),i.password!==i.confirmPassword){c(!1);return}await n(i)};return E.jsxs(Gs,{className:"w-full max-w-md mx-auto",children:[E.jsx(Ks,{children:E.jsx(Dl,{className:"text-2xl text-center font-bold",children:"Sign up"})}),E.jsx(Ys,{children:E.jsxs("form",{onSubmit:p,className:"space-y-4",children:[E.jsx(il,{label:"Full Name",id:"displayName",name:"displayName",type:"text",autoComplete:"name",value:i.displayName,onChange:f,required:!0}),E.jsx(il,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:i.email,onChange:f,required:!0}),E.jsx(il,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"new-password",value:i.password,onChange:f}),E.jsx(il,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",value:i.confirmPassword,onChange:f,className:` ${!l&&i.confirmPassword?"border-destructive":""}`,autoComplete:"new-password"}),!l&&i.confirmPassword&&E.jsx("p",{className:"text-xs text-destructive mt-1",children:"Passwords don't match"}),r&&E.jsx("p",{className:"text-sm text-destructive",children:r}),E.jsx(Vn,{type:"submit",className:"w-full",disabled:t||!l,children:t?E.jsxs(E.Fragment,{children:[E.jsx(Lh,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})}),E.jsx(gc,{children:E.jsx(FR,{text:"Continue with Google",onClick:e,isLoading:t})})]})},Fz=({onLogin:n,isLoading:e,onGoogleSignIn:t})=>{const[r,i]=_.useState({email:"",password:""}),a=c=>{const{name:f,value:p}=c.target;i(y=>({...y,[f]:p}))},l=async c=>{c.preventDefault(),n(r)};return E.jsxs(Gs,{className:"w-full max-w-md mx-auto",children:[E.jsx(Ks,{children:E.jsx(Dl,{className:"text-2xl text-center font-bold",children:"Login"})}),E.jsx(Ys,{children:E.jsxs("form",{onSubmit:l,className:"space-y-4",children:[E.jsx(il,{label:"Email",id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:a,required:!0}),E.jsx(il,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"current-password",value:r.password,onChange:a,required:!0}),E.jsx(Vn,{type:"submit",className:"w-full",disabled:e,children:e?E.jsxs(E.Fragment,{children:[E.jsx(Lh,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})}),t&&E.jsx(gc,{children:E.jsx(FR,{onClick:t,isLoading:e,text:"Continue with Google"})})]})},jz=()=>{const[n,e]=de.useState(null),[t,r]=de.useState(!1),{isAuthenticated:i,login:a,loginWithGoogle:l}=ua();if(i)return E.jsx(zu,{to:"/"});const c=async()=>{e(null),r(!0);try{if(!l)throw new Error("Google Sign-In function is not available");await l()}catch(p){e(ji(p))}finally{r(!1)}},f=async p=>{e(null),r(!0);try{if(!a)throw new Error("Login function is not available");await a(p.email,p.password)}catch(y){e(ji(y))}finally{r(!1)}};return E.jsxs(Gs,{children:[E.jsxs(Ks,{className:"space-y-1",children:[E.jsx(Dl,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),E.jsx(Ah,{className:"text-center",children:"Log in to continue your fitness journey"})]}),E.jsxs(Ys,{children:[n&&E.jsxs(tC,{variant:"destructive",className:"mb-4",children:[E.jsx(eC,{className:"h-4 w-4"}),E.jsx(nC,{children:n})]}),E.jsx(Fz,{onGoogleSignIn:c,onLogin:f,isLoading:t})]}),E.jsx(gc,{className:"flex justify-center",children:E.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dont have an account?"," ",E.jsx(Ul,{to:"/signup",className:"font-medium text-primary hover:underline",children:"Sign up"})]})})]})},Uz=()=>{const[n,e]=_.useState(!1),[t,r]=_.useState(null),i=ca(),{signup:a,loginWithGoogle:l}=ua(),c=async p=>{const{email:y,password:g,displayName:T}=p;e(!0),r(null);try{a(y,g,T),i("/dashboard")}catch(I){let S="Failed to create account. Please try again.";I instanceof Error&&(I.message.includes("email-already-in-use")?S="This email is already registered. Please use another email or login.":I.message.includes("weak-password")?S="Password should be at least 6 characters long.":I.message.includes("invalid-email")&&(S="Please enter a valid email address.")),r(S)}finally{e(!1)}},f=async()=>{e(!0),r(null);try{l(),i("/dashboard")}catch(p){r("Google sign-in failed. Please try again."),console.error("Google sign-in error:",p)}finally{e(!1)}};return E.jsxs(Gs,{children:[E.jsxs(Ks,{className:"space-y-1",children:[E.jsx(Dl,{className:"text-2xl font-bold text-center",children:"Create your account"}),E.jsx(Ah,{className:"text-center",children:"Join GrindMode to track your fitness journey"})]}),E.jsxs(Ys,{children:[t&&E.jsxs(tC,{variant:"destructive",className:"mb-4",children:[E.jsx(eC,{className:"h-4 w-4"}),E.jsx(nC,{children:t})]}),E.jsx(Vz,{onSignup:c,isLoading:n,error:t,onGoogleSignIn:f})]}),E.jsx(gc,{className:"flex justify-center",children:E.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",E.jsx(Ul,{to:"/login",className:"font-medium text-primary hover:underline",children:"Log in"})]})})]})},KT=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground",children:[E.jsx(Lh,{className:"animate-spin h-12 w-12 text-primary mb-4"}),E.jsx("p",{className:"text-xl font-semibold",children:"Loading..."}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait a moment."})]}),$z=()=>{const n=si();return E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-foreground p-4 text-center",children:[E.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),E.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),E.jsxs("p",{className:"text-muted-foreground mb-6",children:["Sorry, the page you are looking for at"," ",E.jsx("code",{className:"bg-muted p-1 rounded-sm text-sm",children:n.pathname})," ","does not exist."]}),E.jsx(Vn,{asChild:!0,children:E.jsxs(Ul,{to:"/",children:[E.jsx(PU,{className:"mr-2 h-4 w-4"}),"Go to Homepage"]})})]})};class jR{constructor(e){Y_(this,"collectionName");this.collectionName=e}async add(e,t=!0){if(!e)throw new Error(`Invalid data for ${this.collectionName}`);const r=Lr(),i=Hd(Mr,"users",r,this.collectionName),a=t?{date:et.now(),createdAt:et.now(),updatedAt:et.now()}:{};return(await jV(i,{...e,...a})).id}async getAll(e){const t=Lr();if(!t)throw new Error("User not authenticated");const r=Hd(Mr,"users",t,this.collectionName),i=e?qd(r,Gd("date","desc"),$E(e)):qd(r,Gd("date","desc"));return(await Fm(i)).docs.map(l=>({id:l.id,...l.data()}))}async getById(e){if(!e)throw new Error(`Invalid ID for fetching ${this.collectionName}`);try{const t=Lr();if(!t)throw new Error("User not authenticated");const r=Ki(Mr,"users",t,this.collectionName,e),i=await Qy(r);return i.exists()?{id:i.id,...i.data()}:null}catch(t){return console.error(`Error fetching ${this.collectionName} document ${e}:`,t),null}}async update(e,t){if(!e||!t)throw new Error(`Invalid parameters for update ${this.collectionName}`);const r=Lr(),i=Ki(Mr,"users",r,this.collectionName,e);return await eb(i,{...t,updatedAt:et.now()}),!0}async delete(e){if(!e)throw new Error(`Invalid ID for delete ${this.collectionName}`);const t=Lr(),r=Ki(Mr,"users",t,this.collectionName,e);return await tb(r),!0}async getByDateRange(e,t,r="date"){if(!e||!t)throw new Error(`Invalid date parameters for ${this.collectionName} date range query`);const i=Lr(),a=Hd(Mr,"users",i,this.collectionName),l=qd(a,Vm(r,">=",et.fromDate(e)),Vm(r,"<=",et.fromDate(t)),Gd(r,"desc"));return(await Fm(l)).docs.map(f=>({id:f.id,...f.data()}))}async getByDate(e,t="date"){const r=new Date(e);r.setHours(0,0,0,0);const i=new Date(e);return i.setHours(23,59,59,999),this.getByDateRange(r,i,t)}async query(e=[],t="date",r="desc",i){const a=Lr(),l=Hd(Mr,"users",a,this.collectionName),c=[...e.map(y=>Vm(y.field,y.operator,y.value)),Gd(t,r)];i&&c.push($E(i));const f=qd(l,...c);return(await Fm(f)).docs.map(y=>({id:y.id,...y.data()}))}}const $v=new jR("plannedWorkouts"),qW=async n=>{try{return await $v.add(n),!0}catch(e){return console.error("Error adding workout:",e),!1}},UR=async()=>{try{return await $v.getAll()}catch(n){return console.error("Error fetching workouts:",n),[]}},GW=async n=>{try{return await $v.delete(n),!0}catch(e){return console.error("Error deleting workout:",e),!1}};var Bv=(n=>(n.PLANNED="planned",n.ACTIVE="active",n.COMPLETED="completed",n))(Bv||{});const ta=new jR("activeWorkouts"),Bz=async(n,e)=>{try{const t=n.exercises.map(a=>{const l=Array(a.sets||1).fill(null).map(()=>({weight:a.weight||0,reps:a.reps||0,isCompleted:!1}));return{exerciseId:a.exerciseId,name:a.name,sets:l}}),r={originalWorkoutId:n.id,name:n.name,exercises:t,status:Bv.ACTIVE,startTime:et.now(),userId:e},i=await ta.add(r);return{...r,id:i}}catch(t){throw console.error("Error starting workout:",t),t}},KW=async(n,e)=>{try{await ta.update(n,{...e,updatedAt:et.now()})}catch(t){throw console.error("Error updating workout:",t),t}},YW=async n=>{try{const e=await ta.getById(n);if(!e)throw new Error("Workout not found");const t=et.now();let r=0;e.startTime&&(r=t.seconds-e.startTime.seconds);const i={status:Bv.COMPLETED,endTime:t,duration:r,updatedAt:et.now()};return await ta.update(n,i),{...e,...i}}catch(e){throw console.error("Error completing workout:",e),e}},QW=async n=>{try{if(n){const e=[{field:"status",operator:"==",value:n}];return await ta.query(e)}return await ta.getAll()}catch(e){throw console.error("Error getting user workouts:",e),e}},XW=async n=>{try{return await ta.getById(n)}catch(e){throw console.error("Error getting active workout:",e),e}};function zz(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const Wz=n=>{switch(n){case"success":return Gz;case"info":return Yz;case"warning":return Kz;case"error":return Qz;default:return null}},Hz=Array(12).fill(0),qz=({visible:n,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},de.createElement("div",{className:"sonner-spinner"},Hz.map((t,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Gz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Kz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Yz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Qz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Jz=()=>{const[n,e]=de.useState(document.hidden);return de.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Qg=1;class Zz{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Qg++,l=this.toasts.find(f=>f.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:c,title:r}):f):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const c=i.then(async p=>{if(l=["resolve",p],de.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(tW(p)&&!p.ok){a=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,T=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,S=typeof g=="object"&&!de.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:T,...S})}else if(p instanceof Error){a=!1;const g=typeof t.error=="function"?await t.error(p):t.error,T=typeof t.description=="function"?await t.description(p):t.description,S=typeof g=="object"&&!de.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:T,...S})}else if(t.success!==void 0){a=!1;const g=typeof t.success=="function"?await t.success(p):t.success,T=typeof t.description=="function"?await t.description(p):t.description,S=typeof g=="object"&&!de.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:T,...S})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){a=!1;const y=typeof t.error=="function"?await t.error(p):t.error,g=typeof t.description=="function"?await t.description(p):t.description,I=typeof y=="object"&&!de.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:g,...I})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),f=()=>new Promise((p,y)=>c.then(()=>l[0]==="reject"?y(l[1]):p(l[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||Qg++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const On=new Zz,eW=(n,e)=>{const t=(e==null?void 0:e.id)||Qg++;return On.addToast({title:n,...e,id:t}),t},tW=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",nW=eW,rW=()=>On.toasts,oW=()=>On.getActiveToasts(),YT=Object.assign(nW,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:rW,getToasts:oW});zz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function of(n){return n.label!==void 0}const iW=3,sW="24px",aW="16px",QT=4e3,lW=356,uW=14,cW=45,dW=200;function fo(...n){return n.filter(Boolean).join(" ")}function fW(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const hW=n=>{var e,t,r,i,a,l,c,f,p;const{invert:y,toast:g,unstyled:T,interacting:I,setHeights:S,visibleToasts:A,heights:b,index:D,toasts:z,expanded:U,removeToast:q,defaultRichColors:J,closeButton:ee,style:k,cancelButtonStyle:R,actionButtonStyle:N,className:M="",descriptionClassName:F="",duration:B,position:O,gap:Re,expandByDefault:Se,classNames:fe,icons:ge,closeButtonAriaLabel:H="Close toast"}=n,[te,re]=de.useState(null),[j,V]=de.useState(null),[X,se]=de.useState(!1),[ie,ue]=de.useState(!1),[he,Ce]=de.useState(!1),[_e,$e]=de.useState(!1),[$t,Gt]=de.useState(!1),[tn,En]=de.useState(0),[Jr,Zr]=de.useState(0),Un=de.useRef(g.duration||B||QT),Io=de.useRef(null),It=de.useRef(null),vr=D===0,wr=D+1<=A,Dt=g.type,$n=g.dismissible!==!1,ai=g.className||"",cs=g.descriptionClassName||"",dt=de.useMemo(()=>b.findIndex(De=>De.toastId===g.id)||0,[b,g.id]),St=de.useMemo(()=>{var De;return(De=g.closeButton)!=null?De:ee},[g.closeButton,ee]),tr=de.useMemo(()=>g.duration||B||QT,[g.duration,B]),So=de.useRef(0),fn=de.useRef(0),eo=de.useRef(0),Tn=de.useRef(null),[ds,fs]=O.split("-"),li=de.useMemo(()=>b.reduce((De,ft,ht)=>ht>=dt?De:De+ft.height,0),[b,dt]),ui=Jz(),hs=g.invert||y,_r=Dt==="loading";fn.current=de.useMemo(()=>dt*Re+li,[dt,li]),de.useEffect(()=>{Un.current=tr},[tr]),de.useEffect(()=>{se(!0)},[]),de.useEffect(()=>{const De=It.current;if(De){const ft=De.getBoundingClientRect().height;return Zr(ft),S(ht=>[{toastId:g.id,height:ft,position:g.position},...ht]),()=>S(ht=>ht.filter(Ot=>Ot.toastId!==g.id))}},[S,g.id]),de.useLayoutEffect(()=>{if(!X)return;const De=It.current,ft=De.style.height;De.style.height="auto";const ht=De.getBoundingClientRect().height;De.style.height=ft,Zr(ht),S(Ot=>Ot.find(yt=>yt.toastId===g.id)?Ot.map(yt=>yt.toastId===g.id?{...yt,height:ht}:yt):[{toastId:g.id,height:ht,position:g.position},...Ot])},[X,g.title,g.description,S,g.id]);const hn=de.useCallback(()=>{ue(!0),En(fn.current),S(De=>De.filter(ft=>ft.toastId!==g.id)),setTimeout(()=>{q(g)},dW)},[g,q,S,fn]);de.useEffect(()=>{if(g.promise&&Dt==="loading"||g.duration===1/0||g.type==="loading")return;let De;return U||I||ui?(()=>{if(eo.current<So.current){const Ot=new Date().getTime()-So.current;Un.current=Un.current-Ot}eo.current=new Date().getTime()})():(()=>{Un.current!==1/0&&(So.current=new Date().getTime(),De=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),hn()},Un.current))})(),()=>clearTimeout(De)},[U,I,g,Dt,ui,hn]),de.useEffect(()=>{g.delete&&hn()},[hn,g.delete]);function ci(){var De;if(ge!=null&&ge.loading){var ft;return de.createElement("div",{className:fo(fe==null?void 0:fe.loader,g==null||(ft=g.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":Dt==="loading"},ge.loading)}return de.createElement(qz,{className:fo(fe==null?void 0:fe.loader,g==null||(De=g.classNames)==null?void 0:De.loader),visible:Dt==="loading"})}const xn=g.icon||(ge==null?void 0:ge[Dt])||Wz(Dt);var Bn,bo;return de.createElement("li",{tabIndex:0,ref:It,className:fo(M,ai,fe==null?void 0:fe.toast,g==null||(e=g.classNames)==null?void 0:e.toast,fe==null?void 0:fe.default,fe==null?void 0:fe[Dt],g==null||(t=g.classNames)==null?void 0:t[Dt]),"data-sonner-toast":"","data-rich-colors":(Bn=g.richColors)!=null?Bn:J,"data-styled":!(g.jsx||g.unstyled||T),"data-mounted":X,"data-promise":!!g.promise,"data-swiped":$t,"data-removed":ie,"data-visible":wr,"data-y-position":ds,"data-x-position":fs,"data-index":D,"data-front":vr,"data-swiping":he,"data-dismissible":$n,"data-type":Dt,"data-invert":hs,"data-swipe-out":_e,"data-swipe-direction":j,"data-expanded":!!(U||Se&&X),style:{"--index":D,"--toasts-before":D,"--z-index":z.length-D,"--offset":`${ie?tn:fn.current}px`,"--initial-height":Se?"auto":`${Jr}px`,...k,...g.style},onDragEnd:()=>{Ce(!1),re(null),Tn.current=null},onPointerDown:De=>{_r||!$n||(Io.current=new Date,En(fn.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(Ce(!0),Tn.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,ft,ht;if(_e||!$n)return;Tn.current=null;const Ot=Number(((De=It.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),In=Number(((ft=It.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yt=new Date().getTime()-((ht=Io.current)==null?void 0:ht.getTime()),Ke=te==="x"?Ot:In,Er=Math.abs(Ke)/yt;if(Math.abs(Ke)>=cW||Er>.11){En(fn.current),g.onDismiss==null||g.onDismiss.call(g,g),V(te==="x"?Ot>0?"right":"left":In>0?"down":"up"),hn(),$e(!0);return}else{var vt,Mt;(vt=It.current)==null||vt.style.setProperty("--swipe-amount-x","0px"),(Mt=It.current)==null||Mt.style.setProperty("--swipe-amount-y","0px")}Gt(!1),Ce(!1),re(null)},onPointerMove:De=>{var ft,ht,Ot;if(!Tn.current||!$n||((ft=window.getSelection())==null?void 0:ft.toString().length)>0)return;const yt=De.clientY-Tn.current.y,Ke=De.clientX-Tn.current.x;var Er;const vt=(Er=n.swipeDirections)!=null?Er:fW(O);!te&&(Math.abs(Ke)>1||Math.abs(yt)>1)&&re(Math.abs(Ke)>Math.abs(yt)?"x":"y");let Mt={x:0,y:0};const to=Sn=>1/(1.5+Math.abs(Sn)/20);if(te==="y"){if(vt.includes("top")||vt.includes("bottom"))if(vt.includes("top")&&yt<0||vt.includes("bottom")&&yt>0)Mt.y=yt;else{const Sn=yt*to(yt);Mt.y=Math.abs(Sn)<Math.abs(yt)?Sn:yt}}else if(te==="x"&&(vt.includes("left")||vt.includes("right")))if(vt.includes("left")&&Ke<0||vt.includes("right")&&Ke>0)Mt.x=Ke;else{const Sn=Ke*to(Ke);Mt.x=Math.abs(Sn)<Math.abs(Ke)?Sn:Ke}(Math.abs(Mt.x)>0||Math.abs(Mt.y)>0)&&Gt(!0),(ht=It.current)==null||ht.style.setProperty("--swipe-amount-x",`${Mt.x}px`),(Ot=It.current)==null||Ot.style.setProperty("--swipe-amount-y",`${Mt.y}px`)}},St&&!g.jsx&&Dt!=="loading"?de.createElement("button",{"aria-label":H,"data-disabled":_r,"data-close-button":!0,onClick:_r||!$n?()=>{}:()=>{hn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:fo(fe==null?void 0:fe.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(bo=ge==null?void 0:ge.close)!=null?bo:Xz):null,(Dt||g.icon||g.promise)&&g.icon!==null&&((ge==null?void 0:ge[Dt])!==null||g.icon)?de.createElement("div",{"data-icon":"",className:fo(fe==null?void 0:fe.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ci():null,g.type!=="loading"?xn:null):null,de.createElement("div",{"data-content":"",className:fo(fe==null?void 0:fe.content,g==null||(a=g.classNames)==null?void 0:a.content)},de.createElement("div",{"data-title":"",className:fo(fe==null?void 0:fe.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?de.createElement("div",{"data-description":"",className:fo(F,cs,fe==null?void 0:fe.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),de.isValidElement(g.cancel)?g.cancel:g.cancel&&of(g.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:De=>{of(g.cancel)&&$n&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,De),hn())},className:fo(fe==null?void 0:fe.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,de.isValidElement(g.action)?g.action:g.action&&of(g.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||N,onClick:De=>{of(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,De),!De.defaultPrevented&&hn())},className:fo(fe==null?void 0:fe.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function XT(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function pW(n,e){const t={};return[n,e].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",c=a?aW:sW;function f(p){["top","right","bottom","left"].forEach(y=>{t[`${l}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=c:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):f(c)}),t}const mW=de.forwardRef(function(e,t){const{invert:r,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:c,className:f,offset:p,mobileOffset:y,theme:g="light",richColors:T,duration:I,style:S,visibleToasts:A=iW,toastOptions:b,dir:D=XT(),gap:z=uW,icons:U,containerAriaLabel:q="Notifications"}=e,[J,ee]=de.useState([]),k=de.useMemo(()=>Array.from(new Set([i].concat(J.filter(j=>j.position).map(j=>j.position)))),[J,i]),[R,N]=de.useState([]),[M,F]=de.useState(!1),[B,O]=de.useState(!1),[Re,Se]=de.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),fe=de.useRef(null),ge=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=de.useRef(null),te=de.useRef(!1),re=de.useCallback(j=>{ee(V=>{var X;return(X=V.find(se=>se.id===j.id))!=null&&X.delete||On.dismiss(j.id),V.filter(({id:se})=>se!==j.id)})},[]);return de.useEffect(()=>On.subscribe(j=>{if(j.dismiss){requestAnimationFrame(()=>{ee(V=>V.map(X=>X.id===j.id?{...X,delete:!0}:X))});return}setTimeout(()=>{Zy.flushSync(()=>{ee(V=>{const X=V.findIndex(se=>se.id===j.id);return X!==-1?[...V.slice(0,X),{...V[X],...j},...V.slice(X+1)]:[j,...V]})})})}),[J]),de.useEffect(()=>{if(g!=="system"){Se(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Se("dark"):Se("light")),typeof window>"u")return;const j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:V})=>{Se(V?"dark":"light")})}catch{j.addListener(({matches:X})=>{try{Se(X?"dark":"light")}catch(se){console.error(se)}})}},[g]),de.useEffect(()=>{J.length<=1&&F(!1)},[J]),de.useEffect(()=>{const j=V=>{var X;if(a.every(ue=>V[ue]||V.code===ue)){var ie;F(!0),(ie=fe.current)==null||ie.focus()}V.code==="Escape"&&(document.activeElement===fe.current||(X=fe.current)!=null&&X.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[a]),de.useEffect(()=>{if(fe.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,te.current=!1)}},[fe.current]),de.createElement("section",{ref:t,"aria-label":`${q} ${ge}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((j,V)=>{var X;const[se,ie]=j.split("-");return J.length?de.createElement("ol",{key:j,dir:D==="auto"?XT():D,tabIndex:-1,ref:fe,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Re,"data-y-position":se,"data-lifted":M&&J.length>1&&!l,"data-x-position":ie,style:{"--front-toast-height":`${((X=R[0])==null?void 0:X.height)||0}px`,"--width":`${lW}px`,"--gap":`${z}px`,...S,...pW(p,y)},onBlur:ue=>{te.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(te.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||te.current||(te.current=!0,H.current=ue.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{B||F(!1)},onDragEnd:()=>F(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},J.filter(ue=>!ue.position&&V===0||ue.position===j).map((ue,he)=>{var Ce,_e;return de.createElement(hW,{key:ue.id,icons:U,index:he,toast:ue,defaultRichColors:T,duration:(Ce=b==null?void 0:b.duration)!=null?Ce:I,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:r,visibleToasts:A,closeButton:(_e=b==null?void 0:b.closeButton)!=null?_e:c,interacting:B,position:j,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:re,toasts:J.filter($e=>$e.position==ue.position),heights:R.filter($e=>$e.position==ue.position),setHeights:N,expandByDefault:l,gap:z,expanded:M,swipeDirections:e.swipeDirections})})):null}))}),gW=()=>{const[n,e]=_.useState(!1),{user:t}=ua(),r=ca();return{startWorkoutFromPlan:_.useCallback(async(a,l)=>{if(!t){console.error("User not authenticated");return}e(!0);try{const f=(await UR()).find(g=>g.id===l);if(!f){console.error("Workout plan not found");return}const p=f.workouts.find(g=>g.id===a);if(!p){console.error("Workout not found in the plan");return}const y=await Bz(p,t.uid);YT.success(`Started workout: ${y.name}`),r(`/workout/active/${y.id}`)}catch(c){console.error("Error starting workout:",c),YT.error("Failed to start workout")}finally{e(!1)}},[t,r]),loading:n}},yW=({workoutId:n,plannedWorkoutsId:e,...t})=>{const{loading:r,startWorkoutFromPlan:i}=gW(),a=async()=>{await i(n,e)};return E.jsxs(Vn,{onClick:a,disabled:r,...t,children:[r?E.jsx(Lh,{className:"h-4 w-4 animate-spin mr-2"}):E.jsx(CU,{className:"h-4 w-4 mr-2"}),"Start Workout"]})},vW=()=>{const[n,e]=_.useState([]),[t,r]=_.useState(!0),[i,a]=_.useState(null),l=ca(),[c,f]=_.useState(!1),[p,y]=_.useState(null),[g,T]=_.useState(null);_.useEffect(()=>{(async()=>{try{r(!0);const D=await UR();e(D)}catch(D){a("Failed to fetch planned workouts. Please try again."),console.error("Error fetching planned workouts:",D)}finally{r(!1)}})()},[]);const I=b=>{y(b),f(!0)},S=b=>{T(b)},A=()=>{f(!1),T(null)};return E.jsxs("div",{className:"container mx-auto py-8 px-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold",children:"Planned Workouts"}),E.jsx(Vn,{onClick:()=>l("/workoutplanner"),children:"Create New Workout"})]}),t&&E.jsx("div",{className:"space-y-4",children:[...Array(3)].map((b,D)=>E.jsxs(Gs,{className:"w-full",children:[E.jsxs(Ks,{children:[E.jsx(nf,{className:"h-8 w-1/3"}),E.jsx(nf,{className:"h-4 w-1/4"})]}),E.jsxs(Ys,{children:[E.jsx(nf,{className:"h-4 w-full mb-2"}),E.jsx(nf,{className:"h-4 w-2/3"})]})]},D))}),i&&E.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:E.jsx("span",{className:"block sm:inline",children:i})}),!t&&!i&&n.length===0&&E.jsxs("div",{className:"text-center py-12",children:[E.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"No Planned Workouts"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't created any workout plans yet."}),E.jsx(Vn,{onClick:()=>l("/workoutplanner"),children:"Create Your First Workout Plan"})]}),!t&&n.length>0&&E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(b=>E.jsxs(Gs,{className:"w-full",children:[E.jsxs(Ks,{children:[E.jsx(Dl,{children:b.name}),E.jsxs(Ah,{className:"flex items-center gap-1",children:[E.jsx(mU,{className:"h-4 w-4"}),b.createdAt?g$(b.createdAt.toDate(),"PPP"):"Date unknown"]})]}),E.jsxs(Ys,{children:[b.workouts&&b.workouts.length>0&&E.jsxs("div",{className:"mb-4",children:[E.jsx("p",{className:"text-sm font-medium mb-2",children:"Workouts:"}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.workouts.slice(0,3).map((D,z)=>E.jsx(xT,{variant:"secondary",children:D.name},z)),b.workouts.length>3&&E.jsxs(xT,{variant:"outline",children:["+",b.workouts.length-3," more"]})]})]}),E.jsx("div",{className:"flex gap-2 mt-4",children:E.jsx(Vn,{onClick:()=>I(b),className:"flex-1",children:"Start workout"})})]})]},b.id))}),E.jsx(s6,{open:c,onOpenChange:f,children:E.jsxs(DA,{className:"sm:max-w-[425px]",children:[E.jsxs(OA,{children:[E.jsx(MA,{children:"Select a Workout"}),E.jsxs(LA,{children:["Choose which workout you would like to start from"," ",(p==null?void 0:p.name)||"this plan","."]})]}),E.jsx("div",{className:"py-4",children:E.jsxs(u6,{children:[E.jsx(c6,{placeholder:"Search workouts..."}),E.jsxs(d6,{children:[E.jsx(f6,{children:"No workouts found."}),E.jsx(h6,{children:p==null?void 0:p.workouts.map(b=>E.jsxs(p6,{value:b.name,onSelect:()=>S(b),className:"flex items-center justify-between cursor-pointer",children:[E.jsxs("div",{children:[E.jsx("p",{children:b.name}),b.exercises&&E.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.exercises.length," exercise",b.exercises.length!==1?"s":""]})]}),(g==null?void 0:g.id)===b.id&&E.jsx(wU,{className:"h-4 w-4"})]},b.id))})]})]})}),E.jsxs("div",{className:"flex justify-end gap-3",children:[E.jsx(Vn,{variant:"outline",onClick:A,children:"Cancel"}),E.jsx(yW,{workoutId:(g==null?void 0:g.id)||"",plannedWorkoutsId:(p==null?void 0:p.id)||"",disabled:!g,children:"Start Workout"})]})]})})]})},wW=_.lazy(()=>da(()=>import("./Dashboard-AxH-IBpf.js"),__vite__mapDeps([0,1,2])).then(n=>({default:n.Dashboard}))),_W=_.lazy(()=>da(()=>import("./Nutrition-B29o8Uz-.js"),__vite__mapDeps([3,4,5,1,6,2])).then(n=>({default:n.Nutrition}))),EW=_.lazy(()=>da(()=>import("./index-CN3GQh-F.js"),__vite__mapDeps([7,6,2])).then(n=>({default:n.WorkoutPlanner}))),TW=_.lazy(()=>da(()=>import("./index-DHlXkcu-.js"),__vite__mapDeps([8,4,5])).then(n=>({default:n.Profile}))),xW=_.lazy(()=>da(()=>import("./ActiveWorkout-BQFqnrs-.js"),__vite__mapDeps([9,10,5,2])).then(n=>({default:n.ActiveWorkoutPage}))),IW=_.lazy(()=>da(()=>import("./WorkoutSummary-PyoUozjv.js"),__vite__mapDeps([11,10,12])).then(n=>({default:n.WorkoutSummaryPage}))),SW=_.lazy(()=>da(()=>import("./WorkoutHistory-UPIOJ6W6.js"),__vite__mapDeps([13,12])).then(n=>({default:n.WorkoutHistoryPage}))),bW=()=>{const{isAuthenticated:n,isLoading:e}=ua();return e?E.jsx(KT,{}):E.jsx(_.Suspense,{fallback:E.jsx(KT,{}),children:E.jsxs(WB,{children:[E.jsx(ln,{path:"/",element:n?E.jsx(zu,{to:"/dashboard"}):E.jsx(Mz,{})}),E.jsxs(ln,{element:E.jsx(Lz,{}),children:[E.jsx(ln,{path:"/login",element:n?E.jsx(zu,{to:"/dashboard"}):E.jsx(jz,{})}),E.jsx(ln,{path:"/signup",element:n?E.jsx(zu,{to:"/dashboard"}):E.jsx(Uz,{})})]},"auth-layout"),E.jsx(ln,{element:E.jsx(Dz,{isAuthenticated:n}),children:E.jsxs(ln,{element:E.jsx(Oz,{}),children:[E.jsx(ln,{path:"/dashboard",element:E.jsx(wW,{})}),E.jsx(ln,{path:"/nutrition",element:E.jsx(_W,{})}),E.jsx(ln,{path:"/workoutplanner",element:E.jsx(EW,{})}),E.jsx(ln,{path:"/workout",element:E.jsx(vW,{})}),E.jsx(ln,{path:"/profile",element:E.jsx(TW,{})}),E.jsx(ln,{path:"/workouts",element:E.jsx(SW,{})}),E.jsx(ln,{path:"/workout/active/:workoutId",element:E.jsx(xW,{})}),E.jsx(ln,{path:"/workout/summary/:workoutId",element:E.jsx(IW,{})})]})}),E.jsx(ln,{path:"*",element:E.jsx($z,{})})]})})},CW=({children:n})=>{const[e,t]=_.useState(()=>{const I=localStorage.getItem("appState");if(I)try{return JSON.parse(I)}catch(S){console.error("Failed to parse saved app state",S)}return wf}),{user:r}=ua();_.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(e))},[e]),_.useEffect(()=>{r||t(I=>({...I,ui:wf.ui,dashboardData:wf.dashboardData}))},[r]);const T={state:e,setTheme:I=>{t(S=>({...S,userPreferences:{...S.userPreferences,theme:I}}))},setSidebarOpen:I=>{t(S=>({...S,ui:{...S.ui,sidebarOpen:I}}))},setHeightUnit:I=>{t(S=>({...S,userPreferences:{...S.userPreferences,heightUnit:I}}))},setWeightUnit:I=>{t(S=>({...S,userPreferences:{...S.userPreferences,weightUnit:I}}))},setDateFormat:I=>{t(S=>({...S,userPreferences:{...S.userPreferences,dateFormat:I}}))},markDashboardNeedsRefresh:()=>{t(I=>({...I,dashboardData:{...I.dashboardData,needsRefresh:!0}}))},resetDashboardRefreshState:()=>{t(I=>({...I,dashboardData:{needsRefresh:!1,lastUpdated:new Date}}))},setWorkoutDaysPerWeek:I=>{t(S=>({...S,userPreferences:{...S.userPreferences,workoutDaysPerWeek:I}}))}};return E.jsx(ER.Provider,{value:T,children:n})};function AW({children:n,defaultTheme:e="light",storageKey:t="appState",...r}){const[i,a]=_.useState(()=>{var c;try{const f=localStorage.getItem(t);if(f){const p=JSON.parse(f);return((c=p==null?void 0:p.userPreferences)==null?void 0:c.theme)||e}}catch(f){console.error("Error reading theme from localStorage:",f)}return e});_.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),i==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(f);return}c.classList.add(i)},[i]);const l={theme:i,setTheme:c=>{try{const f=localStorage.getItem(t),p=f?JSON.parse(f):{};p.userPreferences||(p.userPreferences={heightUnit:"cm",weightUnit:"kg",dateFormat:"DD/MM/YYYY",workoutDaysPerWeek:3,theme:c,notificationsEnabled:!0}),p.userPreferences.theme=c,localStorage.setItem(t,JSON.stringify(p)),a(c)}catch(f){console.error("Error saving theme to localStorage:",f),a(c)}}};return E.jsx(VR.Provider,{...r,value:l,children:n})}const RW=()=>E.jsx(xz,{children:E.jsx(AW,{children:E.jsxs(CW,{children:[E.jsx(bW,{}),E.jsx(mW,{})]})})}),PW="/grindmode/";eP.createRoot(document.getElementById("root")).render(E.jsx(_.StrictMode,{children:E.jsx(pz,{basename:PW,children:E.jsx(RW,{})})}));export{UR as $,Le as A,Vn as B,Gs as C,yT as D,jn as E,gr as F,nf as G,IT as H,XC as I,jR as J,s6 as K,Lh as L,DA as M,OA as N,MA as O,Ze as P,LA as Q,de as R,jU as S,et as T,KU as U,l6 as V,Bv as W,QU as X,J6 as Y,YT as Z,qW as _,Xs as a,GW as a0,Ah as a1,zW as a2,WW as a3,H6 as a4,q6 as a5,K6 as a6,Y6 as a7,G6 as a8,X6 as a9,nv as aA,ev as aB,wj as aC,_j as aD,cj as aE,HW as aF,KW as aG,YW as aH,XW as aI,Q6 as aa,qU as ab,MU as ac,Dh as ad,wn as ae,hC as af,D$ as ag,O$ as ah,MW as ai,r4 as aj,LW as ak,WE as al,ZV as am,e4 as an,t4 as ao,n4 as ap,Vb as aq,yj as ar,wb as as,vj as at,fv as au,Rh as av,hv as aw,tv as ax,Mh as ay,Tl as az,Ks as b,Nt as c,Dl as d,Ys as e,mU as f,QW as g,g$ as h,ua as i,E as j,Ue as k,q4 as l,gc as m,xT as n,wU as o,EU as p,xU as q,_ as r,tc as s,Gr as t,ca as u,SU as v,at as w,_b as x,ri as y,Kr as z};
//# sourceMappingURL=index-DL-4kom7.js.map
