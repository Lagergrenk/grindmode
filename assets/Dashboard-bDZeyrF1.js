import{c as x,j as e,C as p,a as g,b as N,B as d,d as f,L as k,D as v,U as b,u as w,e as C,r as L}from"./index-D4A55r9M.js";import{f as S,u as T}from"./useNutritionEntry-nogTi35M.js";import{C as u}from"./firestore-DqkfDWpO.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],F=x("calendar",W);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],$=x("ruler",E),i=({title:s,subtitle:t,value:a,unit:r,className:l=""})=>e.jsxs("div",{className:`border rounded-md p-3 flex justify-between items-center ${l}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s}),t&&e.jsx("p",{className:"text-xs text-muted-foreground",children:t})]}),a!==void 0&&e.jsxs("p",{className:"text-lg font-semibold",children:[a,r&&e.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:r})]})]}),m=({label:s,value:t,unit:a,valueSize:r="lg",className:l=""})=>{const o={sm:"text-sm",md:"text-md",lg:"text-lg",xl:"text-xl"};return e.jsxs("div",{className:l,children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:s}),e.jsxs("p",{className:`${o[r]} font-bold`,children:[t,a&&e.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:a})]})]})},h=({children:s,className:t=""})=>e.jsx("div",{className:`flex items-center justify-between ${t}`,children:s}),j=({title:s,actionLabel:t,actionIcon:a,onAction:r,isLoading:l=!1,loadingText:o="Loading data...",className:n="",children:c})=>e.jsxs(p,{className:n,children:[e.jsx(g,{className:"pb-2",children:e.jsxs(N,{className:"text-lg flex justify-between items-center",children:[e.jsx("span",{children:s}),r&&e.jsxs(d,{size:"sm",variant:"outline",onClick:r,className:"flex items-center gap-1 h-8",disabled:l,children:[a,t]})]})}),e.jsx(f,{children:l?e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx(k,{className:"h-5 w-5 animate-spin mr-2 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:o})]}):c})]}),z=({userName:s})=>{const t=new Date,a={weekday:"long",year:"numeric",month:"long",day:"numeric"},r=t.toLocaleDateString("en-US",a);return e.jsx("header",{className:"mb-6 space-y-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Welcome back, ",s]}),e.jsx("p",{className:"text-muted-foreground",children:"Track your fitness journey and reach your goals"})]}),e.jsxs("div",{className:"mt-2 sm:mt-0 flex items-center text-sm text-muted-foreground",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:r})]})]})})},M=({nutritionData:s,isLoading:t=!1,latestEntries:a=[],onLogFood:r})=>{var o,n;const l=a[0];return e.jsx(j,{title:"Nutrition",actionLabel:"Log",actionIcon:e.jsx(u,{className:"h-4 w-4 mr-1"}),onAction:r,isLoading:t,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(h,{children:[e.jsx(m,{label:"Today",value:(s==null?void 0:s.today.calories.toFixed(0))||"0",unit:"cal",valueSize:"lg"}),e.jsx(m,{label:"Protein",value:(s==null?void 0:s.today.protein.toFixed(0))||"0",unit:"g",valueSize:"md",className:"text-right"})]}),l&&e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Last Entry"}),e.jsx(i,{title:l.date?S(l.date.toDate()):"Recent",subtitle:`${((o=l.meals)==null?void 0:o.length)||0} meals logged`,value:((n=l.dailyTotals)==null?void 0:n.calories.toFixed(0))||"0",unit:"cal"})]}),s&&s.weekly.daysTracked>0&&e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Weekly Average"}),e.jsx(i,{title:`${s.weekly.averageCalories.toFixed(0)} cal/day`,subtitle:`${s.weekly.daysTracked} days tracked this week`})]})]})})},R=({workoutData:s={today:{completed:!1,duration:0,exercises:0},weekly:{workouts:0,totalDuration:0}},isLoading:t=!1,onLogWorkout:a})=>e.jsx(j,{title:"Workouts",actionLabel:"Log",actionIcon:e.jsx(u,{className:"h-4 w-4 mr-1"}),onAction:a,isLoading:t,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(h,{children:[e.jsx(m,{label:"This Week",value:s.weekly.workouts,unit:"workouts"}),e.jsx(m,{label:"Total Time",value:s.weekly.totalDuration,unit:"min",className:"text-right"})]}),e.jsx("div",{className:"pt-2",children:s.today.completed?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Today's Workout"}),e.jsx(i,{title:"Completed",subtitle:`${s.today.exercises} exercises`,value:s.today.duration,unit:"min"})]}):e.jsx(i,{title:"No workout yet today",subtitle:"Log your workout to track progress"})})]})}),A=({onAddWorkout:s,onLogFood:t,onRecordMeasurement:a})=>e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsxs(d,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:s,children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Workout"})]}),e.jsxs(d,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:t,children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:"Log Food"})]}),e.jsxs(d,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:a,children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{children:"Measurements"})]})]}),B=()=>{const s=w(),{user:t}=C(),[a]=L.useState(()=>new Date),{isLoading:r,allNutritionEntries:l,nutritionSummary:o}=T(a),n=()=>{s("/workoutplanner")},c=()=>{s("/nutrition")},y=()=>{s("/progress")};return e.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[e.jsx(z,{userName:(t==null?void 0:t.displayName)||"User"}),e.jsx(A,{onAddWorkout:n,onLogFood:c,onRecordMeasurement:y}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(R,{onLogWorkout:n}),e.jsx(M,{isLoading:r,nutritionData:o,latestEntries:l.slice(0,3),onLogFood:c})]})]})};export{B as Dashboard};
